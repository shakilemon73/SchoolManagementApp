var BG=Object.defineProperty;var p6=t=>{throw TypeError(t)};var SG=(t,s,r)=>s in t?BG(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r;var wi=(t,s,r)=>SG(t,typeof s!="symbol"?s+"":s,r),h4=(t,s,r)=>s.has(t)||p6("Cannot "+r);var Fe=(t,s,r)=>(h4(t,s,"read from private field"),r?r.call(t):s.get(t)),hs=(t,s,r)=>s.has(t)?p6("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),Xt=(t,s,r,n)=>(h4(t,s,"write to private field"),n?n.call(t,r):s.set(t,r),r),Os=(t,s,r)=>(h4(t,s,"access private method"),r);var uy=(t,s,r,n)=>({set _(a){Xt(t,s,a,r)},get _(){return Fe(t,s,n)}});function kG(t,s){for(var r=0;r<s.length;r++){const n=s[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _G(t){if(t.__esModule)return t;var s=t.default;if(typeof s=="function"){var r=function n(){return this instanceof n?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};r.prototype=s.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var cD={exports:{}},a2={},dD={exports:{}},Xs={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv=Symbol.for("react.element"),EG=Symbol.for("react.portal"),FG=Symbol.for("react.fragment"),TG=Symbol.for("react.strict_mode"),LG=Symbol.for("react.profiler"),IG=Symbol.for("react.provider"),PG=Symbol.for("react.context"),DG=Symbol.for("react.forward_ref"),UG=Symbol.for("react.suspense"),OG=Symbol.for("react.memo"),RG=Symbol.for("react.lazy"),g6=Symbol.iterator;function MG(t){return t===null||typeof t!="object"?null:(t=g6&&t[g6]||t["@@iterator"],typeof t=="function"?t:null)}var uD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hD=Object.assign,AD={};function a0(t,s,r){this.props=t,this.context=s,this.refs=AD,this.updater=r||uD}a0.prototype.isReactComponent={};a0.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};a0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mD(){}mD.prototype=a0.prototype;function ak(t,s,r){this.props=t,this.context=s,this.refs=AD,this.updater=r||uD}var ik=ak.prototype=new mD;ik.constructor=ak;hD(ik,a0.prototype);ik.isPureReactComponent=!0;var v6=Array.isArray,fD=Object.prototype.hasOwnProperty,lk={current:null},xD={key:!0,ref:!0,__self:!0,__source:!0};function pD(t,s,r){var n,a={},i=null,l=null;if(s!=null)for(n in s.ref!==void 0&&(l=s.ref),s.key!==void 0&&(i=""+s.key),s)fD.call(s,n)&&!xD.hasOwnProperty(n)&&(a[n]=s[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Qv,type:t,key:i,ref:l,props:a,_owner:lk.current}}function QG(t,s){return{$$typeof:Qv,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function ok(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qv}function HG(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return s[r]})}var j6=/\/+/g;function A4(t,s){return typeof t=="object"&&t!==null&&t.key!=null?HG(""+t.key):s.toString(36)}function F1(t,s,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Qv:case EG:l=!0}}if(l)return l=t,a=a(l),t=n===""?"."+A4(l,0):n,v6(a)?(r="",t!=null&&(r=t.replace(j6,"$&/")+"/"),F1(a,s,r,"",function(d){return d})):a!=null&&(ok(a)&&(a=QG(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(j6,"$&/")+"/")+t)),s.push(a)),1;if(l=0,n=n===""?".":n+":",v6(t))for(var o=0;o<t.length;o++){i=t[o];var c=n+A4(i,o);l+=F1(i,s,r,c,a)}else if(c=MG(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=n+A4(i,o++),l+=F1(i,s,r,c,a);else if(i==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return l}function hy(t,s,r){if(t==null)return t;var n=[],a=0;return F1(t,n,"","",function(i){return s.call(r,i,a++)}),n}function VG(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var Di={current:null},T1={transition:null},KG={ReactCurrentDispatcher:Di,ReactCurrentBatchConfig:T1,ReactCurrentOwner:lk};function gD(){throw Error("act(...) is not supported in production builds of React.")}Xs.Children={map:hy,forEach:function(t,s,r){hy(t,function(){s.apply(this,arguments)},r)},count:function(t){var s=0;return hy(t,function(){s++}),s},toArray:function(t){return hy(t,function(s){return s})||[]},only:function(t){if(!ok(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Xs.Component=a0;Xs.Fragment=FG;Xs.Profiler=LG;Xs.PureComponent=ak;Xs.StrictMode=TG;Xs.Suspense=UG;Xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KG;Xs.act=gD;Xs.cloneElement=function(t,s,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=hD({},t.props),a=t.key,i=t.ref,l=t._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,l=lk.current),s.key!==void 0&&(a=""+s.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in s)fD.call(s,c)&&!xD.hasOwnProperty(c)&&(n[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Qv,type:t.type,key:a,ref:i,props:n,_owner:l}};Xs.createContext=function(t){return t={$$typeof:PG,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IG,_context:t},t.Consumer=t};Xs.createElement=pD;Xs.createFactory=function(t){var s=pD.bind(null,t);return s.type=t,s};Xs.createRef=function(){return{current:null}};Xs.forwardRef=function(t){return{$$typeof:DG,render:t}};Xs.isValidElement=ok;Xs.lazy=function(t){return{$$typeof:RG,_payload:{_status:-1,_result:t},_init:VG}};Xs.memo=function(t,s){return{$$typeof:OG,type:t,compare:s===void 0?null:s}};Xs.startTransition=function(t){var s=T1.transition;T1.transition={};try{t()}finally{T1.transition=s}};Xs.unstable_act=gD;Xs.useCallback=function(t,s){return Di.current.useCallback(t,s)};Xs.useContext=function(t){return Di.current.useContext(t)};Xs.useDebugValue=function(){};Xs.useDeferredValue=function(t){return Di.current.useDeferredValue(t)};Xs.useEffect=function(t,s){return Di.current.useEffect(t,s)};Xs.useId=function(){return Di.current.useId()};Xs.useImperativeHandle=function(t,s,r){return Di.current.useImperativeHandle(t,s,r)};Xs.useInsertionEffect=function(t,s){return Di.current.useInsertionEffect(t,s)};Xs.useLayoutEffect=function(t,s){return Di.current.useLayoutEffect(t,s)};Xs.useMemo=function(t,s){return Di.current.useMemo(t,s)};Xs.useReducer=function(t,s,r){return Di.current.useReducer(t,s,r)};Xs.useRef=function(t){return Di.current.useRef(t)};Xs.useState=function(t){return Di.current.useState(t)};Xs.useSyncExternalStore=function(t,s,r){return Di.current.useSyncExternalStore(t,s,r)};Xs.useTransition=function(){return Di.current.useTransition()};Xs.version="18.3.1";dD.exports=Xs;var b=dD.exports;const gs=oD(b),vD=kG({__proto__:null,default:gs},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zG=b,qG=Symbol.for("react.element"),$G=Symbol.for("react.fragment"),GG=Object.prototype.hasOwnProperty,WG=zG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YG={key:!0,ref:!0,__self:!0,__source:!0};function jD(t,s,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(l=s.ref);for(n in s)GG.call(s,n)&&!YG.hasOwnProperty(n)&&(a[n]=s[n]);if(t&&t.defaultProps)for(n in s=t.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:qG,type:t,key:i,ref:l,props:a,_owner:WG.current}}a2.Fragment=$G;a2.jsx=jD;a2.jsxs=jD;cD.exports=a2;var e=cD.exports,yD={exports:{}},Ol={},wD={exports:{}},bD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(I,ie){var ve=I.length;I.push(ie);e:for(;0<ve;){var De=ve-1>>>1,L=I[De];if(0<a(L,ie))I[De]=ie,I[ve]=L,ve=De;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var ie=I[0],ve=I.pop();if(ve!==ie){I[0]=ve;e:for(var De=0,L=I.length,U=L>>>1;De<U;){var R=2*(De+1)-1,q=I[R],ae=R+1,Ae=I[ae];if(0>a(q,ve))ae<L&&0>a(Ae,q)?(I[De]=Ae,I[ae]=ve,De=ae):(I[De]=q,I[R]=ve,De=R);else if(ae<L&&0>a(Ae,ve))I[De]=Ae,I[ae]=ve,De=ae;else break e}}return ie}function a(I,ie){var ve=I.sortIndex-ie.sortIndex;return ve!==0?ve:I.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,A=3,m=!1,p=!1,f=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(I){for(var ie=r(d);ie!==null;){if(ie.callback===null)n(d);else if(ie.startTime<=I)n(d),ie.sortIndex=ie.expirationTime,s(c,ie);else break;ie=r(d)}}function B(I){if(f=!1,j(I),!p)if(r(c)!==null)p=!0,W(F);else{var ie=r(d);ie!==null&&re(B,ie.startTime-I)}}function F(I,ie){p=!1,f&&(f=!1,g(N),N=-1),m=!0;var ve=A;try{for(j(ie),h=r(c);h!==null&&(!(h.expirationTime>ie)||I&&!k());){var De=h.callback;if(typeof De=="function"){h.callback=null,A=h.priorityLevel;var L=De(h.expirationTime<=ie);ie=t.unstable_now(),typeof L=="function"?h.callback=L:h===r(c)&&n(c),j(ie)}else n(c);h=r(c)}if(h!==null)var U=!0;else{var R=r(d);R!==null&&re(B,R.startTime-ie),U=!1}return U}finally{h=null,A=ve,m=!1}}var P=!1,E=null,N=-1,C=5,_=-1;function k(){return!(t.unstable_now()-_<C)}function D(){if(E!==null){var I=t.unstable_now();_=I;var ie=!0;try{ie=E(!0,I)}finally{ie?z():(P=!1,E=null)}}else P=!1}var z;if(typeof v=="function")z=function(){v(D)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,xe=K.port2;K.port1.onmessage=D,z=function(){xe.postMessage(null)}}else z=function(){x(D,0)};function W(I){E=I,P||(P=!0,z())}function re(I,ie){N=x(function(){I(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,W(F))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(I){switch(A){case 1:case 2:case 3:var ie=3;break;default:ie=A}var ve=A;A=ie;try{return I()}finally{A=ve}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,ie){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ve=A;A=I;try{return ie()}finally{A=ve}},t.unstable_scheduleCallback=function(I,ie,ve){var De=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?De+ve:De):ve=De,I){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ve+L,I={id:u++,callback:ie,priorityLevel:I,startTime:ve,expirationTime:L,sortIndex:-1},ve>De?(I.sortIndex=ve,s(d,I),r(c)===null&&I===r(d)&&(f?(g(N),N=-1):f=!0,re(B,ve-De))):(I.sortIndex=L,s(c,I),p||m||(p=!0,W(F))),I},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(I){var ie=A;return function(){var ve=A;A=ie;try{return I.apply(this,arguments)}finally{A=ve}}}})(bD);wD.exports=bD;var XG=wD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JG=b,Il=XG;function Tt(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ND=new Set,Lg={};function xm(t,s){Dx(t,s),Dx(t+"Capture",s)}function Dx(t,s){for(Lg[t]=s,t=0;t<s.length;t++)ND.add(s[t])}var Vd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mC=Object.prototype.hasOwnProperty,ZG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y6={},w6={};function eW(t){return mC.call(w6,t)?!0:mC.call(y6,t)?!1:ZG.test(t)?w6[t]=!0:(y6[t]=!0,!1)}function tW(t,s,r,n){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sW(t,s,r,n){if(s===null||typeof s>"u"||tW(t,s,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Ui(t,s,r,n,a,i,l){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=s,this.sanitizeURL=i,this.removeEmptyString=l}var Ka={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ka[t]=new Ui(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];Ka[s]=new Ui(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ka[t]=new Ui(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ka[t]=new Ui(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ka[t]=new Ui(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ka[t]=new Ui(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ka[t]=new Ui(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ka[t]=new Ui(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ka[t]=new Ui(t,5,!1,t.toLowerCase(),null,!1,!1)});var ck=/[\-:]([a-z])/g;function dk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(ck,dk);Ka[s]=new Ui(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(ck,dk);Ka[s]=new Ui(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(ck,dk);Ka[s]=new Ui(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ka[t]=new Ui(t,1,!1,t.toLowerCase(),null,!1,!1)});Ka.xlinkHref=new Ui("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ka[t]=new Ui(t,1,!1,t.toLowerCase(),null,!0,!0)});function uk(t,s,r,n){var a=Ka.hasOwnProperty(s)?Ka[s]:null;(a!==null?a.type!==0:n||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(sW(s,r,a,n)&&(r=null),n||a===null?eW(s)&&(r===null?t.removeAttribute(s):t.setAttribute(s,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(s=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(s):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,s,r):t.setAttribute(s,r))))}var ru=JG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ay=Symbol.for("react.element"),Ef=Symbol.for("react.portal"),Ff=Symbol.for("react.fragment"),hk=Symbol.for("react.strict_mode"),fC=Symbol.for("react.profiler"),CD=Symbol.for("react.provider"),BD=Symbol.for("react.context"),Ak=Symbol.for("react.forward_ref"),xC=Symbol.for("react.suspense"),pC=Symbol.for("react.suspense_list"),mk=Symbol.for("react.memo"),Iu=Symbol.for("react.lazy"),SD=Symbol.for("react.offscreen"),b6=Symbol.iterator;function np(t){return t===null||typeof t!="object"?null:(t=b6&&t[b6]||t["@@iterator"],typeof t=="function"?t:null)}var Nn=Object.assign,m4;function _p(t){if(m4===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);m4=s&&s[1]||""}return`
`+m4+t}var f4=!1;function x4(t,s){if(!t||f4)return"";f4=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var n=d}Reflect.construct(t,[],s)}else{try{s.call()}catch(d){n=d}t.call(s.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{f4=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?_p(t):""}function rW(t){switch(t.tag){case 5:return _p(t.type);case 16:return _p("Lazy");case 13:return _p("Suspense");case 19:return _p("SuspenseList");case 0:case 2:case 15:return t=x4(t.type,!1),t;case 11:return t=x4(t.type.render,!1),t;case 1:return t=x4(t.type,!0),t;default:return""}}function gC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ff:return"Fragment";case Ef:return"Portal";case fC:return"Profiler";case hk:return"StrictMode";case xC:return"Suspense";case pC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case BD:return(t.displayName||"Context")+".Consumer";case CD:return(t._context.displayName||"Context")+".Provider";case Ak:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mk:return s=t.displayName||null,s!==null?s:gC(t.type)||"Memo";case Iu:s=t._payload,t=t._init;try{return gC(t(s))}catch{}}return null}function nW(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gC(s);case 8:return s===hk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function vh(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kD(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function aW(t){var s=kD(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),n=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function my(t){t._valueTracker||(t._valueTracker=aW(t))}function _D(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),n="";return t&&(n=kD(t)?t.checked?"true":"false":t.value),t=n,t!==r?(s.setValue(t),!0):!1}function xw(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vC(t,s){var r=s.checked;return Nn({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function N6(t,s){var r=s.defaultValue==null?"":s.defaultValue,n=s.checked!=null?s.checked:s.defaultChecked;r=vh(s.value!=null?s.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ED(t,s){s=s.checked,s!=null&&uk(t,"checked",s,!1)}function jC(t,s){ED(t,s);var r=vh(s.value),n=s.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?yC(t,s.type,r):s.hasOwnProperty("defaultValue")&&yC(t,s.type,vh(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function C6(t,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var n=s.type;if(!(n!=="submit"&&n!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,r||s===t.value||(t.value=s),t.defaultValue=s}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function yC(t,s,r){(s!=="number"||xw(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ep=Array.isArray;function Zf(t,s,r,n){if(t=t.options,s){s={};for(var a=0;a<r.length;a++)s["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=s.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+vh(r),s=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}s!==null||t[a].disabled||(s=t[a])}s!==null&&(s.selected=!0)}}function wC(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(Tt(91));return Nn({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function B6(t,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(Tt(92));if(Ep(r)){if(1<r.length)throw Error(Tt(93));r=r[0]}s=r}s==null&&(s=""),r=s}t._wrapperState={initialValue:vh(r)}}function FD(t,s){var r=vh(s.value),n=vh(s.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),s.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function S6(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function TD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bC(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?TD(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fy,LD=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(s,r,n,a)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(fy=fy||document.createElement("div"),fy.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=fy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Ig(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Jp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iW=["Webkit","ms","Moz","O"];Object.keys(Jp).forEach(function(t){iW.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Jp[s]=Jp[t]})});function ID(t,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||Jp.hasOwnProperty(t)&&Jp[t]?(""+s).trim():s+"px"}function PD(t,s){t=t.style;for(var r in s)if(s.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=ID(r,s[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var lW=Nn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function NC(t,s){if(s){if(lW[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(Tt(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(Tt(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(Tt(61))}if(s.style!=null&&typeof s.style!="object")throw Error(Tt(62))}}function CC(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BC=null;function fk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var SC=null,ex=null,tx=null;function k6(t){if(t=Kv(t)){if(typeof SC!="function")throw Error(Tt(280));var s=t.stateNode;s&&(s=d2(s),SC(t.stateNode,t.type,s))}}function DD(t){ex?tx?tx.push(t):tx=[t]:ex=t}function UD(){if(ex){var t=ex,s=tx;if(tx=ex=null,k6(t),s)for(t=0;t<s.length;t++)k6(s[t])}}function OD(t,s){return t(s)}function RD(){}var p4=!1;function MD(t,s,r){if(p4)return t(s,r);p4=!0;try{return OD(t,s,r)}finally{p4=!1,(ex!==null||tx!==null)&&(RD(),UD())}}function Pg(t,s){var r=t.stateNode;if(r===null)return null;var n=d2(r);if(n===null)return null;r=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Tt(231,s,typeof r));return r}var kC=!1;if(Vd)try{var ap={};Object.defineProperty(ap,"passive",{get:function(){kC=!0}}),window.addEventListener("test",ap,ap),window.removeEventListener("test",ap,ap)}catch{kC=!1}function oW(t,s,r,n,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(r,d)}catch(u){this.onError(u)}}var Zp=!1,pw=null,gw=!1,_C=null,cW={onError:function(t){Zp=!0,pw=t}};function dW(t,s,r,n,a,i,l,o,c){Zp=!1,pw=null,oW.apply(cW,arguments)}function uW(t,s,r,n,a,i,l,o,c){if(dW.apply(this,arguments),Zp){if(Zp){var d=pw;Zp=!1,pw=null}else throw Error(Tt(198));gw||(gw=!0,_C=d)}}function pm(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function QD(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function _6(t){if(pm(t)!==t)throw Error(Tt(188))}function hW(t){var s=t.alternate;if(!s){if(s=pm(t),s===null)throw Error(Tt(188));return s!==t?null:t}for(var r=t,n=s;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return _6(a),t;if(i===n)return _6(a),s;i=i.sibling}throw Error(Tt(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error(Tt(189))}}if(r.alternate!==n)throw Error(Tt(190))}if(r.tag!==3)throw Error(Tt(188));return r.stateNode.current===r?t:s}function HD(t){return t=hW(t),t!==null?VD(t):null}function VD(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=VD(t);if(s!==null)return s;t=t.sibling}return null}var KD=Il.unstable_scheduleCallback,E6=Il.unstable_cancelCallback,AW=Il.unstable_shouldYield,mW=Il.unstable_requestPaint,zn=Il.unstable_now,fW=Il.unstable_getCurrentPriorityLevel,xk=Il.unstable_ImmediatePriority,zD=Il.unstable_UserBlockingPriority,vw=Il.unstable_NormalPriority,xW=Il.unstable_LowPriority,qD=Il.unstable_IdlePriority,i2=null,Hc=null;function pW(t){if(Hc&&typeof Hc.onCommitFiberRoot=="function")try{Hc.onCommitFiberRoot(i2,t,void 0,(t.current.flags&128)===128)}catch{}}var ec=Math.clz32?Math.clz32:jW,gW=Math.log,vW=Math.LN2;function jW(t){return t>>>=0,t===0?32:31-(gW(t)/vW|0)|0}var xy=64,py=4194304;function Fp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jw(t,s){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=Fp(o):(i&=l,i!==0&&(n=Fp(i)))}else l=r&~a,l!==0?n=Fp(l):i!==0&&(n=Fp(i));if(n===0)return 0;if(s!==0&&s!==n&&!(s&a)&&(a=n&-n,i=s&-s,a>=i||a===16&&(i&4194240)!==0))return s;if(n&4&&(n|=r&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=n;0<s;)r=31-ec(s),a=1<<r,n|=t[r],s&=~a;return n}function yW(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wW(t,s){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-ec(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=yW(o,s)):c<=s&&(t.expiredLanes|=o),i&=~o}}function EC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $D(){var t=xy;return xy<<=1,!(xy&4194240)&&(xy=64),t}function g4(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Hv(t,s,r){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-ec(s),t[s]=r}function bW(t,s){var r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-ec(r),i=1<<a;s[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function pk(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var n=31-ec(r),a=1<<n;a&s|t[n]&s&&(t[n]|=s),r&=~a}}var Ir=0;function GD(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var WD,gk,YD,XD,JD,FC=!1,gy=[],oh=null,ch=null,dh=null,Dg=new Map,Ug=new Map,Ru=[],NW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F6(t,s){switch(t){case"focusin":case"focusout":oh=null;break;case"dragenter":case"dragleave":ch=null;break;case"mouseover":case"mouseout":dh=null;break;case"pointerover":case"pointerout":Dg.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ug.delete(s.pointerId)}}function ip(t,s,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:s,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},s!==null&&(s=Kv(s),s!==null&&gk(s)),t):(t.eventSystemFlags|=n,s=t.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),t)}function CW(t,s,r,n,a){switch(s){case"focusin":return oh=ip(oh,t,s,r,n,a),!0;case"dragenter":return ch=ip(ch,t,s,r,n,a),!0;case"mouseover":return dh=ip(dh,t,s,r,n,a),!0;case"pointerover":var i=a.pointerId;return Dg.set(i,ip(Dg.get(i)||null,t,s,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Ug.set(i,ip(Ug.get(i)||null,t,s,r,n,a)),!0}return!1}function ZD(t){var s=bA(t.target);if(s!==null){var r=pm(s);if(r!==null){if(s=r.tag,s===13){if(s=QD(r),s!==null){t.blockedOn=s,JD(t.priority,function(){YD(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function L1(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=TC(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);BC=n,r.target.dispatchEvent(n),BC=null}else return s=Kv(r),s!==null&&gk(s),t.blockedOn=r,!1;s.shift()}return!0}function T6(t,s,r){L1(t)&&r.delete(s)}function BW(){FC=!1,oh!==null&&L1(oh)&&(oh=null),ch!==null&&L1(ch)&&(ch=null),dh!==null&&L1(dh)&&(dh=null),Dg.forEach(T6),Ug.forEach(T6)}function lp(t,s){t.blockedOn===s&&(t.blockedOn=null,FC||(FC=!0,Il.unstable_scheduleCallback(Il.unstable_NormalPriority,BW)))}function Og(t){function s(a){return lp(a,t)}if(0<gy.length){lp(gy[0],t);for(var r=1;r<gy.length;r++){var n=gy[r];n.blockedOn===t&&(n.blockedOn=null)}}for(oh!==null&&lp(oh,t),ch!==null&&lp(ch,t),dh!==null&&lp(dh,t),Dg.forEach(s),Ug.forEach(s),r=0;r<Ru.length;r++)n=Ru[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ru.length&&(r=Ru[0],r.blockedOn===null);)ZD(r),r.blockedOn===null&&Ru.shift()}var sx=ru.ReactCurrentBatchConfig,yw=!0;function SW(t,s,r,n){var a=Ir,i=sx.transition;sx.transition=null;try{Ir=1,vk(t,s,r,n)}finally{Ir=a,sx.transition=i}}function kW(t,s,r,n){var a=Ir,i=sx.transition;sx.transition=null;try{Ir=4,vk(t,s,r,n)}finally{Ir=a,sx.transition=i}}function vk(t,s,r,n){if(yw){var a=TC(t,s,r,n);if(a===null)k4(t,s,n,ww,r),F6(t,n);else if(CW(a,t,s,r,n))n.stopPropagation();else if(F6(t,n),s&4&&-1<NW.indexOf(t)){for(;a!==null;){var i=Kv(a);if(i!==null&&WD(i),i=TC(t,s,r,n),i===null&&k4(t,s,n,ww,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else k4(t,s,n,null,r)}}var ww=null;function TC(t,s,r,n){if(ww=null,t=fk(n),t=bA(t),t!==null)if(s=pm(t),s===null)t=null;else if(r=s.tag,r===13){if(t=QD(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return ww=t,null}function eU(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fW()){case xk:return 1;case zD:return 4;case vw:case xW:return 16;case qD:return 536870912;default:return 16}default:return 16}}var eh=null,jk=null,I1=null;function tU(){if(I1)return I1;var t,s=jk,r=s.length,n,a="value"in eh?eh.value:eh.textContent,i=a.length;for(t=0;t<r&&s[t]===a[t];t++);var l=r-t;for(n=1;n<=l&&s[r-n]===a[i-n];n++);return I1=a.slice(t,1<n?1-n:void 0)}function P1(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function vy(){return!0}function L6(){return!1}function Rl(t){function s(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vy:L6,this.isPropagationStopped=L6,this}return Nn(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vy)},persist:function(){},isPersistent:vy}),s}var i0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yk=Rl(i0),Vv=Nn({},i0,{view:0,detail:0}),_W=Rl(Vv),v4,j4,op,l2=Nn({},Vv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==op&&(op&&t.type==="mousemove"?(v4=t.screenX-op.screenX,j4=t.screenY-op.screenY):j4=v4=0,op=t),v4)},movementY:function(t){return"movementY"in t?t.movementY:j4}}),I6=Rl(l2),EW=Nn({},l2,{dataTransfer:0}),FW=Rl(EW),TW=Nn({},Vv,{relatedTarget:0}),y4=Rl(TW),LW=Nn({},i0,{animationName:0,elapsedTime:0,pseudoElement:0}),IW=Rl(LW),PW=Nn({},i0,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DW=Rl(PW),UW=Nn({},i0,{data:0}),P6=Rl(UW),OW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QW(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=MW[t])?!!s[t]:!1}function wk(){return QW}var HW=Nn({},Vv,{key:function(t){if(t.key){var s=OW[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=P1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wk,charCode:function(t){return t.type==="keypress"?P1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?P1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VW=Rl(HW),KW=Nn({},l2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D6=Rl(KW),zW=Nn({},Vv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wk}),qW=Rl(zW),$W=Nn({},i0,{propertyName:0,elapsedTime:0,pseudoElement:0}),GW=Rl($W),WW=Nn({},l2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YW=Rl(WW),XW=[9,13,27,32],bk=Vd&&"CompositionEvent"in window,eg=null;Vd&&"documentMode"in document&&(eg=document.documentMode);var JW=Vd&&"TextEvent"in window&&!eg,sU=Vd&&(!bk||eg&&8<eg&&11>=eg),U6=" ",O6=!1;function rU(t,s){switch(t){case"keyup":return XW.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nU(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tf=!1;function ZW(t,s){switch(t){case"compositionend":return nU(s);case"keypress":return s.which!==32?null:(O6=!0,U6);case"textInput":return t=s.data,t===U6&&O6?null:t;default:return null}}function eY(t,s){if(Tf)return t==="compositionend"||!bk&&rU(t,s)?(t=tU(),I1=jk=eh=null,Tf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return sU&&s.locale!=="ko"?null:s.data;default:return null}}var tY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R6(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!tY[t.type]:s==="textarea"}function aU(t,s,r,n){DD(n),s=bw(s,"onChange"),0<s.length&&(r=new yk("onChange","change",null,r,n),t.push({event:r,listeners:s}))}var tg=null,Rg=null;function sY(t){xU(t,0)}function o2(t){var s=Pf(t);if(_D(s))return t}function rY(t,s){if(t==="change")return s}var iU=!1;if(Vd){var w4;if(Vd){var b4="oninput"in document;if(!b4){var M6=document.createElement("div");M6.setAttribute("oninput","return;"),b4=typeof M6.oninput=="function"}w4=b4}else w4=!1;iU=w4&&(!document.documentMode||9<document.documentMode)}function Q6(){tg&&(tg.detachEvent("onpropertychange",lU),Rg=tg=null)}function lU(t){if(t.propertyName==="value"&&o2(Rg)){var s=[];aU(s,Rg,t,fk(t)),MD(sY,s)}}function nY(t,s,r){t==="focusin"?(Q6(),tg=s,Rg=r,tg.attachEvent("onpropertychange",lU)):t==="focusout"&&Q6()}function aY(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return o2(Rg)}function iY(t,s){if(t==="click")return o2(s)}function lY(t,s){if(t==="input"||t==="change")return o2(s)}function oY(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var oc=typeof Object.is=="function"?Object.is:oY;function Mg(t,s){if(oc(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),n=Object.keys(s);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!mC.call(s,a)||!oc(t[a],s[a]))return!1}return!0}function H6(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function V6(t,s){var r=H6(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=s&&n>=s)return{node:r,offset:s-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=H6(r)}}function oU(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?oU(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function cU(){for(var t=window,s=xw();s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=xw(t.document)}return s}function Nk(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function cY(t){var s=cU(),r=t.focusedElem,n=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&oU(r.ownerDocument.documentElement,r)){if(n!==null&&Nk(r)){if(s=n.start,t=n.end,t===void 0&&(t=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(t,r.value.length);else if(t=(s=r.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=V6(r,i);var l=V6(r,n);a&&l&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(s),t.extend(l.node,l.offset)):(s.setEnd(l.node,l.offset),t.addRange(s)))}}for(s=[],t=r;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)t=s[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dY=Vd&&"documentMode"in document&&11>=document.documentMode,Lf=null,LC=null,sg=null,IC=!1;function K6(t,s,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;IC||Lf==null||Lf!==xw(n)||(n=Lf,"selectionStart"in n&&Nk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sg&&Mg(sg,n)||(sg=n,n=bw(LC,"onSelect"),0<n.length&&(s=new yk("onSelect","select",null,s,r),t.push({event:s,listeners:n}),s.target=Lf)))}function jy(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var If={animationend:jy("Animation","AnimationEnd"),animationiteration:jy("Animation","AnimationIteration"),animationstart:jy("Animation","AnimationStart"),transitionend:jy("Transition","TransitionEnd")},N4={},dU={};Vd&&(dU=document.createElement("div").style,"AnimationEvent"in window||(delete If.animationend.animation,delete If.animationiteration.animation,delete If.animationstart.animation),"TransitionEvent"in window||delete If.transitionend.transition);function c2(t){if(N4[t])return N4[t];if(!If[t])return t;var s=If[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in dU)return N4[t]=s[r];return t}var uU=c2("animationend"),hU=c2("animationiteration"),AU=c2("animationstart"),mU=c2("transitionend"),fU=new Map,z6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oh(t,s){fU.set(t,s),xm(s,[t])}for(var C4=0;C4<z6.length;C4++){var B4=z6[C4],uY=B4.toLowerCase(),hY=B4[0].toUpperCase()+B4.slice(1);Oh(uY,"on"+hY)}Oh(uU,"onAnimationEnd");Oh(hU,"onAnimationIteration");Oh(AU,"onAnimationStart");Oh("dblclick","onDoubleClick");Oh("focusin","onFocus");Oh("focusout","onBlur");Oh(mU,"onTransitionEnd");Dx("onMouseEnter",["mouseout","mouseover"]);Dx("onMouseLeave",["mouseout","mouseover"]);Dx("onPointerEnter",["pointerout","pointerover"]);Dx("onPointerLeave",["pointerout","pointerover"]);xm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xm("onBeforeInput",["compositionend","keypress","textInput","paste"]);xm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tp));function q6(t,s,r){var n=t.type||"unknown-event";t.currentTarget=r,uW(n,s,void 0,t),t.currentTarget=null}function xU(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(s)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;q6(a,o,d),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;q6(a,o,d),i=c}}}if(gw)throw t=_C,gw=!1,_C=null,t}function nn(t,s){var r=s[RC];r===void 0&&(r=s[RC]=new Set);var n=t+"__bubble";r.has(n)||(pU(s,t,2,!1),r.add(n))}function S4(t,s,r){var n=0;s&&(n|=4),pU(r,t,n,s)}var yy="_reactListening"+Math.random().toString(36).slice(2);function Qg(t){if(!t[yy]){t[yy]=!0,ND.forEach(function(r){r!=="selectionchange"&&(AY.has(r)||S4(r,!1,t),S4(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[yy]||(s[yy]=!0,S4("selectionchange",!1,s))}}function pU(t,s,r,n){switch(eU(s)){case 1:var a=SW;break;case 4:a=kW;break;default:a=vk}r=a.bind(null,s,r,t),a=void 0,!kC||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(s,r,{capture:!0,passive:a}):t.addEventListener(s,r,!0):a!==void 0?t.addEventListener(s,r,{passive:a}):t.addEventListener(s,r,!1)}function k4(t,s,r,n,a){var i=n;if(!(s&1)&&!(s&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=bA(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}MD(function(){var d=i,u=fk(r),h=[];e:{var A=fU.get(t);if(A!==void 0){var m=yk,p=t;switch(t){case"keypress":if(P1(r)===0)break e;case"keydown":case"keyup":m=VW;break;case"focusin":p="focus",m=y4;break;case"focusout":p="blur",m=y4;break;case"beforeblur":case"afterblur":m=y4;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=I6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=FW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=qW;break;case uU:case hU:case AU:m=IW;break;case mU:m=GW;break;case"scroll":m=_W;break;case"wheel":m=YW;break;case"copy":case"cut":case"paste":m=DW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=D6}var f=(s&4)!==0,x=!f&&t==="scroll",g=f?A!==null?A+"Capture":null:A;f=[];for(var v=d,j;v!==null;){j=v;var B=j.stateNode;if(j.tag===5&&B!==null&&(j=B,g!==null&&(B=Pg(v,g),B!=null&&f.push(Hg(v,B,j)))),x)break;v=v.return}0<f.length&&(A=new m(A,p,null,r,u),h.push({event:A,listeners:f}))}}if(!(s&7)){e:{if(A=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",A&&r!==BC&&(p=r.relatedTarget||r.fromElement)&&(bA(p)||p[Kd]))break e;if((m||A)&&(A=u.window===u?u:(A=u.ownerDocument)?A.defaultView||A.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=d,p=p?bA(p):null,p!==null&&(x=pm(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=d),m!==p)){if(f=I6,B="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(f=D6,B="onPointerLeave",g="onPointerEnter",v="pointer"),x=m==null?A:Pf(m),j=p==null?A:Pf(p),A=new f(B,v+"leave",m,r,u),A.target=x,A.relatedTarget=j,B=null,bA(u)===d&&(f=new f(g,v+"enter",p,r,u),f.target=j,f.relatedTarget=x,B=f),x=B,m&&p)t:{for(f=m,g=p,v=0,j=f;j;j=ef(j))v++;for(j=0,B=g;B;B=ef(B))j++;for(;0<v-j;)f=ef(f),v--;for(;0<j-v;)g=ef(g),j--;for(;v--;){if(f===g||g!==null&&f===g.alternate)break t;f=ef(f),g=ef(g)}f=null}else f=null;m!==null&&$6(h,A,m,f,!1),p!==null&&x!==null&&$6(h,x,p,f,!0)}}e:{if(A=d?Pf(d):window,m=A.nodeName&&A.nodeName.toLowerCase(),m==="select"||m==="input"&&A.type==="file")var F=rY;else if(R6(A))if(iU)F=lY;else{F=aY;var P=nY}else(m=A.nodeName)&&m.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(F=iY);if(F&&(F=F(t,d))){aU(h,F,r,u);break e}P&&P(t,A,d),t==="focusout"&&(P=A._wrapperState)&&P.controlled&&A.type==="number"&&yC(A,"number",A.value)}switch(P=d?Pf(d):window,t){case"focusin":(R6(P)||P.contentEditable==="true")&&(Lf=P,LC=d,sg=null);break;case"focusout":sg=LC=Lf=null;break;case"mousedown":IC=!0;break;case"contextmenu":case"mouseup":case"dragend":IC=!1,K6(h,r,u);break;case"selectionchange":if(dY)break;case"keydown":case"keyup":K6(h,r,u)}var E;if(bk)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Tf?rU(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(sU&&r.locale!=="ko"&&(Tf||N!=="onCompositionStart"?N==="onCompositionEnd"&&Tf&&(E=tU()):(eh=u,jk="value"in eh?eh.value:eh.textContent,Tf=!0)),P=bw(d,N),0<P.length&&(N=new P6(N,t,null,r,u),h.push({event:N,listeners:P}),E?N.data=E:(E=nU(r),E!==null&&(N.data=E)))),(E=JW?ZW(t,r):eY(t,r))&&(d=bw(d,"onBeforeInput"),0<d.length&&(u=new P6("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=E))}xU(h,s)})}function Hg(t,s,r){return{instance:t,listener:s,currentTarget:r}}function bw(t,s){for(var r=s+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Pg(t,r),i!=null&&n.unshift(Hg(t,i,a)),i=Pg(t,s),i!=null&&n.push(Hg(t,i,a))),t=t.return}return n}function ef(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $6(t,s,r,n,a){for(var i=s._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=Pg(r,i),c!=null&&l.unshift(Hg(r,c,o))):a||(c=Pg(r,i),c!=null&&l.push(Hg(r,c,o)))),r=r.return}l.length!==0&&t.push({event:s,listeners:l})}var mY=/\r\n?/g,fY=/\u0000|\uFFFD/g;function G6(t){return(typeof t=="string"?t:""+t).replace(mY,`
`).replace(fY,"")}function wy(t,s,r){if(s=G6(s),G6(t)!==s&&r)throw Error(Tt(425))}function Nw(){}var PC=null,DC=null;function UC(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var OC=typeof setTimeout=="function"?setTimeout:void 0,xY=typeof clearTimeout=="function"?clearTimeout:void 0,W6=typeof Promise=="function"?Promise:void 0,pY=typeof queueMicrotask=="function"?queueMicrotask:typeof W6<"u"?function(t){return W6.resolve(null).then(t).catch(gY)}:OC;function gY(t){setTimeout(function(){throw t})}function _4(t,s){var r=s,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Og(s);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Og(s)}function uh(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Y6(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}var l0=Math.random().toString(36).slice(2),Oc="__reactFiber$"+l0,Vg="__reactProps$"+l0,Kd="__reactContainer$"+l0,RC="__reactEvents$"+l0,vY="__reactListeners$"+l0,jY="__reactHandles$"+l0;function bA(t){var s=t[Oc];if(s)return s;for(var r=t.parentNode;r;){if(s=r[Kd]||r[Oc]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=Y6(t);t!==null;){if(r=t[Oc])return r;t=Y6(t)}return s}t=r,r=t.parentNode}return null}function Kv(t){return t=t[Oc]||t[Kd],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Tt(33))}function d2(t){return t[Vg]||null}var MC=[],Df=-1;function Rh(t){return{current:t}}function on(t){0>Df||(t.current=MC[Df],MC[Df]=null,Df--)}function en(t,s){Df++,MC[Df]=t.current,t.current=s}var jh={},pi=Rh(jh),tl=Rh(!1),$A=jh;function Ux(t,s){var r=t.type.contextTypes;if(!r)return jh;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===s)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=s[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),a}function sl(t){return t=t.childContextTypes,t!=null}function Cw(){on(tl),on(pi)}function X6(t,s,r){if(pi.current!==jh)throw Error(Tt(168));en(pi,s),en(tl,r)}function gU(t,s,r){var n=t.stateNode;if(s=s.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(Tt(108,nW(t)||"Unknown",a));return Nn({},r,n)}function Bw(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jh,$A=pi.current,en(pi,t),en(tl,tl.current),!0}function J6(t,s,r){var n=t.stateNode;if(!n)throw Error(Tt(169));r?(t=gU(t,s,$A),n.__reactInternalMemoizedMergedChildContext=t,on(tl),on(pi),en(pi,t)):on(tl),en(tl,r)}var _d=null,u2=!1,E4=!1;function vU(t){_d===null?_d=[t]:_d.push(t)}function yY(t){u2=!0,vU(t)}function Mh(){if(!E4&&_d!==null){E4=!0;var t=0,s=Ir;try{var r=_d;for(Ir=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}_d=null,u2=!1}catch(a){throw _d!==null&&(_d=_d.slice(t+1)),KD(xk,Mh),a}finally{Ir=s,E4=!1}}return null}var Uf=[],Of=0,Sw=null,kw=0,so=[],ro=0,GA=null,Ld=1,Id="";function cA(t,s){Uf[Of++]=kw,Uf[Of++]=Sw,Sw=t,kw=s}function jU(t,s,r){so[ro++]=Ld,so[ro++]=Id,so[ro++]=GA,GA=t;var n=Ld;t=Id;var a=32-ec(n)-1;n&=~(1<<a),r+=1;var i=32-ec(s)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,Ld=1<<32-ec(s)+a|r<<a|n,Id=i+t}else Ld=1<<i|r<<a|n,Id=t}function Ck(t){t.return!==null&&(cA(t,1),jU(t,1,0))}function Bk(t){for(;t===Sw;)Sw=Uf[--Of],Uf[Of]=null,kw=Uf[--Of],Uf[Of]=null;for(;t===GA;)GA=so[--ro],so[ro]=null,Id=so[--ro],so[ro]=null,Ld=so[--ro],so[ro]=null}var _l=null,Sl=null,mn=!1,Ko=null;function yU(t,s){var r=io(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=t,s=t.deletions,s===null?(t.deletions=[r],t.flags|=16):s.push(r)}function Z6(t,s){switch(t.tag){case 5:var r=t.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,_l=t,Sl=uh(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,_l=t,Sl=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=GA!==null?{id:Ld,overflow:Id}:null,t.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=io(18,null,null,0),r.stateNode=s,r.return=t,t.child=r,_l=t,Sl=null,!0):!1;default:return!1}}function QC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function HC(t){if(mn){var s=Sl;if(s){var r=s;if(!Z6(t,s)){if(QC(t))throw Error(Tt(418));s=uh(r.nextSibling);var n=_l;s&&Z6(t,s)?yU(n,r):(t.flags=t.flags&-4097|2,mn=!1,_l=t)}}else{if(QC(t))throw Error(Tt(418));t.flags=t.flags&-4097|2,mn=!1,_l=t}}}function eF(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_l=t}function by(t){if(t!==_l)return!1;if(!mn)return eF(t),mn=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!UC(t.type,t.memoizedProps)),s&&(s=Sl)){if(QC(t))throw wU(),Error(Tt(418));for(;s;)yU(t,s),s=uh(s.nextSibling)}if(eF(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Tt(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(s===0){Sl=uh(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}t=t.nextSibling}Sl=null}}else Sl=_l?uh(t.stateNode.nextSibling):null;return!0}function wU(){for(var t=Sl;t;)t=uh(t.nextSibling)}function Ox(){Sl=_l=null,mn=!1}function Sk(t){Ko===null?Ko=[t]:Ko.push(t)}var wY=ru.ReactCurrentBatchConfig;function cp(t,s,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Tt(309));var n=r.stateNode}if(!n)throw Error(Tt(147,t));var a=n,i=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},s._stringRef=i,s)}if(typeof t!="string")throw Error(Tt(284));if(!r._owner)throw Error(Tt(290,t))}return t}function Ny(t,s){throw t=Object.prototype.toString.call(s),Error(Tt(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function tF(t){var s=t._init;return s(t._payload)}function bU(t){function s(g,v){if(t){var j=g.deletions;j===null?(g.deletions=[v],g.flags|=16):j.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)s(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function a(g,v){return g=fh(g,v),g.index=0,g.sibling=null,g}function i(g,v,j){return g.index=j,t?(j=g.alternate,j!==null?(j=j.index,j<v?(g.flags|=2,v):j):(g.flags|=2,v)):(g.flags|=1048576,v)}function l(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,j,B){return v===null||v.tag!==6?(v=U4(j,g.mode,B),v.return=g,v):(v=a(v,j),v.return=g,v)}function c(g,v,j,B){var F=j.type;return F===Ff?u(g,v,j.props.children,B,j.key):v!==null&&(v.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Iu&&tF(F)===v.type)?(B=a(v,j.props),B.ref=cp(g,v,j),B.return=g,B):(B=H1(j.type,j.key,j.props,null,g.mode,B),B.ref=cp(g,v,j),B.return=g,B)}function d(g,v,j,B){return v===null||v.tag!==4||v.stateNode.containerInfo!==j.containerInfo||v.stateNode.implementation!==j.implementation?(v=O4(j,g.mode,B),v.return=g,v):(v=a(v,j.children||[]),v.return=g,v)}function u(g,v,j,B,F){return v===null||v.tag!==7?(v=RA(j,g.mode,B,F),v.return=g,v):(v=a(v,j),v.return=g,v)}function h(g,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return v=U4(""+v,g.mode,j),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ay:return j=H1(v.type,v.key,v.props,null,g.mode,j),j.ref=cp(g,null,v),j.return=g,j;case Ef:return v=O4(v,g.mode,j),v.return=g,v;case Iu:var B=v._init;return h(g,B(v._payload),j)}if(Ep(v)||np(v))return v=RA(v,g.mode,j,null),v.return=g,v;Ny(g,v)}return null}function A(g,v,j,B){var F=v!==null?v.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return F!==null?null:o(g,v,""+j,B);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ay:return j.key===F?c(g,v,j,B):null;case Ef:return j.key===F?d(g,v,j,B):null;case Iu:return F=j._init,A(g,v,F(j._payload),B)}if(Ep(j)||np(j))return F!==null?null:u(g,v,j,B,null);Ny(g,j)}return null}function m(g,v,j,B,F){if(typeof B=="string"&&B!==""||typeof B=="number")return g=g.get(j)||null,o(v,g,""+B,F);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Ay:return g=g.get(B.key===null?j:B.key)||null,c(v,g,B,F);case Ef:return g=g.get(B.key===null?j:B.key)||null,d(v,g,B,F);case Iu:var P=B._init;return m(g,v,j,P(B._payload),F)}if(Ep(B)||np(B))return g=g.get(j)||null,u(v,g,B,F,null);Ny(v,B)}return null}function p(g,v,j,B){for(var F=null,P=null,E=v,N=v=0,C=null;E!==null&&N<j.length;N++){E.index>N?(C=E,E=null):C=E.sibling;var _=A(g,E,j[N],B);if(_===null){E===null&&(E=C);break}t&&E&&_.alternate===null&&s(g,E),v=i(_,v,N),P===null?F=_:P.sibling=_,P=_,E=C}if(N===j.length)return r(g,E),mn&&cA(g,N),F;if(E===null){for(;N<j.length;N++)E=h(g,j[N],B),E!==null&&(v=i(E,v,N),P===null?F=E:P.sibling=E,P=E);return mn&&cA(g,N),F}for(E=n(g,E);N<j.length;N++)C=m(E,g,N,j[N],B),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?N:C.key),v=i(C,v,N),P===null?F=C:P.sibling=C,P=C);return t&&E.forEach(function(k){return s(g,k)}),mn&&cA(g,N),F}function f(g,v,j,B){var F=np(j);if(typeof F!="function")throw Error(Tt(150));if(j=F.call(j),j==null)throw Error(Tt(151));for(var P=F=null,E=v,N=v=0,C=null,_=j.next();E!==null&&!_.done;N++,_=j.next()){E.index>N?(C=E,E=null):C=E.sibling;var k=A(g,E,_.value,B);if(k===null){E===null&&(E=C);break}t&&E&&k.alternate===null&&s(g,E),v=i(k,v,N),P===null?F=k:P.sibling=k,P=k,E=C}if(_.done)return r(g,E),mn&&cA(g,N),F;if(E===null){for(;!_.done;N++,_=j.next())_=h(g,_.value,B),_!==null&&(v=i(_,v,N),P===null?F=_:P.sibling=_,P=_);return mn&&cA(g,N),F}for(E=n(g,E);!_.done;N++,_=j.next())_=m(E,g,N,_.value,B),_!==null&&(t&&_.alternate!==null&&E.delete(_.key===null?N:_.key),v=i(_,v,N),P===null?F=_:P.sibling=_,P=_);return t&&E.forEach(function(D){return s(g,D)}),mn&&cA(g,N),F}function x(g,v,j,B){if(typeof j=="object"&&j!==null&&j.type===Ff&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Ay:e:{for(var F=j.key,P=v;P!==null;){if(P.key===F){if(F=j.type,F===Ff){if(P.tag===7){r(g,P.sibling),v=a(P,j.props.children),v.return=g,g=v;break e}}else if(P.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Iu&&tF(F)===P.type){r(g,P.sibling),v=a(P,j.props),v.ref=cp(g,P,j),v.return=g,g=v;break e}r(g,P);break}else s(g,P);P=P.sibling}j.type===Ff?(v=RA(j.props.children,g.mode,B,j.key),v.return=g,g=v):(B=H1(j.type,j.key,j.props,null,g.mode,B),B.ref=cp(g,v,j),B.return=g,g=B)}return l(g);case Ef:e:{for(P=j.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===j.containerInfo&&v.stateNode.implementation===j.implementation){r(g,v.sibling),v=a(v,j.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else s(g,v);v=v.sibling}v=O4(j,g.mode,B),v.return=g,g=v}return l(g);case Iu:return P=j._init,x(g,v,P(j._payload),B)}if(Ep(j))return p(g,v,j,B);if(np(j))return f(g,v,j,B);Ny(g,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,v!==null&&v.tag===6?(r(g,v.sibling),v=a(v,j),v.return=g,g=v):(r(g,v),v=U4(j,g.mode,B),v.return=g,g=v),l(g)):r(g,v)}return x}var Rx=bU(!0),NU=bU(!1),_w=Rh(null),Ew=null,Rf=null,kk=null;function _k(){kk=Rf=Ew=null}function Ek(t){var s=_w.current;on(_w),t._currentValue=s}function VC(t,s,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),t===r)break;t=t.return}}function rx(t,s){Ew=t,kk=Rf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(el=!0),t.firstContext=null)}function xo(t){var s=t._currentValue;if(kk!==t)if(t={context:t,memoizedValue:s,next:null},Rf===null){if(Ew===null)throw Error(Tt(308));Rf=t,Ew.dependencies={lanes:0,firstContext:t}}else Rf=Rf.next=t;return s}var NA=null;function Fk(t){NA===null?NA=[t]:NA.push(t)}function CU(t,s,r,n){var a=s.interleaved;return a===null?(r.next=r,Fk(s)):(r.next=a.next,a.next=r),s.interleaved=r,zd(t,n)}function zd(t,s){t.lanes|=s;var r=t.alternate;for(r!==null&&(r.lanes|=s),r=t,t=t.return;t!==null;)t.childLanes|=s,r=t.alternate,r!==null&&(r.childLanes|=s),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Pu=!1;function Tk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BU(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pd(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function hh(t,s,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ur&2){var a=n.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s,zd(t,r)}return a=n.interleaved,a===null?(s.next=s,Fk(n)):(s.next=a.next,a.next=s),n.interleaved=s,zd(t,r)}function D1(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,pk(t,r)}}function sF(t,s){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=s:i=i.next=s}else a=i=s;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}function Fw(t,s,r,n){var a=t.updateQueue;Pu=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;l=0,u=d=c=null,o=i;do{var A=o.lane,m=o.eventTime;if((n&A)===A){u!==null&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,f=o;switch(A=s,m=r,f.tag){case 1:if(p=f.payload,typeof p=="function"){h=p.call(m,h,A);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=f.payload,A=typeof p=="function"?p.call(m,h,A):p,A==null)break e;h=Nn({},h,A);break e;case 2:Pu=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,A=a.effects,A===null?a.effects=[o]:A.push(o))}else m={eventTime:m,lane:A,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,l|=A;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;A=o,o=A.next,A.next=null,a.lastBaseUpdate=A,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,s=a.shared.interleaved,s!==null){a=s;do l|=a.lane,a=a.next;while(a!==s)}else i===null&&(a.shared.lanes=0);YA|=l,t.lanes=l,t.memoizedState=h}}function rF(t,s,r){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var n=t[s],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Tt(191,a));a.call(n)}}}var zv={},Vc=Rh(zv),Kg=Rh(zv),zg=Rh(zv);function CA(t){if(t===zv)throw Error(Tt(174));return t}function Lk(t,s){switch(en(zg,s),en(Kg,t),en(Vc,zv),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:bC(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=bC(s,t)}on(Vc),en(Vc,s)}function Mx(){on(Vc),on(Kg),on(zg)}function SU(t){CA(zg.current);var s=CA(Vc.current),r=bC(s,t.type);s!==r&&(en(Kg,t),en(Vc,r))}function Ik(t){Kg.current===t&&(on(Vc),on(Kg))}var gn=Rh(0);function Tw(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var F4=[];function Pk(){for(var t=0;t<F4.length;t++)F4[t]._workInProgressVersionPrimary=null;F4.length=0}var U1=ru.ReactCurrentDispatcher,T4=ru.ReactCurrentBatchConfig,WA=0,wn=null,Aa=null,Na=null,Lw=!1,rg=!1,qg=0,bY=0;function Ja(){throw Error(Tt(321))}function Dk(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!oc(t[r],s[r]))return!1;return!0}function Uk(t,s,r,n,a,i){if(WA=i,wn=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U1.current=t===null||t.memoizedState===null?SY:kY,t=r(n,a),rg){i=0;do{if(rg=!1,qg=0,25<=i)throw Error(Tt(301));i+=1,Na=Aa=null,s.updateQueue=null,U1.current=_Y,t=r(n,a)}while(rg)}if(U1.current=Iw,s=Aa!==null&&Aa.next!==null,WA=0,Na=Aa=wn=null,Lw=!1,s)throw Error(Tt(300));return t}function Ok(){var t=qg!==0;return qg=0,t}function Tc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Na===null?wn.memoizedState=Na=t:Na=Na.next=t,Na}function po(){if(Aa===null){var t=wn.alternate;t=t!==null?t.memoizedState:null}else t=Aa.next;var s=Na===null?wn.memoizedState:Na.next;if(s!==null)Na=s,Aa=t;else{if(t===null)throw Error(Tt(310));Aa=t,t={memoizedState:Aa.memoizedState,baseState:Aa.baseState,baseQueue:Aa.baseQueue,queue:Aa.queue,next:null},Na===null?wn.memoizedState=Na=t:Na=Na.next=t}return Na}function $g(t,s){return typeof s=="function"?s(t):s}function L4(t){var s=po(),r=s.queue;if(r===null)throw Error(Tt(311));r.lastRenderedReducer=t;var n=Aa,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((WA&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,l=n):c=c.next=h,wn.lanes|=u,YA|=u}d=d.next}while(d!==null&&d!==i);c===null?l=n:c.next=o,oc(n,s.memoizedState)||(el=!0),s.memoizedState=n,s.baseState=l,s.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,wn.lanes|=i,YA|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function I4(t){var s=po(),r=s.queue;if(r===null)throw Error(Tt(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=s.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=t(i,l.action),l=l.next;while(l!==a);oc(i,s.memoizedState)||(el=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),r.lastRenderedState=i}return[i,n]}function kU(){}function _U(t,s){var r=wn,n=po(),a=s(),i=!oc(n.memoizedState,a);if(i&&(n.memoizedState=a,el=!0),n=n.queue,Rk(TU.bind(null,r,n,t),[t]),n.getSnapshot!==s||i||Na!==null&&Na.memoizedState.tag&1){if(r.flags|=2048,Gg(9,FU.bind(null,r,n,a,s),void 0,null),_a===null)throw Error(Tt(349));WA&30||EU(r,s,a)}return a}function EU(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=wn.updateQueue,s===null?(s={lastEffect:null,stores:null},wn.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function FU(t,s,r,n){s.value=r,s.getSnapshot=n,LU(s)&&IU(t)}function TU(t,s,r){return r(function(){LU(s)&&IU(t)})}function LU(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!oc(t,r)}catch{return!0}}function IU(t){var s=zd(t,1);s!==null&&tc(s,t,1,-1)}function nF(t){var s=Tc();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:t},s.queue=t,t=t.dispatch=BY.bind(null,wn,t),[s.memoizedState,t]}function Gg(t,s,r,n){return t={tag:t,create:s,destroy:r,deps:n,next:null},s=wn.updateQueue,s===null?(s={lastEffect:null,stores:null},wn.updateQueue=s,s.lastEffect=t.next=t):(r=s.lastEffect,r===null?s.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,s.lastEffect=t)),t}function PU(){return po().memoizedState}function O1(t,s,r,n){var a=Tc();wn.flags|=t,a.memoizedState=Gg(1|s,r,void 0,n===void 0?null:n)}function h2(t,s,r,n){var a=po();n=n===void 0?null:n;var i=void 0;if(Aa!==null){var l=Aa.memoizedState;if(i=l.destroy,n!==null&&Dk(n,l.deps)){a.memoizedState=Gg(s,r,i,n);return}}wn.flags|=t,a.memoizedState=Gg(1|s,r,i,n)}function aF(t,s){return O1(8390656,8,t,s)}function Rk(t,s){return h2(2048,8,t,s)}function DU(t,s){return h2(4,2,t,s)}function UU(t,s){return h2(4,4,t,s)}function OU(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function RU(t,s,r){return r=r!=null?r.concat([t]):null,h2(4,4,OU.bind(null,s,t),r)}function Mk(){}function MU(t,s){var r=po();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&Dk(s,n[1])?n[0]:(r.memoizedState=[t,s],t)}function QU(t,s){var r=po();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&Dk(s,n[1])?n[0]:(t=t(),r.memoizedState=[t,s],t)}function HU(t,s,r){return WA&21?(oc(r,s)||(r=$D(),wn.lanes|=r,YA|=r,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,el=!0),t.memoizedState=r)}function NY(t,s){var r=Ir;Ir=r!==0&&4>r?r:4,t(!0);var n=T4.transition;T4.transition={};try{t(!1),s()}finally{Ir=r,T4.transition=n}}function VU(){return po().memoizedState}function CY(t,s,r){var n=mh(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},KU(t))zU(s,r);else if(r=CU(t,s,r,n),r!==null){var a=Fi();tc(r,t,n,a),qU(r,s,n)}}function BY(t,s,r){var n=mh(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(KU(t))zU(s,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var l=s.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,oc(o,l)){var c=s.interleaved;c===null?(a.next=a,Fk(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}r=CU(t,s,a,n),r!==null&&(a=Fi(),tc(r,t,n,a),qU(r,s,n))}}function KU(t){var s=t.alternate;return t===wn||s!==null&&s===wn}function zU(t,s){rg=Lw=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function qU(t,s,r){if(r&4194240){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,pk(t,r)}}var Iw={readContext:xo,useCallback:Ja,useContext:Ja,useEffect:Ja,useImperativeHandle:Ja,useInsertionEffect:Ja,useLayoutEffect:Ja,useMemo:Ja,useReducer:Ja,useRef:Ja,useState:Ja,useDebugValue:Ja,useDeferredValue:Ja,useTransition:Ja,useMutableSource:Ja,useSyncExternalStore:Ja,useId:Ja,unstable_isNewReconciler:!1},SY={readContext:xo,useCallback:function(t,s){return Tc().memoizedState=[t,s===void 0?null:s],t},useContext:xo,useEffect:aF,useImperativeHandle:function(t,s,r){return r=r!=null?r.concat([t]):null,O1(4194308,4,OU.bind(null,s,t),r)},useLayoutEffect:function(t,s){return O1(4194308,4,t,s)},useInsertionEffect:function(t,s){return O1(4,2,t,s)},useMemo:function(t,s){var r=Tc();return s=s===void 0?null:s,t=t(),r.memoizedState=[t,s],t},useReducer:function(t,s,r){var n=Tc();return s=r!==void 0?r(s):s,n.memoizedState=n.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},n.queue=t,t=t.dispatch=CY.bind(null,wn,t),[n.memoizedState,t]},useRef:function(t){var s=Tc();return t={current:t},s.memoizedState=t},useState:nF,useDebugValue:Mk,useDeferredValue:function(t){return Tc().memoizedState=t},useTransition:function(){var t=nF(!1),s=t[0];return t=NY.bind(null,t[1]),Tc().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,r){var n=wn,a=Tc();if(mn){if(r===void 0)throw Error(Tt(407));r=r()}else{if(r=s(),_a===null)throw Error(Tt(349));WA&30||EU(n,s,r)}a.memoizedState=r;var i={value:r,getSnapshot:s};return a.queue=i,aF(TU.bind(null,n,i,t),[t]),n.flags|=2048,Gg(9,FU.bind(null,n,i,r,s),void 0,null),r},useId:function(){var t=Tc(),s=_a.identifierPrefix;if(mn){var r=Id,n=Ld;r=(n&~(1<<32-ec(n)-1)).toString(32)+r,s=":"+s+"R"+r,r=qg++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=bY++,s=":"+s+"r"+r.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},kY={readContext:xo,useCallback:MU,useContext:xo,useEffect:Rk,useImperativeHandle:RU,useInsertionEffect:DU,useLayoutEffect:UU,useMemo:QU,useReducer:L4,useRef:PU,useState:function(){return L4($g)},useDebugValue:Mk,useDeferredValue:function(t){var s=po();return HU(s,Aa.memoizedState,t)},useTransition:function(){var t=L4($g)[0],s=po().memoizedState;return[t,s]},useMutableSource:kU,useSyncExternalStore:_U,useId:VU,unstable_isNewReconciler:!1},_Y={readContext:xo,useCallback:MU,useContext:xo,useEffect:Rk,useImperativeHandle:RU,useInsertionEffect:DU,useLayoutEffect:UU,useMemo:QU,useReducer:I4,useRef:PU,useState:function(){return I4($g)},useDebugValue:Mk,useDeferredValue:function(t){var s=po();return Aa===null?s.memoizedState=t:HU(s,Aa.memoizedState,t)},useTransition:function(){var t=I4($g)[0],s=po().memoizedState;return[t,s]},useMutableSource:kU,useSyncExternalStore:_U,useId:VU,unstable_isNewReconciler:!1};function Oo(t,s){if(t&&t.defaultProps){s=Nn({},s),t=t.defaultProps;for(var r in t)s[r]===void 0&&(s[r]=t[r]);return s}return s}function KC(t,s,r,n){s=t.memoizedState,r=r(n,s),r=r==null?s:Nn({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var A2={isMounted:function(t){return(t=t._reactInternals)?pm(t)===t:!1},enqueueSetState:function(t,s,r){t=t._reactInternals;var n=Fi(),a=mh(t),i=Pd(n,a);i.payload=s,r!=null&&(i.callback=r),s=hh(t,i,a),s!==null&&(tc(s,t,a,n),D1(s,t,a))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var n=Fi(),a=mh(t),i=Pd(n,a);i.tag=1,i.payload=s,r!=null&&(i.callback=r),s=hh(t,i,a),s!==null&&(tc(s,t,a,n),D1(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=Fi(),n=mh(t),a=Pd(r,n);a.tag=2,s!=null&&(a.callback=s),s=hh(t,a,n),s!==null&&(tc(s,t,n,r),D1(s,t,n))}};function iF(t,s,r,n,a,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,l):s.prototype&&s.prototype.isPureReactComponent?!Mg(r,n)||!Mg(a,i):!0}function $U(t,s,r){var n=!1,a=jh,i=s.contextType;return typeof i=="object"&&i!==null?i=xo(i):(a=sl(s)?$A:pi.current,n=s.contextTypes,i=(n=n!=null)?Ux(t,a):jh),s=new s(r,i),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=A2,t.stateNode=s,s._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),s}function lF(t,s,r,n){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,n),s.state!==t&&A2.enqueueReplaceState(s,s.state,null)}function zC(t,s,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},Tk(t);var i=s.contextType;typeof i=="object"&&i!==null?a.context=xo(i):(i=sl(s)?$A:pi.current,a.context=Ux(t,i)),a.state=t.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(KC(t,s,i,r),a.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&A2.enqueueReplaceState(a,a.state,null),Fw(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Qx(t,s){try{var r="",n=s;do r+=rW(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:s,stack:a,digest:null}}function P4(t,s,r){return{value:t,source:null,stack:r??null,digest:s??null}}function qC(t,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var EY=typeof WeakMap=="function"?WeakMap:Map;function GU(t,s,r){r=Pd(-1,r),r.tag=3,r.payload={element:null};var n=s.value;return r.callback=function(){Dw||(Dw=!0,sB=n),qC(t,s)},r}function WU(t,s,r){r=Pd(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=s.value;r.payload=function(){return n(a)},r.callback=function(){qC(t,s)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){qC(t,s),typeof n!="function"&&(Ah===null?Ah=new Set([this]):Ah.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})}),r}function oF(t,s,r){var n=t.pingCache;if(n===null){n=t.pingCache=new EY;var a=new Set;n.set(s,a)}else a=n.get(s),a===void 0&&(a=new Set,n.set(s,a));a.has(r)||(a.add(r),t=KY.bind(null,t,s,r),s.then(t,t))}function cF(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function dF(t,s,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===s?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Pd(-1,1),s.tag=2,hh(r,s,1))),r.lanes|=1),t)}var FY=ru.ReactCurrentOwner,el=!1;function Si(t,s,r,n){s.child=t===null?NU(s,null,r,n):Rx(s,t.child,r,n)}function uF(t,s,r,n,a){r=r.render;var i=s.ref;return rx(s,a),n=Uk(t,s,r,n,i,a),r=Ok(),t!==null&&!el?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,qd(t,s,a)):(mn&&r&&Ck(s),s.flags|=1,Si(t,s,n,a),s.child)}function hF(t,s,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!Gk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=i,YU(t,s,i,n,a)):(t=H1(r.type,null,n,s,s.mode,a),t.ref=s.ref,t.return=s,s.child=t)}if(i=t.child,!(t.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:Mg,r(l,n)&&t.ref===s.ref)return qd(t,s,a)}return s.flags|=1,t=fh(i,n),t.ref=s.ref,t.return=s,s.child=t}function YU(t,s,r,n,a){if(t!==null){var i=t.memoizedProps;if(Mg(i,n)&&t.ref===s.ref)if(el=!1,s.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(el=!0);else return s.lanes=t.lanes,qd(t,s,a)}return $C(t,s,r,n,a)}function XU(t,s,r){var n=s.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},en(Qf,jl),jl|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,en(Qf,jl),jl|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,en(Qf,jl),jl|=n}else i!==null?(n=i.baseLanes|r,s.memoizedState=null):n=r,en(Qf,jl),jl|=n;return Si(t,s,a,r),s.child}function JU(t,s){var r=s.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function $C(t,s,r,n,a){var i=sl(r)?$A:pi.current;return i=Ux(s,i),rx(s,a),r=Uk(t,s,r,n,i,a),n=Ok(),t!==null&&!el?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,qd(t,s,a)):(mn&&n&&Ck(s),s.flags|=1,Si(t,s,r,a),s.child)}function AF(t,s,r,n,a){if(sl(r)){var i=!0;Bw(s)}else i=!1;if(rx(s,a),s.stateNode===null)R1(t,s),$U(s,r,n),zC(s,r,n,a),n=!0;else if(t===null){var l=s.stateNode,o=s.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=xo(d):(d=sl(r)?$A:pi.current,d=Ux(s,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&lF(s,l,n,d),Pu=!1;var A=s.memoizedState;l.state=A,Fw(s,n,l,a),c=s.memoizedState,o!==n||A!==c||tl.current||Pu?(typeof u=="function"&&(KC(s,r,u,n),c=s.memoizedState),(o=Pu||iF(s,r,o,n,A,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(s.flags|=4194308)):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{l=s.stateNode,BU(t,s),o=s.memoizedProps,d=s.type===s.elementType?o:Oo(s.type,o),l.props=d,h=s.pendingProps,A=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=xo(c):(c=sl(r)?$A:pi.current,c=Ux(s,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||A!==c)&&lF(s,l,n,c),Pu=!1,A=s.memoizedState,l.state=A,Fw(s,n,l,a);var p=s.memoizedState;o!==h||A!==p||tl.current||Pu?(typeof m=="function"&&(KC(s,r,m,n),p=s.memoizedState),(d=Pu||iF(s,r,d,n,A,p,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,p,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,p,c)),typeof l.componentDidUpdate=="function"&&(s.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&A===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&A===t.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=p),l.props=n,l.state=p,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&A===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&A===t.memoizedState||(s.flags|=1024),n=!1)}return GC(t,s,r,n,i,a)}function GC(t,s,r,n,a,i){JU(t,s);var l=(s.flags&128)!==0;if(!n&&!l)return a&&J6(s,r,!1),qd(t,s,i);n=s.stateNode,FY.current=s;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return s.flags|=1,t!==null&&l?(s.child=Rx(s,t.child,null,i),s.child=Rx(s,null,o,i)):Si(t,s,o,i),s.memoizedState=n.state,a&&J6(s,r,!0),s.child}function ZU(t){var s=t.stateNode;s.pendingContext?X6(t,s.pendingContext,s.pendingContext!==s.context):s.context&&X6(t,s.context,!1),Lk(t,s.containerInfo)}function mF(t,s,r,n,a){return Ox(),Sk(a),s.flags|=256,Si(t,s,r,n),s.child}var WC={dehydrated:null,treeContext:null,retryLane:0};function YC(t){return{baseLanes:t,cachePool:null,transitions:null}}function eO(t,s,r){var n=s.pendingProps,a=gn.current,i=!1,l=(s.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),en(gn,a&1),t===null)return HC(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(l=n.children,t=n.fallback,i?(n=s.mode,i=s.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=x2(l,n,0,null),t=RA(t,n,r,null),i.return=s,t.return=s,i.sibling=t,s.child=i,s.child.memoizedState=YC(r),s.memoizedState=WC,t):Qk(s,l));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return TY(t,s,l,n,o,a,r);if(i){i=n.fallback,l=s.mode,a=t.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&s.child!==a?(n=s.child,n.childLanes=0,n.pendingProps=c,s.deletions=null):(n=fh(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=fh(o,i):(i=RA(i,l,r,null),i.flags|=2),i.return=s,n.return=s,n.sibling=i,s.child=n,n=i,i=s.child,l=t.child.memoizedState,l=l===null?YC(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~r,s.memoizedState=WC,n}return i=t.child,t=i.sibling,n=fh(i,{mode:"visible",children:n.children}),!(s.mode&1)&&(n.lanes=r),n.return=s,n.sibling=null,t!==null&&(r=s.deletions,r===null?(s.deletions=[t],s.flags|=16):r.push(t)),s.child=n,s.memoizedState=null,n}function Qk(t,s){return s=x2({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Cy(t,s,r,n){return n!==null&&Sk(n),Rx(s,t.child,null,r),t=Qk(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function TY(t,s,r,n,a,i,l){if(r)return s.flags&256?(s.flags&=-257,n=P4(Error(Tt(422))),Cy(t,s,l,n)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(i=n.fallback,a=s.mode,n=x2({mode:"visible",children:n.children},a,0,null),i=RA(i,a,l,null),i.flags|=2,n.return=s,i.return=s,n.sibling=i,s.child=n,s.mode&1&&Rx(s,t.child,null,l),s.child.memoizedState=YC(l),s.memoizedState=WC,i);if(!(s.mode&1))return Cy(t,s,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Tt(419)),n=P4(i,n,void 0),Cy(t,s,l,n)}if(o=(l&t.childLanes)!==0,el||o){if(n=_a,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,zd(t,a),tc(n,t,a,-1))}return $k(),n=P4(Error(Tt(421))),Cy(t,s,l,n)}return a.data==="$?"?(s.flags|=128,s.child=t.child,s=zY.bind(null,t),a._reactRetry=s,null):(t=i.treeContext,Sl=uh(a.nextSibling),_l=s,mn=!0,Ko=null,t!==null&&(so[ro++]=Ld,so[ro++]=Id,so[ro++]=GA,Ld=t.id,Id=t.overflow,GA=s),s=Qk(s,n.children),s.flags|=4096,s)}function fF(t,s,r){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s),VC(t.return,s,r)}function D4(t,s,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function tO(t,s,r){var n=s.pendingProps,a=n.revealOrder,i=n.tail;if(Si(t,s,n.children,r),n=gn.current,n&2)n=n&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fF(t,r,s);else if(t.tag===19)fF(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(en(gn,n),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(r=s.child,a=null;r!==null;)t=r.alternate,t!==null&&Tw(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=s.child,s.child=null):(a=r.sibling,r.sibling=null),D4(s,!1,a,r,i);break;case"backwards":for(r=null,a=s.child,s.child=null;a!==null;){if(t=a.alternate,t!==null&&Tw(t)===null){s.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}D4(s,!0,r,null,i);break;case"together":D4(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function R1(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function qd(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),YA|=s.lanes,!(r&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(Tt(153));if(s.child!==null){for(t=s.child,r=fh(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=fh(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function LY(t,s,r){switch(s.tag){case 3:ZU(s),Ox();break;case 5:SU(s);break;case 1:sl(s.type)&&Bw(s);break;case 4:Lk(s,s.stateNode.containerInfo);break;case 10:var n=s.type._context,a=s.memoizedProps.value;en(_w,n._currentValue),n._currentValue=a;break;case 13:if(n=s.memoizedState,n!==null)return n.dehydrated!==null?(en(gn,gn.current&1),s.flags|=128,null):r&s.child.childLanes?eO(t,s,r):(en(gn,gn.current&1),t=qd(t,s,r),t!==null?t.sibling:null);en(gn,gn.current&1);break;case 19:if(n=(r&s.childLanes)!==0,t.flags&128){if(n)return tO(t,s,r);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),en(gn,gn.current),n)break;return null;case 22:case 23:return s.lanes=0,XU(t,s,r)}return qd(t,s,r)}var sO,XC,rO,nO;sO=function(t,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};XC=function(){};rO=function(t,s,r,n){var a=t.memoizedProps;if(a!==n){t=s.stateNode,CA(Vc.current);var i=null;switch(r){case"input":a=vC(t,a),n=vC(t,n),i=[];break;case"select":a=Nn({},a,{value:void 0}),n=Nn({},n,{value:void 0}),i=[];break;case"textarea":a=wC(t,a),n=wC(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Nw)}NC(r,n);var l;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Lg.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Lg.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&nn("scroll",t),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(s.updateQueue=d)&&(s.flags|=4)}};nO=function(t,s,r,n){r!==n&&(s.flags|=4)};function dp(t,s){if(!mn)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Za(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(s)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,s}function IY(t,s,r){var n=s.pendingProps;switch(Bk(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Za(s),null;case 1:return sl(s.type)&&Cw(),Za(s),null;case 3:return n=s.stateNode,Mx(),on(tl),on(pi),Pk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(by(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Ko!==null&&(aB(Ko),Ko=null))),XC(t,s),Za(s),null;case 5:Ik(s);var a=CA(zg.current);if(r=s.type,t!==null&&s.stateNode!=null)rO(t,s,r,n,a),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!n){if(s.stateNode===null)throw Error(Tt(166));return Za(s),null}if(t=CA(Vc.current),by(s)){n=s.stateNode,r=s.type;var i=s.memoizedProps;switch(n[Oc]=s,n[Vg]=i,t=(s.mode&1)!==0,r){case"dialog":nn("cancel",n),nn("close",n);break;case"iframe":case"object":case"embed":nn("load",n);break;case"video":case"audio":for(a=0;a<Tp.length;a++)nn(Tp[a],n);break;case"source":nn("error",n);break;case"img":case"image":case"link":nn("error",n),nn("load",n);break;case"details":nn("toggle",n);break;case"input":N6(n,i),nn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},nn("invalid",n);break;case"textarea":B6(n,i),nn("invalid",n)}NC(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&wy(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&wy(n.textContent,o,t),a=["children",""+o]):Lg.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&nn("scroll",n)}switch(r){case"input":my(n),C6(n,i,!0);break;case"textarea":my(n),S6(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Nw)}n=a,s.updateQueue=n,n!==null&&(s.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=TD(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),r==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[Oc]=s,t[Vg]=n,sO(t,s,!1,!1),s.stateNode=t;e:{switch(l=CC(r,n),r){case"dialog":nn("cancel",t),nn("close",t),a=n;break;case"iframe":case"object":case"embed":nn("load",t),a=n;break;case"video":case"audio":for(a=0;a<Tp.length;a++)nn(Tp[a],t);a=n;break;case"source":nn("error",t),a=n;break;case"img":case"image":case"link":nn("error",t),nn("load",t),a=n;break;case"details":nn("toggle",t),a=n;break;case"input":N6(t,n),a=vC(t,n),nn("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Nn({},n,{value:void 0}),nn("invalid",t);break;case"textarea":B6(t,n),a=wC(t,n),nn("invalid",t);break;default:a=n}NC(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?PD(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&LD(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ig(t,c):typeof c=="number"&&Ig(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Lg.hasOwnProperty(i)?c!=null&&i==="onScroll"&&nn("scroll",t):c!=null&&uk(t,i,c,l))}switch(r){case"input":my(t),C6(t,n,!1);break;case"textarea":my(t),S6(t);break;case"option":n.value!=null&&t.setAttribute("value",""+vh(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Zf(t,!!n.multiple,i,!1):n.defaultValue!=null&&Zf(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Nw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Za(s),null;case 6:if(t&&s.stateNode!=null)nO(t,s,t.memoizedProps,n);else{if(typeof n!="string"&&s.stateNode===null)throw Error(Tt(166));if(r=CA(zg.current),CA(Vc.current),by(s)){if(n=s.stateNode,r=s.memoizedProps,n[Oc]=s,(i=n.nodeValue!==r)&&(t=_l,t!==null))switch(t.tag){case 3:wy(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wy(n.nodeValue,r,(t.mode&1)!==0)}i&&(s.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Oc]=s,s.stateNode=n}return Za(s),null;case 13:if(on(gn),n=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mn&&Sl!==null&&s.mode&1&&!(s.flags&128))wU(),Ox(),s.flags|=98560,i=!1;else if(i=by(s),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Tt(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Tt(317));i[Oc]=s}else Ox(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Za(s),i=!1}else Ko!==null&&(aB(Ko),Ko=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(s.child.flags|=8192,s.mode&1&&(t===null||gn.current&1?xa===0&&(xa=3):$k())),s.updateQueue!==null&&(s.flags|=4),Za(s),null);case 4:return Mx(),XC(t,s),t===null&&Qg(s.stateNode.containerInfo),Za(s),null;case 10:return Ek(s.type._context),Za(s),null;case 17:return sl(s.type)&&Cw(),Za(s),null;case 19:if(on(gn),i=s.memoizedState,i===null)return Za(s),null;if(n=(s.flags&128)!==0,l=i.rendering,l===null)if(n)dp(i,!1);else{if(xa!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(l=Tw(t),l!==null){for(s.flags|=128,dp(i,!1),n=l.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),s.subtreeFlags=0,n=r,r=s.child;r!==null;)i=r,t=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return en(gn,gn.current&1|2),s.child}t=t.sibling}i.tail!==null&&zn()>Hx&&(s.flags|=128,n=!0,dp(i,!1),s.lanes=4194304)}else{if(!n)if(t=Tw(l),t!==null){if(s.flags|=128,n=!0,r=t.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),dp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!mn)return Za(s),null}else 2*zn()-i.renderingStartTime>Hx&&r!==1073741824&&(s.flags|=128,n=!0,dp(i,!1),s.lanes=4194304);i.isBackwards?(l.sibling=s.child,s.child=l):(r=i.last,r!==null?r.sibling=l:s.child=l,i.last=l)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=zn(),s.sibling=null,r=gn.current,en(gn,n?r&1|2:r&1),s):(Za(s),null);case 22:case 23:return qk(),n=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(s.flags|=8192),n&&s.mode&1?jl&1073741824&&(Za(s),s.subtreeFlags&6&&(s.flags|=8192)):Za(s),null;case 24:return null;case 25:return null}throw Error(Tt(156,s.tag))}function PY(t,s){switch(Bk(s),s.tag){case 1:return sl(s.type)&&Cw(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Mx(),on(tl),on(pi),Pk(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return Ik(s),null;case 13:if(on(gn),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(Tt(340));Ox()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return on(gn),null;case 4:return Mx(),null;case 10:return Ek(s.type._context),null;case 22:case 23:return qk(),null;case 24:return null;default:return null}}var By=!1,oi=!1,DY=typeof WeakSet=="function"?WeakSet:Set,rs=null;function Mf(t,s){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Fn(t,s,n)}else r.current=null}function JC(t,s,r){try{r()}catch(n){Fn(t,s,n)}}var xF=!1;function UY(t,s){if(PC=yw,t=cU(),Nk(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=t,A=null;t:for(;;){for(var m;h!==r||a!==0&&h.nodeType!==3||(o=l+a),h!==i||n!==0&&h.nodeType!==3||(c=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(m=h.firstChild)!==null;)A=h,h=m;for(;;){if(h===t)break t;if(A===r&&++d===a&&(o=l),A===i&&++u===n&&(c=l),(m=h.nextSibling)!==null)break;h=A,A=h.parentNode}h=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(DC={focusedElem:t,selectionRange:r},yw=!1,rs=s;rs!==null;)if(s=rs,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,rs=t;else for(;rs!==null;){s=rs;try{var p=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var f=p.memoizedProps,x=p.memoizedState,g=s.stateNode,v=g.getSnapshotBeforeUpdate(s.elementType===s.type?f:Oo(s.type,f),x);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Tt(163))}}catch(B){Fn(s,s.return,B)}if(t=s.sibling,t!==null){t.return=s.return,rs=t;break}rs=s.return}return p=xF,xF=!1,p}function ng(t,s,r){var n=s.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&JC(s,r,i)}a=a.next}while(a!==n)}}function m2(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==s)}}function ZC(t){var s=t.ref;if(s!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof s=="function"?s(t):s.current=t}}function aO(t){var s=t.alternate;s!==null&&(t.alternate=null,aO(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Oc],delete s[Vg],delete s[RC],delete s[vY],delete s[jY])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iO(t){return t.tag===5||t.tag===3||t.tag===4}function pF(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eB(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(t,s):r.insertBefore(t,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(t,r)):(s=r,s.appendChild(t)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Nw));else if(n!==4&&(t=t.child,t!==null))for(eB(t,s,r),t=t.sibling;t!==null;)eB(t,s,r),t=t.sibling}function tB(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(tB(t,s,r),t=t.sibling;t!==null;)tB(t,s,r),t=t.sibling}var Ia=null,Ho=!1;function vu(t,s,r){for(r=r.child;r!==null;)lO(t,s,r),r=r.sibling}function lO(t,s,r){if(Hc&&typeof Hc.onCommitFiberUnmount=="function")try{Hc.onCommitFiberUnmount(i2,r)}catch{}switch(r.tag){case 5:oi||Mf(r,s);case 6:var n=Ia,a=Ho;Ia=null,vu(t,s,r),Ia=n,Ho=a,Ia!==null&&(Ho?(t=Ia,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ia.removeChild(r.stateNode));break;case 18:Ia!==null&&(Ho?(t=Ia,r=r.stateNode,t.nodeType===8?_4(t.parentNode,r):t.nodeType===1&&_4(t,r),Og(t)):_4(Ia,r.stateNode));break;case 4:n=Ia,a=Ho,Ia=r.stateNode.containerInfo,Ho=!0,vu(t,s,r),Ia=n,Ho=a;break;case 0:case 11:case 14:case 15:if(!oi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&JC(r,s,l),a=a.next}while(a!==n)}vu(t,s,r);break;case 1:if(!oi&&(Mf(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Fn(r,s,o)}vu(t,s,r);break;case 21:vu(t,s,r);break;case 22:r.mode&1?(oi=(n=oi)||r.memoizedState!==null,vu(t,s,r),oi=n):vu(t,s,r);break;default:vu(t,s,r)}}function gF(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new DY),s.forEach(function(n){var a=qY.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Eo(t,s){var r=s.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,l=s,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ia=o.stateNode,Ho=!1;break e;case 3:Ia=o.stateNode.containerInfo,Ho=!0;break e;case 4:Ia=o.stateNode.containerInfo,Ho=!0;break e}o=o.return}if(Ia===null)throw Error(Tt(160));lO(i,l,a),Ia=null,Ho=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Fn(a,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)oO(s,t),s=s.sibling}function oO(t,s){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Eo(s,t),Bc(t),n&4){try{ng(3,t,t.return),m2(3,t)}catch(f){Fn(t,t.return,f)}try{ng(5,t,t.return)}catch(f){Fn(t,t.return,f)}}break;case 1:Eo(s,t),Bc(t),n&512&&r!==null&&Mf(r,r.return);break;case 5:if(Eo(s,t),Bc(t),n&512&&r!==null&&Mf(r,r.return),t.flags&32){var a=t.stateNode;try{Ig(a,"")}catch(f){Fn(t,t.return,f)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,l=r!==null?r.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&ED(a,i),CC(o,l);var d=CC(o,i);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];u==="style"?PD(a,h):u==="dangerouslySetInnerHTML"?LD(a,h):u==="children"?Ig(a,h):uk(a,u,h,d)}switch(o){case"input":jC(a,i);break;case"textarea":FD(a,i);break;case"select":var A=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Zf(a,!!i.multiple,m,!1):A!==!!i.multiple&&(i.defaultValue!=null?Zf(a,!!i.multiple,i.defaultValue,!0):Zf(a,!!i.multiple,i.multiple?[]:"",!1))}a[Vg]=i}catch(f){Fn(t,t.return,f)}}break;case 6:if(Eo(s,t),Bc(t),n&4){if(t.stateNode===null)throw Error(Tt(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(f){Fn(t,t.return,f)}}break;case 3:if(Eo(s,t),Bc(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Og(s.containerInfo)}catch(f){Fn(t,t.return,f)}break;case 4:Eo(s,t),Bc(t);break;case 13:Eo(s,t),Bc(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Kk=zn())),n&4&&gF(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(oi=(d=oi)||u,Eo(s,t),oi=d):Eo(s,t),Bc(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(rs=t,u=t.child;u!==null;){for(h=rs=u;rs!==null;){switch(A=rs,m=A.child,A.tag){case 0:case 11:case 14:case 15:ng(4,A,A.return);break;case 1:Mf(A,A.return);var p=A.stateNode;if(typeof p.componentWillUnmount=="function"){n=A,r=A.return;try{s=n,p.props=s.memoizedProps,p.state=s.memoizedState,p.componentWillUnmount()}catch(f){Fn(n,r,f)}}break;case 5:Mf(A,A.return);break;case 22:if(A.memoizedState!==null){jF(h);continue}}m!==null?(m.return=A,rs=m):jF(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=ID("display",l))}catch(f){Fn(t,t.return,f)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(f){Fn(t,t.return,f)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Eo(s,t),Bc(t),n&4&&gF(t);break;case 21:break;default:Eo(s,t),Bc(t)}}function Bc(t){var s=t.flags;if(s&2){try{e:{for(var r=t.return;r!==null;){if(iO(r)){var n=r;break e}r=r.return}throw Error(Tt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ig(a,""),n.flags&=-33);var i=pF(t);tB(t,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=pF(t);eB(t,o,l);break;default:throw Error(Tt(161))}}catch(c){Fn(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function OY(t,s,r){rs=t,cO(t)}function cO(t,s,r){for(var n=(t.mode&1)!==0;rs!==null;){var a=rs,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||By;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||oi;o=By;var d=oi;if(By=l,(oi=c)&&!d)for(rs=a;rs!==null;)l=rs,c=l.child,l.tag===22&&l.memoizedState!==null?yF(a):c!==null?(c.return=l,rs=c):yF(a);for(;i!==null;)rs=i,cO(i),i=i.sibling;rs=a,By=o,oi=d}vF(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,rs=i):vF(t)}}function vF(t){for(;rs!==null;){var s=rs;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:oi||m2(5,s);break;case 1:var n=s.stateNode;if(s.flags&4&&!oi)if(r===null)n.componentDidMount();else{var a=s.elementType===s.type?r.memoizedProps:Oo(s.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&rF(s,i,n);break;case 3:var l=s.updateQueue;if(l!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}rF(s,l,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Og(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Tt(163))}oi||s.flags&512&&ZC(s)}catch(A){Fn(s,s.return,A)}}if(s===t){rs=null;break}if(r=s.sibling,r!==null){r.return=s.return,rs=r;break}rs=s.return}}function jF(t){for(;rs!==null;){var s=rs;if(s===t){rs=null;break}var r=s.sibling;if(r!==null){r.return=s.return,rs=r;break}rs=s.return}}function yF(t){for(;rs!==null;){var s=rs;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{m2(4,s)}catch(c){Fn(s,r,c)}break;case 1:var n=s.stateNode;if(typeof n.componentDidMount=="function"){var a=s.return;try{n.componentDidMount()}catch(c){Fn(s,a,c)}}var i=s.return;try{ZC(s)}catch(c){Fn(s,i,c)}break;case 5:var l=s.return;try{ZC(s)}catch(c){Fn(s,l,c)}}}catch(c){Fn(s,s.return,c)}if(s===t){rs=null;break}var o=s.sibling;if(o!==null){o.return=s.return,rs=o;break}rs=s.return}}var RY=Math.ceil,Pw=ru.ReactCurrentDispatcher,Hk=ru.ReactCurrentOwner,co=ru.ReactCurrentBatchConfig,ur=0,_a=null,na=null,Ha=0,jl=0,Qf=Rh(0),xa=0,Wg=null,YA=0,f2=0,Vk=0,ag=null,Ji=null,Kk=0,Hx=1/0,Sd=null,Dw=!1,sB=null,Ah=null,Sy=!1,th=null,Uw=0,ig=0,rB=null,M1=-1,Q1=0;function Fi(){return ur&6?zn():M1!==-1?M1:M1=zn()}function mh(t){return t.mode&1?ur&2&&Ha!==0?Ha&-Ha:wY.transition!==null?(Q1===0&&(Q1=$D()),Q1):(t=Ir,t!==0||(t=window.event,t=t===void 0?16:eU(t.type)),t):1}function tc(t,s,r,n){if(50<ig)throw ig=0,rB=null,Error(Tt(185));Hv(t,r,n),(!(ur&2)||t!==_a)&&(t===_a&&(!(ur&2)&&(f2|=r),xa===4&&Mu(t,Ha)),rl(t,n),r===1&&ur===0&&!(s.mode&1)&&(Hx=zn()+500,u2&&Mh()))}function rl(t,s){var r=t.callbackNode;wW(t,s);var n=jw(t,t===_a?Ha:0);if(n===0)r!==null&&E6(r),t.callbackNode=null,t.callbackPriority=0;else if(s=n&-n,t.callbackPriority!==s){if(r!=null&&E6(r),s===1)t.tag===0?yY(wF.bind(null,t)):vU(wF.bind(null,t)),pY(function(){!(ur&6)&&Mh()}),r=null;else{switch(GD(n)){case 1:r=xk;break;case 4:r=zD;break;case 16:r=vw;break;case 536870912:r=qD;break;default:r=vw}r=pO(r,dO.bind(null,t))}t.callbackPriority=s,t.callbackNode=r}}function dO(t,s){if(M1=-1,Q1=0,ur&6)throw Error(Tt(327));var r=t.callbackNode;if(nx()&&t.callbackNode!==r)return null;var n=jw(t,t===_a?Ha:0);if(n===0)return null;if(n&30||n&t.expiredLanes||s)s=Ow(t,n);else{s=n;var a=ur;ur|=2;var i=hO();(_a!==t||Ha!==s)&&(Sd=null,Hx=zn()+500,OA(t,s));do try{HY();break}catch(o){uO(t,o)}while(!0);_k(),Pw.current=i,ur=a,na!==null?s=0:(_a=null,Ha=0,s=xa)}if(s!==0){if(s===2&&(a=EC(t),a!==0&&(n=a,s=nB(t,a))),s===1)throw r=Wg,OA(t,0),Mu(t,n),rl(t,zn()),r;if(s===6)Mu(t,n);else{if(a=t.current.alternate,!(n&30)&&!MY(a)&&(s=Ow(t,n),s===2&&(i=EC(t),i!==0&&(n=i,s=nB(t,i))),s===1))throw r=Wg,OA(t,0),Mu(t,n),rl(t,zn()),r;switch(t.finishedWork=a,t.finishedLanes=n,s){case 0:case 1:throw Error(Tt(345));case 2:dA(t,Ji,Sd);break;case 3:if(Mu(t,n),(n&130023424)===n&&(s=Kk+500-zn(),10<s)){if(jw(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Fi(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=OC(dA.bind(null,t,Ji,Sd),s);break}dA(t,Ji,Sd);break;case 4:if(Mu(t,n),(n&4194240)===n)break;for(s=t.eventTimes,a=-1;0<n;){var l=31-ec(n);i=1<<l,l=s[l],l>a&&(a=l),n&=~i}if(n=a,n=zn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*RY(n/1960))-n,10<n){t.timeoutHandle=OC(dA.bind(null,t,Ji,Sd),n);break}dA(t,Ji,Sd);break;case 5:dA(t,Ji,Sd);break;default:throw Error(Tt(329))}}}return rl(t,zn()),t.callbackNode===r?dO.bind(null,t):null}function nB(t,s){var r=ag;return t.current.memoizedState.isDehydrated&&(OA(t,s).flags|=256),t=Ow(t,s),t!==2&&(s=Ji,Ji=r,s!==null&&aB(s)),t}function aB(t){Ji===null?Ji=t:Ji.push.apply(Ji,t)}function MY(t){for(var s=t;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!oc(i(),a))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Mu(t,s){for(s&=~Vk,s&=~f2,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var r=31-ec(s),n=1<<r;t[r]=-1,s&=~n}}function wF(t){if(ur&6)throw Error(Tt(327));nx();var s=jw(t,0);if(!(s&1))return rl(t,zn()),null;var r=Ow(t,s);if(t.tag!==0&&r===2){var n=EC(t);n!==0&&(s=n,r=nB(t,n))}if(r===1)throw r=Wg,OA(t,0),Mu(t,s),rl(t,zn()),r;if(r===6)throw Error(Tt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,dA(t,Ji,Sd),rl(t,zn()),null}function zk(t,s){var r=ur;ur|=1;try{return t(s)}finally{ur=r,ur===0&&(Hx=zn()+500,u2&&Mh())}}function XA(t){th!==null&&th.tag===0&&!(ur&6)&&nx();var s=ur;ur|=1;var r=co.transition,n=Ir;try{if(co.transition=null,Ir=1,t)return t()}finally{Ir=n,co.transition=r,ur=s,!(ur&6)&&Mh()}}function qk(){jl=Qf.current,on(Qf)}function OA(t,s){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,xY(r)),na!==null)for(r=na.return;r!==null;){var n=r;switch(Bk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Cw();break;case 3:Mx(),on(tl),on(pi),Pk();break;case 5:Ik(n);break;case 4:Mx();break;case 13:on(gn);break;case 19:on(gn);break;case 10:Ek(n.type._context);break;case 22:case 23:qk()}r=r.return}if(_a=t,na=t=fh(t.current,null),Ha=jl=s,xa=0,Wg=null,Vk=f2=YA=0,Ji=ag=null,NA!==null){for(s=0;s<NA.length;s++)if(r=NA[s],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}NA=null}return t}function uO(t,s){do{var r=na;try{if(_k(),U1.current=Iw,Lw){for(var n=wn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Lw=!1}if(WA=0,Na=Aa=wn=null,rg=!1,qg=0,Hk.current=null,r===null||r.return===null){xa=1,Wg=s,na=null;break}e:{var i=t,l=r.return,o=r,c=s;if(s=Ha,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var A=u.alternate;A?(u.updateQueue=A.updateQueue,u.memoizedState=A.memoizedState,u.lanes=A.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=cF(l);if(m!==null){m.flags&=-257,dF(m,l,o,i,s),m.mode&1&&oF(i,d,s),s=m,c=d;var p=s.updateQueue;if(p===null){var f=new Set;f.add(c),s.updateQueue=f}else p.add(c);break e}else{if(!(s&1)){oF(i,d,s),$k();break e}c=Error(Tt(426))}}else if(mn&&o.mode&1){var x=cF(l);if(x!==null){!(x.flags&65536)&&(x.flags|=256),dF(x,l,o,i,s),Sk(Qx(c,o));break e}}i=c=Qx(c,o),xa!==4&&(xa=2),ag===null?ag=[i]:ag.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var g=GU(i,c,s);sF(i,g);break e;case 1:o=c;var v=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ah===null||!Ah.has(j)))){i.flags|=65536,s&=-s,i.lanes|=s;var B=WU(i,o,s);sF(i,B);break e}}i=i.return}while(i!==null)}mO(r)}catch(F){s=F,na===r&&r!==null&&(na=r=r.return);continue}break}while(!0)}function hO(){var t=Pw.current;return Pw.current=Iw,t===null?Iw:t}function $k(){(xa===0||xa===3||xa===2)&&(xa=4),_a===null||!(YA&268435455)&&!(f2&268435455)||Mu(_a,Ha)}function Ow(t,s){var r=ur;ur|=2;var n=hO();(_a!==t||Ha!==s)&&(Sd=null,OA(t,s));do try{QY();break}catch(a){uO(t,a)}while(!0);if(_k(),ur=r,Pw.current=n,na!==null)throw Error(Tt(261));return _a=null,Ha=0,xa}function QY(){for(;na!==null;)AO(na)}function HY(){for(;na!==null&&!AW();)AO(na)}function AO(t){var s=xO(t.alternate,t,jl);t.memoizedProps=t.pendingProps,s===null?mO(t):na=s,Hk.current=null}function mO(t){var s=t;do{var r=s.alternate;if(t=s.return,s.flags&32768){if(r=PY(r,s),r!==null){r.flags&=32767,na=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xa=6,na=null;return}}else if(r=IY(r,s,jl),r!==null){na=r;return}if(s=s.sibling,s!==null){na=s;return}na=s=t}while(s!==null);xa===0&&(xa=5)}function dA(t,s,r){var n=Ir,a=co.transition;try{co.transition=null,Ir=1,VY(t,s,r,n)}finally{co.transition=a,Ir=n}return null}function VY(t,s,r,n){do nx();while(th!==null);if(ur&6)throw Error(Tt(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Tt(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(bW(t,i),t===_a&&(na=_a=null,Ha=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Sy||(Sy=!0,pO(vw,function(){return nx(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=co.transition,co.transition=null;var l=Ir;Ir=1;var o=ur;ur|=4,Hk.current=null,UY(t,r),oO(r,t),cY(DC),yw=!!PC,DC=PC=null,t.current=r,OY(r),mW(),ur=o,Ir=l,co.transition=i}else t.current=r;if(Sy&&(Sy=!1,th=t,Uw=a),i=t.pendingLanes,i===0&&(Ah=null),pW(r.stateNode),rl(t,zn()),s!==null)for(n=t.onRecoverableError,r=0;r<s.length;r++)a=s[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Dw)throw Dw=!1,t=sB,sB=null,t;return Uw&1&&t.tag!==0&&nx(),i=t.pendingLanes,i&1?t===rB?ig++:(ig=0,rB=t):ig=0,Mh(),null}function nx(){if(th!==null){var t=GD(Uw),s=co.transition,r=Ir;try{if(co.transition=null,Ir=16>t?16:t,th===null)var n=!1;else{if(t=th,th=null,Uw=0,ur&6)throw Error(Tt(331));var a=ur;for(ur|=4,rs=t.current;rs!==null;){var i=rs,l=i.child;if(rs.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(rs=d;rs!==null;){var u=rs;switch(u.tag){case 0:case 11:case 15:ng(8,u,i)}var h=u.child;if(h!==null)h.return=u,rs=h;else for(;rs!==null;){u=rs;var A=u.sibling,m=u.return;if(aO(u),u===d){rs=null;break}if(A!==null){A.return=m,rs=A;break}rs=m}}}var p=i.alternate;if(p!==null){var f=p.child;if(f!==null){p.child=null;do{var x=f.sibling;f.sibling=null,f=x}while(f!==null)}}rs=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,rs=l;else e:for(;rs!==null;){if(i=rs,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ng(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,rs=g;break e}rs=i.return}}var v=t.current;for(rs=v;rs!==null;){l=rs;var j=l.child;if(l.subtreeFlags&2064&&j!==null)j.return=l,rs=j;else e:for(l=v;rs!==null;){if(o=rs,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:m2(9,o)}}catch(F){Fn(o,o.return,F)}if(o===l){rs=null;break e}var B=o.sibling;if(B!==null){B.return=o.return,rs=B;break e}rs=o.return}}if(ur=a,Mh(),Hc&&typeof Hc.onPostCommitFiberRoot=="function")try{Hc.onPostCommitFiberRoot(i2,t)}catch{}n=!0}return n}finally{Ir=r,co.transition=s}}return!1}function bF(t,s,r){s=Qx(r,s),s=GU(t,s,1),t=hh(t,s,1),s=Fi(),t!==null&&(Hv(t,1,s),rl(t,s))}function Fn(t,s,r){if(t.tag===3)bF(t,t,r);else for(;s!==null;){if(s.tag===3){bF(s,t,r);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ah===null||!Ah.has(n))){t=Qx(r,t),t=WU(s,t,1),s=hh(s,t,1),t=Fi(),s!==null&&(Hv(s,1,t),rl(s,t));break}}s=s.return}}function KY(t,s,r){var n=t.pingCache;n!==null&&n.delete(s),s=Fi(),t.pingedLanes|=t.suspendedLanes&r,_a===t&&(Ha&r)===r&&(xa===4||xa===3&&(Ha&130023424)===Ha&&500>zn()-Kk?OA(t,0):Vk|=r),rl(t,s)}function fO(t,s){s===0&&(t.mode&1?(s=py,py<<=1,!(py&130023424)&&(py=4194304)):s=1);var r=Fi();t=zd(t,s),t!==null&&(Hv(t,s,r),rl(t,r))}function zY(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),fO(t,r)}function qY(t,s){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Tt(314))}n!==null&&n.delete(s),fO(t,r)}var xO;xO=function(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps||tl.current)el=!0;else{if(!(t.lanes&r)&&!(s.flags&128))return el=!1,LY(t,s,r);el=!!(t.flags&131072)}else el=!1,mn&&s.flags&1048576&&jU(s,kw,s.index);switch(s.lanes=0,s.tag){case 2:var n=s.type;R1(t,s),t=s.pendingProps;var a=Ux(s,pi.current);rx(s,r),a=Uk(null,s,n,t,a,r);var i=Ok();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,sl(n)?(i=!0,Bw(s)):i=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Tk(s),a.updater=A2,s.stateNode=a,a._reactInternals=s,zC(s,n,t,r),s=GC(null,s,n,!0,i,r)):(s.tag=0,mn&&i&&Ck(s),Si(null,s,a,r),s=s.child),s;case 16:n=s.elementType;e:{switch(R1(t,s),t=s.pendingProps,a=n._init,n=a(n._payload),s.type=n,a=s.tag=GY(n),t=Oo(n,t),a){case 0:s=$C(null,s,n,t,r);break e;case 1:s=AF(null,s,n,t,r);break e;case 11:s=uF(null,s,n,t,r);break e;case 14:s=hF(null,s,n,Oo(n.type,t),r);break e}throw Error(Tt(306,n,""))}return s;case 0:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Oo(n,a),$C(t,s,n,a,r);case 1:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Oo(n,a),AF(t,s,n,a,r);case 3:e:{if(ZU(s),t===null)throw Error(Tt(387));n=s.pendingProps,i=s.memoizedState,a=i.element,BU(t,s),Fw(s,n,null,r);var l=s.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){a=Qx(Error(Tt(423)),s),s=mF(t,s,n,r,a);break e}else if(n!==a){a=Qx(Error(Tt(424)),s),s=mF(t,s,n,r,a);break e}else for(Sl=uh(s.stateNode.containerInfo.firstChild),_l=s,mn=!0,Ko=null,r=NU(s,null,n,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ox(),n===a){s=qd(t,s,r);break e}Si(t,s,n,r)}s=s.child}return s;case 5:return SU(s),t===null&&HC(s),n=s.type,a=s.pendingProps,i=t!==null?t.memoizedProps:null,l=a.children,UC(n,a)?l=null:i!==null&&UC(n,i)&&(s.flags|=32),JU(t,s),Si(t,s,l,r),s.child;case 6:return t===null&&HC(s),null;case 13:return eO(t,s,r);case 4:return Lk(s,s.stateNode.containerInfo),n=s.pendingProps,t===null?s.child=Rx(s,null,n,r):Si(t,s,n,r),s.child;case 11:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Oo(n,a),uF(t,s,n,a,r);case 7:return Si(t,s,s.pendingProps,r),s.child;case 8:return Si(t,s,s.pendingProps.children,r),s.child;case 12:return Si(t,s,s.pendingProps.children,r),s.child;case 10:e:{if(n=s.type._context,a=s.pendingProps,i=s.memoizedProps,l=a.value,en(_w,n._currentValue),n._currentValue=l,i!==null)if(oc(i.value,l)){if(i.children===a.children&&!tl.current){s=qd(t,s,r);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Pd(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),VC(i.return,r,s),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===s.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(Tt(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),VC(l,r,s),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===s){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Si(t,s,a.children,r),s=s.child}return s;case 9:return a=s.type,n=s.pendingProps.children,rx(s,r),a=xo(a),n=n(a),s.flags|=1,Si(t,s,n,r),s.child;case 14:return n=s.type,a=Oo(n,s.pendingProps),a=Oo(n.type,a),hF(t,s,n,a,r);case 15:return YU(t,s,s.type,s.pendingProps,r);case 17:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Oo(n,a),R1(t,s),s.tag=1,sl(n)?(t=!0,Bw(s)):t=!1,rx(s,r),$U(s,n,a),zC(s,n,a,r),GC(null,s,n,!0,t,r);case 19:return tO(t,s,r);case 22:return XU(t,s,r)}throw Error(Tt(156,s.tag))};function pO(t,s){return KD(t,s)}function $Y(t,s,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function io(t,s,r,n){return new $Y(t,s,r,n)}function Gk(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GY(t){if(typeof t=="function")return Gk(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ak)return 11;if(t===mk)return 14}return 2}function fh(t,s){var r=t.alternate;return r===null?(r=io(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function H1(t,s,r,n,a,i){var l=2;if(n=t,typeof t=="function")Gk(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Ff:return RA(r.children,a,i,s);case hk:l=8,a|=8;break;case fC:return t=io(12,r,s,a|2),t.elementType=fC,t.lanes=i,t;case xC:return t=io(13,r,s,a),t.elementType=xC,t.lanes=i,t;case pC:return t=io(19,r,s,a),t.elementType=pC,t.lanes=i,t;case SD:return x2(r,a,i,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case CD:l=10;break e;case BD:l=9;break e;case Ak:l=11;break e;case mk:l=14;break e;case Iu:l=16,n=null;break e}throw Error(Tt(130,t==null?t:typeof t,""))}return s=io(l,r,s,a),s.elementType=t,s.type=n,s.lanes=i,s}function RA(t,s,r,n){return t=io(7,t,n,s),t.lanes=r,t}function x2(t,s,r,n){return t=io(22,t,n,s),t.elementType=SD,t.lanes=r,t.stateNode={isHidden:!1},t}function U4(t,s,r){return t=io(6,t,null,s),t.lanes=r,t}function O4(t,s,r){return s=io(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function WY(t,s,r,n,a){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=g4(0),this.expirationTimes=g4(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g4(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Wk(t,s,r,n,a,i,l,o,c){return t=new WY(t,s,r,o,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=io(3,null,null,s),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tk(i),t}function YY(t,s,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ef,key:n==null?null:""+n,children:t,containerInfo:s,implementation:r}}function gO(t){if(!t)return jh;t=t._reactInternals;e:{if(pm(t)!==t||t.tag!==1)throw Error(Tt(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(sl(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(Tt(171))}if(t.tag===1){var r=t.type;if(sl(r))return gU(t,r,s)}return s}function vO(t,s,r,n,a,i,l,o,c){return t=Wk(r,n,!0,t,a,i,l,o,c),t.context=gO(null),r=t.current,n=Fi(),a=mh(r),i=Pd(n,a),i.callback=s??null,hh(r,i,a),t.current.lanes=a,Hv(t,a,n),rl(t,n),t}function p2(t,s,r,n){var a=s.current,i=Fi(),l=mh(a);return r=gO(r),s.context===null?s.context=r:s.pendingContext=r,s=Pd(i,l),s.payload={element:t},n=n===void 0?null:n,n!==null&&(s.callback=n),t=hh(a,s,l),t!==null&&(tc(t,a,l,i),D1(t,a,l)),l}function Rw(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function NF(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Yk(t,s){NF(t,s),(t=t.alternate)&&NF(t,s)}function XY(){return null}var jO=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xk(t){this._internalRoot=t}g2.prototype.render=Xk.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(Tt(409));p2(t,s,null,null)};g2.prototype.unmount=Xk.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;XA(function(){p2(null,t,null,null)}),s[Kd]=null}};function g2(t){this._internalRoot=t}g2.prototype.unstable_scheduleHydration=function(t){if(t){var s=XD();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Ru.length&&s!==0&&s<Ru[r].priority;r++);Ru.splice(r,0,t),r===0&&ZD(t)}};function Jk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function v2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function CF(){}function JY(t,s,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Rw(l);i.call(d)}}var l=vO(s,n,t,0,null,!1,!1,"",CF);return t._reactRootContainer=l,t[Kd]=l.current,Qg(t.nodeType===8?t.parentNode:t),XA(),l}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=Rw(c);o.call(d)}}var c=Wk(t,0,!1,null,null,!1,!1,"",CF);return t._reactRootContainer=c,t[Kd]=c.current,Qg(t.nodeType===8?t.parentNode:t),XA(function(){p2(s,c,r,n)}),c}function j2(t,s,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=Rw(l);o.call(c)}}p2(s,l,t,a)}else l=JY(r,s,t,a,n);return Rw(l)}WD=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var r=Fp(s.pendingLanes);r!==0&&(pk(s,r|1),rl(s,zn()),!(ur&6)&&(Hx=zn()+500,Mh()))}break;case 13:XA(function(){var n=zd(t,1);if(n!==null){var a=Fi();tc(n,t,1,a)}}),Yk(t,1)}};gk=function(t){if(t.tag===13){var s=zd(t,134217728);if(s!==null){var r=Fi();tc(s,t,134217728,r)}Yk(t,134217728)}};YD=function(t){if(t.tag===13){var s=mh(t),r=zd(t,s);if(r!==null){var n=Fi();tc(r,t,s,n)}Yk(t,s)}};XD=function(){return Ir};JD=function(t,s){var r=Ir;try{return Ir=t,s()}finally{Ir=r}};SC=function(t,s,r){switch(s){case"input":if(jC(t,r),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var n=r[s];if(n!==t&&n.form===t.form){var a=d2(n);if(!a)throw Error(Tt(90));_D(n),jC(n,a)}}}break;case"textarea":FD(t,r);break;case"select":s=r.value,s!=null&&Zf(t,!!r.multiple,s,!1)}};OD=zk;RD=XA;var ZY={usingClientEntryPoint:!1,Events:[Kv,Pf,d2,DD,UD,zk]},up={findFiberByHostInstance:bA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eX={bundleType:up.bundleType,version:up.version,rendererPackageName:up.rendererPackageName,rendererConfig:up.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ru.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=HD(t),t===null?null:t.stateNode},findFiberByHostInstance:up.findFiberByHostInstance||XY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ky=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ky.isDisabled&&ky.supportsFiber)try{i2=ky.inject(eX),Hc=ky}catch{}}Ol.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZY;Ol.createPortal=function(t,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jk(s))throw Error(Tt(200));return YY(t,s,null,r)};Ol.createRoot=function(t,s){if(!Jk(t))throw Error(Tt(299));var r=!1,n="",a=jO;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=Wk(t,1,!1,null,null,r,!1,n,a),t[Kd]=s.current,Qg(t.nodeType===8?t.parentNode:t),new Xk(s)};Ol.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(Tt(188)):(t=Object.keys(t).join(","),Error(Tt(268,t)));return t=HD(s),t=t===null?null:t.stateNode,t};Ol.flushSync=function(t){return XA(t)};Ol.hydrate=function(t,s,r){if(!v2(s))throw Error(Tt(200));return j2(null,t,s,!0,r)};Ol.hydrateRoot=function(t,s,r){if(!Jk(t))throw Error(Tt(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=jO;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),s=vO(s,null,t,1,r??null,a,!1,i,l),t[Kd]=s.current,Qg(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,a]:s.mutableSourceEagerHydrationData.push(r,a);return new g2(s)};Ol.render=function(t,s,r){if(!v2(s))throw Error(Tt(200));return j2(null,t,s,!1,r)};Ol.unmountComponentAtNode=function(t){if(!v2(t))throw Error(Tt(40));return t._reactRootContainer?(XA(function(){j2(null,null,t,!1,function(){t._reactRootContainer=null,t[Kd]=null})}),!0):!1};Ol.unstable_batchedUpdates=zk;Ol.unstable_renderSubtreeIntoContainer=function(t,s,r,n){if(!v2(r))throw Error(Tt(200));if(t==null||t._reactInternals===void 0)throw Error(Tt(38));return j2(t,s,r,!1,n)};Ol.version="18.3.1-next-f1338f8080-20240426";function yO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yO)}catch(t){console.error(t)}}yO(),yD.exports=Ol;var gm=yD.exports;const tX=oD(gm);var wO,BF=gm;wO=BF.createRoot,BF.hydrateRoot;function sX(t,s){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,a,i,l=[],o="",c=t.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(l.push(r),o+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),l.push(a.substring(1,~n?n:~i?i:a.length)),o+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~n?"?":"")+"\\"+a.substring(i))):o+="/"+a;return{keys:l,pattern:new RegExp("^"+o+(s?"(?=$|/)":"/?$"),"i")}}var bO={exports:{}},NO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx=b;function rX(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var nX=typeof Object.is=="function"?Object.is:rX,aX=Vx.useState,iX=Vx.useEffect,lX=Vx.useLayoutEffect,oX=Vx.useDebugValue;function cX(t,s){var r=s(),n=aX({inst:{value:r,getSnapshot:s}}),a=n[0].inst,i=n[1];return lX(function(){a.value=r,a.getSnapshot=s,R4(a)&&i({inst:a})},[t,r,s]),iX(function(){return R4(a)&&i({inst:a}),t(function(){R4(a)&&i({inst:a})})},[t]),oX(r),r}function R4(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!nX(t,r)}catch{return!0}}function dX(t,s){return s()}var uX=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dX:cX;NO.useSyncExternalStore=Vx.useSyncExternalStore!==void 0?Vx.useSyncExternalStore:uX;bO.exports=NO;var hX=bO.exports;const AX=vD.useInsertionEffect,mX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CO=mX?b.useLayoutEffect:b.useEffect,fX=AX||CO,Zk=t=>{const s=b.useRef([t,(...r)=>s[0](...r)]).current;return fX(()=>{s[0]=t}),s[1]},xX="popstate",e3="pushState",t3="replaceState",pX="hashchange",SF=[xX,e3,t3,pX],gX=t=>{for(const s of SF)addEventListener(s,t);return()=>{for(const s of SF)removeEventListener(s,t)}},BO=(t,s)=>hX.useSyncExternalStore(gX,t,s),vX=()=>location.search,jX=({ssrSearch:t=""}={})=>BO(vX,()=>t),kF=()=>location.pathname,yX=({ssrPath:t}={})=>BO(kF,t?()=>t:kF),wX=(t,{replace:s=!1,state:r=null}={})=>history[s?t3:e3](r,"",t),bX=(t={})=>[yX(t),wX],_F=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[_F]>"u"){for(const t of[e3,t3]){const s=history[t];history[t]=function(){const r=s.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,_F,{value:!0})}const NX=(t,s)=>s.toLowerCase().indexOf(t.toLowerCase())?"~"+s:s.slice(t.length)||"/",SO=(t="")=>t==="/"?"":t,CX=(t,s)=>t[0]==="~"?t.slice(1):SO(s)+t,BX=(t="",s)=>NX(EF(SO(t)),EF(s)),EF=t=>{try{return decodeURI(t)}catch{return t}},kO={hook:bX,searchHook:jX,parser:sX,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},_O=b.createContext(kO),vm=()=>b.useContext(_O),EO={},FO=b.createContext(EO),TO=()=>b.useContext(FO),qv=t=>{const[s,r]=t.hook(t);return[BX(t.base,s),Zk((n,a)=>r(CX(n,t.base),a))]},Oi=()=>qv(vm()),s3=(t,s,r,n)=>{const{pattern:a,keys:i}=s instanceof RegExp?{keys:!1,pattern:s}:t(s||"*",n),l=a.exec(r)||[],[o,...c]=l;return o!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((h,A)=>[h,c[A]])):l.groups;let u={...c};return d&&Object.assign(u,d),u})(),...n?[o]:[]]:[!1,null]},SX=t=>s3(vm().parser,t,Oi()[0]),kX=({children:t,...s})=>{var u,h;const r=vm(),n=s.hook?kO:r;let a=n;const[i,l]=((u=s.ssrPath)==null?void 0:u.split("?"))??[];l&&(s.ssrSearch=l,s.ssrPath=i),s.hrefs=s.hrefs??((h=s.hook)==null?void 0:h.hrefs);let o=b.useRef({}),c=o.current,d=c;for(let A in n){const m=A==="base"?n[A]+(s[A]||""):s[A]||n[A];c===d&&m!==d[A]&&(o.current=d={...d}),d[A]=m,m!==n[A]&&(a=d)}return b.createElement(_O.Provider,{value:a,children:t})},FF=({children:t,component:s},r)=>s?b.createElement(s,{params:r}):typeof t=="function"?t(r):t,_X=t=>{let s=b.useRef(EO);const r=s.current;return s.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([n,a])=>a!==r[n])?t:r},an=({path:t,nest:s,match:r,...n})=>{const a=vm(),[i]=qv(a),[l,o,c]=r??s3(a.parser,t,i,s),d=_X({...TO(),...o});if(!l)return null;const u=c?b.createElement(kX,{base:c},FF(n,d)):FF(n,d);return b.createElement(FO.Provider,{value:d,children:u})},tt=b.forwardRef((t,s)=>{const r=vm(),[n,a]=qv(r),{to:i="",href:l=i,onClick:o,asChild:c,children:d,className:u,replace:h,state:A,...m}=t,p=Zk(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(o==null||o(x),x.defaultPrevented||(x.preventDefault(),a(l,t)))}),f=r.hrefs(l[0]==="~"?l.slice(1):r.base+l,r);return c&&b.isValidElement(d)?b.cloneElement(d,{onClick:p,href:f}):b.createElement("a",{...m,onClick:p,href:f,className:u!=null&&u.call?u(n===l):u,children:d,ref:s})}),LO=t=>Array.isArray(t)?t.flatMap(s=>LO(s&&s.type===b.Fragment?s.props.children:s)):[t],r3=({children:t,location:s})=>{const r=vm(),[n]=qv(r);for(const a of LO(t)){let i=0;if(b.isValidElement(a)&&(i=s3(r.parser,a.props.path,s||n,a.props.nest))[0])return b.cloneElement(a,{match:i})}return null},EX=t=>{const{to:s,href:r=s}=t,n=vm(),[,a]=qv(n),i=Zk(()=>a(s||r,t)),{ssrContext:l}=n;return CO(()=>{i()},[]),l&&(l.redirectTo=s),null};var o0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},JA=typeof window>"u"||"Deno"in globalThis;function eo(){}function FX(t,s){return typeof t=="function"?t(s):t}function iB(t){return typeof t=="number"&&t>=0&&t!==1/0}function IO(t,s){return Math.max(t+(s||0)-Date.now(),0)}function ax(t,s){return typeof t=="function"?t(s):t}function zo(t,s){return typeof t=="function"?t(s):t}function TF(t,s){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:o}=t;if(l){if(n){if(s.queryHash!==n3(l,s.options))return!1}else if(!Yg(s.queryKey,l))return!1}if(r!=="all"){const c=s.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&s.isStale()!==o||a&&a!==s.state.fetchStatus||i&&!i(s))}function LF(t,s){const{exact:r,status:n,predicate:a,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(r){if(ZA(s.options.mutationKey)!==ZA(i))return!1}else if(!Yg(s.options.mutationKey,i))return!1}return!(n&&s.state.status!==n||a&&!a(s))}function n3(t,s){return((s==null?void 0:s.queryKeyHashFn)||ZA)(t)}function ZA(t){return JSON.stringify(t,(s,r)=>lB(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Yg(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(r=>Yg(t[r],s[r])):!1}function PO(t,s){if(t===s)return t;const r=IF(t)&&IF(s);if(r||lB(t)&&lB(s)){const n=r?t:Object.keys(t),a=n.length,i=r?s:Object.keys(s),l=i.length,o=r?[]:{};let c=0;for(let d=0;d<l;d++){const u=r?d:i[d];(!r&&n.includes(u)||r)&&t[u]===void 0&&s[u]===void 0?(o[u]=void 0,c++):(o[u]=PO(t[u],s[u]),o[u]===t[u]&&t[u]!==void 0&&c++)}return a===l&&c===a?t:o}return s}function Mw(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}function IF(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function lB(t){if(!PF(t))return!1;const s=t.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!PF(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function PF(t){return Object.prototype.toString.call(t)==="[object Object]"}function TX(t){return new Promise(s=>{setTimeout(s,t)})}function oB(t,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,s):r.structuralSharing!==!1?PO(t,s):s}function LX(t,s,r=0){const n=[...t,s];return r&&n.length>r?n.slice(1):n}function IX(t,s,r=0){const n=[s,...t];return r&&n.length>r?n.slice(0,-1):n}var a3=Symbol();function DO(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===a3?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var EA,zu,bx,JP,PX=(JP=class extends o0{constructor(){super();hs(this,EA);hs(this,zu);hs(this,bx);Xt(this,bx,s=>{if(!JA&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Fe(this,zu)||this.setEventListener(Fe(this,bx))}onUnsubscribe(){var s;this.hasListeners()||((s=Fe(this,zu))==null||s.call(this),Xt(this,zu,void 0))}setEventListener(s){var r;Xt(this,bx,s),(r=Fe(this,zu))==null||r.call(this),Xt(this,zu,s(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(s){Fe(this,EA)!==s&&(Xt(this,EA,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof Fe(this,EA)=="boolean"?Fe(this,EA):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},EA=new WeakMap,zu=new WeakMap,bx=new WeakMap,JP),i3=new PX,Nx,qu,Cx,ZP,DX=(ZP=class extends o0{constructor(){super();hs(this,Nx,!0);hs(this,qu);hs(this,Cx);Xt(this,Cx,s=>{if(!JA&&window.addEventListener){const r=()=>s(!0),n=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Fe(this,qu)||this.setEventListener(Fe(this,Cx))}onUnsubscribe(){var s;this.hasListeners()||((s=Fe(this,qu))==null||s.call(this),Xt(this,qu,void 0))}setEventListener(s){var r;Xt(this,Cx,s),(r=Fe(this,qu))==null||r.call(this),Xt(this,qu,s(this.setOnline.bind(this)))}setOnline(s){Fe(this,Nx)!==s&&(Xt(this,Nx,s),this.listeners.forEach(n=>{n(s)}))}isOnline(){return Fe(this,Nx)}},Nx=new WeakMap,qu=new WeakMap,Cx=new WeakMap,ZP),Qw=new DX;function cB(){let t,s;const r=new Promise((a,i)=>{t=a,s=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),s(a)},r}function UX(t){return Math.min(1e3*2**t,3e4)}function UO(t){return(t??"online")==="online"?Qw.isOnline():!0}var OO=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function M4(t){return t instanceof OO}function RO(t){let s=!1,r=0,n=!1,a;const i=cB(),l=f=>{var x;n||(A(new OO(f)),(x=t.abort)==null||x.call(t))},o=()=>{s=!0},c=()=>{s=!1},d=()=>i3.isFocused()&&(t.networkMode==="always"||Qw.isOnline())&&t.canRun(),u=()=>UO(t.networkMode)&&t.canRun(),h=f=>{var x;n||(n=!0,(x=t.onSuccess)==null||x.call(t,f),a==null||a(),i.resolve(f))},A=f=>{var x;n||(n=!0,(x=t.onError)==null||x.call(t,f),a==null||a(),i.reject(f))},m=()=>new Promise(f=>{var x;a=g=>{(n||d())&&f(g)},(x=t.onPause)==null||x.call(t)}).then(()=>{var f;a=void 0,n||(f=t.onContinue)==null||f.call(t)}),p=()=>{if(n)return;let f;const x=r===0?t.initialPromise:void 0;try{f=x??t.fn()}catch(g){f=Promise.reject(g)}Promise.resolve(f).then(h).catch(g=>{var P;if(n)return;const v=t.retry??(JA?0:3),j=t.retryDelay??UX,B=typeof j=="function"?j(r,g):j,F=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(s||!F){A(g);return}r++,(P=t.onFail)==null||P.call(t,r,g),TX(B).then(()=>d()?void 0:m()).then(()=>{s?A(g):p()})})};return{promise:i,cancel:l,continue:()=>(a==null||a(),i),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?p():m().then(p),i)}}var OX=t=>setTimeout(t,0);function RX(){let t=[],s=0,r=o=>{o()},n=o=>{o()},a=OX;const i=o=>{s?t.push(o):a(()=>{r(o)})},l=()=>{const o=t;t=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;s++;try{c=o()}finally{s--,s||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var ma=RX(),FA,eD,MO=(eD=class{constructor(){hs(this,FA)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),iB(this.gcTime)&&Xt(this,FA,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(JA?1/0:5*60*1e3))}clearGcTimeout(){Fe(this,FA)&&(clearTimeout(Fe(this,FA)),Xt(this,FA,void 0))}},FA=new WeakMap,eD),Bx,Sx,Zl,TA,ni,Uv,LA,Mo,Cd,tD,MX=(tD=class extends MO{constructor(s){super();hs(this,Mo);hs(this,Bx);hs(this,Sx);hs(this,Zl);hs(this,TA);hs(this,ni);hs(this,Uv);hs(this,LA);Xt(this,LA,!1),Xt(this,Uv,s.defaultOptions),this.setOptions(s.options),this.observers=[],Xt(this,TA,s.client),Xt(this,Zl,Fe(this,TA).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,Xt(this,Bx,QX(this.options)),this.state=s.state??Fe(this,Bx),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=Fe(this,ni))==null?void 0:s.promise}setOptions(s){this.options={...Fe(this,Uv),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Fe(this,Zl).remove(this)}setData(s,r){const n=oB(this.state.data,s,this.options);return Os(this,Mo,Cd).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(s,r){Os(this,Mo,Cd).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var n,a;const r=(n=Fe(this,ni))==null?void 0:n.promise;return(a=Fe(this,ni))==null||a.cancel(s),r?r.then(eo).catch(eo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Fe(this,Bx))}isActive(){return this.observers.some(s=>zo(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===a3||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(s=0){return this.state.isInvalidated||this.state.data===void 0||!IO(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(n=>n.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=Fe(this,ni))==null||r.continue()}onOnline(){var r;const s=this.observers.find(n=>n.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=Fe(this,ni))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),Fe(this,Zl).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(Fe(this,ni)&&(Fe(this,LA)?Fe(this,ni).cancel({revert:!0}):Fe(this,ni).cancelRetry()),this.scheduleGc()),Fe(this,Zl).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Os(this,Mo,Cd).call(this,{type:"invalidate"})}fetch(s,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Fe(this,ni))return Fe(this,ni).continueRetry(),Fe(this,ni).promise}if(s&&this.setOptions(s),!this.options.queryFn){const h=this.observers.find(A=>A.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Xt(this,LA,!0),n.signal)})},i=()=>{const h=DO(this.options,r),A={client:Fe(this,TA),queryKey:this.queryKey,meta:this.meta};return a(A),Xt(this,LA,!1),this.options.persister?this.options.persister(h,A,this):h(A)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Fe(this,TA),state:this.state,fetchFn:i};a(l),(c=this.options.behavior)==null||c.onFetch(l,this),Xt(this,Sx,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Os(this,Mo,Cd).call(this,{type:"fetch",meta:(u=l.fetchOptions)==null?void 0:u.meta});const o=h=>{var A,m,p,f;M4(h)&&h.silent||Os(this,Mo,Cd).call(this,{type:"error",error:h}),M4(h)||((m=(A=Fe(this,Zl).config).onError)==null||m.call(A,h,this),(f=(p=Fe(this,Zl).config).onSettled)==null||f.call(p,this.state.data,h,this)),this.scheduleGc()};return Xt(this,ni,RO({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var A,m,p,f;if(h===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){o(x);return}(m=(A=Fe(this,Zl).config).onSuccess)==null||m.call(A,h,this),(f=(p=Fe(this,Zl).config).onSettled)==null||f.call(p,h,this.state.error,this),this.scheduleGc()},onError:o,onFail:(h,A)=>{Os(this,Mo,Cd).call(this,{type:"failed",failureCount:h,error:A})},onPause:()=>{Os(this,Mo,Cd).call(this,{type:"pause"})},onContinue:()=>{Os(this,Mo,Cd).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Fe(this,ni).start()}},Bx=new WeakMap,Sx=new WeakMap,Zl=new WeakMap,TA=new WeakMap,ni=new WeakMap,Uv=new WeakMap,LA=new WeakMap,Mo=new WeakSet,Cd=function(s){const r=n=>{switch(s.type){case"failed":return{...n,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...QO(n.data,this.options),fetchMeta:s.meta??null};case"success":return{...n,data:s.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=s.error;return M4(a)&&a.revert&&Fe(this,Sx)?{...Fe(this,Sx),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...s.state}}};this.state=r(this.state),ma.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Fe(this,Zl).notify({query:this,type:"updated",action:s})})},tD);function QO(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:UO(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function QX(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,r=s!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ic,sD,HX=(sD=class extends o0{constructor(s={}){super();hs(this,Ic);this.config=s,Xt(this,Ic,new Map)}build(s,r,n){const a=r.queryKey,i=r.queryHash??n3(a,r);let l=this.get(i);return l||(l=new MX({client:s,queryKey:a,queryHash:i,options:s.defaultQueryOptions(r),state:n,defaultOptions:s.getQueryDefaults(a)}),this.add(l)),l}add(s){Fe(this,Ic).has(s.queryHash)||(Fe(this,Ic).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=Fe(this,Ic).get(s.queryHash);r&&(s.destroy(),r===s&&Fe(this,Ic).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){ma.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return Fe(this,Ic).get(s)}getAll(){return[...Fe(this,Ic).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(n=>TF(r,n))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(n=>TF(s,n)):r}notify(s){ma.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){ma.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){ma.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Ic=new WeakMap,sD),Pc,bi,IA,Dc,Bu,rD,VX=(rD=class extends MO{constructor(s){super();hs(this,Dc);hs(this,Pc);hs(this,bi);hs(this,IA);this.mutationId=s.mutationId,Xt(this,bi,s.mutationCache),Xt(this,Pc,[]),this.state=s.state||HO(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){Fe(this,Pc).includes(s)||(Fe(this,Pc).push(s),this.clearGcTimeout(),Fe(this,bi).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){Xt(this,Pc,Fe(this,Pc).filter(r=>r!==s)),this.scheduleGc(),Fe(this,bi).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){Fe(this,Pc).length||(this.state.status==="pending"?this.scheduleGc():Fe(this,bi).remove(this))}continue(){var s;return((s=Fe(this,IA))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var a,i,l,o,c,d,u,h,A,m,p,f,x,g,v,j,B,F,P,E;Xt(this,IA,RO({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(N,C)=>{Os(this,Dc,Bu).call(this,{type:"failed",failureCount:N,error:C})},onPause:()=>{Os(this,Dc,Bu).call(this,{type:"pause"})},onContinue:()=>{Os(this,Dc,Bu).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Fe(this,bi).canRun(this)}));const r=this.state.status==="pending",n=!Fe(this,IA).canStart();try{if(!r){Os(this,Dc,Bu).call(this,{type:"pending",variables:s,isPaused:n}),await((i=(a=Fe(this,bi).config).onMutate)==null?void 0:i.call(a,s,this));const C=await((o=(l=this.options).onMutate)==null?void 0:o.call(l,s));C!==this.state.context&&Os(this,Dc,Bu).call(this,{type:"pending",context:C,variables:s,isPaused:n})}const N=await Fe(this,IA).start();return await((d=(c=Fe(this,bi).config).onSuccess)==null?void 0:d.call(c,N,s,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,N,s,this.state.context)),await((m=(A=Fe(this,bi).config).onSettled)==null?void 0:m.call(A,N,null,this.state.variables,this.state.context,this)),await((f=(p=this.options).onSettled)==null?void 0:f.call(p,N,null,s,this.state.context)),Os(this,Dc,Bu).call(this,{type:"success",data:N}),N}catch(N){try{throw await((g=(x=Fe(this,bi).config).onError)==null?void 0:g.call(x,N,s,this.state.context,this)),await((j=(v=this.options).onError)==null?void 0:j.call(v,N,s,this.state.context)),await((F=(B=Fe(this,bi).config).onSettled)==null?void 0:F.call(B,void 0,N,this.state.variables,this.state.context,this)),await((E=(P=this.options).onSettled)==null?void 0:E.call(P,void 0,N,s,this.state.context)),N}finally{Os(this,Dc,Bu).call(this,{type:"error",error:N})}}finally{Fe(this,bi).runNext(this)}}},Pc=new WeakMap,bi=new WeakMap,IA=new WeakMap,Dc=new WeakSet,Bu=function(s){const r=n=>{switch(s.type){case"failed":return{...n,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...n,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:s.error,failureCount:n.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ma.batch(()=>{Fe(this,Pc).forEach(n=>{n.onMutationUpdate(s)}),Fe(this,bi).notify({mutation:this,type:"updated",action:s})})},rD);function HO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fd,Qo,Ov,nD,KX=(nD=class extends o0{constructor(s={}){super();hs(this,Fd);hs(this,Qo);hs(this,Ov);this.config=s,Xt(this,Fd,new Set),Xt(this,Qo,new Map),Xt(this,Ov,0)}build(s,r,n){const a=new VX({mutationCache:this,mutationId:++uy(this,Ov)._,options:s.defaultMutationOptions(r),state:n});return this.add(a),a}add(s){Fe(this,Fd).add(s);const r=_y(s);if(typeof r=="string"){const n=Fe(this,Qo).get(r);n?n.push(s):Fe(this,Qo).set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(Fe(this,Fd).delete(s)){const r=_y(s);if(typeof r=="string"){const n=Fe(this,Qo).get(r);if(n)if(n.length>1){const a=n.indexOf(s);a!==-1&&n.splice(a,1)}else n[0]===s&&Fe(this,Qo).delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=_y(s);if(typeof r=="string"){const n=Fe(this,Qo).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===s}else return!0}runNext(s){var n;const r=_y(s);if(typeof r=="string"){const a=(n=Fe(this,Qo).get(r))==null?void 0:n.find(i=>i!==s&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ma.batch(()=>{Fe(this,Fd).forEach(s=>{this.notify({type:"removed",mutation:s})}),Fe(this,Fd).clear(),Fe(this,Qo).clear()})}getAll(){return Array.from(Fe(this,Fd))}find(s){const r={exact:!0,...s};return this.getAll().find(n=>LF(r,n))}findAll(s={}){return this.getAll().filter(r=>LF(s,r))}notify(s){ma.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return ma.batch(()=>Promise.all(s.map(r=>r.continue().catch(eo))))}},Fd=new WeakMap,Qo=new WeakMap,Ov=new WeakMap,nD);function _y(t){var s;return(s=t.options.scope)==null?void 0:s.id}function DF(t){return{onFetch:(s,r)=>{var u,h,A,m,p;const n=s.options,a=(A=(h=(u=s.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:A.direction,i=((m=s.state.data)==null?void 0:m.pages)||[],l=((p=s.state.data)==null?void 0:p.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let f=!1;const x=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(s.signal.aborted?f=!0:s.signal.addEventListener("abort",()=>{f=!0}),s.signal)})},g=DO(s.options,s.fetchOptions),v=async(j,B,F)=>{if(f)return Promise.reject();if(B==null&&j.pages.length)return Promise.resolve(j);const P={client:s.client,queryKey:s.queryKey,pageParam:B,direction:F?"backward":"forward",meta:s.options.meta};x(P);const E=await g(P),{maxPages:N}=s.options,C=F?IX:LX;return{pages:C(j.pages,E,N),pageParams:C(j.pageParams,B,N)}};if(a&&i.length){const j=a==="backward",B=j?zX:UF,F={pages:i,pageParams:l},P=B(n,F);o=await v(F,P,j)}else{const j=t??i.length;do{const B=c===0?l[0]??n.initialPageParam:UF(n,o);if(c>0&&B==null)break;o=await v(o,B),c++}while(c<j)}return o};s.options.persister?s.fetchFn=()=>{var f,x;return(x=(f=s.options).persister)==null?void 0:x.call(f,d,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=d}}}function UF(t,{pages:s,pageParams:r}){const n=s.length-1;return s.length>0?t.getNextPageParam(s[n],s,r[n],r):void 0}function zX(t,{pages:s,pageParams:r}){var n;return s.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,s[0],s,r[0],r):void 0}var kn,$u,Gu,kx,_x,Wu,Ex,Fx,aD,l3=(aD=class{constructor(t={}){hs(this,kn);hs(this,$u);hs(this,Gu);hs(this,kx);hs(this,_x);hs(this,Wu);hs(this,Ex);hs(this,Fx);Xt(this,kn,t.queryCache||new HX),Xt(this,$u,t.mutationCache||new KX),Xt(this,Gu,t.defaultOptions||{}),Xt(this,kx,new Map),Xt(this,_x,new Map),Xt(this,Wu,0)}mount(){uy(this,Wu)._++,Fe(this,Wu)===1&&(Xt(this,Ex,i3.subscribe(async t=>{t&&(await this.resumePausedMutations(),Fe(this,kn).onFocus())})),Xt(this,Fx,Qw.subscribe(async t=>{t&&(await this.resumePausedMutations(),Fe(this,kn).onOnline())})))}unmount(){var t,s;uy(this,Wu)._--,Fe(this,Wu)===0&&((t=Fe(this,Ex))==null||t.call(this),Xt(this,Ex,void 0),(s=Fe(this,Fx))==null||s.call(this),Xt(this,Fx,void 0))}isFetching(t){return Fe(this,kn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Fe(this,$u).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=Fe(this,kn).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),r=Fe(this,kn).build(this,s),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(ax(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(n))}getQueriesData(t){return Fe(this,kn).findAll(t).map(({queryKey:s,state:r})=>{const n=r.data;return[s,n]})}setQueryData(t,s,r){const n=this.defaultQueryOptions({queryKey:t}),a=Fe(this,kn).get(n.queryHash),i=a==null?void 0:a.state.data,l=FX(s,i);if(l!==void 0)return Fe(this,kn).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(t,s,r){return ma.batch(()=>Fe(this,kn).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,s,r)]))}getQueryState(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=Fe(this,kn).get(s.queryHash))==null?void 0:r.state}removeQueries(t){const s=Fe(this,kn);ma.batch(()=>{s.findAll(t).forEach(r=>{s.remove(r)})})}resetQueries(t,s){const r=Fe(this,kn);return ma.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const r={revert:!0,...s},n=ma.batch(()=>Fe(this,kn).findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(eo).catch(eo)}invalidateQueries(t,s={}){return ma.batch(()=>(Fe(this,kn).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},s)))}refetchQueries(t,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},n=ma.batch(()=>Fe(this,kn).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(eo)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(eo)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const r=Fe(this,kn).build(this,s);return r.isStaleByTime(ax(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(eo).catch(eo)}fetchInfiniteQuery(t){return t.behavior=DF(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(eo).catch(eo)}ensureInfiniteQueryData(t){return t.behavior=DF(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Qw.isOnline()?Fe(this,$u).resumePausedMutations():Promise.resolve()}getQueryCache(){return Fe(this,kn)}getMutationCache(){return Fe(this,$u)}getDefaultOptions(){return Fe(this,Gu)}setDefaultOptions(t){Xt(this,Gu,t)}setQueryDefaults(t,s){Fe(this,kx).set(ZA(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...Fe(this,kx).values()],r={};return s.forEach(n=>{Yg(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,s){Fe(this,_x).set(ZA(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...Fe(this,_x).values()],r={};return s.forEach(n=>{Yg(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const s={...Fe(this,Gu).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=n3(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===a3&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Fe(this,Gu).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Fe(this,kn).clear(),Fe(this,$u).clear()}},kn=new WeakMap,$u=new WeakMap,Gu=new WeakMap,kx=new WeakMap,_x=new WeakMap,Wu=new WeakMap,Ex=new WeakMap,Fx=new WeakMap,aD),Wi,rr,Rv,Ni,PA,Tx,Yu,Uc,Mv,Lx,Ix,DA,UA,Xu,Px,Cr,Lp,dB,uB,hB,AB,mB,fB,xB,VO,iD,qX=(iD=class extends o0{constructor(s,r){super();hs(this,Cr);hs(this,Wi);hs(this,rr);hs(this,Rv);hs(this,Ni);hs(this,PA);hs(this,Tx);hs(this,Yu);hs(this,Uc);hs(this,Mv);hs(this,Lx);hs(this,Ix);hs(this,DA);hs(this,UA);hs(this,Xu);hs(this,Px,new Set);this.options=r,Xt(this,Wi,s),Xt(this,Uc,null),Xt(this,Yu,cB()),this.options.experimental_prefetchInRender||Fe(this,Yu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Fe(this,rr).addObserver(this),OF(Fe(this,rr),this.options)?Os(this,Cr,Lp).call(this):this.updateResult(),Os(this,Cr,AB).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pB(Fe(this,rr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pB(Fe(this,rr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Os(this,Cr,mB).call(this),Os(this,Cr,fB).call(this),Fe(this,rr).removeObserver(this)}setOptions(s){const r=this.options,n=Fe(this,rr);if(this.options=Fe(this,Wi).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zo(this.options.enabled,Fe(this,rr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Os(this,Cr,xB).call(this),Fe(this,rr).setOptions(this.options),r._defaulted&&!Mw(this.options,r)&&Fe(this,Wi).getQueryCache().notify({type:"observerOptionsUpdated",query:Fe(this,rr),observer:this});const a=this.hasListeners();a&&RF(Fe(this,rr),n,this.options,r)&&Os(this,Cr,Lp).call(this),this.updateResult(),a&&(Fe(this,rr)!==n||zo(this.options.enabled,Fe(this,rr))!==zo(r.enabled,Fe(this,rr))||ax(this.options.staleTime,Fe(this,rr))!==ax(r.staleTime,Fe(this,rr)))&&Os(this,Cr,dB).call(this);const i=Os(this,Cr,uB).call(this);a&&(Fe(this,rr)!==n||zo(this.options.enabled,Fe(this,rr))!==zo(r.enabled,Fe(this,rr))||i!==Fe(this,Xu))&&Os(this,Cr,hB).call(this,i)}getOptimisticResult(s){const r=Fe(this,Wi).getQueryCache().build(Fe(this,Wi),s),n=this.createResult(r,s);return GX(this,n)&&(Xt(this,Ni,n),Xt(this,Tx,this.options),Xt(this,PA,Fe(this,rr).state)),n}getCurrentResult(){return Fe(this,Ni)}trackResult(s,r){const n={};return Object.keys(s).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),s[a])})}),n}trackProp(s){Fe(this,Px).add(s)}getCurrentQuery(){return Fe(this,rr)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const r=Fe(this,Wi).defaultQueryOptions(s),n=Fe(this,Wi).getQueryCache().build(Fe(this,Wi),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(s){return Os(this,Cr,Lp).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),Fe(this,Ni)))}createResult(s,r){var N;const n=Fe(this,rr),a=this.options,i=Fe(this,Ni),l=Fe(this,PA),o=Fe(this,Tx),d=s!==n?s.state:Fe(this,Rv),{state:u}=s;let h={...u},A=!1,m;if(r._optimisticResults){const C=this.hasListeners(),_=!C&&OF(s,r),k=C&&RF(s,n,r,a);(_||k)&&(h={...h,...QO(u.data,s.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:p,errorUpdatedAt:f,status:x}=h;if(r.select&&h.data!==void 0)if(i&&h.data===(l==null?void 0:l.data)&&r.select===Fe(this,Mv))m=Fe(this,Lx);else try{Xt(this,Mv,r.select),m=r.select(h.data),m=oB(i==null?void 0:i.data,m,r),Xt(this,Lx,m),Xt(this,Uc,null)}catch(C){Xt(this,Uc,C)}else m=h.data;if(r.placeholderData!==void 0&&m===void 0&&x==="pending"){let C;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))C=i.data;else if(C=typeof r.placeholderData=="function"?r.placeholderData((N=Fe(this,Ix))==null?void 0:N.state.data,Fe(this,Ix)):r.placeholderData,r.select&&C!==void 0)try{C=r.select(C),Xt(this,Uc,null)}catch(_){Xt(this,Uc,_)}C!==void 0&&(x="success",m=oB(i==null?void 0:i.data,C,r),A=!0)}Fe(this,Uc)&&(p=Fe(this,Uc),m=Fe(this,Lx),f=Date.now(),x="error");const g=h.fetchStatus==="fetching",v=x==="pending",j=x==="error",B=v&&g,F=m!==void 0,E={status:x,fetchStatus:h.fetchStatus,isPending:v,isSuccess:x==="success",isError:j,isInitialLoading:B,isLoading:B,data:m,dataUpdatedAt:h.dataUpdatedAt,error:p,errorUpdatedAt:f,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:g,isRefetching:g&&!v,isLoadingError:j&&!F,isPaused:h.fetchStatus==="paused",isPlaceholderData:A,isRefetchError:j&&F,isStale:o3(s,r),refetch:this.refetch,promise:Fe(this,Yu)};if(this.options.experimental_prefetchInRender){const C=D=>{E.status==="error"?D.reject(E.error):E.data!==void 0&&D.resolve(E.data)},_=()=>{const D=Xt(this,Yu,E.promise=cB());C(D)},k=Fe(this,Yu);switch(k.status){case"pending":s.queryHash===n.queryHash&&C(k);break;case"fulfilled":(E.status==="error"||E.data!==k.value)&&_();break;case"rejected":(E.status!=="error"||E.error!==k.reason)&&_();break}}return E}updateResult(){const s=Fe(this,Ni),r=this.createResult(Fe(this,rr),this.options);if(Xt(this,PA,Fe(this,rr).state),Xt(this,Tx,this.options),Fe(this,PA).data!==void 0&&Xt(this,Ix,Fe(this,rr)),Mw(r,s))return;Xt(this,Ni,r);const n=()=>{if(!s)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!Fe(this,Px).size)return!0;const l=new Set(i??Fe(this,Px));return this.options.throwOnError&&l.add("error"),Object.keys(Fe(this,Ni)).some(o=>{const c=o;return Fe(this,Ni)[c]!==s[c]&&l.has(c)})};Os(this,Cr,VO).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Os(this,Cr,AB).call(this)}},Wi=new WeakMap,rr=new WeakMap,Rv=new WeakMap,Ni=new WeakMap,PA=new WeakMap,Tx=new WeakMap,Yu=new WeakMap,Uc=new WeakMap,Mv=new WeakMap,Lx=new WeakMap,Ix=new WeakMap,DA=new WeakMap,UA=new WeakMap,Xu=new WeakMap,Px=new WeakMap,Cr=new WeakSet,Lp=function(s){Os(this,Cr,xB).call(this);let r=Fe(this,rr).fetch(this.options,s);return s!=null&&s.throwOnError||(r=r.catch(eo)),r},dB=function(){Os(this,Cr,mB).call(this);const s=ax(this.options.staleTime,Fe(this,rr));if(JA||Fe(this,Ni).isStale||!iB(s))return;const n=IO(Fe(this,Ni).dataUpdatedAt,s)+1;Xt(this,DA,setTimeout(()=>{Fe(this,Ni).isStale||this.updateResult()},n))},uB=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Fe(this,rr)):this.options.refetchInterval)??!1},hB=function(s){Os(this,Cr,fB).call(this),Xt(this,Xu,s),!(JA||zo(this.options.enabled,Fe(this,rr))===!1||!iB(Fe(this,Xu))||Fe(this,Xu)===0)&&Xt(this,UA,setInterval(()=>{(this.options.refetchIntervalInBackground||i3.isFocused())&&Os(this,Cr,Lp).call(this)},Fe(this,Xu)))},AB=function(){Os(this,Cr,dB).call(this),Os(this,Cr,hB).call(this,Os(this,Cr,uB).call(this))},mB=function(){Fe(this,DA)&&(clearTimeout(Fe(this,DA)),Xt(this,DA,void 0))},fB=function(){Fe(this,UA)&&(clearInterval(Fe(this,UA)),Xt(this,UA,void 0))},xB=function(){const s=Fe(this,Wi).getQueryCache().build(Fe(this,Wi),this.options);if(s===Fe(this,rr))return;const r=Fe(this,rr);Xt(this,rr,s),Xt(this,Rv,s.state),this.hasListeners()&&(r==null||r.removeObserver(this),s.addObserver(this))},VO=function(s){ma.batch(()=>{s.listeners&&this.listeners.forEach(r=>{r(Fe(this,Ni))}),Fe(this,Wi).getQueryCache().notify({query:Fe(this,rr),type:"observerResultsUpdated"})})},iD);function $X(t,s){return zo(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function OF(t,s){return $X(t,s)||t.state.data!==void 0&&pB(t,s,s.refetchOnMount)}function pB(t,s,r){if(zo(s.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&o3(t,s)}return!1}function RF(t,s,r,n){return(t!==s||zo(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&o3(t,r)}function o3(t,s){return zo(s.enabled,t)!==!1&&t.isStaleByTime(ax(s.staleTime,t))}function GX(t,s){return!Mw(t.getCurrentResult(),s)}var Ju,Zu,Yi,Td,Hd,V1,gB,lD,WX=(lD=class extends o0{constructor(r,n){super();hs(this,Hd);hs(this,Ju);hs(this,Zu);hs(this,Yi);hs(this,Td);Xt(this,Ju,r),this.setOptions(n),this.bindMethods(),Os(this,Hd,V1).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=Fe(this,Ju).defaultMutationOptions(r),Mw(this.options,n)||Fe(this,Ju).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Fe(this,Yi),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ZA(n.mutationKey)!==ZA(this.options.mutationKey)?this.reset():((a=Fe(this,Yi))==null?void 0:a.state.status)==="pending"&&Fe(this,Yi).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Fe(this,Yi))==null||r.removeObserver(this)}onMutationUpdate(r){Os(this,Hd,V1).call(this),Os(this,Hd,gB).call(this,r)}getCurrentResult(){return Fe(this,Zu)}reset(){var r;(r=Fe(this,Yi))==null||r.removeObserver(this),Xt(this,Yi,void 0),Os(this,Hd,V1).call(this),Os(this,Hd,gB).call(this)}mutate(r,n){var a;return Xt(this,Td,n),(a=Fe(this,Yi))==null||a.removeObserver(this),Xt(this,Yi,Fe(this,Ju).getMutationCache().build(Fe(this,Ju),this.options)),Fe(this,Yi).addObserver(this),Fe(this,Yi).execute(r)}},Ju=new WeakMap,Zu=new WeakMap,Yi=new WeakMap,Td=new WeakMap,Hd=new WeakSet,V1=function(){var n;const r=((n=Fe(this,Yi))==null?void 0:n.state)??HO();Xt(this,Zu,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},gB=function(r){ma.batch(()=>{var n,a,i,l,o,c,d,u;if(Fe(this,Td)&&this.hasListeners()){const h=Fe(this,Zu).variables,A=Fe(this,Zu).context;(r==null?void 0:r.type)==="success"?((a=(n=Fe(this,Td)).onSuccess)==null||a.call(n,r.data,h,A),(l=(i=Fe(this,Td)).onSettled)==null||l.call(i,r.data,null,h,A)):(r==null?void 0:r.type)==="error"&&((c=(o=Fe(this,Td)).onError)==null||c.call(o,r.error,h,A),(u=(d=Fe(this,Td)).onSettled)==null||u.call(d,void 0,r.error,h,A))}this.listeners.forEach(h=>{h(Fe(this,Zu))})})},lD),KO=b.createContext(void 0),Cs=t=>{const s=b.useContext(KO);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},Hw=({client:t,children:s})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(KO.Provider,{value:t,children:s})),zO=b.createContext(!1),YX=()=>b.useContext(zO);zO.Provider;function XX(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var JX=b.createContext(XX()),ZX=()=>b.useContext(JX);function qO(t,s){return typeof t=="function"?t(...s):!!t}function vB(){}var eJ=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},tJ=t=>{b.useEffect(()=>{t.clearReset()},[t])},sJ=({result:t,errorResetBoundary:s,throwOnError:r,query:n,suspense:a})=>t.isError&&!s.isReset()&&!t.isFetching&&n&&(a&&t.data===void 0||qO(r,[t.error,n])),rJ=t=>{const s=t.staleTime;t.suspense&&(t.staleTime=typeof s=="function"?(...r)=>Math.max(s(...r),1e3):Math.max(s??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},nJ=(t,s)=>t.isLoading&&t.isFetching&&!s,aJ=(t,s)=>(t==null?void 0:t.suspense)&&s.isPending,MF=(t,s,r)=>s.fetchOptimistic(t).catch(()=>{r.clearReset()});function iJ(t,s,r){var h,A,m,p,f;const n=Cs(),a=YX(),i=ZX(),l=n.defaultQueryOptions(t);(A=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||A.call(h,l),l._optimisticResults=a?"isRestoring":"optimistic",rJ(l),eJ(l,i),tJ(i);const o=!n.getQueryCache().get(l.queryHash),[c]=b.useState(()=>new s(n,l)),d=c.getOptimisticResult(l),u=!a&&t.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(x=>{const g=u?c.subscribe(ma.batchCalls(x)):vB;return c.updateResult(),g},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(l)},[l,c]),aJ(l,d))throw MF(l,c,i);if(sJ({result:d,errorResetBoundary:i,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw d.error;if((p=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,l,d),l.experimental_prefetchInRender&&!JA&&nJ(d,a)){const x=o?MF(l,c,i):(f=n.getQueryCache().get(l.queryHash))==null?void 0:f.promise;x==null||x.catch(vB).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?d:c.trackResult(d)}function st(t,s){return iJ(t,qX)}function Bt(t,s){const r=Cs(),[n]=b.useState(()=>new WX(r,t));b.useEffect(()=>{n.setOptions(t)},[n,t]);const a=b.useSyncExternalStore(b.useCallback(l=>n.subscribe(ma.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=b.useCallback((l,o)=>{n.mutate(l,o).catch(vB)},[n]);if(a.error&&qO(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const lJ="modulepreload",oJ=function(t){return"/"+t},QF={},$d=function(s,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=oJ(c),c in QF)return;QF[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":lJ,d||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),d)return new Promise((A,m)=>{h.addEventListener("load",A),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return s().catch(i)})},cJ=t=>{let s;return t?s=t:typeof fetch>"u"?s=(...r)=>$d(async()=>{const{default:n}=await Promise.resolve().then(()=>c0);return{default:n}},void 0).then(({default:n})=>n(...r)):s=fetch,(...r)=>s(...r)};class c3 extends Error{constructor(s,r="FunctionsError",n){super(s),this.name=r,this.context=n}}class dJ extends c3{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class uJ extends c3{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class hJ extends c3{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var jB;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(jB||(jB={}));var AJ=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(h){l(h)}}function c(u){try{d(n.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(t,s||[])).next())})};class mJ{constructor(s,{headers:r={},customFetch:n,region:a=jB.Any}={}){this.url=s,this.headers=r,this.region=a,this.fetch=cJ(n)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,r={}){var n;return AJ(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:l}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let d;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=l):typeof l=="string"?(o["Content-Type"]="text/plain",d=l):typeof FormData<"u"&&l instanceof FormData?d=l:(o["Content-Type"]="application/json",d=JSON.stringify(l)));const u=yield this.fetch(`${this.url}/${s}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:d}).catch(p=>{throw new dJ(p)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new uJ(u);if(!u.ok)throw new hJ(u);let A=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return A==="application/json"?m=yield u.json():A==="application/octet-stream"?m=yield u.blob():A==="text/event-stream"?m=u:A==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(a){return{data:null,error:a}}})}}var Zi={},d3={},y2={},$v={},w2={},b2={},fJ=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kx=fJ();const xJ=Kx.fetch,$O=Kx.fetch.bind(Kx),GO=Kx.Headers,pJ=Kx.Request,gJ=Kx.Response,c0=Object.freeze(Object.defineProperty({__proto__:null,Headers:GO,Request:pJ,Response:gJ,default:$O,fetch:xJ},Symbol.toStringTag,{value:"Module"})),vJ=_G(c0);var N2={};Object.defineProperty(N2,"__esModule",{value:!0});let jJ=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}};N2.default=jJ;var WO=fo&&fo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(b2,"__esModule",{value:!0});const yJ=WO(vJ),wJ=WO(N2);let bJ=class{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=yJ.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=Object.assign({},this.headers),this.headers[s]=r,this}then(s,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,c;let d=null,u=null,h=null,A=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const f=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");f&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,A=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const f=await i.text();try{d=JSON.parse(f),Array.isArray(d)&&i.status===404&&(u=[],d=null,A=200,m="OK")}catch{i.status===404&&f===""?(A=204,m="No Content"):d={message:f}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,A=200,m="OK"),d&&this.shouldThrowOnError)throw new wJ.default(d)}return{error:d,data:u,count:h,status:A,statusText:m}});return this.shouldThrowOnError||(a=a.catch(i=>{var l,o,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(s,r)}returns(){return this}overrideTypes(){return this}};b2.default=bJ;var NJ=fo&&fo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(w2,"__esModule",{value:!0});const CJ=NJ(b2);let BJ=class extends CJ.default{select(s){let r=!1;const n=(s??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${s}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${s}`),this.url.searchParams.set(l,`${r-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:l="text"}={}){var o;const c=[s?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${d}"; options=${c};`,l==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};w2.default=BJ;var SJ=fo&&fo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($v,"__esModule",{value:!0});const kJ=SJ(w2);let _J=class extends kJ.default{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}in(s,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${n})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(s,`${i}fts${l}.${r}`),this}match(s){return Object.entries(s).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(s,r,n){return this.url.searchParams.append(s,`not.${r}.${n}`),this}or(s,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,r,n){return this.url.searchParams.append(s,`${r}.${n}`),this}};$v.default=_J;var EJ=fo&&fo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(y2,"__esModule",{value:!0});const hp=EJ($v);let FJ=class{constructor(s,{headers:r={},schema:n,fetch:a}){this.url=s,this.headers=r,this.schema=n,this.fetch=a}select(s,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const l=(s??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new hp.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(s)){const l=s.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new hp.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const l="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(s)){const c=s.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new hp.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new hp.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const r="DELETE",n=[];return s&&n.push(`count=${s}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new hp.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};y2.default=FJ;var C2={},B2={};Object.defineProperty(B2,"__esModule",{value:!0});B2.version=void 0;B2.version="0.0.0-automated";Object.defineProperty(C2,"__esModule",{value:!0});C2.DEFAULT_HEADERS=void 0;const TJ=B2;C2.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${TJ.version}`};var YO=fo&&fo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(d3,"__esModule",{value:!0});const LJ=YO(y2),IJ=YO($v),PJ=C2;let DJ=class XO{constructor(s,{headers:r={},schema:n,fetch:a}={}){this.url=s,this.headers=Object.assign(Object.assign({},PJ.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(s){const r=new URL(`${this.url}/${s}`);return new LJ.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new XO(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,r={},{head:n=!1,get:a=!1,count:i}={}){let l;const o=new URL(`${this.url}/rpc/${s}`);let c;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{o.searchParams.append(u,h)})):(l="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new IJ.default({method:l,url:o,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};d3.default=DJ;var d0=fo&&fo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.PostgrestError=Zi.PostgrestBuilder=Zi.PostgrestTransformBuilder=Zi.PostgrestFilterBuilder=Zi.PostgrestQueryBuilder=Zi.PostgrestClient=void 0;const JO=d0(d3);Zi.PostgrestClient=JO.default;const ZO=d0(y2);Zi.PostgrestQueryBuilder=ZO.default;const eR=d0($v);Zi.PostgrestFilterBuilder=eR.default;const tR=d0(w2);Zi.PostgrestTransformBuilder=tR.default;const sR=d0(b2);Zi.PostgrestBuilder=sR.default;const rR=d0(N2);Zi.PostgrestError=rR.default;var UJ=Zi.default={PostgrestClient:JO.default,PostgrestQueryBuilder:ZO.default,PostgrestFilterBuilder:eR.default,PostgrestTransformBuilder:tR.default,PostgrestBuilder:sR.default,PostgrestError:rR.default};const{PostgrestClient:OJ,PostgrestQueryBuilder:H3e,PostgrestFilterBuilder:V3e,PostgrestTransformBuilder:K3e,PostgrestBuilder:z3e,PostgrestError:q3e}=UJ,RJ="2.11.2",MJ={"X-Client-Info":`realtime-js/${RJ}`},QJ="1.0.0",nR=1e4,HJ=1e3;var ix;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ix||(ix={}));var gl;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gl||(gl={}));var Vo;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Vo||(Vo={}));var yB;(function(t){t.websocket="websocket"})(yB||(yB={}));var pA;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(pA||(pA={}));class VJ{constructor(){this.HEADER_LENGTH=1}decode(s,r){return s.constructor===ArrayBuffer?r(this._binaryDecode(s)):r(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const r=new DataView(s),n=new TextDecoder;return this._decodeBroadcast(s,r,n)}_decodeBroadcast(s,r,n){const a=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(s.slice(l,l+a));l=l+a;const c=n.decode(s.slice(l,l+i));l=l+i;const d=JSON.parse(n.decode(s.slice(l,s.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class aR{constructor(s,r){this.callback=s,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Jr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Jr||(Jr={}));const HF=(t,s,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(s).reduce((i,l)=>(i[l]=KJ(l,t,s,a),i),{})},KJ=(t,s,r,n)=>{const a=s.find(o=>o.name===t),i=a==null?void 0:a.type,l=r[t];return i&&!n.includes(i)?iR(i,l):wB(l)},iR=(t,s)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return GJ(s,r)}switch(t){case Jr.bool:return zJ(s);case Jr.float4:case Jr.float8:case Jr.int2:case Jr.int4:case Jr.int8:case Jr.numeric:case Jr.oid:return qJ(s);case Jr.json:case Jr.jsonb:return $J(s);case Jr.timestamp:return WJ(s);case Jr.abstime:case Jr.date:case Jr.daterange:case Jr.int4range:case Jr.int8range:case Jr.money:case Jr.reltime:case Jr.text:case Jr.time:case Jr.timestamptz:case Jr.timetz:case Jr.tsrange:case Jr.tstzrange:return wB(s);default:return wB(s)}},wB=t=>t,zJ=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qJ=t=>{if(typeof t=="string"){const s=parseFloat(t);if(!Number.isNaN(s))return s}return t},$J=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(s){return console.log(`JSON parse error: ${s}`),t}return t},GJ=(t,s)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const l=t.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>iR(s,o))}return t},WJ=t=>typeof t=="string"?t.replace(" ","T"):t,lR=t=>{let s=t;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")};class Q4{constructor(s,r,n={},a=nR){this.channel=s,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,r){var n;return this._hasReceived(s)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:s,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:r}){this.recHooks.filter(n=>n.status===s).forEach(n=>n.callback(r))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var VF;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(VF||(VF={}));class lg{constructor(s,r){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lg.syncState(this.state,a,i,l),this.pendingDiffs.forEach(c=>{this.state=lg.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=lg.syncDiff(this.state,a,i,l),o())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,r,n,a){const i=this.cloneDeep(s),l=this.transformState(r),o={},c={};return this.map(i,(d,u)=>{l[d]||(c[d]=u)}),this.map(l,(d,u)=>{const h=i[d];if(h){const A=u.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),p=u.filter(x=>m.indexOf(x.presence_ref)<0),f=h.filter(x=>A.indexOf(x.presence_ref)<0);p.length>0&&(o[d]=p),f.length>0&&(c[d]=f)}else o[d]=u}),this.syncDiff(i,{joins:o,leaves:c},n,a)}static syncDiff(s,r,n,a){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var d;const u=(d=s[o])!==null&&d!==void 0?d:[];if(s[o]=this.cloneDeep(c),u.length>0){const h=s[o].map(m=>m.presence_ref),A=u.filter(m=>h.indexOf(m.presence_ref)<0);s[o].unshift(...A)}n(o,u,c)}),this.map(l,(o,c)=>{let d=s[o];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),s[o]=d,a(o,d,c),d.length===0&&delete s[o]}),s}static map(s,r){return Object.getOwnPropertyNames(s).map(n=>r(n,s[n]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((r,n)=>{const a=s[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var KF;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(KF||(KF={}));var zF;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(zF||(zF={}));var kd;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(kd||(kd={}));class u3{constructor(s,r={config:{}},n){this.topic=s,this.params=r,this.socket=n,this.bindings={},this.state=gl.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Q4(this,Vo.join,this.params,this.timeout),this.rejoinTimer=new aR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gl.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gl.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=gl.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gl.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vo.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new lg(this),this.broadcastEndpointURL=lR(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(s,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:l,private:o}}=this.params;this._onError(u=>s==null?void 0:s(kd.CHANNEL_ERROR,u)),this._onClose(()=>s==null?void 0:s(kd.CLOSED));const c={},d={broadcast:i,presence:l,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){s==null||s(kd.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,m=(h=A==null?void 0:A.length)!==null&&h!==void 0?h:0,p=[];for(let f=0;f<m;f++){const x=A[f],{filter:{event:g,schema:v,table:j,filter:B}}=x,F=u&&u[f];if(F&&F.event===g&&F.schema===v&&F.table===j&&F.filter===B)p.push(Object.assign(Object.assign({},x),{id:F.id}));else{this.unsubscribe(),s==null||s(kd.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,s&&s(kd.SUBSCRIBED);return}}).receive("error",u=>{s==null||s(kd.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{s==null||s(kd.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,r={}){return await this.send({type:"presence",event:"track",payload:s},r.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,r,n){return this._on(s,r,n)}async send(s,r={}){var n,a;if(!this._canPush()&&s.type==="broadcast"){const{event:i,payload:l}=s,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const d=this._push(s.type,s,r.timeout||this.timeout);s.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=gl.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vo.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new Q4(this,Vo.leave,{},s);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(s,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(s,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),l}_push(s,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Q4(this,s,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(s,r,n){return r}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,r,n){var a,i;const l=s.toLocaleLowerCase(),{close:o,error:c,leave:d,join:u}=Vo;if(n&&[o,c,d,u].indexOf(l)>=0&&n!==this._joinRef())return;let A=this._onMessage(l,r,n);if(r&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var p,f,x;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((x=(f=m.filter)===null||f===void 0?void 0:f.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===l}).map(m=>m.callback(A,n)):(i=this.bindings[l])===null||i===void 0||i.filter(m=>{var p,f,x,g,v,j;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in m){const B=m.id,F=(p=m.filter)===null||p===void 0?void 0:p.event;return B&&((f=r.ids)===null||f===void 0?void 0:f.includes(B))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const B=(v=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return B==="*"||B===((j=r==null?void 0:r.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===l}).map(m=>{if(typeof A=="object"&&"ids"in A){const p=A.data,{schema:f,table:x,commit_timestamp:g,type:v,errors:j}=p;A=Object.assign(Object.assign({},{schema:f,table:x,commit_timestamp:g,eventType:v,new:{},old:{},errors:j}),this._getPayloadRecords(p))}m.callback(A,n)})}_isClosed(){return this.state===gl.closed}_isJoined(){return this.state===gl.joined}_isJoining(){return this.state===gl.joining}_isLeaving(){return this.state===gl.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,r,n){const a=s.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(s,r){const n=s.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&u3.isEqual(a.filter,r))}),this}static isEqual(s,r){if(Object.keys(s).length!==Object.keys(r).length)return!1;for(const n in s)if(s[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(Vo.close,{},s)}_onError(s){this._on(Vo.error,{},r=>s(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gl.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const r={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(r.new=HF(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(r.old=HF(s.columns,s.old_record)),r}}const YJ=()=>{},XJ=typeof WebSocket<"u",JJ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ZJ{constructor(s,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=MJ,this.params={},this.timeout=nR,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=YJ,this.conn=null,this.sendBuffer=[],this.serializer=new VJ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...o)=>$d(async()=>{const{default:c}=await Promise.resolve().then(()=>c0);return{default:c}},void 0).then(({default:c})=>c(...o)):l=fetch,(...o)=>l(...o)},this.endPoint=`${s}/${yB.websocket}`,this.httpEndpoint=lR(s),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,l)=>l(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new aR(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(XJ){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new eZ(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),$d(async()=>{const{default:s}=await import("./browser-BvRJJmJK.js").then(r=>r.b);return{default:s}},[]).then(({default:s})=>{this.conn=new s(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:QJ}))}disconnect(s,r){this.conn&&(this.conn.onclose=function(){},s?this.conn.close(s,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(s){const r=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const s=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),s}log(s,r,n){this.logger(s,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ix.connecting:return pA.Connecting;case ix.open:return pA.Open;case ix.closing:return pA.Closing;default:return pA.Closed}}isConnected(){return this.connectionState()===pA.Open}channel(s,r={config:{}}){const n=new u3(`realtime:${s}`,r,this);return this.channels.push(n),n}push(s){const{topic:r,event:n,payload:a,ref:i}=s,l=()=>{this.encode(s,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(s=null){let r=s||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(Vo.access_token,{access_token:r})})}}async sendHeartbeat(){var s;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(s=this.conn)===null||s===void 0||s.close(HJ,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let r=this.channels.find(n=>n.topic===s&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${s}"`),r.unsubscribe())}_remove(s){this.channels=this.channels.filter(r=>r._joinRef()!==s._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_onConnMessage(s){this.decode(s.data,r=>{let{topic:n,event:a,payload:i,ref:l}=r;l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${l&&"("+l+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,l)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(s=>s())}_onConnClose(s){this.log("transport","close",s),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(s))}_onConnError(s){this.log("transport",s.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(s))}_triggerChanError(){this.channels.forEach(s=>s._trigger(Vo.error))}_appendParams(s,r){if(Object.keys(r).length===0)return s;const n=s.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${s}${n}${a}`}_workerObjectUrl(s){let r;if(s)r=s;else{const n=new Blob([JJ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class eZ{constructor(s,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ix.connecting,this.send=()=>{},this.url=null,this.url=s,this.close=n.close}}class h3 extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function ba(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class tZ extends h3{constructor(s,r){super(s),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class bB extends h3{constructor(s,r){super(s),this.name="StorageUnknownError",this.originalError=r}}var sZ=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(h){l(h)}}function c(u){try{d(n.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(t,s||[])).next())})};const oR=t=>{let s;return t?s=t:typeof fetch>"u"?s=(...r)=>$d(async()=>{const{default:n}=await Promise.resolve().then(()=>c0);return{default:n}},void 0).then(({default:n})=>n(...r)):s=fetch,(...r)=>s(...r)},rZ=()=>sZ(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $d(()=>Promise.resolve().then(()=>c0),void 0)).Response:Response}),NB=t=>{if(Array.isArray(t))return t.map(r=>NB(r));if(typeof t=="function"||t!==Object(t))return t;const s={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));s[a]=NB(n)}),s};var jm=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(h){l(h)}}function c(u){try{d(n.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(t,s||[])).next())})};const H4=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nZ=(t,s,r)=>jm(void 0,void 0,void 0,function*(){const n=yield rZ();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{s(new tZ(H4(a),t.status||500))}).catch(a=>{s(new bB(H4(a),a))}):s(new bB(H4(t),t))}),aZ=(t,s,r,n)=>{const a={method:t,headers:(s==null?void 0:s.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Gv(t,s,r,n,a,i){return jm(this,void 0,void 0,function*(){return new Promise((l,o)=>{t(r,aZ(s,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>nZ(c,o,n))})})}function Vw(t,s,r,n){return jm(this,void 0,void 0,function*(){return Gv(t,"GET",s,r,n)})}function Du(t,s,r,n,a){return jm(this,void 0,void 0,function*(){return Gv(t,"POST",s,n,a,r)})}function iZ(t,s,r,n,a){return jm(this,void 0,void 0,function*(){return Gv(t,"PUT",s,n,a,r)})}function lZ(t,s,r,n){return jm(this,void 0,void 0,function*(){return Gv(t,"HEAD",s,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function cR(t,s,r,n,a){return jm(this,void 0,void 0,function*(){return Gv(t,"DELETE",s,n,a,r)})}var Gi=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(h){l(h)}}function c(u){try{d(n.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(t,s||[])).next())})};const oZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qF={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cZ{constructor(s,r={},n,a){this.url=s,this.headers=r,this.bucketId=n,this.fetch=oR(a)}uploadOrUpdate(s,r,n,a){return Gi(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},qF),a);let o=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:s,body:i,headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{})),A=yield h.json();return h.ok?{data:{path:d,id:A.Id,fullPath:A.Key},error:null}:{data:null,error:A}}catch(i){if(ba(i))return{data:null,error:i};throw i}})}upload(s,r,n){return Gi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,r,n)})}uploadToSignedUrl(s,r,n,a){return Gi(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(s),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:qF.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:u}),A=yield h.json();return h.ok?{data:{path:i,fullPath:A.Key},error:null}:{data:null,error:A}}catch(c){if(ba(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(s,r){return Gi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(s);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Du(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new h3("No token returned by API");return{data:{signedUrl:l.toString(),path:s,token:o},error:null}}catch(n){if(ba(n))return{data:null,error:n};throw n}})}update(s,r,n){return Gi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,r,n)})}move(s,r,n){return Gi(this,void 0,void 0,function*(){try{return{data:yield Du(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(ba(a))return{data:null,error:a};throw a}})}copy(s,r,n){return Gi(this,void 0,void 0,function*(){try{return{data:{path:(yield Du(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(ba(a))return{data:null,error:a};throw a}})}createSignedUrl(s,r,n){return Gi(this,void 0,void 0,function*(){try{let a=this._getFinalPath(s),i=yield Du(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(a){if(ba(a))return{data:null,error:a};throw a}})}createSignedUrls(s,r,n){return Gi(this,void 0,void 0,function*(){try{const a=yield Du(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:s},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(a){if(ba(a))return{data:null,error:a};throw a}})}download(s,r){return Gi(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(s);return{data:yield(yield Vw(this.fetch,`${this.url}/${a}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ba(o))return{data:null,error:o};throw o}})}info(s){return Gi(this,void 0,void 0,function*(){const r=this._getFinalPath(s);try{const n=yield Vw(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:NB(n),error:null}}catch(n){if(ba(n))return{data:null,error:n};throw n}})}exists(s){return Gi(this,void 0,void 0,function*(){const r=this._getFinalPath(s);try{return yield lZ(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ba(n)&&n instanceof bB){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(s,r){const n=this._getFinalPath(s),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(s){return Gi(this,void 0,void 0,function*(){try{return{data:yield cR(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(r){if(ba(r))return{data:null,error:r};throw r}})}list(s,r,n){return Gi(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},oZ),r),{prefix:s||""});return{data:yield Du(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(ba(a))return{data:null,error:a};throw a}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const r=[];return s.width&&r.push(`width=${s.width}`),s.height&&r.push(`height=${s.height}`),s.resize&&r.push(`resize=${s.resize}`),s.format&&r.push(`format=${s.format}`),s.quality&&r.push(`quality=${s.quality}`),r.join("&")}}const dZ="2.7.1",uZ={"X-Client-Info":`storage-js/${dZ}`};var tf=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(h){l(h)}}function c(u){try{d(n.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(t,s||[])).next())})};class hZ{constructor(s,r={},n){this.url=s,this.headers=Object.assign(Object.assign({},uZ),r),this.fetch=oR(n)}listBuckets(){return tf(this,void 0,void 0,function*(){try{return{data:yield Vw(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(ba(s))return{data:null,error:s};throw s}})}getBucket(s){return tf(this,void 0,void 0,function*(){try{return{data:yield Vw(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(r){if(ba(r))return{data:null,error:r};throw r}})}createBucket(s,r={public:!1}){return tf(this,void 0,void 0,function*(){try{return{data:yield Du(this.fetch,`${this.url}/bucket`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ba(n))return{data:null,error:n};throw n}})}updateBucket(s,r){return tf(this,void 0,void 0,function*(){try{return{data:yield iZ(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ba(n))return{data:null,error:n};throw n}})}emptyBucket(s){return tf(this,void 0,void 0,function*(){try{return{data:yield Du(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ba(r))return{data:null,error:r};throw r}})}deleteBucket(s){return tf(this,void 0,void 0,function*(){try{return{data:yield cR(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(r){if(ba(r))return{data:null,error:r};throw r}})}}class AZ extends hZ{constructor(s,r={},n){super(s,r,n)}from(s){return new cZ(this.url,this.headers,s,this.fetch)}}const mZ="2.49.8";let Ip="";typeof Deno<"u"?Ip="deno":typeof document<"u"?Ip="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ip="react-native":Ip="node";const fZ={"X-Client-Info":`supabase-js-${Ip}/${mZ}`},xZ={headers:fZ},pZ={schema:"public"},gZ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vZ={};var jZ=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(h){l(h)}}function c(u){try{d(n.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(t,s||[])).next())})};const yZ=t=>{let s;return t?s=t:typeof fetch>"u"?s=$O:s=fetch,(...r)=>s(...r)},wZ=()=>typeof Headers>"u"?GO:Headers,bZ=(t,s,r)=>{const n=yZ(r),a=wZ();return(i,l)=>jZ(void 0,void 0,void 0,function*(){var o;const c=(o=yield s())!==null&&o!==void 0?o:t;let d=new a(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},l),{headers:d}))})};var NZ=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(h){l(h)}}function c(u){try{d(n.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(t,s||[])).next())})};function CZ(t){return t.endsWith("/")?t:t+"/"}function BZ(t,s){var r,n;const{db:a,auth:i,realtime:l,global:o}=t,{db:c,auth:d,realtime:u,global:h}=s,A={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),l),global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>NZ(this,void 0,void 0,function*(){return""})};return t.accessToken?A.accessToken=t.accessToken:delete A.accessToken,A}const dR="2.69.1",wf=30*1e3,CB=3,V4=CB*wf,SZ="http://localhost:9999",kZ="supabase.auth.token",_Z={"X-Client-Info":`gotrue-js/${dR}`},BB="X-Supabase-Api-Version",uR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EZ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,FZ=6e5;class A3 extends Error{constructor(s,r,n){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Us(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class TZ extends A3{constructor(s,r,n){super(s,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function LZ(t){return Us(t)&&t.name==="AuthApiError"}class hR extends A3{constructor(s,r){super(s),this.name="AuthUnknownError",this.originalError=r}}class Qh extends A3{constructor(s,r,n,a){super(s,n,a),this.name=r,this.status=n}}class Su extends Qh{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function IZ(t){return Us(t)&&t.name==="AuthSessionMissingError"}class K4 extends Qh{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ey extends Qh{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class Fy extends Qh{constructor(s,r=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PZ(t){return Us(t)&&t.name==="AuthImplicitGrantRedirectError"}class $F extends Qh{constructor(s,r=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class SB extends Qh{constructor(s,r){super(s,"AuthRetryableFetchError",r,void 0)}}function z4(t){return Us(t)&&t.name==="AuthRetryableFetchError"}class GF extends Qh{constructor(s,r,n){super(s,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class og extends Qh{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const WF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),YF=` 	
\r=`.split(""),DZ=(()=>{const t=new Array(128);for(let s=0;s<t.length;s+=1)t[s]=-1;for(let s=0;s<YF.length;s+=1)t[YF[s].charCodeAt(0)]=-2;for(let s=0;s<WF.length;s+=1)t[WF[s].charCodeAt(0)]=s;return t})();function AR(t,s,r){const n=DZ[t];if(n>-1)for(s.queue=s.queue<<6|n,s.queuedBits+=6;s.queuedBits>=8;)r(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function XF(t){const s=[],r=l=>{s.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{RZ(l,n,r)};for(let l=0;l<t.length;l+=1)AR(t.charCodeAt(l),a,i);return s.join("")}function UZ(t,s){if(t<=127){s(t);return}else if(t<=2047){s(192|t>>6),s(128|t&63);return}else if(t<=65535){s(224|t>>12),s(128|t>>6&63),s(128|t&63);return}else if(t<=1114111){s(240|t>>18),s(128|t>>12&63),s(128|t>>6&63),s(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function OZ(t,s){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}UZ(n,s)}}function RZ(t,s,r){if(s.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){s.utf8seq=n;break}if(s.utf8seq===2)s.codepoint=t&31;else if(s.utf8seq===3)s.codepoint=t&15;else if(s.utf8seq===4)s.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|t&63,s.utf8seq-=1,s.utf8seq===0&&r(s.codepoint)}}function MZ(t){const s=[],r={queue:0,queuedBits:0},n=a=>{s.push(a)};for(let a=0;a<t.length;a+=1)AR(t.charCodeAt(a),r,n);return new Uint8Array(s)}function QZ(t){const s=[];return OZ(t,r=>s.push(r)),new Uint8Array(s)}function HZ(t){return Math.round(Date.now()/1e3)+t}function VZ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const s=Math.random()*16|0;return(t=="x"?s:s&3|8).toString(16)})}const kc=()=>typeof window<"u"&&typeof document<"u",rA={tested:!1,writable:!1},cg=()=>{if(!kc())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rA.tested)return rA.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),rA.tested=!0,rA.writable=!0}catch{rA.tested=!0,rA.writable=!1}return rA.writable};function KZ(t){const s={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{s[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{s[a]=n}),s}const mR=t=>{let s;return t?s=t:typeof fetch>"u"?s=(...r)=>$d(async()=>{const{default:n}=await Promise.resolve().then(()=>c0);return{default:n}},void 0).then(({default:n})=>n(...r)):s=fetch,(...r)=>s(...r)},zZ=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",fR=async(t,s,r)=>{await t.setItem(s,JSON.stringify(r))},Ty=async(t,s)=>{const r=await t.getItem(s);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ly=async(t,s)=>{await t.removeItem(s)};class S2{constructor(){this.promise=new S2.promiseConstructor((s,r)=>{this.resolve=s,this.reject=r})}}S2.promiseConstructor=Promise;function q4(t){const s=t.split(".");if(s.length!==3)throw new og("Invalid JWT structure");for(let n=0;n<s.length;n++)if(!EZ.test(s[n]))throw new og("JWT not in base64url format");return{header:JSON.parse(XF(s[0])),payload:JSON.parse(XF(s[1])),signature:MZ(s[2]),raw:{header:s[0],payload:s[1]}}}async function qZ(t){return await new Promise(s=>{setTimeout(()=>s(null),t)})}function $Z(t,s){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await t(i);if(!s(i,null,l)){n(l);return}}catch(l){if(!s(i,l)){a(l);return}}})()})}function GZ(t){return("0"+t.toString(16)).substr(-2)}function WZ(){const s=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(s),Array.from(s,GZ).join("")}async function YZ(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function XZ(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await YZ(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sf(t,s,r=!1){const n=WZ();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await fR(t,`${s}-code-verifier`,a);const i=await XZ(n);return[i,n===i?"plain":"s256"]}const JZ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZZ(t){const s=t.headers.get(BB);if(!s||!s.match(JZ))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function eee(t){if(!t)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(t<=s)throw new Error("JWT has expired")}function tee(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var see=function(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const uA=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ree=[502,503,504];async function JF(t){var s;if(!zZ(t))throw new SB(uA(t),0);if(ree.includes(t.status))throw new SB(uA(t),t.status);let r;try{r=await t.json()}catch(i){throw new hR(uA(i),i)}let n;const a=ZZ(t);if(a&&a.getTime()>=uR["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new GF(uA(r),t.status,((s=r.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(n==="session_not_found")throw new Su}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new GF(uA(r),t.status,r.weak_password.reasons);throw new TZ(uA(r),t.status||500,n)}const nee=(t,s,r,n)=>{const a={method:t,headers:(s==null?void 0:s.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function tr(t,s,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[BB]||(i[BB]=uR["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await aee(t,s,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function aee(t,s,r,n,a,i){const l=nee(s,n,a,i);let o;try{o=await t(r,Object.assign({},l))}catch(c){throw console.error(c),new SB(uA(c),0)}if(o.ok||await JF(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await JF(c)}}function ku(t){var s;let r=null;cee(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=HZ(t.expires_in)));const n=(s=t.user)!==null&&s!==void 0?s:t;return{data:{session:r,user:n},error:null}}function ZF(t){const s=ku(t);return!s.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(s.data.weak_password=t.weak_password),s}function Qu(t){var s;return{data:{user:(s=t.user)!==null&&s!==void 0?s:t},error:null}}function iee(t){return{data:t,error:null}}function lee(t){const{action_link:s,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,l=see(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:s,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function oee(t){return t}function cee(t){return t.access_token&&t.refresh_token&&t.expires_in}var dee=function(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class uee{constructor({url:s="",headers:r={},fetch:n}){this.url=s,this.headers=r,this.fetch=mR(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,r="global"){try{return await tr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Us(n))return{data:null,error:n};throw n}}async inviteUserByEmail(s,r={}){try{return await tr(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Qu})}catch(n){if(Us(n))return{data:{user:null},error:n};throw n}}async generateLink(s){try{const{options:r}=s,n=dee(s,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await tr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:lee,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Us(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(s){try{return await tr(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:Qu})}catch(r){if(Us(r))return{data:{user:null},error:r};throw r}}async listUsers(s){var r,n,a,i,l,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await tr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=s==null?void 0:s.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=s==null?void 0:s.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:oee});if(u.error)throw u.error;const h=await u.json(),A=(l=u.headers.get("x-total-count"))!==null&&l!==void 0?l:0,m=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const f=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(p.split(";")[1].split("=")[1]);d[`${x}Page`]=f}),d.total=parseInt(A)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Us(d))return{data:{users:[]},error:d};throw d}}async getUserById(s){try{return await tr(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:Qu})}catch(r){if(Us(r))return{data:{user:null},error:r};throw r}}async updateUserById(s,r){try{return await tr(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:r,headers:this.headers,xform:Qu})}catch(n){if(Us(n))return{data:{user:null},error:n};throw n}}async deleteUser(s,r=!1){try{return await tr(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:r},xform:Qu})}catch(n){if(Us(n))return{data:{user:null},error:n};throw n}}async _listFactors(s){try{const{data:r,error:n}=await tr(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Us(r))return{data:null,error:r};throw r}}async _deleteFactor(s){try{return{data:await tr(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(r){if(Us(r))return{data:null,error:r};throw r}}}const hee={getItem:t=>cg()?globalThis.localStorage.getItem(t):null,setItem:(t,s)=>{cg()&&globalThis.localStorage.setItem(t,s)},removeItem:t=>{cg()&&globalThis.localStorage.removeItem(t)}};function eT(t={}){return{getItem:s=>t[s]||null,setItem:(s,r)=>{t[s]=r},removeItem:s=>{delete t[s]}}}function Aee(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const rf={debug:!!(globalThis&&cg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xR extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class mee extends xR{}async function fee(t,s,r){rf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,s);const n=new globalThis.AbortController;return s>0&&setTimeout(()=>{n.abort(),rf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){rf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{rf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(s===0)throw rf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new mee(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(rf.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Aee();const xee={url:SZ,storageKey:kZ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_Z,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function tT(t,s,r){return await r()}class Xg{constructor(s){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xg.nextInstanceID,Xg.nextInstanceID+=1,this.instanceID>0&&kc()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},xee),s);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new uee({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=mR(a.fetch),this.lock=a.lock||tT,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:kc()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=fee:this.lock=tT,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:cg()?this.storage=hee:(this.memoryStorage={},this.storage=eT(this.memoryStorage)):(this.memoryStorage={},this.storage=eT(this.memoryStorage)),kc()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dR}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const r=KZ(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),kc()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),PZ(i)){const c=(s=i.details)===null||s===void 0?void 0:s.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Us(r)?{error:r}:{error:new hR("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var r,n,a;try{const i=await tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=s==null?void 0:s.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=s==null?void 0:s.options)===null||a===void 0?void 0:a.captchaToken}},xform:ku}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Us(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(s){var r,n,a;try{let i;if("email"in s){const{email:u,password:h,options:A}=s;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await sf(this.storage,this.storageKey)),i=await tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A==null?void 0:A.emailRedirectTo,body:{email:u,password:h,data:(r=A==null?void 0:A.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken},code_challenge:m,code_challenge_method:p},xform:ku})}else if("phone"in s){const{phone:u,password:h,options:A}=s;i=await tr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=A==null?void 0:A.data)!==null&&n!==void 0?n:{},channel:(a=A==null?void 0:A.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:ku})}else throw new Ey("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Us(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(s){try{let r;if("email"in s){const{email:i,password:l,options:o}=s;r=await tr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ZF})}else if("phone"in s){const{phone:i,password:l,options:o}=s;r=await tr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ZF})}else throw new Ey("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new K4}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Us(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(s){var r,n,a,i;return await this._handleProviderSignIn(s.provider,{redirectTo:(r=s.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=s.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=s.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=s.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async _exchangeCodeForSession(s){const r=await Ty(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:l}=await tr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:n},xform:ku});if(await Ly(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new K4}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if(Us(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(s){try{const{options:r,provider:n,token:a,access_token:i,nonce:l}=s,o=await tr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ku}),{data:c,error:d}=o;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new K4}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Us(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(s){var r,n,a,i,l;try{if("email"in s){const{email:o,options:c}=s;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await sf(this.storage,this.storageKey));const{error:h}=await tr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in s){const{phone:o,options:c}=s,{data:d,error:u}=await tr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Ey("You must provide either an email or phone number.")}catch(o){if(Us(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(s){var r,n;try{let a,i;"options"in s&&(a=(r=s.options)===null||r===void 0?void 0:r.redirectTo,i=(n=s.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await tr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ku});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,d=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Us(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(s){var r,n,a;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await sf(this.storage,this.storageKey)),await tr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(n=(r=s.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=s==null?void 0:s.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:iee})}catch(i){if(Us(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:r},error:n}=s;if(n)throw n;if(!r)throw new Su;const{error:a}=await tr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(s){if(Us(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const r=`${this.url}/resend`;if("email"in s){const{email:n,type:a,options:i}=s,{error:l}=await tr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in s){const{phone:n,type:a,options:i}=s,{data:l,error:o}=await tr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new Ey("You must provide either an email or phone number and a type")}catch(r){if(Us(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(s,r){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await s(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const r=await Ty(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?s=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const n=s.expires_at?s.expires_at*1e3-Date.now()<V4:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",s.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;s=new Proxy(s,{get:(c,d,u)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:s},error:null}}const{session:a,error:i}=await this._callRefreshToken(s.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await tr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:Qu}):await this._useSession(async r=>{var n,a,i;const{data:l,error:o}=r;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Su}:await tr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Qu})})}catch(r){if(Us(r))return IZ(r)&&(await this._removeSession(),await Ly(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(s,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,r))}async _updateUser(s,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Su;const l=a.session;let o=null,c=null;this.flowType==="pkce"&&s.email!=null&&([o,c]=await sf(this.storage,this.storageKey));const{data:d,error:u}=await tr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Qu});if(u)throw u;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(Us(n))return{data:{user:null},error:n};throw n}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new Su;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:l}=q4(s.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{session:o,error:c}=await this._callRefreshToken(s.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(s.access_token);if(c)throw c;i={access_token:s.access_token,refresh_token:s.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Us(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async r=>{var n;if(!s){const{data:l,error:o}=r;if(o)throw o;s=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(s!=null&&s.refresh_token))throw new Su;const{session:a,error:i}=await this._callRefreshToken(s.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Us(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(s,r){try{if(!kc())throw new Fy("No browser detected.");if(s.error||s.error_description||s.error_code)throw new Fy(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $F("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fy("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new $F("No code detected.");const{data:v,error:j}=await this._exchangeCodeForSession(s.code);if(j)throw j;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:d}=s;if(!i||!o||!l||!d)throw new Fy("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(o);let A=u+h;c&&(A=parseInt(c));const m=A-u;m*1e3<=wf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const p=A-h;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,A,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,A,u);const{data:f,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:A,refresh_token:l,token_type:d,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:s.type},error:null}}catch(n){if(Us(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const r=await Ty(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&r)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,s);if(o&&!(LZ(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return s!=="others"&&(await this._removeSession(),await Ly(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const r=VZ(),n={id:r,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(s){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(s))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",s,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(s))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",i),console.error(i)}})}async resetPasswordForEmail(s,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await sf(this.storage,this.storageKey,!0));try{return await tr(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Us(i))return{data:null,error:i};throw i}}async getUserIdentities(){var s;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(s=r.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(r){if(Us(r))return{data:null,error:r};throw r}}async linkIdentity(s){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var l,o,c,d,u;const{data:h,error:A}=i;if(A)throw A;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(l=s.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=s.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=s.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await tr(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return kc()&&!(!((r=s.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:s.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Us(n))return{data:{provider:s.provider,url:null},error:n};throw n}}async unlinkIdentity(s){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)throw l;return await tr(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Us(r))return{data:null,error:r};throw r}}async _refreshAccessToken(s){const r=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await $Z(async a=>(a>0&&await qZ(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await tr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:ku})),(a,i)=>{const l=200*Math.pow(2,a);return i&&z4(i)&&Date.now()+l-n<wf})}catch(n){if(this._debug(r,"error",n),Us(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",r,"url",n),kc()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:s,url:n},error:null}}async _recoverAndRefresh(){var s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ty(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<V4;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${V4}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),z4(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(s){var r,n;if(!s)throw new Su;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new S2;const{data:i,error:l}=await this._refreshAccessToken(s);if(l)throw l;if(!i.session)throw new Su;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),Us(i)){const l={session:null,error:i};return z4(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(s,r,n=!0){const a=`#_notifyAllSubscribers(${s})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:s,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(s,r)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await fR(this.storage,this.storageKey,s)}async _removeSession(){this._debug("#_removeSession()"),await Ly(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&kc()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),wf);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-s)/wf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${wf}ms, refresh threshold is ${CB} ticks`),a<=CB&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof xR)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kc()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const r=`#_onVisibilityChanged(${s})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await sf(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${s}?${a.join("&")}`}async _unenroll(s){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await tr(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Us(r))return{data:null,error:r};throw r}}async _enroll(s){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:c,error:d}=await tr(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(s.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Us(r))return{data:null,error:r};throw r}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:o}=await tr(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(Us(r))return{data:null,error:r};throw r}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await tr(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Us(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(s){const{data:r,error:n}=await this._challenge({factorId:s.factorId});return n?{data:null,error:n}:await this._verify({factorId:s.factorId,challengeId:r.id,code:s.code})}async _listFactors(){const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(s==null?void 0:s.factors)||[],a=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var r,n;const{data:{session:a},error:i}=s;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=q4(a.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(s,r={keys:[]}){let n=r.keys.find(l=>l.kid===s);if(n||(n=this.jwks.keys.find(l=>l.kid===s),n&&this.jwks_cached_at+FZ>Date.now()))return n;const{data:a,error:i}=await tr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new og("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(l=>l.kid===s),!n)throw new og("No matching signing key found in JWKS");return n}async getClaims(s,r={keys:[]}){try{let n=s;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:a,payload:i,signature:l,raw:{header:o,payload:c}}=q4(n);if(eee(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:l},error:null}}const d=tee(a.alg),u=await this.fetchJwk(a.kid,r),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,l,QZ(`${o}.${c}`)))throw new og("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(n){if(Us(n))return{data:null,error:n};throw n}}}Xg.nextInstanceID=0;const pee=Xg;class gee extends pee{constructor(s){super(s)}}var vee=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(h){l(h)}}function c(u){try{d(n.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(t,s||[])).next())})};class jee{constructor(s,r,n){var a,i,l;if(this.supabaseUrl=s,this.supabaseKey=r,!s)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=CZ(s),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:pZ,realtime:vZ,auth:Object.assign(Object.assign({},gZ),{storageKey:d}),global:xZ},h=BZ(n??{},u);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(A,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=bZ(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new OJ(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new mJ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new AZ(this.storageUrl.href,this.headers,this.fetch)}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,r={},n={}){return this.rest.rpc(s,r,n)}channel(s,r={config:{}}){return this.realtime.channel(s,r)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,r;return vee(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(s=n.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:l,lock:o,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gee({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:a,flowType:l,lock:o,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(s){return new ZJ(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(s,r,n){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:s==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pR=(t,s,r)=>new jee(t,s,r),yee="https://vmnmoiaxsahkdmnvrcrg.supabase.co",wee="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtbm1vaWF4c2Foa2RtbnZyY3JnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg0ODMwNjMsImV4cCI6MjA2NDA1OTA2M30.Zx6rBQjgdGge2Y3OedqECwXY3fosC-7mPPrWwdkpEb4";console.log("Supabase Config Check:",{url:"Found",key:"Found"});let br;try{br=pR(yee,wee,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),console.log(" Supabase client initialized successfully")}catch(t){throw console.error("Failed to initialize Supabase client:",t),t}async function gR(t){if(!t.ok){let s=t.statusText;try{const r=await t.text();if(r)try{const n=JSON.parse(r);s=n.message||n.error||r}catch{s=r}}catch(r){console.warn("Failed to read error response body:",r)}throw new Error(`${t.status}: ${s}`)}}async function Vt(t,s){var o;const r=(s==null?void 0:s.method)||"GET",n=s==null?void 0:s.body,[,a,...i]=((o=t.split("/api/")[1])==null?void 0:o.split("/"))||[],l=new URLSearchParams(t.split("?")[1]||"");try{switch(a){case"dashboard":{if(i[0]==="stats"){const u=parseInt(l.get("schoolId")||"1"),[h,A,m]=await Promise.all([br.from("students").select("id",{count:"exact",head:!0}).eq("school_id",u),br.from("teachers").select("id",{count:"exact",head:!0}).eq("school_id",u),br.from("library_books").select("id",{count:"exact",head:!0}).eq("school_id",u)]),p={students:h.count||0,teachers:A.count||0,books:m.count||0,timestamp:new Date().toISOString()};return new Response(JSON.stringify(p),{status:200,headers:{"Content-Type":"application/json"}})}break}case"students":{const u=parseInt(l.get("schoolId")||"1");if(r==="GET"){const{data:h,error:A}=await br.from("students").select("*").eq("school_id",u).order("name");if(A)throw A;return new Response(JSON.stringify(h||[]),{status:200,headers:{"Content-Type":"application/json"}})}break}case"library":{if(i[0]==="books"){const u=parseInt(l.get("schoolId")||"1");if(r==="GET"){const{data:h,error:A}=await br.from("library_books").select("*").eq("school_id",u).order("title");if(A)throw A;return new Response(JSON.stringify(h||[]),{status:200,headers:{"Content-Type":"application/json"}})}else if(r==="POST"){const{data:h,error:A}=await br.from("library_books").insert(n).select().single();if(A)throw A;return new Response(JSON.stringify(h),{status:200,headers:{"Content-Type":"application/json"}})}}break}case"user":{const{data:{user:u}}=await br.auth.getUser();return new Response(JSON.stringify(u),{status:200,headers:{"Content-Type":"application/json"}})}}const c={method:r,credentials:"include",headers:{"Content-Type":"application/json"}};n&&r!=="GET"&&(c.body=typeof n=="string"?n:JSON.stringify(n));const d=await fetch(t,c);return await gR(d),d}catch(c){return console.error("Supabase API error:",c),new Response(JSON.stringify({error:c.message}),{status:500,headers:{"Content-Type":"application/json"}})}}const vR=({on401:t})=>async({queryKey:s})=>{try{const{data:{session:r}}=await br.auth.getSession(),n={};r!=null&&r.access_token&&(n.Authorization=`Bearer ${r.access_token}`);const a=await fetch(s[0],{credentials:"include",headers:n});return t==="returnNull"&&a.status===401?null:(await gR(a),await a.json())}catch(r){throw r instanceof Error&&r.message.includes("401")||console.error(`API Error for ${s[0]}:`,r),r}},bf=new l3({defaultOptions:{queries:{queryFn:vR({on401:"returnNull"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),bee=1,Nee=1e6;let $4=0;function Cee(){return $4=($4+1)%Number.MAX_SAFE_INTEGER,$4.toString()}const G4=new Map,sT=t=>{if(G4.has(t))return;const s=setTimeout(()=>{G4.delete(t),dg({type:"REMOVE_TOAST",toastId:t})},Nee);G4.set(t,s)},Bee=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,bee)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===s.toast.id?{...r,...s.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=s;return r?sT(r):t.toasts.forEach(n=>{sT(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==s.toastId)}}},K1=[];let z1={toasts:[]};function dg(t){z1=Bee(z1,t),K1.forEach(s=>{s(z1)})}function Pp({...t}){const s=Cee(),r=a=>dg({type:"UPDATE_TOAST",toast:{...a,id:s}}),n=()=>dg({type:"DISMISS_TOAST",toastId:s});return dg({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:a=>{a||n()}}}),{id:s,dismiss:n,update:r}}function ls(){const[t,s]=b.useState(z1);return b.useEffect(()=>(K1.push(s),()=>{const r=K1.indexOf(s);r>-1&&K1.splice(r,1)}),[t]),{...t,toast:Pp,dismiss:r=>dg({type:"DISMISS_TOAST",toastId:r})}}function Qt(t,s,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return s==null?void 0:s(a)}}function rT(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function k2(...t){return s=>{let r=!1;const n=t.map(a=>{const i=rT(a,s);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():rT(t[a],null)}}}}function sr(...t){return b.useCallback(k2(...t),t)}function See(t,s){const r=b.createContext(s),n=i=>{const{children:l,...o}=i,c=b.useMemo(()=>o,Object.values(o));return e.jsx(r.Provider,{value:c,children:l})};n.displayName=t+"Provider";function a(i){const l=b.useContext(r);if(l)return l;if(s!==void 0)return s;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function Ga(t,s=[]){let r=[];function n(i,l){const o=b.createContext(l),c=r.length;r=[...r,l];const d=h=>{var g;const{scope:A,children:m,...p}=h,f=((g=A==null?void 0:A[t])==null?void 0:g[c])||o,x=b.useMemo(()=>p,Object.values(p));return e.jsx(f.Provider,{value:x,children:m})};d.displayName=i+"Provider";function u(h,A){var f;const m=((f=A==null?void 0:A[t])==null?void 0:f[c])||o,p=b.useContext(m);if(p)return p;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(l=>b.createContext(l));return function(o){const c=(o==null?void 0:o[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return a.scopeName=t,[n,kee(a,...s)]}function kee(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=n.reduce((o,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...o,...h}},{});return b.useMemo(()=>({[`__scope${s.scopeName}`]:l}),[l])}};return r.scopeName=s.scopeName,r}function yh(t){const s=_ee(t),r=b.forwardRef((n,a)=>{const{children:i,...l}=n,o=b.Children.toArray(i),c=o.find(Fee);if(c){const d=c.props.children,u=o.map(h=>h===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:h);return e.jsx(s,{...l,ref:a,children:b.isValidElement(d)?b.cloneElement(d,void 0,u):null})}return e.jsx(s,{...l,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var jR=yh("Slot");function _ee(t){const s=b.forwardRef((r,n)=>{const{children:a,...i}=r;if(b.isValidElement(a)){const l=Lee(a),o=Tee(i,a.props);return a.type!==b.Fragment&&(o.ref=n?k2(n,l):l),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var Eee=Symbol("radix.slottable");function Fee(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Eee}function Tee(t,s){const r={...s};for(const n in s){const a=t[n],i=s[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{i(...o),a(...o)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function Lee(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function _2(t){const s=t+"CollectionProvider",[r,n]=Ga(s),[a,i]=r(s,{collectionRef:{current:null},itemMap:new Map}),l=f=>{const{scope:x,children:g}=f,v=gs.useRef(null),j=gs.useRef(new Map).current;return e.jsx(a,{scope:x,itemMap:j,collectionRef:v,children:g})};l.displayName=s;const o=t+"CollectionSlot",c=yh(o),d=gs.forwardRef((f,x)=>{const{scope:g,children:v}=f,j=i(o,g),B=sr(x,j.collectionRef);return e.jsx(c,{ref:B,children:v})});d.displayName=o;const u=t+"CollectionItemSlot",h="data-radix-collection-item",A=yh(u),m=gs.forwardRef((f,x)=>{const{scope:g,children:v,...j}=f,B=gs.useRef(null),F=sr(x,B),P=i(u,g);return gs.useEffect(()=>(P.itemMap.set(B,{ref:B,...j}),()=>void P.itemMap.delete(B))),e.jsx(A,{[h]:"",ref:F,children:v})});m.displayName=u;function p(f){const x=i(t+"CollectionConsumer",f);return gs.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const j=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((P,E)=>j.indexOf(P.ref.current)-j.indexOf(E.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:l,Slot:d,ItemSlot:m},p,n]}var Iee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],os=Iee.reduce((t,s)=>{const r=yh(`Primitive.${s}`),n=b.forwardRef((a,i)=>{const{asChild:l,...o}=a,c=l?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...o,ref:i})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{});function m3(t,s){t&&gm.flushSync(()=>t.dispatchEvent(s))}function za(t){const s=b.useRef(t);return b.useEffect(()=>{s.current=t}),b.useMemo(()=>(...r)=>{var n;return(n=s.current)==null?void 0:n.call(s,...r)},[])}function Pee(t,s=globalThis==null?void 0:globalThis.document){const r=za(t);b.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return s.addEventListener("keydown",n,{capture:!0}),()=>s.removeEventListener("keydown",n,{capture:!0})},[r,s])}var Dee="DismissableLayer",kB="dismissableLayer.update",Uee="dismissableLayer.pointerDownOutside",Oee="dismissableLayer.focusOutside",nT,yR=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),u0=b.forwardRef((t,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:o,...c}=t,d=b.useContext(yR),[u,h]=b.useState(null),A=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),p=sr(s,E=>h(E)),f=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),g=f.indexOf(x),v=u?f.indexOf(u):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,B=v>=g,F=Mee(E=>{const N=E.target,C=[...d.branches].some(_=>_.contains(N));!B||C||(a==null||a(E),l==null||l(E),E.defaultPrevented||o==null||o())},A),P=Qee(E=>{const N=E.target;[...d.branches].some(_=>_.contains(N))||(i==null||i(E),l==null||l(E),E.defaultPrevented||o==null||o())},A);return Pee(E=>{v===d.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},A),b.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(nT=A.body.style.pointerEvents,A.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),aT(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(A.body.style.pointerEvents=nT)}},[u,A,r,d]),b.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),aT())},[u,d]),b.useEffect(()=>{const E=()=>m({});return document.addEventListener(kB,E),()=>document.removeEventListener(kB,E)},[]),e.jsx(os.div,{...c,ref:p,style:{pointerEvents:j?B?"auto":"none":void 0,...t.style},onFocusCapture:Qt(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Qt(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Qt(t.onPointerDownCapture,F.onPointerDownCapture)})});u0.displayName=Dee;var Ree="DismissableLayerBranch",wR=b.forwardRef((t,s)=>{const r=b.useContext(yR),n=b.useRef(null),a=sr(s,n);return b.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),e.jsx(os.div,{...t,ref:a})});wR.displayName=Ree;function Mee(t,s=globalThis==null?void 0:globalThis.document){const r=za(t),n=b.useRef(!1),a=b.useRef(()=>{});return b.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let c=function(){bR(Uee,r,d,{discrete:!0})};const d={originalEvent:o};o.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=c,s.addEventListener("click",a.current,{once:!0})):c()}else s.removeEventListener("click",a.current);n.current=!1},l=window.setTimeout(()=>{s.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),s.removeEventListener("pointerdown",i),s.removeEventListener("click",a.current)}},[s,r]),{onPointerDownCapture:()=>n.current=!0}}function Qee(t,s=globalThis==null?void 0:globalThis.document){const r=za(t),n=b.useRef(!1);return b.useEffect(()=>{const a=i=>{i.target&&!n.current&&bR(Oee,r,{originalEvent:i},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function aT(){const t=new CustomEvent(kB);document.dispatchEvent(t)}function bR(t,s,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});s&&a.addEventListener(t,s,{once:!0}),n?m3(a,i):a.dispatchEvent(i)}var Hee=u0,Vee=wR,la=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},Kee="Portal",h0=b.forwardRef((t,s)=>{var o;const{container:r,...n}=t,[a,i]=b.useState(!1);la(()=>i(!0),[]);const l=r||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return l?tX.createPortal(e.jsx(os.div,{...n,ref:s}),l):null});h0.displayName=Kee;function zee(t,s){return b.useReducer((r,n)=>s[r][n]??r,t)}var Ri=t=>{const{present:s,children:r}=t,n=qee(s),a=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),i=sr(n.ref,$ee(a));return typeof r=="function"||n.isPresent?b.cloneElement(a,{ref:i}):null};Ri.displayName="Presence";function qee(t){const[s,r]=b.useState(),n=b.useRef({}),a=b.useRef(t),i=b.useRef("none"),l=t?"mounted":"unmounted",[o,c]=zee(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const d=Iy(n.current);i.current=o==="mounted"?d:"none"},[o]),la(()=>{const d=n.current,u=a.current;if(u!==t){const A=i.current,m=Iy(d);t?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&A!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),la(()=>{if(s){let d;const u=s.ownerDocument.defaultView??window,h=m=>{const f=Iy(n.current).includes(m.animationName);if(m.target===s&&f&&(c("ANIMATION_END"),!a.current)){const x=s.style.animationFillMode;s.style.animationFillMode="forwards",d=u.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=x)})}},A=m=>{m.target===s&&(i.current=Iy(n.current))};return s.addEventListener("animationstart",A),s.addEventListener("animationcancel",h),s.addEventListener("animationend",h),()=>{u.clearTimeout(d),s.removeEventListener("animationstart",A),s.removeEventListener("animationcancel",h),s.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[s,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:b.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function Iy(t){return(t==null?void 0:t.animationName)||"none"}function $ee(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function go({prop:t,defaultProp:s,onChange:r=()=>{}}){const[n,a]=Gee({defaultProp:s,onChange:r}),i=t!==void 0,l=i?t:n,o=za(r),c=b.useCallback(d=>{if(i){const h=typeof d=="function"?d(t):d;h!==t&&o(h)}else a(d)},[i,t,a,o]);return[l,c]}function Gee({defaultProp:t,onChange:s}){const r=b.useState(t),[n]=r,a=b.useRef(n),i=za(s);return b.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var Wee="VisuallyHidden",E2=b.forwardRef((t,s)=>e.jsx(os.span,{...t,ref:s,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));E2.displayName=Wee;var f3="ToastProvider",[x3,Yee,Xee]=_2("Toast"),[NR,$3e]=Ga("Toast",[Xee]),[Jee,F2]=NR(f3),CR=t=>{const{__scopeToast:s,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:l}=t,[o,c]=b.useState(null),[d,u]=b.useState(0),h=b.useRef(!1),A=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${f3}\`. Expected non-empty \`string\`.`),e.jsx(x3.Provider,{scope:s,children:e.jsx(Jee,{scope:s,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:o,onViewportChange:c,onToastAdd:b.useCallback(()=>u(m=>m+1),[]),onToastRemove:b.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:A,children:l})})};CR.displayName=f3;var BR="ToastViewport",Zee=["F8"],_B="toast.viewportPause",EB="toast.viewportResume",SR=b.forwardRef((t,s)=>{const{__scopeToast:r,hotkey:n=Zee,label:a="Notifications ({hotkey})",...i}=t,l=F2(BR,r),o=Yee(r),c=b.useRef(null),d=b.useRef(null),u=b.useRef(null),h=b.useRef(null),A=sr(s,h,l.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=l.toastCount>0;b.useEffect(()=>{const x=g=>{var j;n.length!==0&&n.every(B=>g[B]||g.code===B)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),b.useEffect(()=>{const x=c.current,g=h.current;if(p&&x&&g){const v=()=>{if(!l.isClosePausedRef.current){const P=new CustomEvent(_B);g.dispatchEvent(P),l.isClosePausedRef.current=!0}},j=()=>{if(l.isClosePausedRef.current){const P=new CustomEvent(EB);g.dispatchEvent(P),l.isClosePausedRef.current=!1}},B=P=>{!x.contains(P.relatedTarget)&&j()},F=()=>{x.contains(document.activeElement)||j()};return x.addEventListener("focusin",v),x.addEventListener("focusout",B),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",F),window.addEventListener("blur",v),window.addEventListener("focus",j),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",B),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",F),window.removeEventListener("blur",v),window.removeEventListener("focus",j)}}},[p,l.isClosePausedRef]);const f=b.useCallback(({tabbingDirection:x})=>{const v=o().map(j=>{const B=j.ref.current,F=[B,...hte(B)];return x==="forwards"?F:F.reverse()});return(x==="forwards"?v.reverse():v).flat()},[o]);return b.useEffect(()=>{const x=h.current;if(x){const g=v=>{var F,P,E;const j=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!j){const N=document.activeElement,C=v.shiftKey;if(v.target===x&&C){(F=d.current)==null||F.focus();return}const D=f({tabbingDirection:C?"backwards":"forwards"}),z=D.findIndex(K=>K===N);W4(D.slice(z+1))?v.preventDefault():C?(P=d.current)==null||P.focus():(E=u.current)==null||E.focus()}};return x.addEventListener("keydown",g),()=>x.removeEventListener("keydown",g)}},[o,f]),e.jsxs(Vee,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&e.jsx(FB,{ref:d,onFocusFromOutsideViewport:()=>{const x=f({tabbingDirection:"forwards"});W4(x)}}),e.jsx(x3.Slot,{scope:r,children:e.jsx(os.ol,{tabIndex:-1,...i,ref:A})}),p&&e.jsx(FB,{ref:u,onFocusFromOutsideViewport:()=>{const x=f({tabbingDirection:"backwards"});W4(x)}})]})});SR.displayName=BR;var kR="ToastFocusProxy",FB=b.forwardRef((t,s)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=t,i=F2(kR,r);return e.jsx(E2,{"aria-hidden":!0,tabIndex:0,...a,ref:s,style:{position:"fixed"},onFocus:l=>{var d;const o=l.relatedTarget;!((d=i.viewport)!=null&&d.contains(o))&&n()}})});FB.displayName=kR;var T2="Toast",ete="toast.swipeStart",tte="toast.swipeMove",ste="toast.swipeCancel",rte="toast.swipeEnd",_R=b.forwardRef((t,s)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...l}=t,[o=!0,c]=go({prop:n,defaultProp:a,onChange:i});return e.jsx(Ri,{present:r||o,children:e.jsx(ite,{open:o,...l,ref:s,onClose:()=>c(!1),onPause:za(t.onPause),onResume:za(t.onResume),onSwipeStart:Qt(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Qt(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Qt(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Qt(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});_R.displayName=T2;var[nte,ate]=NR(T2,{onClose(){}}),ite=b.forwardRef((t,s)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:l,onEscapeKeyDown:o,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:A,onSwipeEnd:m,...p}=t,f=F2(T2,r),[x,g]=b.useState(null),v=sr(s,K=>g(K)),j=b.useRef(null),B=b.useRef(null),F=a||f.duration,P=b.useRef(0),E=b.useRef(F),N=b.useRef(0),{onToastAdd:C,onToastRemove:_}=f,k=za(()=>{var xe;(x==null?void 0:x.contains(document.activeElement))&&((xe=f.viewport)==null||xe.focus()),l()}),D=b.useCallback(K=>{!K||K===1/0||(window.clearTimeout(N.current),P.current=new Date().getTime(),N.current=window.setTimeout(k,K))},[k]);b.useEffect(()=>{const K=f.viewport;if(K){const xe=()=>{D(E.current),d==null||d()},W=()=>{const re=new Date().getTime()-P.current;E.current=E.current-re,window.clearTimeout(N.current),c==null||c()};return K.addEventListener(_B,W),K.addEventListener(EB,xe),()=>{K.removeEventListener(_B,W),K.removeEventListener(EB,xe)}}},[f.viewport,F,c,d,D]),b.useEffect(()=>{i&&!f.isClosePausedRef.current&&D(F)},[i,F,f.isClosePausedRef,D]),b.useEffect(()=>(C(),()=>_()),[C,_]);const z=b.useMemo(()=>x?DR(x):null,[x]);return f.viewport?e.jsxs(e.Fragment,{children:[z&&e.jsx(lte,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),e.jsx(nte,{scope:r,onClose:k,children:gm.createPortal(e.jsx(x3.ItemSlot,{scope:r,children:e.jsx(Hee,{asChild:!0,onEscapeKeyDown:Qt(o,()=>{f.isFocusedToastEscapeKeyDownRef.current||k(),f.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(os.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":f.swipeDirection,...p,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Qt(t.onKeyDown,K=>{K.key==="Escape"&&(o==null||o(K.nativeEvent),K.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Qt(t.onPointerDown,K=>{K.button===0&&(j.current={x:K.clientX,y:K.clientY})}),onPointerMove:Qt(t.onPointerMove,K=>{if(!j.current)return;const xe=K.clientX-j.current.x,W=K.clientY-j.current.y,re=!!B.current,I=["left","right"].includes(f.swipeDirection),ie=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,ve=I?ie(0,xe):0,De=I?0:ie(0,W),L=K.pointerType==="touch"?10:2,U={x:ve,y:De},R={originalEvent:K,delta:U};re?(B.current=U,Py(tte,h,R,{discrete:!1})):iT(U,f.swipeDirection,L)?(B.current=U,Py(ete,u,R,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(xe)>L||Math.abs(W)>L)&&(j.current=null)}),onPointerUp:Qt(t.onPointerUp,K=>{const xe=B.current,W=K.target;if(W.hasPointerCapture(K.pointerId)&&W.releasePointerCapture(K.pointerId),B.current=null,j.current=null,xe){const re=K.currentTarget,I={originalEvent:K,delta:xe};iT(xe,f.swipeDirection,f.swipeThreshold)?Py(rte,m,I,{discrete:!0}):Py(ste,A,I,{discrete:!0}),re.addEventListener("click",ie=>ie.preventDefault(),{once:!0})}})})})}),f.viewport)})]}):null}),lte=t=>{const{__scopeToast:s,children:r,...n}=t,a=F2(T2,s),[i,l]=b.useState(!1),[o,c]=b.useState(!1);return dte(()=>l(!0)),b.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),o?null:e.jsx(h0,{asChild:!0,children:e.jsx(E2,{...n,children:i&&e.jsxs(e.Fragment,{children:[a.label," ",r]})})})},ote="ToastTitle",ER=b.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t;return e.jsx(os.div,{...n,ref:s})});ER.displayName=ote;var cte="ToastDescription",FR=b.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t;return e.jsx(os.div,{...n,ref:s})});FR.displayName=cte;var TR="ToastAction",LR=b.forwardRef((t,s)=>{const{altText:r,...n}=t;return r.trim()?e.jsx(PR,{altText:r,asChild:!0,children:e.jsx(p3,{...n,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${TR}\`. Expected non-empty \`string\`.`),null)});LR.displayName=TR;var IR="ToastClose",p3=b.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t,a=ate(IR,r);return e.jsx(PR,{asChild:!0,children:e.jsx(os.button,{type:"button",...n,ref:s,onClick:Qt(t.onClick,a.onClose)})})});p3.displayName=IR;var PR=b.forwardRef((t,s)=>{const{__scopeToast:r,altText:n,...a}=t;return e.jsx(os.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:s})});function DR(t){const s=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&s.push(n.textContent),ute(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const l=n.dataset.radixToastAnnounceAlt;l&&s.push(l)}else s.push(...DR(n))}}),s}function Py(t,s,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});s&&a.addEventListener(t,s,{once:!0}),n?m3(a,i):a.dispatchEvent(i)}var iT=(t,s,r=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),i=n>a;return s==="left"||s==="right"?i&&n>r:!i&&a>r};function dte(t=()=>{}){const s=za(t);la(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[s])}function ute(t){return t.nodeType===t.ELEMENT_NODE}function hte(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function W4(t){const s=document.activeElement;return t.some(r=>r===s?!0:(r.focus(),document.activeElement!==s))}var Ate=CR,UR=SR,OR=_R,RR=ER,MR=FR,QR=LR,HR=p3;function VR(t){var s,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(s=0;s<a;s++)t[s]&&(r=VR(t[s]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function KR(){for(var t,s,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(s=VR(t))&&(n&&(n+=" "),n+=s);return n}const lT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,oT=KR,Wv=(t,s)=>r=>{var n;if((s==null?void 0:s.variants)==null)return oT(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=s,l=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],h=i==null?void 0:i[d];if(u===null)return null;const A=lT(u)||lT(h);return a[d][A]}),o=r&&Object.entries(r).reduce((d,u)=>{let[h,A]=u;return A===void 0||(d[h]=A),d},{}),c=s==null||(n=s.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:A,...m}=u;return Object.entries(m).every(p=>{let[f,x]=p;return Array.isArray(x)?x.includes({...i,...o}[f]):{...i,...o}[f]===x})?[...d,h,A]:d},[]);return oT(t,l,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zR=(...t)=>t.filter((s,r,n)=>!!s&&n.indexOf(s)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=b.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},c)=>b.createElement("svg",{ref:c,...fte,width:s,height:s,stroke:t,strokeWidth:n?Number(r)*24/Number(s):r,className:zR("lucide",a),...o},[...l.map(([d,u])=>b.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(t,s)=>{const r=b.forwardRef(({className:n,...a},i)=>b.createElement(xte,{ref:i,iconNode:s,className:zR(`lucide-${mte(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=dt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=dt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=dt("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=dt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=dt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=dt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=dt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=dt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=dt("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=dt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=dt("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=dt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=dt("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=dt("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=dt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=dt("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=dt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=dt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=dt("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=dt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=dt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=dt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=dt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=dt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=dt("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=dt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=dt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=dt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=dt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=dt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=dt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=dt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=dt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=dt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=dt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=dt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=dt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=dt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=dt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=dt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=dt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=dt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=dt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=dt("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=dt("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=dt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=dt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=dt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=dt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=dt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=dt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=dt("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=dt("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=dt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=dt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=dt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=dt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=dt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=dt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=dt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=dt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=dt("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=dt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=dt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=dt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=dt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=dt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=dt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=dt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=dt("MemoryStick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=dt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=dt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=dt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=dt("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=dt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=dt("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=dt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=dt("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=dt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=dt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=dt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=dt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=dt("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=dt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=dt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=dt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=dt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=dt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=dt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=dt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=dt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=dt("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=dt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=dt("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=dt("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=dt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=dt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=dt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=dt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=dt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=dt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=dt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=dt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=dt("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=dt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=dt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=dt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=dt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=dt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=dt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=dt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=dt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=dt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=dt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=dt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=dt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=dt("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=dt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=dt("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=dt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=dt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=dt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=dt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),b3="-",zte=t=>{const s=$te(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const o=l.split(b3);return o[0]===""&&o.length!==1&&o.shift(),XR(o,s)||qte(l)},getConflictingClassGroupIds:(l,o)=>{const c=r[l]||[];return o&&n[l]?[...c,...n[l]]:c}}},XR=(t,s)=>{var l;if(t.length===0)return s.classGroupId;const r=t[0],n=s.nextPart.get(r),a=n?XR(t.slice(1),n):void 0;if(a)return a;if(s.validators.length===0)return;const i=t.join(b3);return(l=s.validators.find(({validator:o})=>o(i)))==null?void 0:l.classGroupId},gT=/^\[(.+)\]$/,qte=t=>{if(gT.test(t)){const s=gT.exec(t)[1],r=s==null?void 0:s.substring(0,s.indexOf(":"));if(r)return"arbitrary.."+r}},$te=t=>{const{theme:s,prefix:r}=t,n={nextPart:new Map,validators:[]};return Wte(Object.entries(t.classGroups),r).forEach(([i,l])=>{PB(l,n,i,s)}),n},PB=(t,s,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?s:vT(s,a);i.classGroupId=r;return}if(typeof a=="function"){if(Gte(a)){PB(a(n),s,r,n);return}s.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,l])=>{PB(l,vT(s,i),r,n)})})},vT=(t,s)=>{let r=t;return s.split(b3).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Gte=t=>t.isThemeGetter,Wte=(t,s)=>s?t.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?s+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,o])=>[s+l,o])):i);return[r,a]}):t,Yte=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,r=new Map,n=new Map;const a=(i,l)=>{r.set(i,l),s++,s>t&&(s=0,n=r,r=new Map)};return{get(i){let l=r.get(i);if(l!==void 0)return l;if((l=n.get(i))!==void 0)return a(i,l),l},set(i,l){r.has(i)?r.set(i,l):a(i,l)}}},JR="!",Xte=t=>{const{separator:s,experimentalParseClassName:r}=t,n=s.length===1,a=s[0],i=s.length,l=o=>{const c=[];let d=0,u=0,h;for(let x=0;x<o.length;x++){let g=o[x];if(d===0){if(g===a&&(n||o.slice(x,x+i)===s)){c.push(o.slice(u,x)),u=x+i;continue}if(g==="/"){h=x;continue}}g==="["?d++:g==="]"&&d--}const A=c.length===0?o:o.substring(u),m=A.startsWith(JR),p=m?A.substring(1):A,f=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:f}};return r?o=>r({className:o,parseClassName:l}):l},Jte=t=>{if(t.length<=1)return t;const s=[];let r=[];return t.forEach(n=>{n[0]==="["?(s.push(...r.sort(),n),r=[]):r.push(n)}),s.push(...r.sort()),s},Zte=t=>({cache:Yte(t.cacheSize),parseClassName:Xte(t),...zte(t)}),ese=/\s+/,tse=(t,s)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=s,i=[],l=t.trim().split(ese);let o="";for(let c=l.length-1;c>=0;c-=1){const d=l[c],{modifiers:u,hasImportantModifier:h,baseClassName:A,maybePostfixModifierPosition:m}=r(d);let p=!!m,f=n(p?A.substring(0,m):A);if(!f){if(!p){o=d+(o.length>0?" "+o:o);continue}if(f=n(A),!f){o=d+(o.length>0?" "+o:o);continue}p=!1}const x=Jte(u).join(":"),g=h?x+JR:x,v=g+f;if(i.includes(v))continue;i.push(v);const j=a(f,p);for(let B=0;B<j.length;++B){const F=j[B];i.push(g+F)}o=d+(o.length>0?" "+o:o)}return o};function sse(){let t=0,s,r,n="";for(;t<arguments.length;)(s=arguments[t++])&&(r=ZR(s))&&(n&&(n+=" "),n+=r);return n}const ZR=t=>{if(typeof t=="string")return t;let s,r="";for(let n=0;n<t.length;n++)t[n]&&(s=ZR(t[n]))&&(r&&(r+=" "),r+=s);return r};function rse(t,...s){let r,n,a,i=l;function l(c){const d=s.reduce((u,h)=>h(u),t());return r=Zte(d),n=r.cache.get,a=r.cache.set,i=o,o(c)}function o(c){const d=n(c);if(d)return d;const u=tse(c,r);return a(c,u),u}return function(){return i(sse.apply(null,arguments))}}const rn=t=>{const s=r=>r[t]||[];return s.isThemeGetter=!0,s},eM=/^\[(?:([a-z-]+):)?(.+)\]$/i,nse=/^\d+\/\d+$/,ase=new Set(["px","full","screen"]),ise=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lse=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ose=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cse=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vd=t=>cx(t)||ase.has(t)||nse.test(t),ju=t=>m0(t,"length",gse),cx=t=>!!t&&!Number.isNaN(Number(t)),Y4=t=>m0(t,"number",cx),Ap=t=>!!t&&Number.isInteger(Number(t)),use=t=>t.endsWith("%")&&cx(t.slice(0,-1)),Ds=t=>eM.test(t),yu=t=>ise.test(t),hse=new Set(["length","size","percentage"]),Ase=t=>m0(t,hse,tM),mse=t=>m0(t,"position",tM),fse=new Set(["image","url"]),xse=t=>m0(t,fse,jse),pse=t=>m0(t,"",vse),mp=()=>!0,m0=(t,s,r)=>{const n=eM.exec(t);return n?n[1]?typeof s=="string"?n[1]===s:s.has(n[1]):r(n[2]):!1},gse=t=>lse.test(t)&&!ose.test(t),tM=()=>!1,vse=t=>cse.test(t),jse=t=>dse.test(t),yse=()=>{const t=rn("colors"),s=rn("spacing"),r=rn("blur"),n=rn("brightness"),a=rn("borderColor"),i=rn("borderRadius"),l=rn("borderSpacing"),o=rn("borderWidth"),c=rn("contrast"),d=rn("grayscale"),u=rn("hueRotate"),h=rn("invert"),A=rn("gap"),m=rn("gradientColorStops"),p=rn("gradientColorStopPositions"),f=rn("inset"),x=rn("margin"),g=rn("opacity"),v=rn("padding"),j=rn("saturate"),B=rn("scale"),F=rn("sepia"),P=rn("skew"),E=rn("space"),N=rn("translate"),C=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Ds,s],D=()=>[Ds,s],z=()=>["",vd,ju],K=()=>["auto",cx,Ds],xe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],ie=()=>["","0",Ds],ve=()=>["auto","avoid","all","avoid-page","page","left","right","column"],De=()=>[cx,Ds];return{cacheSize:500,separator:":",theme:{colors:[mp],spacing:[vd,ju],blur:["none","",yu,Ds],brightness:De(),borderColor:[t],borderRadius:["none","","full",yu,Ds],borderSpacing:D(),borderWidth:z(),contrast:De(),grayscale:ie(),hueRotate:De(),invert:ie(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[use,ju],inset:k(),margin:k(),opacity:De(),padding:D(),saturate:De(),scale:De(),sepia:ie(),skew:De(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Ds]}],container:["container"],columns:[{columns:[yu]}],"break-after":[{"break-after":ve()}],"break-before":[{"break-before":ve()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...xe(),Ds]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ap,Ds]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ds]}],grow:[{grow:ie()}],shrink:[{shrink:ie()}],order:[{order:["first","last","none",Ap,Ds]}],"grid-cols":[{"grid-cols":[mp]}],"col-start-end":[{col:["auto",{span:["full",Ap,Ds]},Ds]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[mp]}],"row-start-end":[{row:["auto",{span:[Ap,Ds]},Ds]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ds]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ds]}],gap:[{gap:[A]}],"gap-x":[{"gap-x":[A]}],"gap-y":[{"gap-y":[A]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ds,s]}],"min-w":[{"min-w":[Ds,s,"min","max","fit"]}],"max-w":[{"max-w":[Ds,s,"none","full","min","max","fit","prose",{screen:[yu]},yu]}],h:[{h:[Ds,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ds,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ds,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ds,s,"auto","min","max","fit"]}],"font-size":[{text:["base",yu,ju]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Y4]}],"font-family":[{font:[mp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ds]}],"line-clamp":[{"line-clamp":["none",cx,Y4]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vd,Ds]}],"list-image":[{"list-image":["none",Ds]}],"list-style-type":[{list:["none","disc","decimal",Ds]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vd,ju]}],"underline-offset":[{"underline-offset":["auto",vd,Ds]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ds]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ds]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...xe(),mse]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ase]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xse]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:W()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[vd,Ds]}],"outline-w":[{outline:[vd,ju]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[vd,ju]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",yu,pse]}],"shadow-color":[{shadow:[mp]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",yu,Ds]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ds]}],duration:[{duration:De()}],ease:[{ease:["linear","in","out","in-out",Ds]}],delay:[{delay:De()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ds]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[B]}],"scale-x":[{"scale-x":[B]}],"scale-y":[{"scale-y":[B]}],rotate:[{rotate:[Ap,Ds]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ds]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ds]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ds]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vd,ju,Y4]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wse=rse(yse);function Tr(t){"@babel/helpers - typeof";return Tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Tr(t)}var ci=Uint8Array,kl=Uint16Array,N3=Int32Array,U2=new ci([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),O2=new ci([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),DB=new ci([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sM=function(t,s){for(var r=new kl(31),n=0;n<31;++n)r[n]=s+=1<<t[n-1];for(var a=new N3(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},rM=sM(U2,2),nM=rM.b,UB=rM.r;nM[28]=258,UB[258]=28;var aM=sM(O2,0),bse=aM.b,jT=aM.r,OB=new kl(32768);for(var ln=0;ln<32768;++ln){var wu=(ln&43690)>>1|(ln&21845)<<1;wu=(wu&52428)>>2|(wu&13107)<<2,wu=(wu&61680)>>4|(wu&3855)<<4,OB[ln]=((wu&65280)>>8|(wu&255)<<8)>>1}var zc=function(t,s,r){for(var n=t.length,a=0,i=new kl(s);a<n;++a)t[a]&&++i[t[a]-1];var l=new kl(s);for(a=1;a<s;++a)l[a]=l[a-1]+i[a-1]<<1;var o;if(r){o=new kl(1<<s);var c=15-s;for(a=0;a<n;++a)if(t[a])for(var d=a<<4|t[a],u=s-t[a],h=l[t[a]-1]++<<u,A=h|(1<<u)-1;h<=A;++h)o[OB[h]>>c]=d}else for(o=new kl(n),a=0;a<n;++a)t[a]&&(o[a]=OB[l[t[a]-1]++]>>15-t[a]);return o},bh=new ci(288);for(var ln=0;ln<144;++ln)bh[ln]=8;for(var ln=144;ln<256;++ln)bh[ln]=9;for(var ln=256;ln<280;++ln)bh[ln]=7;for(var ln=280;ln<288;++ln)bh[ln]=8;var tv=new ci(32);for(var ln=0;ln<32;++ln)tv[ln]=5;var Nse=zc(bh,9,0),Cse=zc(bh,9,1),Bse=zc(tv,5,0),Sse=zc(tv,5,1),X4=function(t){for(var s=t[0],r=1;r<t.length;++r)t[r]>s&&(s=t[r]);return s},Fo=function(t,s,r){var n=s/8|0;return(t[n]|t[n+1]<<8)>>(s&7)&r},J4=function(t,s){var r=s/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(s&7)},C3=function(t){return(t+7)/8|0},iM=function(t,s,r){return(r==null||r>t.length)&&(r=t.length),new ci(t.subarray(s,r))},kse=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ro=function(t,s,r){var n=new Error(s||kse[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Ro),!r)throw n;return n},_se=function(t,s,r,n){var a=t.length,i=0;if(!a||s.f&&!s.l)return r||new ci(0);var l=!r,o=l||s.i!=2,c=s.i;l&&(r=new ci(a*3));var d=function(Le){var Re=r.length;if(Le>Re){var Ke=new ci(Math.max(Re*2,Le));Ke.set(r),r=Ke}},u=s.f||0,h=s.p||0,A=s.b||0,m=s.l,p=s.d,f=s.m,x=s.n,g=a*8;do{if(!m){u=Fo(t,h,1);var v=Fo(t,h+1,3);if(h+=3,v)if(v==1)m=Cse,p=Sse,f=9,x=5;else if(v==2){var P=Fo(t,h,31)+257,E=Fo(t,h+10,15)+4,N=P+Fo(t,h+5,31)+1;h+=14;for(var C=new ci(N),_=new ci(19),k=0;k<E;++k)_[DB[k]]=Fo(t,h+k*3,7);h+=E*3;for(var D=X4(_),z=(1<<D)-1,K=zc(_,D,1),k=0;k<N;){var xe=K[Fo(t,h,z)];h+=xe&15;var j=xe>>4;if(j<16)C[k++]=j;else{var W=0,re=0;for(j==16?(re=3+Fo(t,h,3),h+=2,W=C[k-1]):j==17?(re=3+Fo(t,h,7),h+=3):j==18&&(re=11+Fo(t,h,127),h+=7);re--;)C[k++]=W}}var I=C.subarray(0,P),ie=C.subarray(P);f=X4(I),x=X4(ie),m=zc(I,f,1),p=zc(ie,x,1)}else Ro(1);else{var j=C3(h)+4,B=t[j-4]|t[j-3]<<8,F=j+B;if(F>a){c&&Ro(0);break}o&&d(A+B),r.set(t.subarray(j,F),A),s.b=A+=B,s.p=h=F*8,s.f=u;continue}if(h>g){c&&Ro(0);break}}o&&d(A+131072);for(var ve=(1<<f)-1,De=(1<<x)-1,L=h;;L=h){var W=m[J4(t,h)&ve],U=W>>4;if(h+=W&15,h>g){c&&Ro(0);break}if(W||Ro(2),U<256)r[A++]=U;else if(U==256){L=h,m=null;break}else{var R=U-254;if(U>264){var k=U-257,q=U2[k];R=Fo(t,h,(1<<q)-1)+nM[k],h+=q}var ae=p[J4(t,h)&De],Ae=ae>>4;ae||Ro(3),h+=ae&15;var ie=bse[Ae];if(Ae>3){var q=O2[Ae];ie+=J4(t,h)&(1<<q)-1,h+=q}if(h>g){c&&Ro(0);break}o&&d(A+131072);var G=A+R;if(A<ie){var O=i-ie,ee=Math.min(ie,G);for(O+A<0&&Ro(3);A<ee;++A)r[A]=n[O+A]}for(;A<G;++A)r[A]=r[A-ie]}}s.l=m,s.p=L,s.b=A,s.f=u,m&&(u=1,s.m=f,s.d=p,s.n=x)}while(!u);return A!=r.length&&l?iM(r,0,A):r.subarray(0,A)},jd=function(t,s,r){r<<=s&7;var n=s/8|0;t[n]|=r,t[n+1]|=r>>8},fp=function(t,s,r){r<<=s&7;var n=s/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Z4=function(t,s){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:oM,l:0};if(a==1){var l=new ci(r[0].s+1);return l[r[0].s]=1,{t:l,l:1}}r.sort(function(F,P){return F.f-P.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],d=0,u=1,h=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};u!=a-1;)o=r[r[d].f<r[h].f?d++:h++],c=r[d!=u&&r[d].f<r[h].f?d++:h++],r[u++]={s:-1,f:o.f+c.f,l:o,r:c};for(var A=i[0].s,n=1;n<a;++n)i[n].s>A&&(A=i[n].s);var m=new kl(A+1),p=RB(r[u-1],m,0);if(p>s){var n=0,f=0,x=p-s,g=1<<x;for(i.sort(function(P,E){return m[E.s]-m[P.s]||P.f-E.f});n<a;++n){var v=i[n].s;if(m[v]>s)f+=g-(1<<p-m[v]),m[v]=s;else break}for(f>>=x;f>0;){var j=i[n].s;m[j]<s?f-=1<<s-m[j]++-1:++n}for(;n>=0&&f;--n){var B=i[n].s;m[B]==s&&(--m[B],++f)}p=s}return{t:new ci(m),l:p}},RB=function(t,s,r){return t.s==-1?Math.max(RB(t.l,s,r+1),RB(t.r,s,r+1)):s[t.s]=r},yT=function(t){for(var s=t.length;s&&!t[--s];);for(var r=new kl(++s),n=0,a=t[0],i=1,l=function(c){r[n++]=c},o=1;o<=s;++o)if(t[o]==a&&o!=s)++i;else{if(!a&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(a),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(a);i=1,a=t[o]}return{c:r.subarray(0,n),n:s}},xp=function(t,s){for(var r=0,n=0;n<s.length;++n)r+=t[n]*s[n];return r},lM=function(t,s,r){var n=r.length,a=C3(s+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},wT=function(t,s,r,n,a,i,l,o,c,d,u){jd(s,u++,r),++a[256];for(var h=Z4(a,15),A=h.t,m=h.l,p=Z4(i,15),f=p.t,x=p.l,g=yT(A),v=g.c,j=g.n,B=yT(f),F=B.c,P=B.n,E=new kl(19),N=0;N<v.length;++N)++E[v[N]&31];for(var N=0;N<F.length;++N)++E[F[N]&31];for(var C=Z4(E,7),_=C.t,k=C.l,D=19;D>4&&!_[DB[D-1]];--D);var z=d+5<<3,K=xp(a,bh)+xp(i,tv)+l,xe=xp(a,A)+xp(i,f)+l+14+3*D+xp(E,_)+2*E[16]+3*E[17]+7*E[18];if(c>=0&&z<=K&&z<=xe)return lM(s,u,t.subarray(c,c+d));var W,re,I,ie;if(jd(s,u,1+(xe<K)),u+=2,xe<K){W=zc(A,m,0),re=A,I=zc(f,x,0),ie=f;var ve=zc(_,k,0);jd(s,u,j-257),jd(s,u+5,P-1),jd(s,u+10,D-4),u+=14;for(var N=0;N<D;++N)jd(s,u+3*N,_[DB[N]]);u+=3*D;for(var De=[v,F],L=0;L<2;++L)for(var U=De[L],N=0;N<U.length;++N){var R=U[N]&31;jd(s,u,ve[R]),u+=_[R],R>15&&(jd(s,u,U[N]>>5&127),u+=U[N]>>12)}}else W=Nse,re=bh,I=Bse,ie=tv;for(var N=0;N<o;++N){var q=n[N];if(q>255){var R=q>>18&31;fp(s,u,W[R+257]),u+=re[R+257],R>7&&(jd(s,u,q>>23&31),u+=U2[R]);var ae=q&31;fp(s,u,I[ae]),u+=ie[ae],ae>3&&(fp(s,u,q>>5&8191),u+=O2[ae])}else fp(s,u,W[q]),u+=re[q]}return fp(s,u,W[256]),u+re[256]},Ese=new N3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),oM=new ci(0),Fse=function(t,s,r,n,a,i){var l=i.z||t.length,o=new ci(n+l+5*(1+Math.ceil(l/7e3))+a),c=o.subarray(n,o.length-a),d=i.l,u=(i.r||0)&7;if(s){u&&(c[0]=i.r>>3);for(var h=Ese[s-1],A=h>>13,m=h&8191,p=(1<<r)-1,f=i.p||new kl(32768),x=i.h||new kl(p+1),g=Math.ceil(r/3),v=2*g,j=function(Me){return(t[Me]^t[Me+1]<<g^t[Me+2]<<v)&p},B=new N3(25e3),F=new kl(288),P=new kl(32),E=0,N=0,C=i.i||0,_=0,k=i.w||0,D=0;C+2<l;++C){var z=j(C),K=C&32767,xe=x[z];if(f[K]=xe,x[z]=K,k<=C){var W=l-C;if((E>7e3||_>24576)&&(W>423||!d)){u=wT(t,c,0,B,F,P,N,_,D,C-D,u),_=E=N=0,D=C;for(var re=0;re<286;++re)F[re]=0;for(var re=0;re<30;++re)P[re]=0}var I=2,ie=0,ve=m,De=K-xe&32767;if(W>2&&z==j(C-De))for(var L=Math.min(A,W)-1,U=Math.min(32767,C),R=Math.min(258,W);De<=U&&--ve&&K!=xe;){if(t[C+I]==t[C+I-De]){for(var q=0;q<R&&t[C+q]==t[C+q-De];++q);if(q>I){if(I=q,ie=De,q>L)break;for(var ae=Math.min(De,q-2),Ae=0,re=0;re<ae;++re){var G=C-De+re&32767,O=f[G],ee=G-O&32767;ee>Ae&&(Ae=ee,xe=G)}}}K=xe,xe=f[K],De+=K-xe&32767}if(ie){B[_++]=268435456|UB[I]<<18|jT[ie];var Le=UB[I]&31,Re=jT[ie]&31;N+=U2[Le]+O2[Re],++F[257+Le],++P[Re],k=C+I,++E}else B[_++]=t[C],++F[t[C]]}}for(C=Math.max(C,k);C<l;++C)B[_++]=t[C],++F[t[C]];u=wT(t,c,d,B,F,P,N,_,D,C-D,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=x,i.p=f,i.i=C,i.w=k)}else{for(var C=i.w||0;C<l+d;C+=65535){var Ke=C+65535;Ke>=l&&(c[u/8|0]=d,Ke=l),u=lM(c,u+1,t.subarray(C,Ke))}i.i=l}return iM(o,0,n+C3(u)+a)},cM=function(){var t=1,s=0;return{p:function(r){for(var n=t,a=s,i=r.length|0,l=0;l!=i;){for(var o=Math.min(l+2655,i);l<o;++l)a+=n+=r[l];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,s=a},d:function(){return t%=65521,s%=65521,(t&255)<<24|(t&65280)<<8|(s&255)<<8|s>>8}}},Tse=function(t,s,r,n,a){if(!a&&(a={l:1},s.dictionary)){var i=s.dictionary.subarray(-32768),l=new ci(i.length+t.length);l.set(i),l.set(t,i.length),t=l,a.w=i.length}return Fse(t,s.level==null?6:s.level,s.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+s.mem,r,n,a)},dM=function(t,s,r){for(;r;++s)t[s]=r,r>>>=8},Lse=function(t,s){var r=s.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(s.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,s.dictionary){var a=cM();a.p(s.dictionary),dM(t,2,a.d())}},Ise=function(t,s){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ro(6,"invalid zlib data"),(t[1]>>5&1)==1&&Ro(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function MB(t,s){s||(s={});var r=cM();r.p(t);var n=Tse(t,s,s.dictionary?6:2,4);return Lse(n,s),dM(n,n.length-4,r.d()),n}function Pse(t,s){return _se(t.subarray(Ise(t),-4),{i:2},s,s)}var Dse=typeof TextDecoder<"u"&&new TextDecoder,Use=0;try{Dse.decode(oM,{stream:!0}),Use=1}catch{}var vs=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function e5(){vs.console&&typeof vs.console.log=="function"&&vs.console.log.apply(vs.console,arguments)}var Kr={log:e5,warn:function(t){vs.console&&(typeof vs.console.warn=="function"?vs.console.warn.apply(vs.console,arguments):e5.call(null,arguments))},error:function(t){vs.console&&(typeof vs.console.error=="function"?vs.console.error.apply(vs.console,arguments):e5(t))}};function t5(t,s,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){hA(n.response,s,r)},n.onerror=function(){Kr.error("could not download file")},n.send()}function bT(t){var s=new XMLHttpRequest;s.open("HEAD",t,!1);try{s.send()}catch{}return s.status>=200&&s.status<=299}function Uy(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(s)}}var Ag,QB,hA=vs.saveAs||((typeof window>"u"?"undefined":Tr(window))!=="object"||window!==vs?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,s,r){var n=vs.URL||vs.webkitURL,a=document.createElement("a");s=s||t.name||"download",a.download=s,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?bT(a.href)?t5(t,s,r):Uy(a,a.target="_blank"):Uy(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Uy(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,s,r){if(s=s||t.name||"download",typeof t=="string")if(bT(t))t5(t,s,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Uy(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Tr(i)!=="object"&&(Kr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),s)}:function(t,s,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return t5(t,s,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(vs.HTMLElement)||vs.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&i)&&(typeof FileReader>"u"?"undefined":Tr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=l?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(t)}else{var c=vs.URL||vs.webkitURL,d=c.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function uM(t){var s;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,l=a.exec(t);l&&(s=i(l),this.r=s[0],this.g=s[1],this.b=s[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+o+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function s5(t,s){var r=t[0],n=t[1],a=t[2],i=t[3];r=ei(r,n,a,i,s[0],7,-680876936),i=ei(i,r,n,a,s[1],12,-389564586),a=ei(a,i,r,n,s[2],17,606105819),n=ei(n,a,i,r,s[3],22,-1044525330),r=ei(r,n,a,i,s[4],7,-176418897),i=ei(i,r,n,a,s[5],12,1200080426),a=ei(a,i,r,n,s[6],17,-1473231341),n=ei(n,a,i,r,s[7],22,-45705983),r=ei(r,n,a,i,s[8],7,1770035416),i=ei(i,r,n,a,s[9],12,-1958414417),a=ei(a,i,r,n,s[10],17,-42063),n=ei(n,a,i,r,s[11],22,-1990404162),r=ei(r,n,a,i,s[12],7,1804603682),i=ei(i,r,n,a,s[13],12,-40341101),a=ei(a,i,r,n,s[14],17,-1502002290),r=ti(r,n=ei(n,a,i,r,s[15],22,1236535329),a,i,s[1],5,-165796510),i=ti(i,r,n,a,s[6],9,-1069501632),a=ti(a,i,r,n,s[11],14,643717713),n=ti(n,a,i,r,s[0],20,-373897302),r=ti(r,n,a,i,s[5],5,-701558691),i=ti(i,r,n,a,s[10],9,38016083),a=ti(a,i,r,n,s[15],14,-660478335),n=ti(n,a,i,r,s[4],20,-405537848),r=ti(r,n,a,i,s[9],5,568446438),i=ti(i,r,n,a,s[14],9,-1019803690),a=ti(a,i,r,n,s[3],14,-187363961),n=ti(n,a,i,r,s[8],20,1163531501),r=ti(r,n,a,i,s[13],5,-1444681467),i=ti(i,r,n,a,s[2],9,-51403784),a=ti(a,i,r,n,s[7],14,1735328473),r=si(r,n=ti(n,a,i,r,s[12],20,-1926607734),a,i,s[5],4,-378558),i=si(i,r,n,a,s[8],11,-2022574463),a=si(a,i,r,n,s[11],16,1839030562),n=si(n,a,i,r,s[14],23,-35309556),r=si(r,n,a,i,s[1],4,-1530992060),i=si(i,r,n,a,s[4],11,1272893353),a=si(a,i,r,n,s[7],16,-155497632),n=si(n,a,i,r,s[10],23,-1094730640),r=si(r,n,a,i,s[13],4,681279174),i=si(i,r,n,a,s[0],11,-358537222),a=si(a,i,r,n,s[3],16,-722521979),n=si(n,a,i,r,s[6],23,76029189),r=si(r,n,a,i,s[9],4,-640364487),i=si(i,r,n,a,s[12],11,-421815835),a=si(a,i,r,n,s[15],16,530742520),r=ri(r,n=si(n,a,i,r,s[2],23,-995338651),a,i,s[0],6,-198630844),i=ri(i,r,n,a,s[7],10,1126891415),a=ri(a,i,r,n,s[14],15,-1416354905),n=ri(n,a,i,r,s[5],21,-57434055),r=ri(r,n,a,i,s[12],6,1700485571),i=ri(i,r,n,a,s[3],10,-1894986606),a=ri(a,i,r,n,s[10],15,-1051523),n=ri(n,a,i,r,s[1],21,-2054922799),r=ri(r,n,a,i,s[8],6,1873313359),i=ri(i,r,n,a,s[15],10,-30611744),a=ri(a,i,r,n,s[6],15,-1560198380),n=ri(n,a,i,r,s[13],21,1309151649),r=ri(r,n,a,i,s[4],6,-145523070),i=ri(i,r,n,a,s[11],10,-1120210379),a=ri(a,i,r,n,s[2],15,718787259),n=ri(n,a,i,r,s[9],21,-343485551),t[0]=sh(r,t[0]),t[1]=sh(n,t[1]),t[2]=sh(a,t[2]),t[3]=sh(i,t[3])}function R2(t,s,r,n,a,i){return s=sh(sh(s,t),sh(n,i)),sh(s<<a|s>>>32-a,r)}function ei(t,s,r,n,a,i,l){return R2(s&r|~s&n,t,s,a,i,l)}function ti(t,s,r,n,a,i,l){return R2(s&n|r&~n,t,s,a,i,l)}function si(t,s,r,n,a,i,l){return R2(s^r^n,t,s,a,i,l)}function ri(t,s,r,n,a,i,l){return R2(r^(s|~n),t,s,a,i,l)}function hM(t){var s,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=t.length;s+=64)s5(n,Ose(t.substring(s-64,s)));t=t.substring(s-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<t.length;s++)a[s>>2]|=t.charCodeAt(s)<<(s%4<<3);if(a[s>>2]|=128<<(s%4<<3),s>55)for(s5(n,a),s=0;s<16;s++)a[s]=0;return a[14]=8*r,s5(n,a),n}function Ose(t){var s,r=[];for(s=0;s<64;s+=4)r[s>>2]=t.charCodeAt(s)+(t.charCodeAt(s+1)<<8)+(t.charCodeAt(s+2)<<16)+(t.charCodeAt(s+3)<<24);return r}Ag=vs.atob.bind(vs),QB=vs.btoa.bind(vs);var NT="0123456789abcdef".split("");function Rse(t){for(var s="",r=0;r<4;r++)s+=NT[t>>8*r+4&15]+NT[t>>8*r&15];return s}function Mse(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function HB(t){return hM(t).map(Mse).join("")}var Qse=function(t){for(var s=0;s<t.length;s++)t[s]=Rse(t[s]);return t.join("")}(hM("hello"))!="5d41402abc4b2a76b9719d911017c592";function sh(t,s){if(Qse){var r=(65535&t)+(65535&s);return(t>>16)+(s>>16)+(r>>16)<<16|65535&r}return t+s&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function VB(t,s){var r,n,a,i;if(t!==r){for(var l=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),o=[],c=0;c<256;c++)o[c]=c;var d=0;for(c=0;c<256;c++){var u=o[c];d=(d+u+l.charCodeAt(c))%256,o[c]=o[d],o[d]=u}r=t,n=o}else o=n;var h=s.length,A=0,m=0,p="";for(c=0;c<h;c++)m=(m+(u=o[A=(A+1)%256]))%256,o[A]=o[m],o[m]=u,l=o[(o[A]+o[m])%256],p+=String.fromCharCode(s.charCodeAt(c)^l);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var CT={print:4,modify:8,copy:16,"annot-forms":32};function Nf(t,s,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(o){if(CT.perm!==void 0)throw new Error("Invalid permission: "+o);a+=CT[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(s+this.padding).substr(0,32),l=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^a)),this.encryptionKey=HB(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=VB(this.encryptionKey,this.padding)}function Cf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var s="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?s+="#"+("0"+a.toString(16)).slice(-2):s+=t[n]}return s}function BT(t){if(Tr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var s={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");s.hasOwnProperty(r)||(s[r]={});var i=Math.random().toString(35);return s[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in s)if(s[n][r])return delete s[n][r],Object.keys(s[n]).length===0&&delete s[n],!0;return!1},this.publish=function(r){if(s.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in s[r]){var l=s[r][i];try{l[0].apply(t,n)}catch(o){vs.console&&Kr.error("jsPDF PubSub Error",o.message,o)}l[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return s}}function Jw(t){if(!(this instanceof Jw))return new Jw(t);var s="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&s.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function AM(t,s){this.gState=t,this.matrix=s,this.id="",this.objectNumber=-1}function gA(t,s,r,n,a){if(!(this instanceof gA))return new gA(t,s,r,n,a);this.type=t==="axial"?2:3,this.coords=s,this.colors=r,AM.call(this,n,a)}function Vf(t,s,r,n,a){if(!(this instanceof Vf))return new Vf(t,s,r,n,a);this.boundingBox=t,this.xStep=s,this.yStep=r,this.stream="",this.cloneIndex=0,AM.call(this,n,a)}function fs(t){var s,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],l=[],o=1,c=16,d="S",u=null;Tr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(s=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),l=t.filters||(i===!0?["FlateEncode"]:l),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,A={},m={internal:{},__private__:{}};m.__private__.PubSub=BT;var p="1.3",f=m.__private__.getPdfVersion=function(){return p};m.__private__.setPdfVersion=function(S){p=S};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return x};var g=m.__private__.getPageFormat=function(S){return x[S]};a=a||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},j=v.COMPAT;function B(){this.saveGraphicsState(),ge(new As(Lt,0,0,-Lt,0,lu()*Lt).toString()+" cm"),this.setFontSize(this.getFontSize()/Lt),d="n",j=v.ADVANCED}function F(){this.restoreGraphicsState(),d="S",j=v.COMPAT}var P=m.__private__.combineFontStyleAndFontWeight=function(S,Z){if(S=="bold"&&Z=="normal"||S=="bold"&&Z==400||S=="normal"&&Z=="italic"||S=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(S=Z==400||Z==="normal"?S==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||S!=="normal"?(Z==700?"bold":Z)+""+S:"bold"),S};m.advancedAPI=function(S){var Z=j===v.COMPAT;return Z&&B.call(this),typeof S!="function"||(S(this),Z&&F.call(this)),this},m.compatAPI=function(S){var Z=j===v.ADVANCED;return Z&&F.call(this),typeof S!="function"||(S(this),Z&&B.call(this)),this},m.isAdvancedAPI=function(){return j===v.ADVANCED};var E,N=function(S){if(j!==v.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=m.roundToPrecision=m.__private__.roundToPrecision=function(S,Z){var be=s||Z;if(isNaN(S)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(be).replace(/0+$/,"")};E=m.hpf=m.__private__.hpf=typeof c=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return C(S,c)}:c==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return C(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return C(S,16)};var _=m.f2=m.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return C(S,2)},k=m.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return C(S,3)},D=m.scale=m.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return j===v.COMPAT?S*Lt:j===v.ADVANCED?S:void 0},z=function(S){return j===v.COMPAT?lu()-S:j===v.ADVANCED?S:void 0},K=function(S){return D(z(S))};m.__private__.setPrecision=m.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(s=parseInt(S,10))};var xe,W="00000000000000000000000000000000",re=m.__private__.getFileId=function(){return W},I=m.__private__.setFileId=function(S){return W=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Ya=new Nf(u.userPermissions,u.userPassword,u.ownerPassword,W)),W};m.setFileId=function(S){return I(S),this},m.getFileId=function(){return re()};var ie=m.__private__.convertDateToPDFDate=function(S){var Z=S.getTimezoneOffset(),be=Z<0?"+":"-",Te=Math.floor(Math.abs(Z/60)),ze=Math.abs(Z%60),it=[be,R(Te),"'",R(ze),"'"].join("");return["D:",S.getFullYear(),R(S.getMonth()+1),R(S.getDate()),R(S.getHours()),R(S.getMinutes()),R(S.getSeconds()),it].join("")},ve=m.__private__.convertPDFDateToDate=function(S){var Z=parseInt(S.substr(2,4),10),be=parseInt(S.substr(6,2),10)-1,Te=parseInt(S.substr(8,2),10),ze=parseInt(S.substr(10,2),10),it=parseInt(S.substr(12,2),10),kt=parseInt(S.substr(14,2),10);return new Date(Z,be,Te,ze,it,kt,0)},De=m.__private__.setCreationDate=function(S){var Z;if(S===void 0&&(S=new Date),S instanceof Date)Z=ie(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=S}return xe=Z},L=m.__private__.getCreationDate=function(S){var Z=xe;return S==="jsDate"&&(Z=ve(xe)),Z};m.setCreationDate=function(S){return De(S),this},m.getCreationDate=function(S){return L(S)};var U,R=m.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},q=m.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ae=0,Ae=[],G=[],O=0,ee=[],Le=[],Re=!1,Ke=G,Me=function(){ae=0,O=0,G=[],Ae=[],ee=[],he=Cn(),fe=Cn()};m.__private__.setCustomOutputDestination=function(S){Re=!0,Ke=S};var $e=function(S){Re||(Ke=S)};m.__private__.resetCustomOutputDestination=function(){Re=!1,Ke=G};var ge=m.__private__.out=function(S){return S=S.toString(),O+=S.length+1,Ke.push(S),Ke},mt=m.__private__.write=function(S){return ge(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Ot=m.__private__.getArrayBuffer=function(S){for(var Z=S.length,be=new ArrayBuffer(Z),Te=new Uint8Array(be);Z--;)Te[Z]=S.charCodeAt(Z);return be},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ye};var St=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(S){return St=j===v.ADVANCED?S/Lt:S,this};var gt,me=m.__private__.getFontSize=m.getFontSize=function(){return j===v.COMPAT?St:St*Lt},Ee=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(S){return Ee=S,this},m.__private__.getR2L=m.getR2L=function(){return Ee};var Qe,ft=m.__private__.setZoomMode=function(S){var Z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))gt=S;else if(isNaN(S)){if(Z.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');gt=S}else gt=parseInt(S,10)};m.__private__.getZoomMode=function(){return gt};var vt,ut=m.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Qe=S};m.__private__.getPageMode=function(){return Qe};var Et=m.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');vt=S};m.__private__.getLayoutMode=function(){return vt},m.__private__.setDisplayMode=m.setDisplayMode=function(S,Z,be){return ft(S),Et(Z),ut(be),this};var Mt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(S){if(Object.keys(Mt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Mt[S]},m.__private__.getDocumentProperties=function(){return Mt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(S){for(var Z in Mt)Mt.hasOwnProperty(Z)&&S[Z]&&(Mt[Z]=S[Z]);return this},m.__private__.setDocumentProperty=function(S,Z){if(Object.keys(Mt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Mt[S]=Z};var cs,Lt,Pn,Hs,ga,mr={},Br={},Qi=[],Js={},vc={},sn={},dl={},wo=null,Hr=0,Bs=[],fr=new BT(m),od=t.hotfixes||[],ca={},Ml={},Ql=[],As=function S(Z,be,Te,ze,it,kt){if(!(this instanceof S))return new S(Z,be,Te,ze,it,kt);isNaN(Z)&&(Z=1),isNaN(be)&&(be=0),isNaN(Te)&&(Te=0),isNaN(ze)&&(ze=1),isNaN(it)&&(it=0),isNaN(kt)&&(kt=0),this._matrix=[Z,be,Te,ze,it,kt]};Object.defineProperty(As.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(As.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(As.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(As.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(As.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(As.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(As.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(As.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(As.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(As.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(As.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(As.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(As.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(As.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(As.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(As.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),As.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(S)},As.prototype.multiply=function(S){var Z=S.sx*this.sx+S.shy*this.shx,be=S.sx*this.shy+S.shy*this.sy,Te=S.shx*this.sx+S.sy*this.shx,ze=S.shx*this.shy+S.sy*this.sy,it=S.tx*this.sx+S.ty*this.shx+this.tx,kt=S.tx*this.shy+S.ty*this.sy+this.ty;return new As(Z,be,Te,ze,it,kt)},As.prototype.decompose=function(){var S=this.sx,Z=this.shy,be=this.shx,Te=this.sy,ze=this.tx,it=this.ty,kt=Math.sqrt(S*S+Z*Z),Yt=(S/=kt)*be+(Z/=kt)*Te;be-=S*Yt,Te-=Z*Yt;var us=Math.sqrt(be*be+Te*Te);return Yt/=us,S*(Te/=us)<Z*(be/=us)&&(S=-S,Z=-Z,Yt=-Yt,kt=-kt),{scale:new As(kt,0,0,us,0,0),translate:new As(1,0,0,1,ze,it),rotate:new As(S,Z,-Z,S,0,0),skew:new As(1,0,Yt,1,0,0)}},As.prototype.toString=function(S){return this.join(" ")},As.prototype.inversed=function(){var S=this.sx,Z=this.shy,be=this.shx,Te=this.sy,ze=this.tx,it=this.ty,kt=1/(S*Te-Z*be),Yt=Te*kt,us=-Z*kt,Fs=-be*kt,_s=S*kt;return new As(Yt,us,Fs,_s,-Yt*ze-Fs*it,-us*ze-_s*it)},As.prototype.applyToPoint=function(S){var Z=S.x*this.sx+S.y*this.shx+this.tx,be=S.x*this.shy+S.y*this.sy+this.ty;return new Om(Z,be)},As.prototype.applyToRectangle=function(S){var Z=this.applyToPoint(S),be=this.applyToPoint(new Om(S.x+S.w,S.y+S.h));return new O0(Z.x,Z.y,be.x-Z.x,be.y-Z.y)},As.prototype.clone=function(){var S=this.sx,Z=this.shy,be=this.shx,Te=this.sy,ze=this.tx,it=this.ty;return new As(S,Z,be,Te,ze,it)},m.Matrix=As;var ul=m.matrixMult=function(S,Z){return Z.multiply(S)},Hi=new As(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Hi;var Wa=function(S,Z){if(!vc[S]){var be=(Z instanceof gA?"Sh":"P")+(Object.keys(Js).length+1).toString(10);Z.id=be,vc[S]=be,Js[be]=Z,fr.publish("addPattern",Z)}};m.ShadingPattern=gA,m.TilingPattern=Vf,m.addShadingPattern=function(S,Z){return N("addShadingPattern()"),Wa(S,Z),this},m.beginTilingPattern=function(S){N("beginTilingPattern()"),Rj(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},m.endTilingPattern=function(S,Z){N("endTilingPattern()"),Z.stream=Le[U].join(`
`),Wa(S,Z),fr.publish("endTilingPattern",Z),Ql.pop().restore()};var Dn=m.__private__.newObject=function(){var S=Cn();return se(S,!0),S},Cn=m.__private__.newObjectDeferred=function(){return ae++,Ae[ae]=function(){return O},ae},se=function(S,Z){return Z=typeof Z=="boolean"&&Z,Ae[S]=O,Z&&ge(S+" 0 obj"),S},ye=m.__private__.newAdditionalObject=function(){var S={objId:Cn(),content:""};return ee.push(S),S},he=Cn(),fe=Cn(),je=m.__private__.decodeColorString=function(S){var Z=S.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length===5&&(Z[4]==="k"||Z[4]==="K")&&(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var be=parseFloat(Z[0]);Z=[be,be,be,"r"]}for(var Te="#",ze=0;ze<3;ze++)Te+=("0"+Math.floor(255*parseFloat(Z[ze])).toString(16)).slice(-2);return Te},we=m.__private__.encodeColorString=function(S){var Z;typeof S=="string"&&(S={ch1:S});var be=S.ch1,Te=S.ch2,ze=S.ch3,it=S.ch4,kt=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof be=="string"&&be.charAt(0)!=="#"){var Yt=new uM(be);if(Yt.ok)be=Yt.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if(typeof be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),typeof be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(be)){var us=parseInt(be.substr(1),16);be=us>>16&255,Te=us>>8&255,ze=255&us}if(Te===void 0||it===void 0&&be===Te&&Te===ze)if(typeof be=="string")Z=be+" "+kt[0];else switch(S.precision){case 2:Z=_(be/255)+" "+kt[0];break;case 3:default:Z=k(be/255)+" "+kt[0]}else if(it===void 0||Tr(it)==="object"){if(it&&!isNaN(it.a)&&it.a===0)return Z=["1.","1.","1.",kt[1]].join(" ");if(typeof be=="string")Z=[be,Te,ze,kt[1]].join(" ");else switch(S.precision){case 2:Z=[_(be/255),_(Te/255),_(ze/255),kt[1]].join(" ");break;default:case 3:Z=[k(be/255),k(Te/255),k(ze/255),kt[1]].join(" ")}}else if(typeof be=="string")Z=[be,Te,ze,it,kt[2]].join(" ");else switch(S.precision){case 2:Z=[_(be),_(Te),_(ze),_(it),kt[2]].join(" ");break;case 3:default:Z=[k(be),k(Te),k(ze),k(it),kt[2]].join(" ")}return Z},Ge=m.__private__.getFilters=function(){return l},rt=m.__private__.putStream=function(S){var Z=(S=S||{}).data||"",be=S.filters||Ge(),Te=S.alreadyAppliedFilters||[],ze=S.addLength1||!1,it=Z.length,kt=S.objectId,Yt=function(Xa){return Xa};if(u!==null&&kt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Yt=Ya.encryptor(kt,0));var us={};be===!0&&(be=["FlateEncode"]);var Fs=S.additionalKeyValues||[],_s=(us=fs.API.processDataByFilters!==void 0?fs.API.processDataByFilters(Z,be):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(us.data.length!==0&&(Fs.push({key:"Length",value:us.data.length}),ze===!0&&Fs.push({key:"Length1",value:it})),_s.length!=0)if(_s.split("/").length-1==1)Fs.push({key:"Filter",value:_s});else{Fs.push({key:"Filter",value:"["+_s+"]"});for(var nr=0;nr<Fs.length;nr+=1)if(Fs[nr].key==="DecodeParms"){for(var xn=[],Bn=0;Bn<us.reverseChain.split("/").length-1;Bn+=1)xn.push("null");xn.push(Fs[nr].value),Fs[nr].value="["+xn.join(" ")+"]"}}ge("<<");for(var Zn=0;Zn<Fs.length;Zn++)ge("/"+Fs[Zn].key+" "+Fs[Zn].value);ge(">>"),us.data.length!==0&&(ge("stream"),ge(Yt(us.data)),ge("endstream"))},qe=m.__private__.putPage=function(S){var Z=S.number,be=S.data,Te=S.objId,ze=S.contentsObjId;se(Te,!0),ge("<</Type /Page"),ge("/Parent "+S.rootDictionaryObjId+" 0 R"),ge("/Resources "+S.resourceDictionaryObjId+" 0 R"),ge("/MediaBox ["+parseFloat(E(S.mediaBox.bottomLeftX))+" "+parseFloat(E(S.mediaBox.bottomLeftY))+" "+E(S.mediaBox.topRightX)+" "+E(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ge("/CropBox ["+E(S.cropBox.bottomLeftX)+" "+E(S.cropBox.bottomLeftY)+" "+E(S.cropBox.topRightX)+" "+E(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ge("/BleedBox ["+E(S.bleedBox.bottomLeftX)+" "+E(S.bleedBox.bottomLeftY)+" "+E(S.bleedBox.topRightX)+" "+E(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ge("/TrimBox ["+E(S.trimBox.bottomLeftX)+" "+E(S.trimBox.bottomLeftY)+" "+E(S.trimBox.topRightX)+" "+E(S.trimBox.topRightY)+"]"),S.artBox!==null&&ge("/ArtBox ["+E(S.artBox.bottomLeftX)+" "+E(S.artBox.bottomLeftY)+" "+E(S.artBox.topRightX)+" "+E(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ge("/UserUnit "+S.userUnit),fr.publish("putPage",{objId:Te,pageContext:Bs[Z],pageNumber:Z,page:be}),ge("/Contents "+ze+" 0 R"),ge(">>"),ge("endobj");var it=be.join(`
`);return j===v.ADVANCED&&(it+=`
Q`),se(ze,!0),rt({data:it,filters:Ge(),objectId:ze}),ge("endobj"),Te},Ze=m.__private__.putPages=function(){var S,Z,be=[];for(S=1;S<=Hr;S++)Bs[S].objId=Cn(),Bs[S].contentsObjId=Cn();for(S=1;S<=Hr;S++)be.push(qe({number:S,data:Le[S],objId:Bs[S].objId,contentsObjId:Bs[S].contentsObjId,mediaBox:Bs[S].mediaBox,cropBox:Bs[S].cropBox,bleedBox:Bs[S].bleedBox,trimBox:Bs[S].trimBox,artBox:Bs[S].artBox,userUnit:Bs[S].userUnit,rootDictionaryObjId:he,resourceDictionaryObjId:fe}));se(he,!0),ge("<</Type /Pages");var Te="/Kids [";for(Z=0;Z<Hr;Z++)Te+=be[Z]+" 0 R ";ge(Te+"]"),ge("/Count "+Hr),ge(">>"),ge("endobj"),fr.publish("postPutPages")},et=function(S){fr.publish("putFont",{font:S,out:ge,newObject:Dn,putStream:rt}),S.isAlreadyPutted!==!0&&(S.objectNumber=Dn(),ge("<<"),ge("/Type /Font"),ge("/BaseFont /"+Cf(S.postScriptName)),ge("/Subtype /Type1"),typeof S.encoding=="string"&&ge("/Encoding /"+S.encoding),ge("/FirstChar 32"),ge("/LastChar 255"),ge(">>"),ge("endobj"))},_t=function(){for(var S in mr)mr.hasOwnProperty(S)&&(h===!1||h===!0&&A.hasOwnProperty(S))&&et(mr[S])},Pt=function(S){S.objectNumber=Dn();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[E(S.x),E(S.y),E(S.x+S.width),E(S.y+S.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var be=S.pages[1].join(`
`);rt({data:be,additionalKeyValues:Z,objectId:S.objectNumber}),ge("endobj")},Gt=function(){for(var S in ca)ca.hasOwnProperty(S)&&Pt(ca[S])},It=function(S,Z){var be,Te=[],ze=1/(Z-1);for(be=0;be<1;be+=ze)Te.push(be);if(Te.push(1),S[0].offset!=0){var it={offset:0,color:S[0].color};S.unshift(it)}if(S[S.length-1].offset!=1){var kt={offset:1,color:S[S.length-1].color};S.push(kt)}for(var Yt="",us=0,Fs=0;Fs<Te.length;Fs++){for(be=Te[Fs];be>S[us+1].offset;)us++;var _s=S[us].offset,nr=(be-_s)/(S[us+1].offset-_s),xn=S[us].color,Bn=S[us+1].color;Yt+=q(Math.round((1-nr)*xn[0]+nr*Bn[0]).toString(16))+q(Math.round((1-nr)*xn[1]+nr*Bn[1]).toString(16))+q(Math.round((1-nr)*xn[2]+nr*Bn[2]).toString(16))}return Yt.trim()},qt=function(S,Z){Z||(Z=21);var be=Dn(),Te=It(S.colors,Z),ze=[];ze.push({key:"FunctionType",value:"0"}),ze.push({key:"Domain",value:"[0.0 1.0]"}),ze.push({key:"Size",value:"["+Z+"]"}),ze.push({key:"BitsPerSample",value:"8"}),ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rt({data:Te,additionalKeyValues:ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),ge("endobj"),S.objectNumber=Dn(),ge("<< /ShadingType "+S.type),ge("/ColorSpace /DeviceRGB");var it="/Coords ["+E(parseFloat(S.coords[0]))+" "+E(parseFloat(S.coords[1]))+" ";S.type===2?it+=E(parseFloat(S.coords[2]))+" "+E(parseFloat(S.coords[3])):it+=E(parseFloat(S.coords[2]))+" "+E(parseFloat(S.coords[3]))+" "+E(parseFloat(S.coords[4]))+" "+E(parseFloat(S.coords[5])),ge(it+="]"),S.matrix&&ge("/Matrix ["+S.matrix.toString()+"]"),ge("/Function "+be+" 0 R"),ge("/Extend [true true]"),ge(">>"),ge("endobj")},Ns=function(S,Z){var be=Cn(),Te=Dn();Z.push({resourcesOid:be,objectOid:Te}),S.objectNumber=Te;var ze=[];ze.push({key:"Type",value:"/Pattern"}),ze.push({key:"PatternType",value:"1"}),ze.push({key:"PaintType",value:"1"}),ze.push({key:"TilingType",value:"1"}),ze.push({key:"BBox",value:"["+S.boundingBox.map(E).join(" ")+"]"}),ze.push({key:"XStep",value:E(S.xStep)}),ze.push({key:"YStep",value:E(S.yStep)}),ze.push({key:"Resources",value:be+" 0 R"}),S.matrix&&ze.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),rt({data:S.stream,additionalKeyValues:ze,objectId:S.objectNumber}),ge("endobj")},jr=function(S){var Z;for(Z in Js)Js.hasOwnProperty(Z)&&(Js[Z]instanceof gA?qt(Js[Z]):Js[Z]instanceof Vf&&Ns(Js[Z],S))},Ur=function(S){for(var Z in S.objectNumber=Dn(),ge("<<"),S)switch(Z){case"opacity":ge("/ca "+_(S[Z]));break;case"stroke-opacity":ge("/CA "+_(S[Z]))}ge(">>"),ge("endobj")},Jn=function(){var S;for(S in sn)sn.hasOwnProperty(S)&&Ur(sn[S])},bo=function(){for(var S in ge("/XObject <<"),ca)ca.hasOwnProperty(S)&&ca[S].objectNumber>=0&&ge("/"+S+" "+ca[S].objectNumber+" 0 R");fr.publish("putXobjectDict"),ge(">>")},cd=function(){Ya.oid=Dn(),ge("<<"),ge("/Filter /Standard"),ge("/V "+Ya.v),ge("/R "+Ya.r),ge("/U <"+Ya.toHexString(Ya.U)+">"),ge("/O <"+Ya.toHexString(Ya.O)+">"),ge("/P "+Ya.P),ge(">>"),ge("endobj")},jc=function(){for(var S in ge("/Font <<"),mr)mr.hasOwnProperty(S)&&(h===!1||h===!0&&A.hasOwnProperty(S))&&ge("/"+S+" "+mr[S].objectNumber+" 0 R");ge(">>")},No=function(){if(Object.keys(Js).length>0){for(var S in ge("/Shading <<"),Js)Js.hasOwnProperty(S)&&Js[S]instanceof gA&&Js[S].objectNumber>=0&&ge("/"+S+" "+Js[S].objectNumber+" 0 R");fr.publish("putShadingPatternDict"),ge(">>")}},yc=function(S){if(Object.keys(Js).length>0){for(var Z in ge("/Pattern <<"),Js)Js.hasOwnProperty(Z)&&Js[Z]instanceof m.TilingPattern&&Js[Z].objectNumber>=0&&Js[Z].objectNumber<S&&ge("/"+Z+" "+Js[Z].objectNumber+" 0 R");fr.publish("putTilingPatternDict"),ge(">>")}},hl=function(){if(Object.keys(sn).length>0){var S;for(S in ge("/ExtGState <<"),sn)sn.hasOwnProperty(S)&&sn[S].objectNumber>=0&&ge("/"+S+" "+sn[S].objectNumber+" 0 R");fr.publish("putGStateDict"),ge(">>")}},Un=function(S){se(S.resourcesOid,!0),ge("<<"),ge("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),jc(),No(),yc(S.objectOid),hl(),bo(),ge(">>"),ge("endobj")},Nj=function(){var S=[];_t(),Jn(),Gt(),jr(S),fr.publish("putResources"),S.forEach(Un),Un({resourcesOid:fe,objectOid:Number.MAX_SAFE_INTEGER}),fr.publish("postPutResources")},Cj=function(){fr.publish("putAdditionalObjects");for(var S=0;S<ee.length;S++){var Z=ee[S];se(Z.objId,!0),ge(Z.content),ge("endobj")}fr.publish("postPutAdditionalObjects")},Bj=function(S){Br[S.fontName]=Br[S.fontName]||{},Br[S.fontName][S.fontStyle]=S.id},_0=function(S,Z,be,Te,ze){var it={id:"F"+(Object.keys(mr).length+1).toString(10),postScriptName:S,fontName:Z,fontStyle:be,encoding:Te,isStandardFont:ze||!1,metadata:{}};return fr.publish("addFont",{font:it,instance:this}),mr[it.id]=it,Bj(it),it.id},EN=function(S){for(var Z=0,be=Ye.length;Z<be;Z++){var Te=_0.call(this,S[Z][0],S[Z][1],S[Z][2],Ye[Z][3],!0);h===!1&&(A[Te]=!0);var ze=S[Z][0].split("-");Bj({id:Te,fontName:ze[0],fontStyle:ze[1]||""})}fr.publish("addFonts",{fonts:mr,dictionary:Br})},Co=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(Te){var Z=Te.stack||"";~Z.indexOf(" at ")&&(Z=Z.split(" at ")[1]);var be="Error in function "+Z.split(`
`)[0].split("<")[0]+": "+Te.message;if(!vs.console)throw new Error(be);vs.console.error(be,Te),vs.alert&&alert(be)}},S.foo.bar=S,S.foo},Tm=function(S,Z){var be,Te,ze,it,kt,Yt,us,Fs,_s;if(ze=(Z=Z||{}).sourceEncoding||"Unicode",kt=Z.outputEncoding,(Z.autoencode||kt)&&mr[cs].metadata&&mr[cs].metadata[ze]&&mr[cs].metadata[ze].encoding&&(it=mr[cs].metadata[ze].encoding,!kt&&mr[cs].encoding&&(kt=mr[cs].encoding),!kt&&it.codePages&&(kt=it.codePages[0]),typeof kt=="string"&&(kt=it[kt]),kt)){for(us=!1,Yt=[],be=0,Te=S.length;be<Te;be++)(Fs=kt[S.charCodeAt(be)])?Yt.push(String.fromCharCode(Fs)):Yt.push(S[be]),Yt[be].charCodeAt(0)>>8&&(us=!0);S=Yt.join("")}for(be=S.length;us===void 0&&be!==0;)S.charCodeAt(be-1)>>8&&(us=!0),be--;if(!us)return S;for(Yt=Z.noBOM?[]:[254,255],be=0,Te=S.length;be<Te;be++){if((_s=(Fs=S.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Yt.push(_s),Yt.push(Fs-(_s<<8))}return String.fromCharCode.apply(void 0,Yt)},Vi=m.__private__.pdfEscape=m.pdfEscape=function(S,Z){return Tm(S,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},E0=m.__private__.beginPage=function(S){Le[++Hr]=[],Bs[Hr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},kj(Hr),$e(Le[U])},Sj=function(S,Z){var be,Te,ze;switch(r=Z||r,typeof S=="string"&&(be=g(S.toLowerCase()),Array.isArray(be)&&(Te=be[0],ze=be[1])),Array.isArray(S)&&(Te=S[0]*Lt,ze=S[1]*Lt),isNaN(Te)&&(Te=a[0],ze=a[1]),(Te>14400||ze>14400)&&(Kr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),ze=Math.min(14400,ze)),a=[Te,ze],r.substr(0,1)){case"l":ze>Te&&(a=[ze,Te]);break;case"p":Te>ze&&(a=[ze,Te])}E0(a),Ij(I0),ge(Bo),D0!==0&&ge(D0+" J"),U0!==0&&ge(U0+" j"),fr.publish("addPage",{pageNumber:Hr})},FN=function(S){S>0&&S<=Hr&&(Le.splice(S,1),Bs.splice(S,1),Hr--,U>Hr&&(U=Hr),this.setPage(U))},kj=function(S){S>0&&S<=Hr&&(U=S)},TN=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Le.length-1},_j=function(S,Z,be){var Te,ze=void 0;return be=be||{},S=S!==void 0?S:mr[cs].fontName,Z=Z!==void 0?Z:mr[cs].fontStyle,Te=S.toLowerCase(),Br[Te]!==void 0&&Br[Te][Z]!==void 0?ze=Br[Te][Z]:Br[S]!==void 0&&Br[S][Z]!==void 0?ze=Br[S][Z]:be.disableWarning===!1&&Kr.warn("Unable to look up font label for font '"+S+"', '"+Z+"'. Refer to getFontList() for available fonts."),ze||be.noFallback||(ze=Br.times[Z])==null&&(ze=Br.times.normal),ze},LN=m.__private__.putInfo=function(){var S=Dn(),Z=function(Te){return Te};for(var be in u!==null&&(Z=Ya.encryptor(S,0)),ge("<<"),ge("/Producer ("+Vi(Z("jsPDF "+fs.version))+")"),Mt)Mt.hasOwnProperty(be)&&Mt[be]&&ge("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+Vi(Z(Mt[be]))+")");ge("/CreationDate ("+Vi(Z(xe))+")"),ge(">>"),ge("endobj")},F0=m.__private__.putCatalog=function(S){var Z=(S=S||{}).rootDictionaryObjId||he;switch(Dn(),ge("<<"),ge("/Type /Catalog"),ge("/Pages "+Z+" 0 R"),gt||(gt="fullwidth"),gt){case"fullwidth":ge("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ge("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ge("/OpenAction [3 0 R /Fit]");break;case"original":ge("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+gt;be.substr(be.length-1)==="%"&&(gt=parseInt(gt)/100),typeof gt=="number"&&ge("/OpenAction [3 0 R /XYZ null null "+_(gt)+"]")}switch(vt||(vt="continuous"),vt){case"continuous":ge("/PageLayout /OneColumn");break;case"single":ge("/PageLayout /SinglePage");break;case"two":case"twoleft":ge("/PageLayout /TwoColumnLeft");break;case"tworight":ge("/PageLayout /TwoColumnRight")}Qe&&ge("/PageMode /"+Qe),fr.publish("putCatalog"),ge(">>"),ge("endobj")},IN=m.__private__.putTrailer=function(){ge("trailer"),ge("<<"),ge("/Size "+(ae+1)),ge("/Root "+ae+" 0 R"),ge("/Info "+(ae-1)+" 0 R"),u!==null&&ge("/Encrypt "+Ya.oid+" 0 R"),ge("/ID [ <"+W+"> <"+W+"> ]"),ge(">>")},PN=m.__private__.putHeader=function(){ge("%PDF-"+p),ge("%")},DN=m.__private__.putXRef=function(){var S="0000000000";ge("xref"),ge("0 "+(ae+1)),ge("0000000000 65535 f ");for(var Z=1;Z<=ae;Z++)typeof Ae[Z]=="function"?ge((S+Ae[Z]()).slice(-10)+" 00000 n "):Ae[Z]!==void 0?ge((S+Ae[Z]).slice(-10)+" 00000 n "):ge("0000000000 00000 n ")},dd=m.__private__.buildDocument=function(){Me(),$e(G),fr.publish("buildDocument"),PN(),Ze(),Cj(),Nj(),u!==null&&cd(),LN(),F0();var S=O;return DN(),IN(),ge("startxref"),ge(""+S),ge("%%EOF"),$e(Le[U]),G.join(`
`)},Lm=m.__private__.getBlob=function(S){return new Blob([Ot(S)],{type:"application/pdf"})},Im=m.output=m.__private__.output=Co(function(S,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",S){case void 0:return dd();case"save":m.save(Z.filename);break;case"arraybuffer":return Ot(dd());case"blob":return Lm(dd());case"bloburi":case"bloburl":if(vs.URL!==void 0&&typeof vs.URL.createObjectURL=="function")return vs.URL&&vs.URL.createObjectURL(Lm(dd()))||void 0;Kr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",Te=dd();try{be=QB(Te)}catch{be=QB(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+Z.filename+";base64,"+be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vs)==="[object Window]"){var ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",it=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(ze=Z.pdfObjectUrl,it="");var kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ze+'"'+it+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",Yt=vs.open();return Yt!==null&&Yt.document.write(kt),Yt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vs)==="[object Window]"){var us='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',Fs=vs.open();if(Fs!==null){Fs.document.write(us);var _s=this;Fs.document.documentElement.querySelector("#pdfViewer").onload=function(){Fs.document.title=Z.filename,Fs.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(_s.output("bloburl"))}}return Fs}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vs)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',xn=vs.open();if(xn!==null&&(xn.document.write(nr),xn.document.title=Z.filename),xn||typeof safari>"u")return xn;break;case"datauri":case"dataurl":return vs.document.location.href=this.output("datauristring",Z);default:return null}}),Ej=function(S){return Array.isArray(od)===!0&&od.indexOf(S)>-1};switch(n){case"pt":Lt=1;break;case"mm":Lt=72/25.4;break;case"cm":Lt=72/2.54;break;case"in":Lt=72;break;case"px":Lt=Ej("px_scaling")==1?.75:96/72;break;case"pc":case"em":Lt=12;break;case"ex":Lt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Lt=n}var Ya=null;De(),I();var UN=function(S){return u!==null?Ya.encryptor(S,0):function(Z){return Z}},Fj=m.__private__.getPageInfo=m.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Bs[S].objId,pageNumber:S,pageContext:Bs[S]}},Ss=m.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in Bs)if(Bs[Z].objId===S)break;return Fj(Z)},ON=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Bs[U].objId,pageNumber:U,pageContext:Bs[U]}};m.addPage=function(){return Sj.apply(this,arguments),this},m.setPage=function(){return kj.apply(this,arguments),$e.call(this,Le[U]),this},m.insertPage=function(S){return this.addPage(),this.movePage(U,S),this},m.movePage=function(S,Z){var be,Te;if(S>Z){be=Le[S],Te=Bs[S];for(var ze=S;ze>Z;ze--)Le[ze]=Le[ze-1],Bs[ze]=Bs[ze-1];Le[Z]=be,Bs[Z]=Te,this.setPage(Z)}else if(S<Z){be=Le[S],Te=Bs[S];for(var it=S;it<Z;it++)Le[it]=Le[it+1],Bs[it]=Bs[it+1];Le[Z]=be,Bs[Z]=Te,this.setPage(Z)}return this},m.deletePage=function(){return FN.apply(this,arguments),this},m.__private__.text=m.text=function(S,Z,be,Te,ze){var it,kt,Yt,us,Fs,_s,nr,xn,Bn,Zn=(Te=Te||{}).scope||this;if(typeof S=="number"&&typeof Z=="number"&&(typeof be=="string"||Array.isArray(be))){var Xa=be;be=Z,Z=S,S=Xa}if(arguments[3]instanceof As?(N("The transform parameter of text() with a Matrix value"),Bn=ze):(Yt=arguments[4],us=arguments[5],Tr(nr=arguments[3])==="object"&&nr!==null||(typeof Yt=="string"&&(us=Yt,Yt=null),typeof nr=="string"&&(us=nr,nr=null),typeof nr=="number"&&(Yt=nr,nr=null),Te={flags:nr,angle:Yt,align:us})),isNaN(Z)||isNaN(be)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Zn;var va="",So=!1,Al=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:Gh,Nc=Zn.internal.scaleFactor;function Mj(Yr){return Yr=Yr.split("	").join(Array(Te.TabLen||9).join(" ")),Vi(Yr,nr)}function H0(Yr){for(var Xr,Rn=Yr.concat(),da=[],fd=Rn.length;fd--;)typeof(Xr=Rn.shift())=="string"?da.push(Xr):Array.isArray(Yr)&&(Xr.length===1||Xr[1]===void 0&&Xr[2]===void 0)?da.push(Xr[0]):da.push([Xr[0],Xr[1],Xr[2]]);return da}function V0(Yr,Xr){var Rn;if(typeof Yr=="string")Rn=Xr(Yr)[0];else if(Array.isArray(Yr)){for(var da,fd,X0=Yr.concat(),Wm=[],zj=X0.length;zj--;)typeof(da=X0.shift())=="string"?Wm.push(Xr(da)[0]):Array.isArray(da)&&typeof da[0]=="string"&&(fd=Xr(da[0],da[1],da[2]),Wm.push([fd[0],fd[1],fd[2]]));Rn=Wm}return Rn}var Mm=!1,K0=!0;if(typeof S=="string")Mm=!0;else if(Array.isArray(S)){var z0=S.concat();kt=[];for(var Qm,Ea=z0.length;Ea--;)(typeof(Qm=z0.shift())!="string"||Array.isArray(Qm)&&typeof Qm[0]!="string")&&(K0=!1);Mm=K0}if(Mm===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Hm=St/Zn.internal.scaleFactor,Vm=Hm*(Al-1);switch(Te.baseline){case"bottom":be-=Vm;break;case"top":be+=Hm-Vm;break;case"hanging":be+=Hm-2*Vm;break;case"middle":be+=Hm/2-Vm}if((_s=Te.maxWidth||0)>0&&(typeof S=="string"?S=Zn.splitTextToSize(S,_s):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Yr,Xr){return Yr.concat(Zn.splitTextToSize(Xr,_s))},[]))),it={text:S,x:Z,y:be,options:Te,mutex:{pdfEscape:Vi,activeFontKey:cs,fonts:mr,activeFontSize:St}},fr.publish("preProcessText",it),S=it.text,Yt=(Te=it.options).angle,!(Bn instanceof As)&&Yt&&typeof Yt=="number"){Yt*=Math.PI/180,Te.rotationDirection===0&&(Yt=-Yt),j===v.ADVANCED&&(Yt=-Yt);var Km=Math.cos(Yt),q0=Math.sin(Yt);Bn=new As(Km,q0,-q0,Km,0,0)}else Yt&&Yt instanceof As&&(Bn=Yt);j!==v.ADVANCED||Bn||(Bn=Hi),(Fs=Te.charSpace||Um)!==void 0&&(va+=E(D(Fs))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xn=Te.horizontalScale)!==void 0&&(va+=E(100*xn)+` Tz
`),Te.lang;var Ki=-1,GN=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,$0=Zn.internal.getCurrentPageInfo().pageContext;switch(GN){case 0:case!1:case"fill":Ki=0;break;case 1:case!0:case"stroke":Ki=1;break;case 2:case"fillThenStroke":Ki=2;break;case 3:case"invisible":Ki=3;break;case 4:case"fillAndAddForClipping":Ki=4;break;case 5:case"strokeAndAddPathForClipping":Ki=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ki=6;break;case 7:case"addToPathForClipping":Ki=7}var Qj=$0.usedRenderingMode!==void 0?$0.usedRenderingMode:-1;Ki!==-1?va+=Ki+` Tr
`:Qj!==-1&&(va+=`0 Tr
`),Ki!==-1&&($0.usedRenderingMode=Ki),us=Te.align||"left";var Hl,zm=St*Al,Hj=Zn.internal.pageSize.getWidth(),Vj=mr[cs];Fs=Te.charSpace||Um,_s=Te.maxWidth||0,nr=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var ou=[],Xh=function(Yr){return Zn.getStringUnitWidth(Yr,{font:Vj,charSpace:Fs,fontSize:St,doKerning:!1})*St/Nc};if(Object.prototype.toString.call(S)==="[object Array]"){var zi;kt=H0(S),us!=="left"&&(Hl=kt.map(Xh));var vi,cu=0;if(us==="right"){Z-=Hl[0],S=[],Ea=kt.length;for(var hd=0;hd<Ea;hd++)hd===0?(vi=bc(Z),zi=ud(be)):(vi=D(cu-Hl[hd]),zi=-zm),S.push([kt[hd],vi,zi]),cu=Hl[hd]}else if(us==="center"){Z-=Hl[0]/2,S=[],Ea=kt.length;for(var Ad=0;Ad<Ea;Ad++)Ad===0?(vi=bc(Z),zi=ud(be)):(vi=D((cu-Hl[Ad])/2),zi=-zm),S.push([kt[Ad],vi,zi]),cu=Hl[Ad]}else if(us==="left"){S=[],Ea=kt.length;for(var qm=0;qm<Ea;qm++)S.push(kt[qm])}else if(us==="justify"&&Vj.encoding==="Identity-H"){S=[],Ea=kt.length,_s=_s!==0?_s:Hj;for(var md=0,On=0;On<Ea;On++)if(zi=On===0?ud(be):-zm,vi=On===0?bc(Z):md,On<Ea-1){var G0=D((_s-Hl[On])/(kt[On].split(" ").length-1)),ji=kt[On].split(" ");S.push([ji[0]+" ",vi,zi]),md=0;for(var Vl=1;Vl<ji.length;Vl++){var $m=(Xh(ji[Vl-1]+" "+ji[Vl])-Xh(ji[Vl]))*Nc+G0;Vl==ji.length-1?S.push([ji[Vl],$m,0]):S.push([ji[Vl]+" ",$m,0]),md-=$m}}else S.push([kt[On],vi,zi]);S.push(["",md,0])}else{if(us!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Ea=kt.length,_s=_s!==0?_s:Hj,On=0;On<Ea;On++)zi=On===0?ud(be):-zm,vi=On===0?bc(Z):0,On<Ea-1?ou.push(E(D((_s-Hl[On])/(kt[On].split(" ").length-1)))):ou.push(0),S.push([kt[On],vi,zi])}}var Kj=typeof Te.R2L=="boolean"?Te.R2L:Ee;Kj===!0&&(S=V0(S,function(Yr,Xr,Rn){return[Yr.split("").reverse().join(""),Xr,Rn]})),it={text:S,x:Z,y:be,options:Te,mutex:{pdfEscape:Vi,activeFontKey:cs,fonts:mr,activeFontSize:St}},fr.publish("postProcessText",it),S=it.text,So=it.mutex.isHex||!1;var W0=mr[cs].encoding;W0!=="WinAnsiEncoding"&&W0!=="StandardEncoding"||(S=V0(S,function(Yr,Xr,Rn){return[Mj(Yr),Xr,Rn]})),kt=H0(S),S=[];for(var Jh,Zh,du,eA=0,Gm=1,tA=Array.isArray(kt[0])?Gm:eA,uu="",Y0=function(Yr,Xr,Rn){var da="";return Rn instanceof As?(Rn=typeof Te.angle=="number"?ul(Rn,new As(1,0,0,1,Yr,Xr)):ul(new As(1,0,0,1,Yr,Xr),Rn),j===v.ADVANCED&&(Rn=ul(new As(1,0,0,-1,0,0),Rn)),da=Rn.join(" ")+` Tm
`):da=E(Yr)+" "+E(Xr)+` Td
`,da},Kl=0;Kl<kt.length;Kl++){switch(uu="",tA){case Gm:du=(So?"<":"(")+kt[Kl][0]+(So?">":")"),Jh=parseFloat(kt[Kl][1]),Zh=parseFloat(kt[Kl][2]);break;case eA:du=(So?"<":"(")+kt[Kl]+(So?">":")"),Jh=bc(Z),Zh=ud(be)}ou!==void 0&&ou[Kl]!==void 0&&(uu=ou[Kl]+` Tw
`),Kl===0?S.push(uu+Y0(Jh,Zh,Bn)+du):tA===eA?S.push(uu+du):tA===Gm&&S.push(uu+Y0(Jh,Zh,Bn)+du)}S=tA===eA?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var zl=`BT
/`;return zl+=cs+" "+St+` Tf
`,zl+=E(St*Al)+` TL
`,zl+=Wh+`
`,zl+=va,zl+=S,ge(zl+="ET"),A[cs]=!0,Zn};var RN=m.__private__.clip=m.clip=function(S){return ge(S==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return RN("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ge("n"),this};var wc=m.__private__.isValidStyle=function(S){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(Z=!0),Z};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(S){return wc(S)&&(d=S),this};var Tj=m.__private__.getStyle=m.getStyle=function(S){var Z=d;switch(S){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=S}return Z},Lj=m.close=function(){return ge("h"),this};m.stroke=function(){return ge("S"),this},m.fill=function(S){return Pm("f",S),this},m.fillEvenOdd=function(S){return Pm("f*",S),this},m.fillStroke=function(S){return Pm("B",S),this},m.fillStrokeEvenOdd=function(S){return Pm("B*",S),this};var Pm=function(S,Z){Tr(Z)==="object"?QN(Z,S):ge(S)},T0=function(S){S===null||j===v.ADVANCED&&S===void 0||(S=Tj(S),ge(S))};function MN(S,Z,be,Te,ze){var it=new Vf(Z||this.boundingBox,be||this.xStep,Te||this.yStep,this.gState,ze||this.matrix);it.stream=this.stream;var kt=S+"$$"+this.cloneIndex+++"$$";return Wa(kt,it),it}var QN=function(S,Z){var be=vc[S.key],Te=Js[be];if(Te instanceof gA)ge("q"),ge(HN(Z)),Te.gState&&m.setGState(Te.gState),ge(S.matrix.toString()+" cm"),ge("/"+be+" sh"),ge("Q");else if(Te instanceof Vf){var ze=new As(1,0,0,-1,0,lu());S.matrix&&(ze=ze.multiply(S.matrix||Hi),be=MN.call(Te,S.key,S.boundingBox,S.xStep,S.yStep,ze).id),ge("q"),ge("/Pattern cs"),ge("/"+be+" scn"),Te.gState&&m.setGState(Te.gState),ge(Z),ge("Q")}},HN=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},L0=m.moveTo=function(S,Z){return ge(E(D(S))+" "+E(K(Z))+" m"),this},$h=m.lineTo=function(S,Z){return ge(E(D(S))+" "+E(K(Z))+" l"),this},au=m.curveTo=function(S,Z,be,Te,ze,it){return ge([E(D(S)),E(K(Z)),E(D(be)),E(K(Te)),E(D(ze)),E(K(it)),"c"].join(" ")),this};m.__private__.line=m.line=function(S,Z,be,Te,ze){if(isNaN(S)||isNaN(Z)||isNaN(be)||isNaN(Te)||!wc(ze))throw new Error("Invalid arguments passed to jsPDF.line");return j===v.COMPAT?this.lines([[be-S,Te-Z]],S,Z,[1,1],ze||"S"):this.lines([[be-S,Te-Z]],S,Z,[1,1]).stroke()},m.__private__.lines=m.lines=function(S,Z,be,Te,ze,it){var kt,Yt,us,Fs,_s,nr,xn,Bn,Zn,Xa,va,So;if(typeof S=="number"&&(So=be,be=Z,Z=S,S=So),Te=Te||[1,1],it=it||!1,isNaN(Z)||isNaN(be)||!Array.isArray(S)||!Array.isArray(Te)||!wc(ze)||typeof it!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(L0(Z,be),kt=Te[0],Yt=Te[1],Fs=S.length,Xa=Z,va=be,us=0;us<Fs;us++)(_s=S[us]).length===2?(Xa=_s[0]*kt+Xa,va=_s[1]*Yt+va,$h(Xa,va)):(nr=_s[0]*kt+Xa,xn=_s[1]*Yt+va,Bn=_s[2]*kt+Xa,Zn=_s[3]*Yt+va,Xa=_s[4]*kt+Xa,va=_s[5]*Yt+va,au(nr,xn,Bn,Zn,Xa,va));return it&&Lj(),T0(ze),this},m.path=function(S){for(var Z=0;Z<S.length;Z++){var be=S[Z],Te=be.c;switch(be.op){case"m":L0(Te[0],Te[1]);break;case"l":$h(Te[0],Te[1]);break;case"c":au.apply(this,Te);break;case"h":Lj()}}return this},m.__private__.rect=m.rect=function(S,Z,be,Te,ze){if(isNaN(S)||isNaN(Z)||isNaN(be)||isNaN(Te)||!wc(ze))throw new Error("Invalid arguments passed to jsPDF.rect");return j===v.COMPAT&&(Te=-Te),ge([E(D(S)),E(K(Z)),E(D(be)),E(D(Te)),"re"].join(" ")),T0(ze),this},m.__private__.triangle=m.triangle=function(S,Z,be,Te,ze,it,kt){if(isNaN(S)||isNaN(Z)||isNaN(be)||isNaN(Te)||isNaN(ze)||isNaN(it)||!wc(kt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-S,Te-Z],[ze-be,it-Te],[S-ze,Z-it]],S,Z,[1,1],kt,!0),this},m.__private__.roundedRect=m.roundedRect=function(S,Z,be,Te,ze,it,kt){if(isNaN(S)||isNaN(Z)||isNaN(be)||isNaN(Te)||isNaN(ze)||isNaN(it)||!wc(kt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Yt=4/3*(Math.SQRT2-1);return ze=Math.min(ze,.5*be),it=Math.min(it,.5*Te),this.lines([[be-2*ze,0],[ze*Yt,0,ze,it-it*Yt,ze,it],[0,Te-2*it],[0,it*Yt,-ze*Yt,it,-ze,it],[2*ze-be,0],[-ze*Yt,0,-ze,-it*Yt,-ze,-it],[0,2*it-Te],[0,-it*Yt,ze*Yt,-it,ze,-it]],S+ze,Z,[1,1],kt,!0),this},m.__private__.ellipse=m.ellipse=function(S,Z,be,Te,ze){if(isNaN(S)||isNaN(Z)||isNaN(be)||isNaN(Te)||!wc(ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var it=4/3*(Math.SQRT2-1)*be,kt=4/3*(Math.SQRT2-1)*Te;return L0(S+be,Z),au(S+be,Z-kt,S+it,Z-Te,S,Z-Te),au(S-it,Z-Te,S-be,Z-kt,S-be,Z),au(S-be,Z+kt,S-it,Z+Te,S,Z+Te),au(S+it,Z+Te,S+be,Z+kt,S+be,Z),T0(ze),this},m.__private__.circle=m.circle=function(S,Z,be,Te){if(isNaN(S)||isNaN(Z)||isNaN(be)||!wc(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,Z,be,be,Te)},m.setFont=function(S,Z,be){return be&&(Z=P(Z,be)),cs=_j(S,Z,{disableWarning:!1}),this};var VN=m.__private__.getFont=m.getFont=function(){return mr[_j.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var S,Z,be={};for(S in Br)if(Br.hasOwnProperty(S))for(Z in be[S]=[],Br[S])Br[S].hasOwnProperty(Z)&&be[S].push(Z);return be},m.addFont=function(S,Z,be,Te,ze){var it=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&it.indexOf(arguments[3])!==-1?ze=arguments[3]:arguments[3]&&it.indexOf(arguments[3])==-1&&(be=P(be,Te)),ze=ze||"Identity-H",_0.call(this,S,Z,be,ze)};var Gh,I0=t.lineWidth||.200025,Dm=m.__private__.getLineWidth=m.getLineWidth=function(){return I0},Ij=m.__private__.setLineWidth=m.setLineWidth=function(S){return I0=S,ge(E(D(S))+" w"),this};m.__private__.setLineDash=fs.API.setLineDash=fs.API.setLineDashPattern=function(S,Z){if(S=S||[],Z=Z||0,isNaN(Z)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(be){return E(D(be))}).join(" "),Z=E(D(Z)),ge("["+S+"] "+Z+" d"),this};var Pj=m.__private__.getLineHeight=m.getLineHeight=function(){return St*Gh};m.__private__.getLineHeight=m.getLineHeight=function(){return St*Gh};var Dj=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Gh=S),this},Uj=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Gh};Dj(t.lineHeight);var bc=m.__private__.getHorizontalCoordinate=function(S){return D(S)},ud=m.__private__.getVerticalCoordinate=function(S){return j===v.ADVANCED?S:Bs[U].mediaBox.topRightY-Bs[U].mediaBox.bottomLeftY-D(S)},KN=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(S){return E(bc(S))},iu=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(S){return E(ud(S))},Bo=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return je(Bo)},m.__private__.setStrokeColor=m.setDrawColor=function(S,Z,be,Te){return Bo=we({ch1:S,ch2:Z,ch3:be,ch4:Te,pdfColorType:"draw",precision:2}),ge(Bo),this};var P0=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return je(P0)},m.__private__.setFillColor=m.setFillColor=function(S,Z,be,Te){return P0=we({ch1:S,ch2:Z,ch3:be,ch4:Te,pdfColorType:"fill",precision:2}),ge(P0),this};var Wh=t.textColor||"0 g",zN=m.__private__.getTextColor=m.getTextColor=function(){return je(Wh)};m.__private__.setTextColor=m.setTextColor=function(S,Z,be,Te){return Wh=we({ch1:S,ch2:Z,ch3:be,ch4:Te,pdfColorType:"text",precision:3}),this};var Um=t.charSpace,qN=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Um||0)};m.__private__.setCharSpace=m.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Um=S,this};var D0=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(S){var Z=m.CapJoinStyles[S];if(Z===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return D0=Z,ge(Z+" J"),this};var U0=0;m.__private__.setLineJoin=m.setLineJoin=function(S){var Z=m.CapJoinStyles[S];if(Z===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return U0=Z,ge(Z+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ge(E(D(S))+" M"),this},m.GState=Jw,m.setGState=function(S){(S=typeof S=="string"?sn[dl[S]]:Oj(null,S)).equals(wo)||(ge("/"+S.id+" gs"),wo=S)};var Oj=function(S,Z){if(!S||!dl[S]){var be=!1;for(var Te in sn)if(sn.hasOwnProperty(Te)&&sn[Te].equals(Z)){be=!0;break}if(be)Z=sn[Te];else{var ze="GS"+(Object.keys(sn).length+1).toString(10);sn[ze]=Z,Z.id=ze}return S&&(dl[S]=Z.id),fr.publish("addGState",Z),Z}};m.addGState=function(S,Z){return Oj(S,Z),this},m.saveGraphicsState=function(){return ge("q"),Qi.push({key:cs,size:St,color:Wh}),this},m.restoreGraphicsState=function(){ge("Q");var S=Qi.pop();return cs=S.key,St=S.size,Wh=S.color,wo=null,this},m.setCurrentTransformationMatrix=function(S){return ge(S.toString()+" cm"),this},m.comment=function(S){return ge("#"+S),this};var Om=function(S,Z){var be=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(it){isNaN(it)||(be=parseFloat(it))}});var Te=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(it){isNaN(it)||(Te=parseFloat(it))}});var ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ze},set:function(it){ze=it.toString()}}),this},O0=function(S,Z,be,Te){Om.call(this,S,Z),this.type="rect";var ze=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ze},set:function(kt){isNaN(kt)||(ze=parseFloat(kt))}});var it=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return it},set:function(kt){isNaN(kt)||(it=parseFloat(kt))}}),this},R0=function(){this.page=Hr,this.currentPage=U,this.pages=Le.slice(0),this.pagesContext=Bs.slice(0),this.x=Pn,this.y=Hs,this.matrix=ga,this.width=Yh(U),this.height=lu(U),this.outputDestination=Ke,this.id="",this.objectNumber=-1};R0.prototype.restore=function(){Hr=this.page,U=this.currentPage,Bs=this.pagesContext,Le=this.pages,Pn=this.x,Hs=this.y,ga=this.matrix,M0(U,this.width),Q0(U,this.height),Ke=this.outputDestination};var Rj=function(S,Z,be,Te,ze){Ql.push(new R0),Hr=U=0,Le=[],Pn=S,Hs=Z,ga=ze,E0([be,Te])},$N=function(S){if(Ml[S])Ql.pop().restore();else{var Z=new R0,be="Xo"+(Object.keys(ca).length+1).toString(10);Z.id=be,Ml[S]=be,ca[be]=Z,fr.publish("addFormObject",Z),Ql.pop().restore()}};for(var Rm in m.beginFormObject=function(S,Z,be,Te,ze){return Rj(S,Z,be,Te,ze),this},m.endFormObject=function(S){return $N(S),this},m.doFormObject=function(S,Z){var be=ca[Ml[S]];return ge("q"),ge(Z.toString()+" cm"),ge("/"+be.id+" Do"),ge("Q"),this},m.getFormObject=function(S){var Z=ca[Ml[S]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},m.save=function(S,Z){return S=S||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(hA(Lm(dd()),S),typeof hA.unload=="function"&&vs.setTimeout&&setTimeout(hA.unload,911),this):new Promise(function(be,Te){try{var ze=hA(Lm(dd()),S);typeof hA.unload=="function"&&vs.setTimeout&&setTimeout(hA.unload,911),be(ze)}catch(it){Te(it.message)}})},fs.API)fs.API.hasOwnProperty(Rm)&&(Rm==="events"&&fs.API.events.length?function(S,Z){var be,Te,ze;for(ze=Z.length-1;ze!==-1;ze--)be=Z[ze][0],Te=Z[ze][1],S.subscribe.apply(S,[be].concat(typeof Te=="function"?[Te]:Te))}(fr,fs.API.events):m[Rm]=fs.API[Rm]);var Yh=m.getPageWidth=function(S){return(Bs[S=S||U].mediaBox.topRightX-Bs[S].mediaBox.bottomLeftX)/Lt},M0=m.setPageWidth=function(S,Z){Bs[S].mediaBox.topRightX=Z*Lt+Bs[S].mediaBox.bottomLeftX},lu=m.getPageHeight=function(S){return(Bs[S=S||U].mediaBox.topRightY-Bs[S].mediaBox.bottomLeftY)/Lt},Q0=m.setPageHeight=function(S,Z){Bs[S].mediaBox.topRightY=Z*Lt+Bs[S].mediaBox.bottomLeftY};return m.internal={pdfEscape:Vi,getStyle:Tj,getFont:VN,getFontSize:me,getCharSpace:qN,getTextColor:zN,getLineHeight:Pj,getLineHeightFactor:Uj,getLineWidth:Dm,write:mt,getHorizontalCoordinate:bc,getVerticalCoordinate:ud,getCoordinateString:KN,getVerticalCoordinateString:iu,collections:{},newObject:Dn,newAdditionalObject:ye,newObjectDeferred:Cn,newObjectDeferredBegin:se,getFilters:Ge,putStream:rt,events:fr,scaleFactor:Lt,pageSize:{getWidth:function(){return Yh(U)},setWidth:function(S){M0(U,S)},getHeight:function(){return lu(U)},setHeight:function(S){Q0(U,S)}},encryptionOptions:u,encryption:Ya,getEncryptor:UN,output:Im,getNumberOfPages:TN,pages:Le,out:ge,f2:_,f3:k,getPageInfo:Fj,getPageInfoByObjId:Ss,getCurrentPageInfo:ON,getPDFVersion:f,Point:Om,Rectangle:O0,Matrix:As,hasHotfix:Ej},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Yh(U)},set:function(S){M0(U,S)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return lu(U)},set:function(S){Q0(U,S)},enumerable:!0,configurable:!0}),EN.call(m,Ye),cs="F1",Sj(a,r),fr.publish("initialized"),m}Nf.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Nf.prototype.toHexString=function(t){return t.split("").map(function(s){return("0"+(255&s.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Nf.prototype.hexToBytes=function(t){for(var s=[],r=0;r<t.length;r+=2)s.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return s.join("")},Nf.prototype.processOwnerPassword=function(t,s){return VB(HB(s).substr(0,5),t)},Nf.prototype.encryptor=function(t,s){var r=HB(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&s,s>>8&255)).substr(0,10);return function(n){return VB(r,n)}},Jw.prototype.equals=function(t){var s,r="id,objectNumber,equals";if(!t||Tr(t)!==Tr(this))return!1;var n=0;for(s in this)if(!(r.indexOf(s)>=0)){if(this.hasOwnProperty(s)&&!t.hasOwnProperty(s)||this[s]!==t[s])return!1;n++}for(s in t)t.hasOwnProperty(s)&&r.indexOf(s)<0&&n--;return n===0},fs.API={events:[]},fs.version="3.0.1";var _n=fs.API,B3=1,ym=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Es=function(t){return t.toFixed(2)},bu=function(t){return t.toFixed(5)};_n.__acroform__={};var cl=function(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t},ST=function(t){return t*B3},_c=function(t){var s=new fM,r=as.internal.getHeight(t)||0,n=as.internal.getWidth(t)||0;return s.BBox=[0,0,Number(Es(n)),Number(Es(r))],s},Hse=_n.__acroform__.setBit=function(t,s){if(t=t||0,s=s||0,isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<s},Vse=_n.__acroform__.clearBit=function(t,s){if(t=t||0,s=s||0,isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<s)},Kse=_n.__acroform__.getBit=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<s?1:0},qn=_n.__acroform__.getBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Kse(t,s-1)},$n=_n.__acroform__.setBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Hse(t,s-1)},Gn=_n.__acroform__.clearBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Vse(t,s-1)},zse=_n.__acroform__.calculateCoordinates=function(t,s){var r=s.internal.getHorizontalCoordinate,n=s.internal.getVerticalCoordinate,a=t[0],i=t[1],l=t[2],o=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+o)||0,c.upperRight_X=r(a+l)||0,c.upperRight_Y=n(i)||0,[Number(Es(c.lowerLeft_X)),Number(Es(c.lowerLeft_Y)),Number(Es(c.upperRight_X)),Number(Es(c.upperRight_Y))]},qse=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var s=[],r=t._V||t.DV,n=KB(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;s.push("/Tx BMC"),s.push("q"),s.push("BT"),s.push(t.scope.__private__.encodeColorString(t.color)),s.push("/"+a+" "+Es(n.fontSize)+" Tf"),s.push("1 0 0 1 0 0 Tm"),s.push(n.text),s.push("ET"),s.push("Q"),s.push("EMC");var i=_c(t);return i.scope=t.scope,i.stream=s.join(`
`),i}},KB=function(t,s){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(s=(s=s.substr(0,1)=="("?s.substr(1):s).substr(s.length-1)==")"?s.substr(0,s.length-1):s).split(" ");a=t.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var i=r,l=as.internal.getHeight(t)||0;l=l<0?-l:l;var o=as.internal.getWidth(t)||0;o=o<0?-o:o;var c=function(k,D,z){if(k+1<a.length){var K=D+" "+a[k+1][0];return Oy(K,t,z).width<=o-4}return!1};i++;e:for(;i>0;){s="",i--;var d,u,h=Oy("3",t,i).height,A=t.multiline?l-i:(l-h)/2,m=A+=2,p=0,f=0,x=0;if(i<=0){s=`(...) Tj
`,s+="% Width of Text: "+Oy(s,t,i=12).width+", FieldWidth:"+o+`
`;break}for(var g="",v=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var B=!1;if(a[j].length!==1&&x!==a[j].length-1){if((h+2)*(v+2)+2>l)continue e;g+=a[j][x],B=!0,f=j,j--}else{g=(g+=a[j][x]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var F=parseInt(j),P=c(F,g,i),E=j>=a.length-1;if(P&&!E){g+=" ",x=0;continue}if(P||E){if(E)f=F;else if(t.multiline&&(h+2)*(v+2)+2>l)continue e}else{if(!t.multiline||(h+2)*(v+2)+2>l)continue e;f=F}}for(var N="",C=p;C<=f;C++){var _=a[C];if(t.multiline){if(C===f){N+=_[x]+" ",x=(x+1)%_.length;continue}if(C===p){N+=_[_.length-1]+" ";continue}}N+=_[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,u=Oy(N,t,i).width,t.textAlign){case"right":d=o-u-2;break;case"center":d=(o-u)/2;break;case"left":default:d=2}s+=Es(d)+" "+Es(m)+` Td
`,s+="("+ym(N)+`) Tj
`,s+=-Es(d)+` 0 Td
`,m=-(i+2),u=0,p=B?f:f+1,v++,g=""}break}return n.text=s,n.fontSize=i,n},Oy=function(t,s,r){var n=s.scope.internal.getFont(s.fontName,s.fontStyle),a=s.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:s.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},$se={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Gse=function(t,s){var r={type:"reference",object:t};s.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&s.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Wse=function(t,s){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];s.internal.newObjectDeferredBegin(a.objId,!0),Tr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},Yse=function(t,s){if(s.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(fc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify($se)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");B3=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new xM,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&Gse(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var l in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var o=n[l],c=[],d=o.Rect;if(o.Rect&&(o.Rect=zse(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=as.createDefaultAppearanceStream(o),Tr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=qse(o);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var h="";for(var A in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(A)){var m=o.appearanceStreamContent[A];if(h+="/"+A+" ",h+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var l in m)if(m.hasOwnProperty(l)){var p=m[l];typeof p=="function"&&(p=p.call(a,o)),h+="/"+l+" "+p+" ",a.internal.acroformPlugin.xForms.indexOf(p)>=0||a.internal.acroformPlugin.xForms.push(p)}}else typeof(p=m)=="function"&&(p=p.call(a,o)),h+="/"+l+" "+p,a.internal.acroformPlugin.xForms.indexOf(p)>=0||a.internal.acroformPlugin.xForms.push(p);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:o.objId}),a.internal.out("endobj")}i&&Wse(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},mM=_n.__acroform__.arrayToPdfArray=function(t,s,r){var n=function(l){return l};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),Tr(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(s!==void 0&&r&&(n=r.internal.getEncryptor(s)),a+="("+ym(n(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},r5=function(t,s,r){var n=function(a){return a};return s!==void 0&&r&&(n=r.internal.getEncryptor(s)),(t=t||"").toString(),t="("+ym(n(t))+")"},Mc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Mc.prototype.toString=function(){return this.objId+" 0 R"},Mc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Mc.prototype.getKeyValueListForStream=function(){var t=[],s=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in s)if(Object.getOwnPropertyDescriptor(this,s[r]).configurable===!1){var n=s[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:mM(a,this.objId,this.scope)}):a instanceof Mc?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var fM=function(){Mc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,s=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return s},set:function(r){s=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};cl(fM,Mc);var xM=function(){Mc.call(this);var t,s=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return s.length>0?s:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return s}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ym(r(t))+")"}},set:function(r){t=r}})};cl(xM,Mc);var fc=function t(){Mc.call(this);var s=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return s},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');s=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!qn(s,3)},set:function(g){g?this.F=$n(s,3):this.F=Gn(s,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Zw)return;i="FieldObject"+t.FieldNum++}var g=function(v){return v};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+ym(g(i))+")"},set:function(g){i=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(g){i=g}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/B3:d},set:function(g){d=g}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Zw||this instanceof MA))return r5(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=g}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Ca?A:r5(A,this.objId,this.scope)},set:function(g){g=g.toString(),A=this instanceof Ca?g:g.substr(0,1)==="("?nf(g.substr(1,g.length-2)):nf(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ca?nf(A.substr(1,A.length-1)):A},set:function(g){g=g.toString(),A=this instanceof Ca?"/"+g:g}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ca?m:r5(m,this.objId,this.scope)},set:function(g){g=g.toString(),m=this instanceof Ca?g:g.substr(0,1)==="("?nf(g.substr(1,g.length-2)):nf(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ca?nf(m.substr(1,m.length-1)):m},set:function(g){g=g.toString(),m=this instanceof Ca?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,f=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return f},set:function(g){g=!!g,f=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(g){p=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,1)},set:function(g){g?this.Ff=$n(this.Ff,1):this.Ff=Gn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,2)},set:function(g){g?this.Ff=$n(this.Ff,2):this.Ff=Gn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,3)},set:function(g){g?this.Ff=$n(this.Ff,3):this.Ff=Gn(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');x=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(x){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};cl(fc,Mc);var dx=function(){fc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var s=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mM(s,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,l,o){o||(o=1);for(var c,d=[];c=l.exec(i);)d.push(c[o]);return d}(n,/\((.*?)\)/g)),s=a}}),this.getOptions=function(){return s},this.setOptions=function(r){s=r,this.sort&&s.sort()},this.addOption=function(r){r=(r=r||"").toString(),s.push(r),this.sort&&s.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();s.indexOf(r)!==-1&&(s.splice(s.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,18)},set:function(r){r?this.Ff=$n(this.Ff,18):this.Ff=Gn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=$n(this.Ff,19):this.Ff=Gn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,20)},set:function(r){r?(this.Ff=$n(this.Ff,20),s.sort()):this.Ff=Gn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,22)},set:function(r){r?this.Ff=$n(this.Ff,22):this.Ff=Gn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,23)},set:function(r){r?this.Ff=$n(this.Ff,23):this.Ff=Gn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,27)},set:function(r){r?this.Ff=$n(this.Ff,27):this.Ff=Gn(this.Ff,27)}}),this.hasAppearanceStream=!1};cl(dx,fc);var ux=function(){dx.call(this),this.fontName="helvetica",this.combo=!1};cl(ux,dx);var hx=function(){ux.call(this),this.combo=!0};cl(hx,ux);var G1=function(){hx.call(this),this.edit=!0};cl(G1,hx);var Ca=function(){fc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,15)},set:function(r){r?this.Ff=$n(this.Ff,15):this.Ff=Gn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,16)},set:function(r){r?this.Ff=$n(this.Ff,16):this.Ff=Gn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,17)},set:function(r){r?this.Ff=$n(this.Ff,17):this.Ff=Gn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,26)},set:function(r){r?this.Ff=$n(this.Ff,26):this.Ff=Gn(this.Ff,26)}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(s).length!==0){var n,a=[];for(n in a.push("<<"),s)a.push("/"+n+" ("+ym(r(s[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Tr(r)==="object"&&(s=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(r){typeof r=="string"&&(s.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};cl(Ca,fc);var W1=function(){Ca.call(this),this.pushButton=!0};cl(W1,Ca);var Ax=function(){Ca.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(s){t=s!==void 0?s:[]}})};cl(Ax,Ca);var Zw=function(){var t,s;fc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return s},set:function(a){s=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),n)l.push("/"+i+" ("+ym(a(n[i]))+")");return l.push(">>"),l.join(`
`)},set:function(a){Tr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=as.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};cl(Zw,fc),Ax.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var s in this.Kids)if(this.Kids.hasOwnProperty(s)){var r=this.Kids[s];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Ax.prototype.createOption=function(t){var s=new Zw;return s.Parent=this,s.optionName=t,this.Kids.push(s),Xse.call(this.scope,s),s};var Y1=function(){Ca.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=as.CheckBox.createAppearanceStream()};cl(Y1,Ca);var MA=function(){fc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,13)},set:function(s){s?this.Ff=$n(this.Ff,13):this.Ff=Gn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,21)},set:function(s){s?this.Ff=$n(this.Ff,21):this.Ff=Gn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,23)},set:function(s){s?this.Ff=$n(this.Ff,23):this.Ff=Gn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,24)},set:function(s){s?this.Ff=$n(this.Ff,24):this.Ff=Gn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,25)},set:function(s){s?this.Ff=$n(this.Ff,25):this.Ff=Gn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,26)},set:function(s){s?this.Ff=$n(this.Ff,26):this.Ff=Gn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(s){Number.isInteger(s)&&(t=s)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};cl(MA,fc);var X1=function(){MA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,14)},set:function(t){t?this.Ff=$n(this.Ff,14):this.Ff=Gn(this.Ff,14)}}),this.password=!0};cl(X1,MA);var as={CheckBox:{createAppearanceStream:function(){return{N:{On:as.CheckBox.YesNormal},D:{On:as.CheckBox.YesPushDown,Off:as.CheckBox.OffPushDown}}},YesPushDown:function(t){var s=_c(t);s.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=KB(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Es(as.internal.getWidth(t))+" "+Es(as.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Es(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),s.stream=r.join(`
`),s},YesNormal:function(t){var s=_c(t);s.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=as.internal.getHeight(t),l=as.internal.getWidth(t),o=KB(t,t.caption);return a.push("1 g"),a.push("0 0 "+Es(l)+" "+Es(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Es(l-1)+" "+Es(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Es(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),s.stream=a.join(`
`),s},OffPushDown:function(t){var s=_c(t);s.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Es(as.internal.getWidth(t))+" "+Es(as.internal.getHeight(t))+" re"),r.push("f"),s.stream=r.join(`
`),s}},RadioButton:{Circle:{createAppearanceStream:function(t){var s={D:{Off:as.RadioButton.Circle.OffPushDown},N:{}};return s.N[t]=as.RadioButton.Circle.YesNormal,s.D[t]=as.RadioButton.Circle.YesPushDown,s},getCA:function(){return"l"},YesNormal:function(t){var s=_c(t);s.scope=t.scope;var r=[],n=as.internal.getWidth(t)<=as.internal.getHeight(t)?as.internal.getWidth(t)/4:as.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=as.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+bu(as.internal.getWidth(t)/2)+" "+bu(as.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s},YesPushDown:function(t){var s=_c(t);s.scope=t.scope;var r=[],n=as.internal.getWidth(t)<=as.internal.getHeight(t)?as.internal.getWidth(t)/4:as.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*as.internal.Bezier_C).toFixed(5)),l=Number((n*as.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+bu(as.internal.getWidth(t)/2)+" "+bu(as.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+bu(as.internal.getWidth(t)/2)+" "+bu(as.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),r.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),r.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),r.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s},OffPushDown:function(t){var s=_c(t);s.scope=t.scope;var r=[],n=as.internal.getWidth(t)<=as.internal.getHeight(t)?as.internal.getWidth(t)/4:as.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*as.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+bu(as.internal.getWidth(t)/2)+" "+bu(as.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s}},Cross:{createAppearanceStream:function(t){var s={D:{Off:as.RadioButton.Cross.OffPushDown},N:{}};return s.N[t]=as.RadioButton.Cross.YesNormal,s.D[t]=as.RadioButton.Cross.YesPushDown,s},getCA:function(){return"8"},YesNormal:function(t){var s=_c(t);s.scope=t.scope;var r=[],n=as.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Es(as.internal.getWidth(t)-2)+" "+Es(as.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Es(n.x1.x)+" "+Es(n.x1.y)+" m"),r.push(Es(n.x2.x)+" "+Es(n.x2.y)+" l"),r.push(Es(n.x4.x)+" "+Es(n.x4.y)+" m"),r.push(Es(n.x3.x)+" "+Es(n.x3.y)+" l"),r.push("s"),r.push("Q"),s.stream=r.join(`
`),s},YesPushDown:function(t){var s=_c(t);s.scope=t.scope;var r=as.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Es(as.internal.getWidth(t))+" "+Es(as.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Es(as.internal.getWidth(t)-2)+" "+Es(as.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Es(r.x1.x)+" "+Es(r.x1.y)+" m"),n.push(Es(r.x2.x)+" "+Es(r.x2.y)+" l"),n.push(Es(r.x4.x)+" "+Es(r.x4.y)+" m"),n.push(Es(r.x3.x)+" "+Es(r.x3.y)+" l"),n.push("s"),n.push("Q"),s.stream=n.join(`
`),s},OffPushDown:function(t){var s=_c(t);s.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Es(as.internal.getWidth(t))+" "+Es(as.internal.getHeight(t))+" re"),r.push("f"),s.stream=r.join(`
`),s}}},createDefaultAppearanceStream:function(t){var s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+s+" "+t.fontSize+" Tf "+r}};as.internal={Bezier_C:.551915024494,calculateCross:function(t){var s=as.internal.getWidth(t),r=as.internal.getHeight(t),n=Math.min(s,r);return{x1:{x:(s-n)/2,y:(r-n)/2+n},x2:{x:(s-n)/2+n,y:(r-n)/2},x3:{x:(s-n)/2,y:(r-n)/2},x4:{x:(s-n)/2+n,y:(r-n)/2+n}}}},as.internal.getWidth=function(t){var s=0;return Tr(t)==="object"&&(s=ST(t.Rect[2])),s},as.internal.getHeight=function(t){var s=0;return Tr(t)==="object"&&(s=ST(t.Rect[3])),s};var Xse=_n.addField=function(t){if(Yse(this,t),!(t instanceof fc))throw new Error("Invalid argument passed to jsPDF.addField.");var s;return(s=t).scope.internal.acroformPlugin.printedOut&&(s.scope.internal.acroformPlugin.printedOut=!1,s.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),s.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(s),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};_n.AcroFormChoiceField=dx,_n.AcroFormListBox=ux,_n.AcroFormComboBox=hx,_n.AcroFormEditBox=G1,_n.AcroFormButton=Ca,_n.AcroFormPushButton=W1,_n.AcroFormRadioButton=Ax,_n.AcroFormCheckBox=Y1,_n.AcroFormTextField=MA,_n.AcroFormPasswordField=X1,_n.AcroFormAppearance=as,_n.AcroForm={ChoiceField:dx,ListBox:ux,ComboBox:hx,EditBox:G1,Button:Ca,PushButton:W1,RadioButton:Ax,CheckBox:Y1,TextField:MA,PasswordField:X1,Appearance:as},fs.AcroForm={ChoiceField:dx,ListBox:ux,ComboBox:hx,EditBox:G1,Button:Ca,PushButton:W1,RadioButton:Ax,CheckBox:Y1,TextField:MA,PasswordField:X1,Appearance:as};fs.AcroForm;function pM(t){return t.reduce(function(s,r,n){return s[r]=n,s},{})}(function(t){t.__addimage__={};var s="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(k,D){var z,K,xe,W,re,I=s;if((D=D||s)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(P(k))for(re in r)for(xe=r[re],z=0;z<xe.length;z+=1){for(W=!0,K=0;K<xe[z].length;K+=1)if(xe[z][K]!==void 0&&xe[z][K]!==k[K]){W=!1;break}if(W===!0){I=re;break}}else for(re in r)for(xe=r[re],z=0;z<xe.length;z+=1){for(W=!0,K=0;K<xe[z].length;K+=1)if(xe[z][K]!==void 0&&xe[z][K]!==k.charCodeAt(K)){W=!1;break}if(W===!0){I=re;break}}return I===s&&D!==s&&(I=D),I},a=function k(D){for(var z=this.internal.write,K=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:D.width}),W.push({key:"Height",value:D.height}),D.colorSpace===x.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===x.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var re="",I=0,ie=D.transparency.length;I<ie;I++)re+=D.transparency[I]+" "+D.transparency[I]+" ";W.push({key:"Mask",value:"["+re+"]"})}D.sMask!==void 0&&W.push({key:"SMask",value:D.objectId+1+" 0 R"});var ve=D.filter!==void 0?["/"+D.filter]:void 0;if(K({data:D.data,additionalKeyValues:W,alreadyAppliedFilters:ve,objectId:D.objectId}),z("endobj"),"sMask"in D&&D.sMask!==void 0){var De="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,L={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:De,data:D.sMask};"filter"in D&&(L.filter=D.filter),k.call(this,L)}if(D.colorSpace===x.INDEXED){var U=this.internal.newObject();K({data:N(new Uint8Array(D.palette)),objectId:U}),z("endobj")}},i=function(){var k=this.internal.collections.addImage_images;for(var D in k)a.call(this,k[D])},l=function(){var k,D=this.internal.collections.addImage_images,z=this.internal.write;for(var K in D)z("/I"+(k=D[K]).index,k.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",l))},c=function(){var k=this.internal.collections.addImage_images;return o.call(this),k},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(k){return typeof t["process"+k.toUpperCase()]=="function"},h=function(k){return Tr(k)==="object"&&k.nodeType===1},A=function(k,D){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var z=""+k.getAttribute("src");if(z.indexOf("data:image/")===0)return Ag(unescape(z).split("base64,").pop());var K=t.loadFile(z,!0);if(K!==void 0)return K}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var xe;switch(D){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;case"JPEG":case"JPG":default:xe="image/jpeg"}return Ag(k.toDataURL(xe,1).split("base64,").pop())}},m=function(k){var D=this.internal.collections.addImage_images;if(D){for(var z in D)if(k===D[z].alias)return D[z]}},p=function(k,D,z){return k||D||(k=-96,D=-96),k<0&&(k=-1*z.width*72/k/this.internal.scaleFactor),D<0&&(D=-1*z.height*72/D/this.internal.scaleFactor),k===0&&(k=D*z.width/z.height),D===0&&(D=k*z.height/z.width),[k,D]},f=function(k,D,z,K,xe,W){var re=p.call(this,z,K,xe),I=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,ve=c.call(this);if(z=re[0],K=re[1],ve[xe.index]=xe,W){W*=Math.PI/180;var De=Math.cos(W),L=Math.sin(W),U=function(q){return q.toFixed(4)},R=[U(De),U(L),U(-1*L),U(De),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,I(k),ie(D+K),"cm"].join(" ")),this.internal.write(R.join(" ")),this.internal.write([I(z),"0","0",I(K),"0","0","cm"].join(" "))):this.internal.write([I(z),"0","0",I(K),I(k),ie(D+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=t.__addimage__.sHashCode=function(k){var D,z,K=0;if(typeof k=="string")for(z=k.length,D=0;D<z;D++)K=(K<<5)-K+k.charCodeAt(D),K|=0;else if(P(k))for(z=k.byteLength/2,D=0;D<z;D++)K=(K<<5)-K+k[D],K|=0;return K},j=t.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var D=!0;return k.length===0&&(D=!1),k.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(D=!1),D},B=t.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var D=k.indexOf(",");return D<0?null:k.substring(0,D).trim().endsWith("base64")?k.substring(D+1):null},F=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(k){return F()&&k instanceof ArrayBuffer};var P=t.__addimage__.isArrayBufferView=function(k){return F()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},E=t.__addimage__.binaryStringToUint8Array=function(k){for(var D=k.length,z=new Uint8Array(D),K=0;K<D;K++)z[K]=k.charCodeAt(K);return z},N=t.__addimage__.arrayBufferToBinaryString=function(k){for(var D="",z=P(k)?k:new Uint8Array(k),K=0;K<z.length;K+=8192)D+=String.fromCharCode.apply(null,z.subarray(K,K+8192));return D};t.addImage=function(){var k,D,z,K,xe,W,re,I,ie;if(typeof arguments[1]=="number"?(D=s,z=arguments[1],K=arguments[2],xe=arguments[3],W=arguments[4],re=arguments[5],I=arguments[6],ie=arguments[7]):(D=arguments[1],z=arguments[2],K=arguments[3],xe=arguments[4],W=arguments[5],re=arguments[6],I=arguments[7],ie=arguments[8]),Tr(k=arguments[0])==="object"&&!h(k)&&"imageData"in k){var ve=k;k=ve.imageData,D=ve.format||D||s,z=ve.x||z||0,K=ve.y||K||0,xe=ve.w||ve.width||xe,W=ve.h||ve.height||W,re=ve.alias||re,I=ve.compression||I,ie=ve.rotation||ve.angle||ie}var De=this.internal.getFilters();if(I===void 0&&De.indexOf("FlateEncode")!==-1&&(I="SLOW"),isNaN(z)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var L=C.call(this,k,D,re,I);return f.call(this,z,K,xe,W,L,ie),this};var C=function(k,D,z,K){var xe,W,re;if(typeof k=="string"&&n(k)===s){k=unescape(k);var I=_(k,!1);(I!==""||(I=t.loadFile(k,!0))!==void 0)&&(k=I)}if(h(k)&&(k=A(k,D)),D=n(k,D),!u(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((re=z)==null||re.length===0)&&(z=function(ie){return typeof ie=="string"||P(ie)?v(ie):P(ie.data)?v(ie.data):null}(k)),(xe=m.call(this,z))||(F()&&(k instanceof Uint8Array||D==="RGBA"||(W=k,k=E(k))),xe=this["process"+D.toUpperCase()](k,d.call(this),z,function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in t.image_compression?ie:g.NONE}(K),W)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},_=t.__addimage__.convertBase64ToBinaryString=function(k,D){D=typeof D!="boolean"||D;var z,K="";if(typeof k=="string"){var xe;z=(xe=B(k))!==null&&xe!==void 0?xe:k;try{K=Ag(z)}catch(W){if(D)throw j(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};t.getImageProperties=function(k){var D,z,K="";if(h(k)&&(k=A(k)),typeof k=="string"&&n(k)===s&&((K=_(k,!1))===""&&(K=t.loadFile(k)||""),k=K),z=n(k),!u(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(!F()||k instanceof Uint8Array||(k=E(k)),!(D=this["process"+z.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=z,D}})(fs.API),function(t){var s=function(r){if(r!==void 0&&r!="")return!0};fs.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((n=d[h]).type){case"link":(s(n.options.url)||s(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var A=0;A<d.length;A++){n=d[A];var m=this.internal.pdfEscape,p=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(f.objId),v=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+m(g(n.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(g(v))+") >>",f.content=i;var j=f.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+j,n.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(f.objId,"0 R",x.objId,"0 R");break;case"freetext":a="/Rect ["+l(n.bounds.x)+" "+o(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var B=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(p(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var F=this.annotations._nameMap[n.options.name];n.options.pageNumber=F.page,n.options.top=F.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var P=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,l){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+a),h:d(n+i)},options:l,type:"link"})},t.textWithLink=function(r,n,a,i){var l,o,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;l=Math.ceil(d*u)}else o=c,l=d;return this.text(r,n,a,i),a+=.2*d,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-d,o,l,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(fs.API),function(t){var s={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(f){return s[f.charCodeAt(0)]!==void 0},l=t.__arabicParser__.isArabicLetter=function(f){return typeof f=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(f)},o=t.__arabicParser__.isArabicEndLetter=function(f){return l(f)&&i(f)&&s[f.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(f){return l(f)&&a.indexOf(f.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(f){return l(f)&&i(f)&&s[f.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(f){return l(f)&&i(f)&&s[f.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(f){return l(f)&&i(f)&&s[f.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(f){return l(f)&&i(f)&&s[f.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(f){var x=0,g=r,v="",j=0;for(x=0;x<f.length;x+=1)g[f.charCodeAt(x)]!==void 0?(j++,typeof(g=g[f.charCodeAt(x)])=="number"&&(v+=String.fromCharCode(g),g=r,j=0),x===f.length-1&&(g=r,v+=f.charAt(x-(j-1)),x-=j-1,j=0)):(g=r,v+=f.charAt(x-j),x-=j,j=0);return v};t.__arabicParser__.isArabicDiacritic=function(f){return f!==void 0&&n[f.charCodeAt(0)]!==void 0};var A=t.__arabicParser__.getCorrectForm=function(f,x,g){return l(f)?i(f)===!1?-1:!d(f)||!l(x)&&!l(g)||!l(g)&&o(x)||o(f)&&!l(x)||o(f)&&c(x)||o(f)&&o(x)?0:u(f)&&l(x)&&!o(x)&&l(g)&&d(g)?3:o(f)||!l(g)?1:2:-1},m=function(f){var x=0,g=0,v=0,j="",B="",F="",P=(f=f||"").split("\\s+"),E=[];for(x=0;x<P.length;x+=1){for(E.push(""),g=0;g<P[x].length;g+=1)j=P[x][g],B=P[x][g-1],F=P[x][g+1],l(j)?(v=A(j,B,F),E[x]+=v!==-1?String.fromCharCode(s[j.charCodeAt(0)][v]):j):E[x]+=j;E[x]=h(E[x])}return E.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var f,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(x)){var v=0;for(g=[],v=0;v<x.length;v+=1)Array.isArray(x[v])?g.push([m(x[v][0]),x[v][1],x[v][2]]):g.push([m(x[v])]);f=g}else f=m(x);return typeof arguments[0]=="string"?f:(arguments[0].text=f,arguments[0])};t.events.push(["preProcessText",p])}(fs.API),fs.API.autoPrint=function(t){var s;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){s=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+s+" 0 R")})}return this},function(t){var s=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};s.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},s.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new s,this.canvas.pdf=this}])}(fs.API),function(t){var s={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},s),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(f){c=f}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(f){d=f}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(f){u=f}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(f){h=f}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(f){A=f}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(f){m=f}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(f){p=f}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),A=d.scaleFactor||this.internal.scaleFactor,m=0,p=0,f=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var g=d.maxWidth;g>0?typeof c=="string"?c=this.splitTextToSize(c,g):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(j,B){return j.concat(x.splitTextToSize(B,g))},[])):c=Array.isArray(c)?c:[c];for(var v=0;v<c.length;v++)m<(f=this.getStringUnitWidth(c[v],{font:h})*u)&&(m=f);return m!==0&&(p=c.length),{w:m/=A,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/A,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||s;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||s,A=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,m&&A&&(this.printHeaderRow(c.lineNumber,!0),c.y+=A[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,u,h,A){if(n.call(this),!u)throw new Error("No data for PDF table.");var m,p,f,x,g=[],v=[],j=[],B={},F={},P=[],E=[],N=(A=A||{}).autoSize||!1,C=A.printHeaders!==!1,_=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,k=A.margins||Object.assign({width:this.getPageWidth()},s),D=typeof A.padding=="number"?A.padding:3,z=A.headerBackgroundColor||"#c8c8c8",K=A.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=_,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=K,this.setFontSize(_),h==null)v=g=Object.keys(u[0]),j=g.map(function(){return"left"});else if(Array.isArray(h)&&Tr(h[0])==="object")for(g=h.map(function(ve){return ve.name}),v=h.map(function(ve){return ve.prompt||ve.name||""}),j=h.map(function(ve){return ve.align||"left"}),m=0;m<h.length;m+=1)F[h[m].name]=h[m].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(v=g=h,j=g.map(function(){return"left"}));if(N||Array.isArray(h)&&typeof h[0]=="string")for(m=0;m<g.length;m+=1){for(B[x=g[m]]=u.map(function(ve){return ve[x]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(v[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=B[x],this.setFont(void 0,"normal"),f=0;f<p.length;f+=1)P.push(this.getTextDimensions(p[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[x]=Math.max.apply(null,P)+D+D,P=[]}if(C){var xe={};for(m=0;m<g.length;m+=1)xe[g[m]]={},xe[g[m]].text=v[m],xe[g[m]].align=j[m];var W=o.call(this,xe,F);E=g.map(function(ve){return new i(c,d,F[ve],W,xe[ve].text,void 0,xe[ve].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var re=h.reduce(function(ve,De){return ve[De.name]=De.align,ve},{});for(m=0;m<u.length;m+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:m,data:u[m]},this);var I=o.call(this,u[m],F);for(f=0;f<g.length;f+=1){var ie=u[m][g[f]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:m,col:f,data:ie},this),l.call(this,new i(c,d,F[g[f]],I,ie,m+2,re[g[f]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var o=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(c).map(function(m){var p=c[m];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,d[m]-u-u)},this).map(function(m){return this.getLineHeightFactor()*m.length*h/A+u+u},this).reduce(function(m,p){return Math.max(m,p)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){u=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,A.push(u)),u.lineNumber=c;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,u),this.setTextColor(p)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),r=!1}}(fs.API);var gM={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vM=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],zB=pM(vM),jM=[100,200,300,400,500,600,700,800,900],Jse=pM(jM);function qB(t){var s=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return gM[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(i){return typeof zB[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:s,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:s,style:[a,r,n].join(" ")}}}function kT(t,s,r,n){var a;for(a=r;a>=0&&a<s.length;a+=n)if(t[s[a]])return t[s[a]];for(a=r;a>=0&&a<s.length;a-=n)if(t[s[a]])return t[s[a]]}var Zse={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},_T={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ET(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function ere(t,s,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},Zse,r.genericFontFamilies||{}),i=null,l=null,o=0;o<s.length;++o)if(a[(i=qB(s[o])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){l=t[i.family];break}if(!(l=l||t[n]))throw new Error("Could not find a font-family for the rule '"+ET(i)+"' and default family '"+n+"'.");if(l=function(c,d){if(d[c])return d[c];var u=zB[c],h=u<=zB.normal?-1:1,A=kT(d,vM,u,h);if(!A)throw new Error("Could not find a matching font-stretch value for "+c);return A}(i.stretch,l),l=function(c,d){if(d[c])return d[c];for(var u=gM[c],h=0;h<u.length;++h)if(d[u[h]])return d[u[h]];throw new Error("Could not find a matching font-style for "+c)}(i.style,l),!(l=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var u=Jse[c],h=kT(d,jM,u,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(i.weight,l)))throw new Error("Failed to resolve a font for the rule '"+ET(i)+"'.");return l}function FT(t){return t.trimLeft()}function tre(t,s){for(var r=0;r<t.length;){if(t.charAt(r)===s)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function sre(t){var s=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return s===null?null:[s[0],t.substring(s[0].length)]}var Ry,TT,LT,n5=["times"];(function(t){var s,r,n,a,i,l,o,c,d,u=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new c,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new l,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new l,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),s=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=L;Object.defineProperty(this,"pdf",{get:function(){return U}});var R=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return R},set:function($e){R=!!$e}});var q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return q},set:function($e){q=!!$e}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function($e){isNaN($e)||(ae=$e)}});var Ae=0;Object.defineProperty(this,"posY",{get:function(){return Ae},set:function($e){isNaN($e)||(Ae=$e)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function($e){var ge;typeof $e=="number"?ge=[$e,$e,$e,$e]:((ge=new Array(4))[0]=$e[0],ge[1]=$e.length>=2?$e[1]:ge[0],ge[2]=$e.length>=3?$e[2]:ge[0],ge[3]=$e.length>=4?$e[3]:ge[1]),d.margin=ge}});var G=!1;Object.defineProperty(this,"autoPaging",{get:function(){return G},set:function($e){G=$e}});var O=0;Object.defineProperty(this,"lastBreak",{get:function(){return O},set:function($e){O=$e}});var ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ee},set:function($e){ee=$e}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function($e){$e instanceof u&&(d=$e)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function($e){d.path=$e}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function($e){Le=$e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function($e){var ge;ge=A($e),this.ctx.fillStyle=ge.style,this.ctx.isFillTransparent=ge.a===0,this.ctx.fillOpacity=ge.a,this.pdf.setFillColor(ge.r,ge.g,ge.b,{a:ge.a}),this.pdf.setTextColor(ge.r,ge.g,ge.b,{a:ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function($e){var ge=A($e);this.ctx.strokeStyle=ge.style,this.ctx.isStrokeTransparent=ge.a===0,this.ctx.strokeOpacity=ge.a,ge.a===0?this.pdf.setDrawColor(255,255,255):(ge.a,this.pdf.setDrawColor(ge.r,ge.g,ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function($e){["butt","round","square"].indexOf($e)!==-1&&(this.ctx.lineCap=$e,this.pdf.setLineCap($e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function($e){isNaN($e)||(this.ctx.lineWidth=$e,this.pdf.setLineWidth($e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function($e){["bevel","round","miter"].indexOf($e)!==-1&&(this.ctx.lineJoin=$e,this.pdf.setLineJoin($e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function($e){isNaN($e)||(this.ctx.miterLimit=$e,this.pdf.setMiterLimit($e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function($e){this.ctx.textBaseline=$e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function($e){["right","end","center","left","start"].indexOf($e)!==-1&&(this.ctx.textAlign=$e)}});var Re=null;function Ke($e,ge){if(Re===null){var mt=function(Ot){var Ye=[];return Object.keys(Ot).forEach(function(St){Ot[St].forEach(function(gt){var me=null;switch(gt){case"bold":me={family:St,weight:"bold"};break;case"italic":me={family:St,style:"italic"};break;case"bolditalic":me={family:St,weight:"bold",style:"italic"};break;case"":case"normal":me={family:St}}me!==null&&(me.ref={name:St,style:gt},Ye.push(me))})}),Ye}($e.getFontList());Re=function(Ot){for(var Ye={},St=0;St<Ot.length;++St){var gt=qB(Ot[St]),me=gt.family,Ee=gt.stretch,Qe=gt.style,ft=gt.weight;Ye[me]=Ye[me]||{},Ye[me][Ee]=Ye[me][Ee]||{},Ye[me][Ee][Qe]=Ye[me][Ee][Qe]||{},Ye[me][Ee][Qe][ft]=gt}return Ye}(mt.concat(ge))}return Re}var Me=null;Object.defineProperty(this,"fontFaces",{get:function(){return Me},set:function($e){Re=null,Me=$e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function($e){var ge;if(this.ctx.font=$e,(ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec($e))!==null){var mt=ge[1];ge[2];var Ot=ge[3],Ye=ge[4];ge[5];var St=ge[6],gt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ye)[2];Ye=Math.floor(gt==="px"?parseFloat(Ye)*this.pdf.internal.scaleFactor:gt==="em"?parseFloat(Ye)*this.pdf.getFontSize():parseFloat(Ye)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ye);var me=function(Mt){var cs,Lt,Pn=[],Hs=Mt.trim();if(Hs==="")return n5;if(Hs in _T)return[_T[Hs]];for(;Hs!=="";){switch(Lt=null,cs=(Hs=FT(Hs)).charAt(0)){case'"':case"'":Lt=tre(Hs.substring(1),cs);break;default:Lt=sre(Hs)}if(Lt===null||(Pn.push(Lt[0]),(Hs=FT(Lt[1]))!==""&&Hs.charAt(0)!==","))return n5;Hs=Hs.replace(/^,/,"")}return Pn}(St);if(this.fontFaces){var Ee=ere(Ke(this.pdf,this.fontFaces),me.map(function(Mt){return{family:Mt,stretch:"normal",weight:Ot,style:mt}}));this.pdf.setFont(Ee.ref.name,Ee.ref.style)}else{var Qe="";(Ot==="bold"||parseInt(Ot,10)>=700||mt==="bold")&&(Qe="bold"),mt==="italic"&&(Qe+="italic"),Qe.length===0&&(Qe="normal");for(var ft="",vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ut=0;ut<me.length;ut++){if(this.pdf.internal.getFont(me[ut],Qe,{noFallback:!0,disableWarning:!0})!==void 0){ft=me[ut];break}if(Qe==="bolditalic"&&this.pdf.internal.getFont(me[ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ft=me[ut],Qe="bold";else if(this.pdf.internal.getFont(me[ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ft=me[ut],Qe="normal";break}}if(ft===""){for(var Et=0;Et<me.length;Et++)if(vt[me[Et]]){ft=vt[me[Et]];break}}ft=ft===""?"Times":ft,this.pdf.setFont(ft,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function($e){this.ctx.globalCompositeOperation=$e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function($e){this.ctx.globalAlpha=$e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function($e){this.ctx.lineDashOffset=$e,De.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function($e){this.ctx.lineDash=$e,De.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function($e){this.ctx.ignoreClearRect=!!$e}})};h.prototype.setLineDash=function(L){this.lineDash=L},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){B.call(this,"fill",!1)},h.prototype.stroke=function(){B.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(L,U){if(isNaN(L)||isNaN(U))throw Kr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var R=this.ctx.transform.applyToPoint(new l(L,U));this.path.push({type:"mt",x:R.x,y:R.y}),this.ctx.lastPoint=new l(L,U)},h.prototype.closePath=function(){var L=new l(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&Tr(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){L=new l(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(L.x,L.y)},h.prototype.lineTo=function(L,U){if(isNaN(L)||isNaN(U))throw Kr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var R=this.ctx.transform.applyToPoint(new l(L,U));this.path.push({type:"lt",x:R.x,y:R.y}),this.ctx.lastPoint=new l(R.x,R.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},h.prototype.quadraticCurveTo=function(L,U,R,q){if(isNaN(R)||isNaN(q)||isNaN(L)||isNaN(U))throw Kr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new l(R,q)),Ae=this.ctx.transform.applyToPoint(new l(L,U));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new l(ae.x,ae.y)},h.prototype.bezierCurveTo=function(L,U,R,q,ae,Ae){if(isNaN(ae)||isNaN(Ae)||isNaN(L)||isNaN(U)||isNaN(R)||isNaN(q))throw Kr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var G=this.ctx.transform.applyToPoint(new l(ae,Ae)),O=this.ctx.transform.applyToPoint(new l(L,U)),ee=this.ctx.transform.applyToPoint(new l(R,q));this.path.push({type:"bct",x1:O.x,y1:O.y,x2:ee.x,y2:ee.y,x:G.x,y:G.y}),this.ctx.lastPoint=new l(G.x,G.y)},h.prototype.arc=function(L,U,R,q,ae,Ae){if(isNaN(L)||isNaN(U)||isNaN(R)||isNaN(q)||isNaN(ae))throw Kr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=!!Ae,!this.ctx.transform.isIdentity){var G=this.ctx.transform.applyToPoint(new l(L,U));L=G.x,U=G.y;var O=this.ctx.transform.applyToPoint(new l(0,R)),ee=this.ctx.transform.applyToPoint(new l(0,0));R=Math.sqrt(Math.pow(O.x-ee.x,2)+Math.pow(O.y-ee.y,2))}Math.abs(ae-q)>=2*Math.PI&&(q=0,ae=2*Math.PI),this.path.push({type:"arc",x:L,y:U,radius:R,startAngle:q,endAngle:ae,counterclockwise:Ae})},h.prototype.arcTo=function(L,U,R,q,ae){throw new Error("arcTo not implemented.")},h.prototype.rect=function(L,U,R,q){if(isNaN(L)||isNaN(U)||isNaN(R)||isNaN(q))throw Kr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,U),this.lineTo(L+R,U),this.lineTo(L+R,U+q),this.lineTo(L,U+q),this.lineTo(L,U),this.lineTo(L+R,U),this.lineTo(L,U)},h.prototype.fillRect=function(L,U,R,q){if(isNaN(L)||isNaN(U)||isNaN(R)||isNaN(q))throw Kr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,U,R,q),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},h.prototype.strokeRect=function(L,U,R,q){if(isNaN(L)||isNaN(U)||isNaN(R)||isNaN(q))throw Kr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(L,U,R,q),this.stroke())},h.prototype.clearRect=function(L,U,R,q){if(isNaN(L)||isNaN(U)||isNaN(R)||isNaN(q))throw Kr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,U,R,q))},h.prototype.save=function(L){L=typeof L!="boolean"||L;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,R=0;R<this.pdf.internal.getNumberOfPages();R++)this.pdf.setPage(R+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var q=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=q}},h.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,R=0;R<this.pdf.internal.getNumberOfPages();R++)this.pdf.setPage(R+1),this.pdf.internal.out("Q");this.pdf.setPage(U),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(L){var U,R,q,ae;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))U=0,R=0,q=0,ae=0;else{var Ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(Ae!==null)U=parseInt(Ae[1]),R=parseInt(Ae[2]),q=parseInt(Ae[3]),ae=1;else if((Ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)U=parseInt(Ae[1]),R=parseInt(Ae[2]),q=parseInt(Ae[3]),ae=parseFloat(Ae[4]);else{if(ae=1,typeof L=="string"&&L.charAt(0)!=="#"){var G=new uM(L);L=G.ok?G.toHex():"#000000"}L.length===4?(U=L.substring(1,2),U+=U,R=L.substring(2,3),R+=R,q=L.substring(3,4),q+=q):(U=L.substring(1,3),R=L.substring(3,5),q=L.substring(5,7)),U=parseInt(U,16),R=parseInt(R,16),q=parseInt(q,16)}}return{r:U,g:R,b:q,a:ae,style:L}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(L,U,R,q){if(isNaN(U)||isNaN(R)||typeof L!="string")throw Kr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(q=isNaN(q)?void 0:q,!m.call(this)){var ae=I(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;D.call(this,{text:L,x:U,y:R,scale:Ae,angle:ae,align:this.textAlign,maxWidth:q})}},h.prototype.strokeText=function(L,U,R,q){if(isNaN(U)||isNaN(R)||typeof L!="string")throw Kr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){q=isNaN(q)?void 0:q;var ae=I(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;D.call(this,{text:L,x:U,y:R,scale:Ae,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:q})}},h.prototype.measureText=function(L){if(typeof L!="string")throw Kr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,R=this.pdf.internal.scaleFactor,q=U.internal.getFontSize(),ae=U.getStringUnitWidth(L)*q/U.internal.scaleFactor,Ae=function(G){var O=(G=G||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return O}}),this};return new Ae({width:ae*=Math.round(96*R/72*1e4)/1e4})},h.prototype.scale=function(L,U){if(isNaN(L)||isNaN(U))throw Kr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var R=new c(L,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(R)},h.prototype.rotate=function(L){if(isNaN(L))throw Kr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new c(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},h.prototype.translate=function(L,U){if(isNaN(L)||isNaN(U))throw Kr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var R=new c(1,0,0,1,L,U);this.ctx.transform=this.ctx.transform.multiply(R)},h.prototype.transform=function(L,U,R,q,ae,Ae){if(isNaN(L)||isNaN(U)||isNaN(R)||isNaN(q)||isNaN(ae)||isNaN(Ae))throw Kr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var G=new c(L,U,R,q,ae,Ae);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.setTransform=function(L,U,R,q,ae,Ae){L=isNaN(L)?1:L,U=isNaN(U)?0:U,R=isNaN(R)?0:R,q=isNaN(q)?1:q,ae=isNaN(ae)?0:ae,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new c(L,U,R,q,ae,Ae)};var f=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(L,U,R,q,ae,Ae,G,O,ee){var Le=this.pdf.getImageProperties(L),Re=1,Ke=1,Me=1,$e=1;q!==void 0&&O!==void 0&&(Me=O/q,$e=ee/ae,Re=Le.width/q*O/q,Ke=Le.height/ae*ee/ae),Ae===void 0&&(Ae=U,G=R,U=0,R=0),q!==void 0&&O===void 0&&(O=q,ee=ae),q===void 0&&O===void 0&&(O=Le.width,ee=Le.height);for(var ge,mt=this.ctx.transform.decompose(),Ot=I(mt.rotate.shx),Ye=new c,St=(Ye=(Ye=(Ye=Ye.multiply(mt.translate)).multiply(mt.skew)).multiply(mt.scale)).applyToRectangle(new o(Ae-U*Me,G-R*$e,q*Re,ae*Ke)),gt=x.call(this,St),me=[],Ee=0;Ee<gt.length;Ee+=1)me.indexOf(gt[Ee])===-1&&me.push(gt[Ee]);if(j(me),this.autoPaging)for(var Qe=me[0],ft=me[me.length-1],vt=Qe;vt<ft+1;vt++){this.pdf.setPage(vt);var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=vt===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],cs=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Lt=vt===1?0:Mt+(vt-2)*cs;if(this.ctx.clip_path.length!==0){var Pn=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(ge,this.posX+this.margin[3],-Lt+Et+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=Pn}var Hs=JSON.parse(JSON.stringify(St));Hs=v([Hs],this.posX+this.margin[3],-Lt+Et+this.ctx.prevPageLastElemOffset)[0];var ga=(vt>Qe||vt<ft)&&f.call(this);ga&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,cs,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Hs.x,Hs.y,Hs.w,Hs.h,null,null,Ot),ga&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",St.x,St.y,St.w,St.h,null,null,Ot)};var x=function(L,U,R){var q=[];U=U||this.pdf.internal.pageSize.width,R=R||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":q.push(Math.floor((L.y+ae)/R)+1);break;case"arc":q.push(Math.floor((L.y+ae-L.radius)/R)+1),q.push(Math.floor((L.y+ae+L.radius)/R)+1);break;case"qct":var Ae=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);q.push(Math.floor((Ae.y+ae)/R)+1),q.push(Math.floor((Ae.y+Ae.h+ae)/R)+1);break;case"bct":var G=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);q.push(Math.floor((G.y+ae)/R)+1),q.push(Math.floor((G.y+G.h+ae)/R)+1);break;case"rect":q.push(Math.floor((L.y+ae)/R)+1),q.push(Math.floor((L.y+L.h+ae)/R)+1)}for(var O=0;O<q.length;O+=1)for(;this.pdf.internal.getNumberOfPages()<q[O];)g.call(this);return q},g=function(){var L=this.fillStyle,U=this.strokeStyle,R=this.font,q=this.lineCap,ae=this.lineWidth,Ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=U,this.font=R,this.lineCap=q,this.lineWidth=ae,this.lineJoin=Ae},v=function(L,U,R){for(var q=0;q<L.length;q++)switch(L[q].type){case"bct":L[q].x2+=U,L[q].y2+=R;case"qct":L[q].x1+=U,L[q].y1+=R;case"mt":case"lt":case"arc":default:L[q].x+=U,L[q].y+=R}return L},j=function(L){return L.sort(function(U,R){return U-R})},B=function(L,U){for(var R,q,ae=this.fillStyle,Ae=this.strokeStyle,G=this.lineCap,O=this.lineWidth,ee=Math.abs(O*this.ctx.transform.scaleX),Le=this.lineJoin,Re=JSON.parse(JSON.stringify(this.path)),Ke=JSON.parse(JSON.stringify(this.path)),Me=[],$e=0;$e<Ke.length;$e++)if(Ke[$e].x!==void 0)for(var ge=x.call(this,Ke[$e]),mt=0;mt<ge.length;mt+=1)Me.indexOf(ge[mt])===-1&&Me.push(ge[mt]);for(var Ot=0;Ot<Me.length;Ot++)for(;this.pdf.internal.getNumberOfPages()<Me[Ot];)g.call(this);if(j(Me),this.autoPaging)for(var Ye=Me[0],St=Me[Me.length-1],gt=Ye;gt<St+1;gt++){this.pdf.setPage(gt),this.fillStyle=ae,this.strokeStyle=Ae,this.lineCap=G,this.lineWidth=ee,this.lineJoin=Le;var me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ee=gt===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=gt===1?0:Qe+(gt-2)*ft;if(this.ctx.clip_path.length!==0){var ut=this.path;R=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(R,this.posX+this.margin[3],-vt+Ee+this.ctx.prevPageLastElemOffset),F.call(this,L,!0),this.path=ut}if(q=JSON.parse(JSON.stringify(Re)),this.path=v(q,this.posX+this.margin[3],-vt+Ee+this.ctx.prevPageLastElemOffset),U===!1||gt===0){var Et=(gt>Ye||gt<St)&&f.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],me,ft,null).clip().discardPath()),F.call(this,L,U),Et&&this.pdf.restoreGraphicsState()}this.lineWidth=O}else this.lineWidth=ee,F.call(this,L,U),this.lineWidth=O;this.path=Re},F=function(L,U){if((L!=="stroke"||U||!p.call(this))&&(L==="stroke"||U||!m.call(this))){for(var R,q,ae=[],Ae=this.path,G=0;G<Ae.length;G++){var O=Ae[G];switch(O.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:O,deltas:[],abs:[]});break;case"lt":var ee=ae.length;if(Ae[G-1]&&!isNaN(Ae[G-1].x)&&(R=[O.x-Ae[G-1].x,O.y-Ae[G-1].y],ee>0)){for(;ee>=0;ee--)if(ae[ee-1].close!==!0&&ae[ee-1].begin!==!0){ae[ee-1].deltas.push(R),ae[ee-1].abs.push(O);break}}break;case"bct":R=[O.x1-Ae[G-1].x,O.y1-Ae[G-1].y,O.x2-Ae[G-1].x,O.y2-Ae[G-1].y,O.x-Ae[G-1].x,O.y-Ae[G-1].y],ae[ae.length-1].deltas.push(R);break;case"qct":var Le=Ae[G-1].x+2/3*(O.x1-Ae[G-1].x),Re=Ae[G-1].y+2/3*(O.y1-Ae[G-1].y),Ke=O.x+2/3*(O.x1-O.x),Me=O.y+2/3*(O.y1-O.y),$e=O.x,ge=O.y;R=[Le-Ae[G-1].x,Re-Ae[G-1].y,Ke-Ae[G-1].x,Me-Ae[G-1].y,$e-Ae[G-1].x,ge-Ae[G-1].y],ae[ae.length-1].deltas.push(R);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(O)}}q=U?null:L==="stroke"?"stroke":"fill";for(var mt=!1,Ot=0;Ot<ae.length;Ot++)if(ae[Ot].arc)for(var Ye=ae[Ot].abs,St=0;St<Ye.length;St++){var gt=Ye[St];gt.type==="arc"?N.call(this,gt.x,gt.y,gt.radius,gt.startAngle,gt.endAngle,gt.counterclockwise,void 0,U,!mt):z.call(this,gt.x,gt.y),mt=!0}else if(ae[Ot].close===!0)this.pdf.internal.out("h"),mt=!1;else if(ae[Ot].begin!==!0){var me=ae[Ot].start.x,Ee=ae[Ot].start.y;K.call(this,ae[Ot].deltas,me,Ee),mt=!0}q&&C.call(this,q),U&&_.call(this)}},P=function(L){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,R=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-R;case"top":return L+U-R;case"hanging":return L+U-2*R;case"middle":return L+U/2-R;case"ideographic":return L;case"alphabetic":default:return L}},E=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(U,R){this.colorStops.push([U,R])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(L,U,R,q,ae,Ae,G,O,ee){for(var Le=W.call(this,R,q,ae,Ae),Re=0;Re<Le.length;Re++){var Ke=Le[Re];Re===0&&(ee?k.call(this,Ke.x1+L,Ke.y1+U):z.call(this,Ke.x1+L,Ke.y1+U)),xe.call(this,L,U,Ke.x2,Ke.y2,Ke.x3,Ke.y3,Ke.x4,Ke.y4)}O?_.call(this):C.call(this,G)},C=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},_=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(L,U){this.pdf.internal.out(r(L)+" "+n(U)+" m")},D=function(L){var U;switch(L.align){case"right":case"end":U="right";break;case"center":U="center";break;case"left":case"start":default:U="left"}var R=this.pdf.getTextDimensions(L.text),q=P.call(this,L.y),ae=E.call(this,q)-R.h,Ae=this.ctx.transform.applyToPoint(new l(L.x,q)),G=this.ctx.transform.decompose(),O=new c;O=(O=(O=O.multiply(G.translate)).multiply(G.skew)).multiply(G.scale);for(var ee,Le,Re,Ke=this.ctx.transform.applyToRectangle(new o(L.x,q,R.w,R.h)),Me=O.applyToRectangle(new o(L.x,ae,R.w,R.h)),$e=x.call(this,Me),ge=[],mt=0;mt<$e.length;mt+=1)ge.indexOf($e[mt])===-1&&ge.push($e[mt]);if(j(ge),this.autoPaging)for(var Ot=ge[0],Ye=ge[ge.length-1],St=Ot;St<Ye+1;St++){this.pdf.setPage(St);var gt=St===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ee=this.pdf.internal.pageSize.height-this.margin[2],Qe=Ee-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],vt=ft-this.margin[3],ut=St===1?0:me+(St-2)*Qe;if(this.ctx.clip_path.length!==0){var Et=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(ee,this.posX+this.margin[3],-1*ut+gt),F.call(this,"fill",!0),this.path=Et}var Mt=v([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-ut+gt+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*L.scale),Re=this.lineWidth,this.lineWidth=Re*L.scale);var cs=this.autoPaging!=="text";if(cs||Mt.y+Mt.h<=Ee){if(cs||Mt.y>=gt&&Mt.x<=ft){var Lt=cs?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||ft-Mt.x)[0],Pn=v([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-ut+gt+this.ctx.prevPageLastElemOffset)[0],Hs=cs&&(St>Ot||St<Ye)&&f.call(this);Hs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,Qe,null).clip().discardPath()),this.pdf.text(Lt,Pn.x,Pn.y,{angle:L.angle,align:U,renderingMode:L.renderingMode}),Hs&&this.pdf.restoreGraphicsState()}}else Mt.y<Ee&&(this.ctx.prevPageLastElemOffset+=Ee-Mt.y);L.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=Re)}else L.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*L.scale),Re=this.lineWidth,this.lineWidth=Re*L.scale),this.pdf.text(L.text,Ae.x+this.posX,Ae.y+this.posY,{angle:L.angle,align:U,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=Re)},z=function(L,U,R,q){R=R||0,q=q||0,this.pdf.internal.out(r(L+R)+" "+n(U+q)+" l")},K=function(L,U,R){return this.pdf.lines(L,U,R,null,null)},xe=function(L,U,R,q,ae,Ae,G,O){this.pdf.internal.out([s(a(R+L)),s(i(q+U)),s(a(ae+L)),s(i(Ae+U)),s(a(G+L)),s(i(O+U)),"c"].join(" "))},W=function(L,U,R,q){for(var ae=2*Math.PI,Ae=Math.PI/2;U>R;)U-=ae;var G=Math.abs(R-U);G<ae&&q&&(G=ae-G);for(var O=[],ee=q?-1:1,Le=U;G>1e-5;){var Re=Le+ee*Math.min(G,Ae);O.push(re.call(this,L,Le,Re)),G-=Math.abs(Re-Le),Le=Re}return O},re=function(L,U,R){var q=(R-U)/2,ae=L*Math.cos(q),Ae=L*Math.sin(q),G=ae,O=-Ae,ee=G*G+O*O,Le=ee+G*ae+O*Ae,Re=4/3*(Math.sqrt(2*ee*Le)-Le)/(G*Ae-O*ae),Ke=G-Re*O,Me=O+Re*G,$e=Ke,ge=-Me,mt=q+U,Ot=Math.cos(mt),Ye=Math.sin(mt);return{x1:L*Math.cos(U),y1:L*Math.sin(U),x2:Ke*Ot-Me*Ye,y2:Ke*Ye+Me*Ot,x3:$e*Ot-ge*Ye,y3:$e*Ye+ge*Ot,x4:L*Math.cos(R),y4:L*Math.sin(R)}},I=function(L){return 180*L/Math.PI},ie=function(L,U,R,q,ae,Ae){var G=L+.5*(R-L),O=U+.5*(q-U),ee=ae+.5*(R-ae),Le=Ae+.5*(q-Ae),Re=Math.min(L,ae,G,ee),Ke=Math.max(L,ae,G,ee),Me=Math.min(U,Ae,O,Le),$e=Math.max(U,Ae,O,Le);return new o(Re,Me,Ke-Re,$e-Me)},ve=function(L,U,R,q,ae,Ae,G,O){var ee,Le,Re,Ke,Me,$e,ge,mt,Ot,Ye,St,gt,me,Ee,Qe=R-L,ft=q-U,vt=ae-R,ut=Ae-q,Et=G-ae,Mt=O-Ae;for(Le=0;Le<41;Le++)Ot=(ge=(Re=L+(ee=Le/40)*Qe)+ee*((Me=R+ee*vt)-Re))+ee*(Me+ee*(ae+ee*Et-Me)-ge),Ye=(mt=(Ke=U+ee*ft)+ee*(($e=q+ee*ut)-Ke))+ee*($e+ee*(Ae+ee*Mt-$e)-mt),Le==0?(St=Ot,gt=Ye,me=Ot,Ee=Ye):(St=Math.min(St,Ot),gt=Math.min(gt,Ye),me=Math.max(me,Ot),Ee=Math.max(Ee,Ye));return new o(Math.round(St),Math.round(gt),Math.round(me-St),Math.round(Ee-gt))},De=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,U,R=(L=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:U}));this.prevLineDash!==R&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=R)}}})(fs.API),function(t){var s=function(i){var l,o,c,d,u,h,A,m,p,f;for(o=[],c=0,d=(i+=l="\0\0\0\0".slice(i.length%4||4)).length;d>c;c+=4)(u=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(h=(u=((u=((u=((u=(u-(f=u%85))/85)-(p=u%85))/85)-(m=u%85))/85)-(A=u%85))/85)%85,o.push(h+33,A+33,m+33,p+33,f+33)):o.push(122);return function(x,g){for(var v=g;v>0;v--)x.pop()}(o,l.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var l,o,c,d,u,h=String,A="length",m=255,p="charCodeAt",f="slice",x="replace";for(i[f](-2),i=i[f](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],d=0,u=(i+=l="uuuuu"[f](i[A]%5||5))[A];u>d;d+=5)o=52200625*(i[p](d)-33)+614125*(i[p](d+1)-33)+7225*(i[p](d+2)-33)+85*(i[p](d+3)-33)+(i[p](d+4)-33),c.push(m&o>>24,m&o>>16,m&o>>8,m&o);return function(g,v){for(var j=v;j>0;j--)g.pop()}(c,l[A]),h.fromCharCode.apply(h,c)},n=function(i){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),l.test(i)===!1)return"";for(var o="",c=0;c<i.length;c+=2)o+=String.fromCharCode("0x"+(i[c]+i[c+1]));return o},a=function(i){for(var l=new Uint8Array(i.length),o=i.length;o--;)l[o]=i.charCodeAt(o);return i=(l=MB(l)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(i,l){var o=0,c=i||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),o=0;o<l.length;o+=1)switch(l[o]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=s(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[o]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(fs.API),function(t){t.loadFile=function(s,r,n){return function(a,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=function(c,d,u){var h=new XMLHttpRequest,A=0,m=function(p){var f=p.length,x=[],g=String.fromCharCode;for(A=0;A<f;A+=1)x.push(g(255&p.charCodeAt(A)));return x.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(m(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return m(h.responseText)}(a,i,l)}catch{}return o}(s,r,n)},t.loadImageFile=t.loadFile}(fs.API),function(t){function s(){return(vs.html2canvas?Promise.resolve(vs.html2canvas):$d(()=>Promise.resolve().then(()=>Oge),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(vs.DOMPurify?Promise.resolve(vs.DOMPurify):$d(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var o=Tr(l);return o==="undefined"?"undefined":o==="string"||l instanceof String?"string":o==="number"||l instanceof Number?"number":o==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(l,o){var c=document.createElement(l);for(var d in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[d]=o.style[d];return c},i=function l(o){var c=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,l,1,[l])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(l,o){return l.__proto__=o||i.prototype,l},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(l,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:l,dompurify:c})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},i.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(d,u){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),A=d.firstChild;A;A=A.nextSibling)u!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||h.appendChild(c(A,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(s).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(s).then(function(o){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var A=0;A<d.length;++A){var m=d[A],p=m.src.find(function(f){return f.format==="truetype"});p&&c.addFont(p.url,m.ref.name,m.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(l,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(l,o):this.outputPdf(l,o)},i.prototype.outputPdf=function(l,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,o)})},i.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},i.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(l){if(n(l)!=="object")return this;var o=Object.keys(l||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=l[c]};switch(c){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[c]=l[c]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(l,o){return this.then(function(){var c=l in i.template.prop?this.prop[l]:this.opt[l];return o?o(c):c})},i.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},i.prototype.setPageSize=function(l){function o(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(l=l||fs.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:o(l.inner.width,l.k),height:o(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},i.prototype.setProgress=function(l,o,c,d){return l!=null&&(this.progress.val=l),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(l,o,c,d){return this.setProgress(l?this.progress.val+l:null,o||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(l,o){var c=this;return this.thenCore(l,o,function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,d),h}).then(d,u).then(function(h){return c.updateProgress(1),h})})},i.prototype.thenCore=function(l,o,c){c=c||Promise.prototype.then,l&&(l=l.bind(this)),o&&(o=o.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=c.call(d,l,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(l,o){return Promise.prototype.then.call(this,l,o)},i.prototype.thenList=function(l){var o=this;return l.forEach(function(c){o=o.thenCore(c)}),o},i.prototype.catch=function(l){l&&(l=l.bind(this));var o=Promise.prototype.catch.call(this,l);return i.convert(o,this)},i.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},i.prototype.error=function(l){return this.then(function(){throw new Error(l)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,fs.getPageSize=function(l,o,c){if(Tr(l)==="object"){var d=l;l=d.orientation,o=d.unit||o,c=d.format||c}o=o||"mm",c=c||"a4",l=(""+(l||"P")).toLowerCase();var u,h=(""+c).toLowerCase(),A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var m,p=0,f=0;if(A.hasOwnProperty(h))p=A[h][1]/u,f=A[h][0]/u;else try{p=c[1],f=c[0]}catch{throw new Error("Invalid format: "+c)}if(l==="p"||l==="portrait")l="p",f>p&&(m=f,f=p,p=m);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",p>f&&(m=f,f=p,p=m)}return{width:f,height:p,unit:o,k:u,orientation:l}},t.html=function(l,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(qB):null;var c=new i(o);return o.worker?c:c.from(l).doCallback()}}(fs.API),fs.API.addJS=function(t){return LT=t,this.internal.events.subscribe("postPutResources",function(){Ry=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ry+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),TT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+LT+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ry!==void 0&&TT!==void 0&&this.internal.out("/Names <</JavaScript "+Ry+" 0 R>>")}),this},function(t){var s;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var l=a[i],o=n.exec(l);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(l)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var h=r.internal.newObject();u.push(h);var A=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),s=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+s+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var l={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(l),l},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var l=n.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var c=r.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(fs.API),function(t){var s=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,l,o){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=l||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(h){for(var A,m=256*h.charCodeAt(4)+h.charCodeAt(5),p=h.length,f={width:0,height:0,numcomponents:1},x=4;x<p;x+=2){if(x+=m,s.indexOf(h.charCodeAt(x+1))!==-1){A=256*h.charCodeAt(x+5)+h.charCodeAt(x+6),f={width:256*h.charCodeAt(x+7)+h.charCodeAt(x+8),height:A,numcomponents:h.charCodeAt(x+9)};break}m=256*h.charCodeAt(x+2)+h.charCodeAt(x+3)}return f}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:d,index:n,alias:a}}return u}}(fs.API);var af,My,IT,PT,DT,rre=function(){var t,s,r;function n(i){var l,o,c,d,u,h,A,m,p,f,x,g,v,j;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(l=this.readUInt32(),p=(function(){var B,F;for(F=[],B=0;B<4;++B)F.push(String.fromCharCode(this.data[this.pos++]));return F}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,h.delay=1e3*u/d,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(p==="fdAT"&&(this.pos+=4,l-=4),i=(h!=null?h.data:void 0)||this.imgData,g=0;0<=l?g<l:g>l;0<=l?++g:--g)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((f=c-this.transparency.indexed.length)>0)for(v=0;0<=f?v<f:v>f;0<=f?++v:--v)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":A=(x=this.read(l)).indexOf(0),m=String.fromCharCode.apply(String,x.slice(0,A)),this.text[m]=String.fromCharCode.apply(String,x.slice(A+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var l,o;for(o=[],l=0;0<=i?l<i:l>i;0<=i?++l:--l)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var l=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*l),c=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(h,A,m,p){var f,x,g,v,j,B,F,P,E,N,C,_,k,D,z,K,xe,W,re,I,ie,ve=Math.ceil((d.width-h)/m),De=Math.ceil((d.height-A)/p),L=d.width==ve&&d.height==De;for(D=l*ve,_=L?o:new Uint8Array(D*De),B=i.length,k=0,x=0;k<De&&c<B;){switch(i[c++]){case 0:for(v=xe=0;xe<D;v=xe+=1)_[x++]=i[c++];break;case 1:for(v=W=0;W<D;v=W+=1)f=i[c++],j=v<l?0:_[x-l],_[x++]=(f+j)%256;break;case 2:for(v=re=0;re<D;v=re+=1)f=i[c++],g=(v-v%l)/l,z=k&&_[(k-1)*D+g*l+v%l],_[x++]=(z+f)%256;break;case 3:for(v=I=0;I<D;v=I+=1)f=i[c++],g=(v-v%l)/l,j=v<l?0:_[x-l],z=k&&_[(k-1)*D+g*l+v%l],_[x++]=(f+Math.floor((j+z)/2))%256;break;case 4:for(v=ie=0;ie<D;v=ie+=1)f=i[c++],g=(v-v%l)/l,j=v<l?0:_[x-l],k===0?z=K=0:(z=_[(k-1)*D+g*l+v%l],K=g&&_[(k-1)*D+(g-1)*l+v%l]),F=j+z-K,P=Math.abs(F-j),N=Math.abs(F-z),C=Math.abs(F-K),E=P<=N&&P<=C?j:N<=C?z:K,_[x++]=(f+E)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!L){var U=((A+k*p)*d.width+h)*l,R=k*D;for(v=0;v<ve;v+=1){for(var q=0;q<l;q+=1)o[U++]=_[R++];U+=(m-1)*l}}k++}}return i=Pse(i),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,l,o,c,d,u,h,A,m;for(o=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+o.length),c=0,i=0,l=h=0,A=o.length;h<A;l=h+=3)d[c++]=o[l],d[c++]=o[l+1],d[c++]=o[l+2],d[c++]=(m=u[i++])!=null?m:255;return d},n.prototype.copyToImageData=function(i,l){var o,c,d,u,h,A,m,p,f,x,g;if(c=this.colors,f=null,o=this.hasAlphaChannel,this.palette.length&&(f=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),c=4,o=!0),p=(d=i.data||i).length,h=f||l,u=A=0,c===1)for(;u<p;)m=f?4*l[u/4]:A,x=h[m++],d[u++]=x,d[u++]=x,d[u++]=x,d[u++]=o?h[m++]:255,A=m;else for(;u<p;)m=f?4*l[u/4]:A,d[u++]=h[m++],d[u++]=h[m++],d[u++]=h[m++],d[u++]=o?h[m++]:255,A=m},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(vs)==="[object Window]"){try{s=vs.document.createElement("canvas"),r=s.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var l;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(l=new Image).src=s.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var l,o,c,d,u,h,A,m;if(this.animation){for(m=[],o=u=0,h=(A=this.animation.frames).length;u<h;o=++u)l=A[o],c=i.createImageData(l.width,l.height),d=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(c,d),l.imageData=c,m.push(l.image=t(c));return m}},n.prototype.renderFrame=function(i,l){var o,c,d;return o=(c=this.animation.frames)[l],d=c[l-1],l===0&&i.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var l,o,c,d,u,h,A=this;return o=0,h=this.animation,d=h.numFrames,c=h.frames,u=h.numPlays,(l=function(){var m,p;if(m=o++%d,p=c[m],A.renderFrame(i,m),d>1&&o/d<u)return A.animation._timeout=setTimeout(l,p.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var l,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,l=i.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(o=l.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),l.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function nre(t){var s=0;if(t[s++]!==71||t[s++]!==73||t[s++]!==70||t[s++]!==56||(t[s++]+1&253)!=56||t[s++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[s++]|t[s++]<<8,n=t[s++]|t[s++]<<8,a=t[s++],i=a>>7,l=1<<(7&a)+1;t[s++],t[s++];var o=null,c=null;i&&(o=s,c=l,s+=3*l);var d=!0,u=[],h=0,A=null,m=0,p=null;for(this.width=r,this.height=n;d&&s<t.length;)switch(t[s++]){case 33:switch(t[s++]){case 255:if(t[s]!==11||t[s+1]==78&&t[s+2]==69&&t[s+3]==84&&t[s+4]==83&&t[s+5]==67&&t[s+6]==65&&t[s+7]==80&&t[s+8]==69&&t[s+9]==50&&t[s+10]==46&&t[s+11]==48&&t[s+12]==3&&t[s+13]==1&&t[s+16]==0)s+=14,p=t[s++]|t[s++]<<8,s++;else for(s+=12;;){if(!((k=t[s++])>=0))throw Error("Invalid block size");if(k===0)break;s+=k}break;case 249:if(t[s++]!==4||t[s+4]!==0)throw new Error("Invalid graphics extension block.");var f=t[s++];h=t[s++]|t[s++]<<8,A=t[s++],!(1&f)&&(A=null),m=f>>2&7,s++;break;case 254:for(;;){if(!((k=t[s++])>=0))throw Error("Invalid block size");if(k===0)break;s+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[s-1].toString(16))}break;case 44:var x=t[s++]|t[s++]<<8,g=t[s++]|t[s++]<<8,v=t[s++]|t[s++]<<8,j=t[s++]|t[s++]<<8,B=t[s++],F=B>>6&1,P=1<<(7&B)+1,E=o,N=c,C=!1;B>>7&&(C=!0,E=s,N=P,s+=3*P);var _=s;for(s++;;){var k;if(!((k=t[s++])>=0))throw Error("Invalid block size");if(k===0)break;s+=k}u.push({x,y:g,width:v,height:j,has_local_palette:C,palette_offset:E,palette_size:N,data_offset:_,data_length:s-_,transparent_index:A,interlaced:!!F,delay:h,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[s-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(D){if(D<0||D>=u.length)throw new Error("Frame index out of range.");return u[D]},this.decodeAndBlitFrameBGRA=function(D,z){var K=this.frameInfo(D),xe=K.width*K.height,W=new Uint8Array(xe);UT(t,K.data_offset,W,xe);var re=K.palette_offset,I=K.transparent_index;I===null&&(I=256);var ie=K.width,ve=r-ie,De=ie,L=4*(K.y*r+K.x),U=4*((K.y+K.height)*r+K.x),R=L,q=4*ve;K.interlaced===!0&&(q+=4*r*7);for(var ae=8,Ae=0,G=W.length;Ae<G;++Ae){var O=W[Ae];if(De===0&&(De=ie,(R+=q)>=U&&(q=4*ve+4*r*(ae-1),R=L+(ie+ve)*(ae<<1),ae>>=1)),O===I)R+=4;else{var ee=t[re+3*O],Le=t[re+3*O+1],Re=t[re+3*O+2];z[R++]=Re,z[R++]=Le,z[R++]=ee,z[R++]=255}--De}},this.decodeAndBlitFrameRGBA=function(D,z){var K=this.frameInfo(D),xe=K.width*K.height,W=new Uint8Array(xe);UT(t,K.data_offset,W,xe);var re=K.palette_offset,I=K.transparent_index;I===null&&(I=256);var ie=K.width,ve=r-ie,De=ie,L=4*(K.y*r+K.x),U=4*((K.y+K.height)*r+K.x),R=L,q=4*ve;K.interlaced===!0&&(q+=4*r*7);for(var ae=8,Ae=0,G=W.length;Ae<G;++Ae){var O=W[Ae];if(De===0&&(De=ie,(R+=q)>=U&&(q=4*ve+4*r*(ae-1),R=L+(ie+ve)*(ae<<1),ae>>=1)),O===I)R+=4;else{var ee=t[re+3*O],Le=t[re+3*O+1],Re=t[re+3*O+2];z[R++]=ee,z[R++]=Le,z[R++]=Re,z[R++]=255}--De}}}function UT(t,s,r,n){for(var a=t[s++],i=1<<a,l=i+1,o=l+1,c=a+1,d=(1<<c)-1,u=0,h=0,A=0,m=t[s++],p=new Int32Array(4096),f=null;;){for(;u<16&&m!==0;)h|=t[s++]<<u,u+=8,m===1?m=t[s++]:--m;if(u<c)break;var x=h&d;if(h>>=c,u-=c,x!==i){if(x===l)break;for(var g=x<o?x:f,v=0,j=g;j>i;)j=p[j]>>8,++v;var B=j;if(A+v+(g!==x?1:0)>n)return void Kr.log("Warning, gif stream longer than expected.");r[A++]=B;var F=A+=v;for(g!==x&&(r[A++]=B),j=g;v--;)j=p[j],r[--F]=255&j,j>>=8;f!==null&&o<4096&&(p[o++]=f<<8|B,o>=d+1&&c<12&&(++c,d=d<<1|1)),f=x}else o=l+1,d=(1<<(c=a+1))-1,f=null}return A!==n&&Kr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function a5(t){var s,r,n,a,i,l=Math.floor,o=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),A=new Array(65535),m=new Array(64),p=new Array(64),f=[],x=0,g=7,v=new Array(64),j=new Array(64),B=new Array(64),F=new Array(256),P=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],_=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(L,U){for(var R=0,q=0,ae=new Array,Ae=1;Ae<=16;Ae++){for(var G=1;G<=L[Ae];G++)ae[U[q]]=[],ae[U[q]][0]=R,ae[U[q]][1]=Ae,q++,R++;R*=2}return ae}function re(L){for(var U=L[0],R=L[1]-1;R>=0;)U&1<<R&&(x|=1<<g),R--,--g<0&&(x==255?(I(255),I(0)):I(x),g=7,x=0)}function I(L){f.push(L)}function ie(L){I(L>>8&255),I(255&L)}function ve(L,U,R,q,ae){for(var Ae,G=ae[0],O=ae[240],ee=function(Ye,St){var gt,me,Ee,Qe,ft,vt,ut,Et,Mt,cs,Lt=0;for(Mt=0;Mt<8;++Mt){gt=Ye[Lt],me=Ye[Lt+1],Ee=Ye[Lt+2],Qe=Ye[Lt+3],ft=Ye[Lt+4],vt=Ye[Lt+5],ut=Ye[Lt+6];var Pn=gt+(Et=Ye[Lt+7]),Hs=gt-Et,ga=me+ut,mr=me-ut,Br=Ee+vt,Qi=Ee-vt,Js=Qe+ft,vc=Qe-ft,sn=Pn+Js,dl=Pn-Js,wo=ga+Br,Hr=ga-Br;Ye[Lt]=sn+wo,Ye[Lt+4]=sn-wo;var Bs=.707106781*(Hr+dl);Ye[Lt+2]=dl+Bs,Ye[Lt+6]=dl-Bs;var fr=.382683433*((sn=vc+Qi)-(Hr=mr+Hs)),od=.5411961*sn+fr,ca=1.306562965*Hr+fr,Ml=.707106781*(wo=Qi+mr),Ql=Hs+Ml,As=Hs-Ml;Ye[Lt+5]=As+od,Ye[Lt+3]=As-od,Ye[Lt+1]=Ql+ca,Ye[Lt+7]=Ql-ca,Lt+=8}for(Lt=0,Mt=0;Mt<8;++Mt){gt=Ye[Lt],me=Ye[Lt+8],Ee=Ye[Lt+16],Qe=Ye[Lt+24],ft=Ye[Lt+32],vt=Ye[Lt+40],ut=Ye[Lt+48];var ul=gt+(Et=Ye[Lt+56]),Hi=gt-Et,Wa=me+ut,Dn=me-ut,Cn=Ee+vt,se=Ee-vt,ye=Qe+ft,he=Qe-ft,fe=ul+ye,je=ul-ye,we=Wa+Cn,Ge=Wa-Cn;Ye[Lt]=fe+we,Ye[Lt+32]=fe-we;var rt=.707106781*(Ge+je);Ye[Lt+16]=je+rt,Ye[Lt+48]=je-rt;var qe=.382683433*((fe=he+se)-(Ge=Dn+Hi)),Ze=.5411961*fe+qe,et=1.306562965*Ge+qe,_t=.707106781*(we=se+Dn),Pt=Hi+_t,Gt=Hi-_t;Ye[Lt+40]=Gt+Ze,Ye[Lt+24]=Gt-Ze,Ye[Lt+8]=Pt+et,Ye[Lt+56]=Pt-et,Lt++}for(Mt=0;Mt<64;++Mt)cs=Ye[Mt]*St[Mt],m[Mt]=cs>0?cs+.5|0:cs-.5|0;return m}(L,U),Le=0;Le<64;++Le)p[E[Le]]=ee[Le];var Re=p[0]-R;R=p[0],Re==0?re(q[0]):(re(q[A[Ae=32767+Re]]),re(h[Ae]));for(var Ke=63;Ke>0&&p[Ke]==0;)Ke--;if(Ke==0)return re(G),R;for(var Me,$e=1;$e<=Ke;){for(var ge=$e;p[$e]==0&&$e<=Ke;)++$e;var mt=$e-ge;if(mt>=16){Me=mt>>4;for(var Ot=1;Ot<=Me;++Ot)re(O);mt&=15}Ae=32767+p[$e],re(ae[(mt<<4)+A[Ae]]),re(h[Ae]),$e++}return Ke!=63&&re(G),R}function De(L){L=Math.min(Math.max(L,1),100),i!=L&&(function(U){for(var R=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],q=0;q<64;q++){var ae=l((R[q]*U+50)/100);ae=Math.min(Math.max(ae,1),255),o[E[q]]=ae}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],G=0;G<64;G++){var O=l((Ae[G]*U+50)/100);O=Math.min(Math.max(O,1),255),c[E[G]]=O}for(var ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,Re=0;Re<8;Re++)for(var Ke=0;Ke<8;Ke++)d[Le]=1/(o[E[Le]]*ee[Re]*ee[Ke]*8),u[Le]=1/(c[E[Le]]*ee[Re]*ee[Ke]*8),Le++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),i=L)}this.encode=function(L,U){U&&De(U),f=new Array,x=0,g=7,ie(65496),ie(65504),ie(16),I(74),I(70),I(73),I(70),I(0),I(1),I(1),I(0),ie(1),ie(1),I(0),I(0),function(){ie(65499),ie(132),I(0);for(var me=0;me<64;me++)I(o[me]);I(1);for(var Ee=0;Ee<64;Ee++)I(c[Ee])}(),function(me,Ee){ie(65472),ie(17),I(8),ie(Ee),ie(me),I(3),I(1),I(17),I(0),I(2),I(17),I(1),I(3),I(17),I(1)}(L.width,L.height),function(){ie(65476),ie(418),I(0);for(var me=0;me<16;me++)I(N[me+1]);for(var Ee=0;Ee<=11;Ee++)I(C[Ee]);I(16);for(var Qe=0;Qe<16;Qe++)I(_[Qe+1]);for(var ft=0;ft<=161;ft++)I(k[ft]);I(1);for(var vt=0;vt<16;vt++)I(D[vt+1]);for(var ut=0;ut<=11;ut++)I(z[ut]);I(17);for(var Et=0;Et<16;Et++)I(K[Et+1]);for(var Mt=0;Mt<=161;Mt++)I(xe[Mt])}(),ie(65498),ie(12),I(3),I(1),I(0),I(2),I(17),I(3),I(17),I(0),I(63),I(0);var R=0,q=0,ae=0;x=0,g=7,this.encode.displayName="_encode_";for(var Ae,G,O,ee,Le,Re,Ke,Me,$e,ge=L.data,mt=L.width,Ot=L.height,Ye=4*mt,St=0;St<Ot;){for(Ae=0;Ae<Ye;){for(Le=Ye*St+Ae,Ke=-1,Me=0,$e=0;$e<64;$e++)Re=Le+(Me=$e>>3)*Ye+(Ke=4*(7&$e)),St+Me>=Ot&&(Re-=Ye*(St+1+Me-Ot)),Ae+Ke>=Ye&&(Re-=Ae+Ke-Ye+4),G=ge[Re++],O=ge[Re++],ee=ge[Re++],v[$e]=(P[G]+P[O+256>>0]+P[ee+512>>0]>>16)-128,j[$e]=(P[G+768>>0]+P[O+1024>>0]+P[ee+1280>>0]>>16)-128,B[$e]=(P[G+1280>>0]+P[O+1536>>0]+P[ee+1792>>0]>>16)-128;R=ve(v,d,R,s,n),q=ve(j,u,q,r,a),ae=ve(B,u,ae,r,a),Ae+=32}St+=8}if(g>=0){var gt=[];gt[1]=g+1,gt[0]=(1<<g+1)-1,re(gt)}return ie(65497),new Uint8Array(f)},t=t||50,function(){for(var L=String.fromCharCode,U=0;U<256;U++)F[U]=L(U)}(),s=W(N,C),r=W(D,z),n=W(_,k),a=W(K,xe),function(){for(var L=1,U=2,R=1;R<=15;R++){for(var q=L;q<U;q++)A[32767+q]=R,h[32767+q]=[],h[32767+q][1]=R,h[32767+q][0]=q;for(var ae=-(U-1);ae<=-L;ae++)A[32767+ae]=R,h[32767+ae]=[],h[32767+ae][1]=R,h[32767+ae][0]=U-1+ae;L<<=1,U<<=1}}(),function(){for(var L=0;L<256;L++)P[L]=19595*L,P[L+256>>0]=38470*L,P[L+512>>0]=7471*L+32768,P[L+768>>0]=-11059*L,P[L+1024>>0]=-21709*L,P[L+1280>>0]=32768*L+8421375,P[L+1536>>0]=-27439*L,P[L+1792>>0]=-5329*L}(),De(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function To(t,s){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!s,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function OT(t){function s(N){if(!N)throw Error("assert :P")}function r(N,C,_){for(var k=0;4>k;k++)if(N[C+k]!=_.charCodeAt(k))return!0;return!1}function n(N,C,_,k,D){for(var z=0;z<D;z++)N[C+z]=_[k+z]}function a(N,C,_,k){for(var D=0;D<k;D++)N[C+D]=_}function i(N){return new Int32Array(N)}function l(N,C){for(var _=[],k=0;k<N;k++)_.push(new C);return _}function o(N,C){var _=[];return function k(D,z,K){for(var xe=K[z],W=0;W<xe&&(D.push(K.length>z+1?[]:new C),!(K.length<z+1));W++)k(D[W],z+1,K)}(_,0,N),_}var c=function(){var N=this;function C(y,w){for(var T=1<<w-1>>>0;y&T;)T>>>=1;return T?(y&T-1)+T:y}function _(y,w,T,Q,J){s(!(Q%T));do y[w+(Q-=T)]=J;while(0<Q)}function k(y,w,T,Q,J){if(s(2328>=J),512>=J)var te=i(512);else if((te=i(J))==null)return 0;return function(ne,le,ue,pe,Ie,Xe){var Je,He,wt=le,nt=1<<ue,Pe=i(16),Ue=i(16);for(s(Ie!=0),s(pe!=null),s(ne!=null),s(0<ue),He=0;He<Ie;++He){if(15<pe[He])return 0;++Pe[pe[He]]}if(Pe[0]==Ie)return 0;for(Ue[1]=0,Je=1;15>Je;++Je){if(Pe[Je]>1<<Je)return 0;Ue[Je+1]=Ue[Je]+Pe[Je]}for(He=0;He<Ie;++He)Je=pe[He],0<pe[He]&&(Xe[Ue[Je]++]=He);if(Ue[15]==1)return(pe=new D).g=0,pe.value=Xe[0],_(ne,wt,1,nt,pe),nt;var jt,Ct=-1,yt=nt-1,Jt=0,Ht=1,ms=1,Kt=1<<ue;for(He=0,Je=1,Ie=2;Je<=ue;++Je,Ie<<=1){if(Ht+=ms<<=1,0>(ms-=Pe[Je]))return 0;for(;0<Pe[Je];--Pe[Je])(pe=new D).g=Je,pe.value=Xe[He++],_(ne,wt+Jt,Ie,Kt,pe),Jt=C(Jt,Je)}for(Je=ue+1,Ie=2;15>=Je;++Je,Ie<<=1){if(Ht+=ms<<=1,0>(ms-=Pe[Je]))return 0;for(;0<Pe[Je];--Pe[Je]){if(pe=new D,(Jt&yt)!=Ct){for(wt+=Kt,jt=1<<(Ct=Je)-ue;15>Ct&&!(0>=(jt-=Pe[Ct]));)++Ct,jt<<=1;nt+=Kt=1<<(jt=Ct-ue),ne[le+(Ct=Jt&yt)].g=jt+ue,ne[le+Ct].value=wt-le-Ct}pe.g=Je-ue,pe.value=Xe[He++],_(ne,wt+(Jt>>ue),Ie,Kt,pe),Jt=C(Jt,Je)}}return Ht!=2*Ue[15]-1?0:nt}(y,w,T,Q,J,te)}function D(){this.value=this.g=0}function z(){this.value=this.g=0}function K(){this.G=l(5,D),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Ea,z)}function xe(y,w,T,Q){s(y!=null),s(w!=null),s(2147483648>Q),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=w,y.pa=T,y.Jd=w,y.Yc=T+Q,y.Zc=4<=Q?T+Q-4+1:T,Ae(y)}function W(y,w){for(var T=0;0<w--;)T|=O(y,128)<<w;return T}function re(y,w){var T=W(y,w);return G(y)?-T:T}function I(y,w,T,Q){var J,te=0;for(s(y!=null),s(w!=null),s(4294967288>Q),y.Sb=Q,y.Ra=0,y.u=0,y.h=0,4<Q&&(Q=4),J=0;J<Q;++J)te+=w[T+J]<<8*J;y.Ra=te,y.bb=Q,y.oa=w,y.pa=T}function ie(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<Km-8>>>0,++y.bb,y.u-=8;R(y)&&(y.h=1,y.u=0)}function ve(y,w){if(s(0<=w),!y.h&&w<=Vm){var T=U(y)&Hm[w];return y.u+=w,ie(y),T}return y.h=1,y.u=0}function De(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(y){return y.Ra>>>(y.u&Km-1)>>>0}function R(y){return s(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>Km}function q(y,w){y.u=w,y.h=R(y)}function ae(y){y.u>=q0&&(s(y.u>=q0),ie(y))}function Ae(y){s(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(s(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function G(y){return W(y,1)}function O(y,w){var T=y.Ca;0>y.b&&Ae(y);var Q=y.b,J=T*w>>>8,te=(y.I>>>Q>J)+0;for(te?(T-=J,y.I-=J+1<<Q>>>0):T=J+1,Q=T,J=0;256<=Q;)J+=8,Q>>=8;return Q=7^J+Ki[Q],y.b-=Q,y.Ca=(T<<Q)-1,te}function ee(y,w,T){y[w+0]=T>>24&255,y[w+1]=T>>16&255,y[w+2]=T>>8&255,y[w+3]=T>>0&255}function Le(y,w){return y[w+0]<<0|y[w+1]<<8}function Re(y,w){return Le(y,w)|y[w+2]<<16}function Ke(y,w){return Le(y,w)|Le(y,w+2)<<16}function Me(y,w){var T=1<<w;return s(y!=null),s(0<w),y.X=i(T),y.X==null?0:(y.Mb=32-w,y.Xa=w,1)}function $e(y,w){s(y!=null),s(w!=null),s(y.Xa==w.Xa),n(w.X,0,y.X,0,1<<w.Xa)}function ge(){this.X=[],this.Xa=this.Mb=0}function mt(y,w,T,Q){s(T!=null),s(Q!=null);var J=T[0],te=Q[0];return J==0&&(J=(y*te+w/2)/w),te==0&&(te=(w*J+y/2)/y),0>=J||0>=te?0:(T[0]=J,Q[0]=te,1)}function Ot(y,w){return y+(1<<w)-1>>>w}function Ye(y,w){return((4278255360&y)+(4278255360&w)>>>0&4278255360)+((16711935&y)+(16711935&w)>>>0&16711935)>>>0}function St(y,w){N[w]=function(T,Q,J,te,ne,le,ue){var pe;for(pe=0;pe<ne;++pe){var Ie=N[y](le[ue+pe-1],J,te+pe);le[ue+pe]=Ye(T[Q+pe],Ie)}}}function gt(){this.ud=this.hd=this.jd=0}function me(y,w){return((4278124286&(y^w))>>>1)+(y&w)>>>0}function Ee(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function Qe(y,w){return Ee(y+(y-w+.5>>1))}function ft(y,w,T){return Math.abs(w-T)-Math.abs(y-T)}function vt(y,w,T,Q,J,te,ne){for(Q=te[ne-1],T=0;T<J;++T)te[ne+T]=Q=Ye(y[w+T],Q)}function ut(y,w,T,Q,J){var te;for(te=0;te<T;++te){var ne=y[w+te],le=ne>>8&255,ue=16711935&(ue=(ue=16711935&ne)+((le<<16)+le));Q[J+te]=(4278255360&ne)+ue>>>0}}function Et(y,w){w.jd=y>>0&255,w.hd=y>>8&255,w.ud=y>>16&255}function Mt(y,w,T,Q,J,te){var ne;for(ne=0;ne<Q;++ne){var le=w[T+ne],ue=le>>>8,pe=le,Ie=255&(Ie=(Ie=le>>>16)+((y.jd<<24>>24)*(ue<<24>>24)>>>5));pe=255&(pe=(pe=pe+((y.hd<<24>>24)*(ue<<24>>24)>>>5))+((y.ud<<24>>24)*(Ie<<24>>24)>>>5)),J[te+ne]=(4278255360&le)+(Ie<<16)+pe}}function cs(y,w,T,Q,J){N[w]=function(te,ne,le,ue,pe,Ie,Xe,Je,He){for(ue=Xe;ue<Je;++ue)for(Xe=0;Xe<He;++Xe)pe[Ie++]=J(le[Q(te[ne++])])},N[y]=function(te,ne,le,ue,pe,Ie,Xe){var Je=8>>te.b,He=te.Ea,wt=te.K[0],nt=te.w;if(8>Je)for(te=(1<<te.b)-1,nt=(1<<Je)-1;ne<le;++ne){var Pe,Ue=0;for(Pe=0;Pe<He;++Pe)Pe&te||(Ue=Q(ue[pe++])),Ie[Xe++]=J(wt[Ue&nt]),Ue>>=Je}else N["VP8LMapColor"+T](ue,pe,wt,nt,Ie,Xe,ne,le,He)}}function Lt(y,w,T,Q,J){for(T=w+T;w<T;){var te=y[w++];Q[J++]=te>>16&255,Q[J++]=te>>8&255,Q[J++]=te>>0&255}}function Pn(y,w,T,Q,J){for(T=w+T;w<T;){var te=y[w++];Q[J++]=te>>16&255,Q[J++]=te>>8&255,Q[J++]=te>>0&255,Q[J++]=te>>24&255}}function Hs(y,w,T,Q,J){for(T=w+T;w<T;){var te=(ne=y[w++])>>16&240|ne>>12&15,ne=ne>>0&240|ne>>28&15;Q[J++]=te,Q[J++]=ne}}function ga(y,w,T,Q,J){for(T=w+T;w<T;){var te=(ne=y[w++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;Q[J++]=te,Q[J++]=ne}}function mr(y,w,T,Q,J){for(T=w+T;w<T;){var te=y[w++];Q[J++]=te>>0&255,Q[J++]=te>>8&255,Q[J++]=te>>16&255}}function Br(y,w,T,Q,J,te){if(te==0)for(T=w+T;w<T;)ee(Q,((te=y[w++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),J+=32;else n(Q,J,y,w,T)}function Qi(y,w){N[w][0]=N[y+"0"],N[w][1]=N[y+"1"],N[w][2]=N[y+"2"],N[w][3]=N[y+"3"],N[w][4]=N[y+"4"],N[w][5]=N[y+"5"],N[w][6]=N[y+"6"],N[w][7]=N[y+"7"],N[w][8]=N[y+"8"],N[w][9]=N[y+"9"],N[w][10]=N[y+"10"],N[w][11]=N[y+"11"],N[w][12]=N[y+"12"],N[w][13]=N[y+"13"],N[w][14]=N[y+"0"],N[w][15]=N[y+"0"]}function Js(y){return y==XN||y==JN||y==Xj||y==ZN}function vc(){this.eb=[],this.size=this.A=this.fb=0}function sn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function dl(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new vc,this.f.kb=new sn,this.sd=null}function wo(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Hr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Bs(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function fr(y,w){var T=y.T,Q=w.ba.f.RGBA,J=Q.eb,te=Q.fb+y.ka*Q.A,ne=$l[w.ba.S],le=y.y,ue=y.O,pe=y.f,Ie=y.N,Xe=y.ea,Je=y.W,He=w.cc,wt=w.dc,nt=w.Mc,Pe=w.Nc,Ue=y.ka,jt=y.ka+y.T,Ct=y.U,yt=Ct+1>>1;for(Ue==0?ne(le,ue,null,null,pe,Ie,Xe,Je,pe,Ie,Xe,Je,J,te,null,null,Ct):(ne(w.ec,w.fc,le,ue,He,wt,nt,Pe,pe,Ie,Xe,Je,J,te-Q.A,J,te,Ct),++T);Ue+2<jt;Ue+=2)He=pe,wt=Ie,nt=Xe,Pe=Je,Ie+=y.Rc,Je+=y.Rc,te+=2*Q.A,ne(le,(ue+=2*y.fa)-y.fa,le,ue,He,wt,nt,Pe,pe,Ie,Xe,Je,J,te-Q.A,J,te,Ct);return ue+=y.fa,y.j+jt<y.o?(n(w.ec,w.fc,le,ue,Ct),n(w.cc,w.dc,pe,Ie,yt),n(w.Mc,w.Nc,Xe,Je,yt),T--):1&jt||ne(le,ue,null,null,pe,Ie,Xe,Je,pe,Ie,Xe,Je,J,te+Q.A,null,null,Ct),T}function od(y,w,T){var Q=y.F,J=[y.J];if(Q!=null){var te=y.U,ne=w.ba.S,le=ne==Yj||ne==Xj;w=w.ba.f.RGBA;var ue=[0],pe=y.ka;ue[0]=y.T,y.Kb&&(pe==0?--ue[0]:(--pe,J[0]-=y.width),y.j+y.ka+y.T==y.o&&(ue[0]=y.o-y.j-pe));var Ie=w.eb;pe=w.fb+pe*w.A,y=Xr(Q,J[0],y.width,te,ue,Ie,pe+(le?0:3),w.A),s(T==ue),y&&Js(ne)&&zl(Ie,pe,le,te,ue,w.A)}return 0}function ca(y){var w=y.ma,T=w.ba.S,Q=11>T,J=T==Gj||T==Wj||T==Yj||T==YN||T==12||Js(T);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!K0(w.Oa,y,J?11:12))return 0;if(J&&Js(T)&&kt(),y.da)alert("todo:use_scaling");else{if(Q){if(w.Ib=Bs,y.Kb){if(T=y.U+1>>1,w.memory=i(y.U+2*T),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+y.U,w.Mc=w.cc,w.Nc=w.dc+T,w.Ib=fr,kt()}}else alert("todo:EmitYUV");J&&(w.Jb=od,Q&&ze())}if(Q&&!ZE){for(y=0;256>y;++y)lG[y]=89858*(y-128)+Zj>>Jj,dG[y]=-22014*(y-128)+Zj,cG[y]=-45773*(y-128),oG[y]=113618*(y-128)+Zj>>Jj;for(y=Z0;y<s4;++y)w=76283*(y-16)+Zj>>Jj,uG[y-Z0]=Al(w,255),hG[y-Z0]=Al(w+8>>4,15);ZE=1}return 1}function Ml(y){var w=y.ma,T=y.U,Q=y.T;return s(!(1&y.ka)),0>=T||0>=Q?0:(T=w.Ib(y,w),w.Jb!=null&&w.Jb(y,w,T),w.Dc+=T,1)}function Ql(y){y.ma.memory=null}function As(y,w,T,Q){return ve(y,8)!=47?0:(w[0]=ve(y,14)+1,T[0]=ve(y,14)+1,Q[0]=ve(y,1),ve(y,3)!=0?0:!y.h)}function ul(y,w){if(4>y)return y+1;var T=y-2>>1;return(2+(1&y)<<T)+ve(w,T)+1}function Hi(y,w){return 120<w?w-120:1<=(T=((T=$$[w-1])>>4)*y+(8-(15&T)))?T:1;var T}function Wa(y,w,T){var Q=U(T),J=y[w+=255&Q].g-8;return 0<J&&(q(T,T.u+8),Q=U(T),w+=y[w].value,w+=Q&(1<<J)-1),q(T,T.u+y[w].g),y[w].value}function Dn(y,w,T){return T.g+=y.g,T.value+=y.value<<w>>>0,s(8>=T.g),y.g}function Cn(y,w,T){var Q=y.xc;return s((w=Q==0?0:y.vc[y.md*(T>>Q)+(w>>Q)])<y.Wb),y.Ya[w]}function se(y,w,T,Q){var J=y.ab,te=y.c*w,ne=y.C;w=ne+w;var le=T,ue=Q;for(Q=y.Ta,T=y.Ua;0<J--;){var pe=y.gc[J],Ie=ne,Xe=w,Je=le,He=ue,wt=(ue=Q,le=T,pe.Ea);switch(s(Ie<Xe),s(Xe<=pe.nc),pe.hc){case 2:Qj(Je,He,(Xe-Ie)*wt,ue,le);break;case 0:var nt=Ie,Pe=Xe,Ue=ue,jt=le,Ct=(Kt=pe).Ea;nt==0&&(GN(Je,He,null,null,1,Ue,jt),vt(Je,He+1,0,0,Ct-1,Ue,jt+1),He+=Ct,jt+=Ct,++nt);for(var yt=1<<Kt.b,Jt=yt-1,Ht=Ot(Ct,Kt.b),ms=Kt.K,Kt=Kt.w+(nt>>Kt.b)*Ht;nt<Pe;){var gr=ms,Sr=Kt,lr=1;for($0(Je,He,Ue,jt-Ct,1,Ue,jt);lr<Ct;){var Zs=(lr&~Jt)+yt;Zs>Ct&&(Zs=Ct),(0,ou[gr[Sr++]>>8&15])(Je,He+ +lr,Ue,jt+lr-Ct,Zs-lr,Ue,jt+lr),lr=Zs}He+=Ct,jt+=Ct,++nt&Jt||(Kt+=Ht)}Xe!=pe.nc&&n(ue,le-wt,ue,le+(Xe-Ie-1)*wt,wt);break;case 1:for(wt=Je,Pe=He,Ct=(Je=pe.Ea)-(jt=Je&~(Ue=(He=1<<pe.b)-1)),nt=Ot(Je,pe.b),yt=pe.K,pe=pe.w+(Ie>>pe.b)*nt;Ie<Xe;){for(Jt=yt,Ht=pe,ms=new gt,Kt=Pe+jt,gr=Pe+Je;Pe<Kt;)Et(Jt[Ht++],ms),Xh(ms,wt,Pe,He,ue,le),Pe+=He,le+=He;Pe<gr&&(Et(Jt[Ht++],ms),Xh(ms,wt,Pe,Ct,ue,le),Pe+=Ct,le+=Ct),++Ie&Ue||(pe+=nt)}break;case 3:if(Je==ue&&He==le&&0<pe.b){for(Pe=ue,Je=wt=le+(Xe-Ie)*wt-(jt=(Xe-Ie)*Ot(pe.Ea,pe.b)),He=ue,Ue=le,nt=[],jt=(Ct=jt)-1;0<=jt;--jt)nt[jt]=He[Ue+jt];for(jt=Ct-1;0<=jt;--jt)Pe[Je+jt]=nt[jt];Hl(pe,Ie,Xe,ue,wt,ue,le)}else Hl(pe,Ie,Xe,Je,He,ue,le)}le=Q,ue=T}ue!=T&&n(Q,T,le,ue,te)}function ye(y,w){var T=y.V,Q=y.Ba+y.c*y.C,J=w-y.C;if(s(w<=y.l.o),s(16>=J),0<J){var te=y.l,ne=y.Ta,le=y.Ua,ue=te.width;if(se(y,J,T,Q),J=le=[le],s((T=y.C)<(Q=w)),s(te.v<te.va),Q>te.o&&(Q=te.o),T<te.j){var pe=te.j-T;T=te.j,J[0]+=pe*ue}if(T>=Q?T=0:(J[0]+=4*te.v,te.ka=T-te.j,te.U=te.va-te.v,te.T=Q-T,T=1),T){if(le=le[0],11>(T=y.ca).S){var Ie=T.f.RGBA,Xe=(Q=T.S,J=te.U,te=te.T,pe=Ie.eb,Ie.A),Je=te;for(Ie=Ie.fb+y.Ma*Ie.A;0<Je--;){var He=ne,wt=le,nt=J,Pe=pe,Ue=Ie;switch(Q){case $j:zi(He,wt,nt,Pe,Ue);break;case Gj:vi(He,wt,nt,Pe,Ue);break;case XN:vi(He,wt,nt,Pe,Ue),zl(Pe,Ue,0,nt,1,0);break;case KE:Ad(He,wt,nt,Pe,Ue);break;case Wj:Br(He,wt,nt,Pe,Ue,1);break;case JN:Br(He,wt,nt,Pe,Ue,1),zl(Pe,Ue,0,nt,1,0);break;case Yj:Br(He,wt,nt,Pe,Ue,0);break;case Xj:Br(He,wt,nt,Pe,Ue,0),zl(Pe,Ue,1,nt,1,0);break;case YN:cu(He,wt,nt,Pe,Ue);break;case ZN:cu(He,wt,nt,Pe,Ue),Yr(Pe,Ue,nt,1,0);break;case zE:hd(He,wt,nt,Pe,Ue);break;default:s(0)}le+=ue,Ie+=Xe}y.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");s(y.Ma<=T.height)}}y.C=w,s(y.C<=y.i)}function he(y){var w;if(0<y.ua)return 0;for(w=0;w<y.Wb;++w){var T=y.Ya[w].G,Q=y.Ya[w].H;if(0<T[1][Q[1]+0].g||0<T[2][Q[2]+0].g||0<T[3][Q[3]+0].g)return 0}return 1}function fe(y,w,T,Q,J,te){if(y.Z!=0){var ne=y.qd,le=y.rd;for(s(Au[y.Z]!=null);w<T;++w)Au[y.Z](ne,le,Q,J,Q,J,te),ne=Q,le=J,J+=te;y.qd=ne,y.rd=le}}function je(y,w){var T=y.l.ma,Q=T.Z==0||T.Z==1?y.l.j:y.C;if(Q=y.C<Q?Q:y.C,s(w<=y.l.o),w>Q){var J=y.l.width,te=T.ca,ne=T.tb+J*Q,le=y.V,ue=y.Ba+y.c*Q,pe=y.gc;s(y.ab==1),s(pe[0].hc==3),Hj(pe[0],Q,w,le,ue,te,ne),fe(T,Q,w,te,ne,J)}y.C=y.Ma=w}function we(y,w,T,Q,J,te,ne){var le=y.$/Q,ue=y.$%Q,pe=y.m,Ie=y.s,Xe=T+y.$,Je=Xe;J=T+Q*J;var He=T+Q*te,wt=280+Ie.ua,nt=y.Pb?le:16777216,Pe=0<Ie.ua?Ie.Wa:null,Ue=Ie.wc,jt=Xe<He?Cn(Ie,ue,le):null;s(y.C<te),s(He<=J);var Ct=!1;e:for(;;){for(;Ct||Xe<He;){var yt=0;if(le>=nt){var Jt=Xe-T;s((nt=y).Pb),nt.wd=nt.m,nt.xd=Jt,0<nt.s.ua&&$e(nt.s.Wa,nt.s.vb),nt=le+W$}if(ue&Ue||(jt=Cn(Ie,ue,le)),s(jt!=null),jt.Qb&&(w[Xe]=jt.qb,Ct=!0),!Ct)if(ae(pe),jt.jc){yt=pe,Jt=w;var Ht=Xe,ms=jt.pd[U(yt)&Ea-1];s(jt.jc),256>ms.g?(q(yt,yt.u+ms.g),Jt[Ht]=ms.value,yt=0):(q(yt,yt.u+ms.g-256),s(256<=ms.value),yt=ms.value),yt==0&&(Ct=!0)}else yt=Wa(jt.G[0],jt.H[0],pe);if(pe.h)break;if(Ct||256>yt){if(!Ct)if(jt.nd)w[Xe]=(jt.qb|yt<<8)>>>0;else{if(ae(pe),Ct=Wa(jt.G[1],jt.H[1],pe),ae(pe),Jt=Wa(jt.G[2],jt.H[2],pe),Ht=Wa(jt.G[3],jt.H[3],pe),pe.h)break;w[Xe]=(Ht<<24|Ct<<16|yt<<8|Jt)>>>0}if(Ct=!1,++Xe,++ue>=Q&&(ue=0,++le,ne!=null&&le<=te&&!(le%16)&&ne(y,le),Pe!=null))for(;Je<Xe;)yt=w[Je++],Pe.X[(506832829*yt&4294967295)>>>Pe.Mb]=yt}else if(280>yt){if(yt=ul(yt-256,pe),Jt=Wa(jt.G[4],jt.H[4],pe),ae(pe),Jt=Hi(Q,Jt=ul(Jt,pe)),pe.h)break;if(Xe-T<Jt||J-Xe<yt)break e;for(Ht=0;Ht<yt;++Ht)w[Xe+Ht]=w[Xe+Ht-Jt];for(Xe+=yt,ue+=yt;ue>=Q;)ue-=Q,++le,ne!=null&&le<=te&&!(le%16)&&ne(y,le);if(s(Xe<=J),ue&Ue&&(jt=Cn(Ie,ue,le)),Pe!=null)for(;Je<Xe;)yt=w[Je++],Pe.X[(506832829*yt&4294967295)>>>Pe.Mb]=yt}else{if(!(yt<wt))break e;for(Ct=yt-280,s(Pe!=null);Je<Xe;)yt=w[Je++],Pe.X[(506832829*yt&4294967295)>>>Pe.Mb]=yt;yt=Xe,s(!(Ct>>>(Jt=Pe).Xa)),w[yt]=Jt.X[Ct],Ct=!0}Ct||s(pe.h==R(pe))}if(y.Pb&&pe.h&&Xe<J)s(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&$e(y.s.vb,y.s.Wa);else{if(pe.h)break e;ne!=null&&ne(y,le>te?te:le),y.a=0,y.$=Xe-T}return 1}return y.a=3,0}function Ge(y){s(y!=null),y.vc=null,y.yc=null,y.Ya=null;var w=y.Wa;w!=null&&(w.X=null),y.vb=null,s(y!=null)}function rt(){var y=new $N;return y==null?null:(y.a=0,y.xb=GE,Qi("Predictor","VP8LPredictors"),Qi("Predictor","VP8LPredictors_C"),Qi("PredictorAdd","VP8LPredictorsAdd"),Qi("PredictorAdd","VP8LPredictorsAdd_C"),Qj=ut,Xh=Mt,zi=Lt,vi=Pn,cu=Hs,hd=ga,Ad=mr,N.VP8LMapColor32b=zm,N.VP8LMapColor8b=Vj,y)}function qe(y,w,T,Q,J){var te=1,ne=[y],le=[w],ue=Q.m,pe=Q.s,Ie=null,Xe=0;e:for(;;){if(T)for(;te&&ve(ue,1);){var Je=ne,He=le,wt=Q,nt=1,Pe=wt.m,Ue=wt.gc[wt.ab],jt=ve(Pe,2);if(wt.Oc&1<<jt)te=0;else{switch(wt.Oc|=1<<jt,Ue.hc=jt,Ue.Ea=Je[0],Ue.nc=He[0],Ue.K=[null],++wt.ab,s(4>=wt.ab),jt){case 0:case 1:Ue.b=ve(Pe,3)+2,nt=qe(Ot(Ue.Ea,Ue.b),Ot(Ue.nc,Ue.b),0,wt,Ue.K),Ue.K=Ue.K[0];break;case 3:var Ct,yt=ve(Pe,8)+1,Jt=16<yt?0:4<yt?1:2<yt?2:3;if(Je[0]=Ot(Ue.Ea,Jt),Ue.b=Jt,Ct=nt=qe(yt,1,0,wt,Ue.K)){var Ht,ms=yt,Kt=Ue,gr=1<<(8>>Kt.b),Sr=i(gr);if(Sr==null)Ct=0;else{var lr=Kt.K[0],Zs=Kt.w;for(Sr[0]=Kt.K[0][0],Ht=1;Ht<1*ms;++Ht)Sr[Ht]=Ye(lr[Zs+Ht],Sr[Ht-1]);for(;Ht<4*gr;++Ht)Sr[Ht]=0;Kt.K[0]=null,Kt.K[0]=Sr,Ct=1}}nt=Ct;break;case 2:break;default:s(0)}te=nt}}if(ne=ne[0],le=le[0],te&&ve(ue,1)&&!(te=1<=(Xe=ve(ue,4))&&11>=Xe)){Q.a=3;break e}var Vr;if(Vr=te)t:{var Or,Is,ea,qi=Q,ta=ne,$i=le,kr=Xe,fl=T,xl=qi.m,ja=qi.s,Fa=[null],yi=1,Gl=0,Cc=G$[kr];s:for(;;){if(fl&&ve(xl,1)){var ya=ve(xl,3)+2,pd=Ot(ta,ya),sA=Ot($i,ya),Ym=pd*sA;if(!qe(pd,sA,0,qi,Fa))break s;for(Fa=Fa[0],ja.xc=ya,Or=0;Or<Ym;++Or){var mu=Fa[Or]>>8&65535;Fa[Or]=mu,mu>=yi&&(yi=mu+1)}}if(xl.h)break s;for(Is=0;5>Is;++Is){var Sn=qE[Is];!Is&&0<kr&&(Sn+=1<<kr),Gl<Sn&&(Gl=Sn)}var r4=l(yi*Cc,D),s6=yi,r6=l(s6,K);if(r6==null)var ty=null;else s(65536>=s6),ty=r6;var ep=i(Gl);if(ty==null||ep==null||r4==null){qi.a=1;break s}var sy=r4;for(Or=ea=0;Or<yi;++Or){var _o=ty[Or],Xm=_o.G,Jm=_o.H,n6=0,ry=1,a6=0;for(Is=0;5>Is;++Is){Sn=qE[Is],Xm[Is]=sy,Jm[Is]=ea,!Is&&0<kr&&(Sn+=1<<kr);n:{var ny,n4=Sn,ay=qi,tp=ep,fG=sy,xG=ea,a4=0,fu=ay.m,pG=ve(fu,1);if(a(tp,0,0,n4),pG){var gG=ve(fu,1)+1,vG=ve(fu,1),i6=ve(fu,vG==0?1:8);tp[i6]=1,gG==2&&(tp[i6=ve(fu,8)]=1);var iy=1}else{var l6=i(19),o6=ve(fu,4)+4;if(19<o6){ay.a=3;var ly=0;break n}for(ny=0;ny<o6;++ny)l6[q$[ny]]=ve(fu,3);var i4=void 0,sp=void 0,c6=ay,jG=l6,oy=n4,d6=tp,l4=0,xu=c6.m,u6=8,h6=l(128,D);r:for(;k(h6,0,7,jG,19);){if(ve(xu,1)){var yG=2+2*ve(xu,3);if((i4=2+ve(xu,yG))>oy)break r}else i4=oy;for(sp=0;sp<oy&&i4--;){ae(xu);var A6=h6[0+(127&U(xu))];q(xu,xu.u+A6.g);var Zm=A6.value;if(16>Zm)d6[sp++]=Zm,Zm!=0&&(u6=Zm);else{var wG=Zm==16,m6=Zm-16,bG=K$[m6],f6=ve(xu,V$[m6])+bG;if(sp+f6>oy)break r;for(var NG=wG?u6:0;0<f6--;)d6[sp++]=NG}}l4=1;break r}l4||(c6.a=3),iy=l4}(iy=iy&&!fu.h)&&(a4=k(fG,xG,8,tp,n4)),iy&&a4!=0?ly=a4:(ay.a=3,ly=0)}if(ly==0)break s;if(ry&&z$[Is]==1&&(ry=sy[ea].g==0),n6+=sy[ea].g,ea+=ly,3>=Is){var rp,o4=ep[0];for(rp=1;rp<Sn;++rp)ep[rp]>o4&&(o4=ep[rp]);a6+=o4}}if(_o.nd=ry,_o.Qb=0,ry&&(_o.qb=(Xm[3][Jm[3]+0].value<<24|Xm[1][Jm[1]+0].value<<16|Xm[2][Jm[2]+0].value)>>>0,n6==0&&256>Xm[0][Jm[0]+0].value&&(_o.Qb=1,_o.qb+=Xm[0][Jm[0]+0].value<<8)),_o.jc=!_o.Qb&&6>a6,_o.jc){var cy,gd=_o;for(cy=0;cy<Ea;++cy){var pu=cy,gu=gd.pd[pu],dy=gd.G[0][gd.H[0]+pu];256<=dy.value?(gu.g=dy.g+256,gu.value=dy.value):(gu.g=0,gu.value=0,pu>>=Dn(dy,8,gu),pu>>=Dn(gd.G[1][gd.H[1]+pu],16,gu),pu>>=Dn(gd.G[2][gd.H[2]+pu],0,gu),Dn(gd.G[3][gd.H[3]+pu],24,gu))}}}ja.vc=Fa,ja.Wb=yi,ja.Ya=ty,ja.yc=r4,Vr=1;break t}Vr=0}if(!(te=Vr)){Q.a=3;break e}if(0<Xe){if(pe.ua=1<<Xe,!Me(pe.Wa,Xe)){Q.a=1,te=0;break e}}else pe.ua=0;var c4=Q,x6=ne,CG=le,d4=c4.s,u4=d4.xc;if(c4.c=x6,c4.i=CG,d4.md=Ot(x6,u4),d4.wc=u4==0?-1:(1<<u4)-1,T){Q.xb=sG;break e}if((Ie=i(ne*le))==null){Q.a=1,te=0;break e}te=(te=we(Q,Ie,0,ne,le,le,null))&&!ue.h;break e}return te?(J!=null?J[0]=Ie:(s(Ie==null),s(T)),Q.$=0,T||Ge(pe)):Ge(pe),te}function Ze(y,w){var T=y.c*y.i,Q=T+w+16*w;return s(y.c<=w),y.V=i(Q),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+T+w,1)}function et(y,w){var T=y.C,Q=w-T,J=y.V,te=y.Ba+y.c*T;for(s(w<=y.l.o);0<Q;){var ne=16<Q?16:Q,le=y.l.ma,ue=y.l.width,pe=ue*ne,Ie=le.ca,Xe=le.tb+ue*T,Je=y.Ta,He=y.Ua;se(y,ne,J,te),Rn(Je,He,Ie,Xe,pe),fe(le,T,T+ne,Ie,Xe,ue),Q-=ne,J+=ne*y.c,T+=ne}s(T==w),y.C=y.Ma=w}function _t(){this.ub=this.yd=this.td=this.Rb=0}function Pt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function It(){this.Yb=function(){var y=[];return function w(T,Q,J){for(var te=J[Q],ne=0;ne<te&&(T.push(J.length>Q+1?[]:0),!(J.length<Q+1));ne++)w(T[ne],Q+1,J)}(y,0,[3,11]),y}()}function qt(){this.jb=i(3),this.Wc=o([4,8],It),this.Xc=o([4,17],It)}function Ns(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function jr(){this.ld=this.La=this.dd=this.tc=0}function Ur(){this.Na=this.la=0}function Jn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function bo(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function cd(){this.uc=this.M=this.Nb=0,this.wa=Array(new jr),this.Y=0,this.ya=Array(new bo),this.aa=0,this.l=new yc}function jc(){this.y=i(16),this.f=i(8),this.ea=i(8)}function No(){this.cb=this.a=0,this.sc="",this.m=new De,this.Od=new _t,this.Kc=new Pt,this.ed=new Ns,this.Qa=new Gt,this.Ic=this.$c=this.Aa=0,this.D=new cd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,De),this.ia=0,this.pb=l(4,Jn),this.Pa=new qt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new jc),this.Hd=0,this.rb=Array(new Ur),this.sb=0,this.wa=Array(new jr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new bo),this.L=this.aa=0,this.gd=o([4,2],jr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function yc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function hl(){var y=new No;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,J0||(J0=Bj)),y}function Un(y,w,T){return y.a==0&&(y.a=w,y.sc=T,y.cb=0),0}function Nj(y,w,T){return 3<=T&&y[w+0]==157&&y[w+1]==1&&y[w+2]==42}function Cj(y,w){if(y==null)return 0;if(y.a=0,y.sc="OK",w==null)return Un(y,2,"null VP8Io passed to VP8GetHeaders()");var T=w.data,Q=w.w,J=w.ha;if(4>J)return Un(y,7,"Truncated header.");var te=T[Q+0]|T[Q+1]<<8|T[Q+2]<<16,ne=y.Od;if(ne.Rb=!(1&te),ne.td=te>>1&7,ne.yd=te>>4&1,ne.ub=te>>5,3<ne.td)return Un(y,3,"Incorrect keyframe parameters.");if(!ne.yd)return Un(y,4,"Frame not displayable.");Q+=3,J-=3;var le=y.Kc;if(ne.Rb){if(7>J)return Un(y,7,"cannot parse picture header");if(!Nj(T,Q,J))return Un(y,3,"Bad code word");le.c=16383&(T[Q+4]<<8|T[Q+3]),le.Td=T[Q+4]>>6,le.i=16383&(T[Q+6]<<8|T[Q+5]),le.Ud=T[Q+6]>>6,Q+=7,J-=7,y.za=le.c+15>>4,y.Ub=le.i+15>>4,w.width=le.c,w.height=le.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,a((te=y.Pa).jb,0,255,te.jb.length),s((te=y.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,a(te.Zb,0,0,te.Zb.length),a(te.Lb,0,0,te.Lb)}if(ne.ub>J)return Un(y,7,"bad partition length");xe(te=y.m,T,Q,ne.ub),Q+=ne.ub,J-=ne.ub,ne.Rb&&(le.Ld=G(te),le.Kd=G(te)),le=y.Qa;var ue,pe=y.Pa;if(s(te!=null),s(le!=null),le.Cb=G(te),le.Cb){if(le.Bb=G(te),G(te)){for(le.Fb=G(te),ue=0;4>ue;++ue)le.Zb[ue]=G(te)?re(te,7):0;for(ue=0;4>ue;++ue)le.Lb[ue]=G(te)?re(te,6):0}if(le.Bb)for(ue=0;3>ue;++ue)pe.jb[ue]=G(te)?W(te,8):255}else le.Bb=0;if(te.Ka)return Un(y,3,"cannot parse segment header");if((le=y.ed).zd=G(te),le.Tb=W(te,6),le.wb=W(te,3),le.Pc=G(te),le.Pc&&G(te)){for(pe=0;4>pe;++pe)G(te)&&(le.vd[pe]=re(te,6));for(pe=0;4>pe;++pe)G(te)&&(le.od[pe]=re(te,6))}if(y.L=le.Tb==0?0:le.zd?1:2,te.Ka)return Un(y,3,"cannot parse filter header");var Ie=J;if(J=ue=Q,Q=ue+Ie,le=Ie,y.Xb=(1<<W(y.m,2))-1,Ie<3*(pe=y.Xb))T=7;else{for(ue+=3*pe,le-=3*pe,Ie=0;Ie<pe;++Ie){var Xe=T[J+0]|T[J+1]<<8|T[J+2]<<16;Xe>le&&(Xe=le),xe(y.Jc[+Ie],T,ue,Xe),ue+=Xe,le-=Xe,J+=3}xe(y.Jc[+pe],T,ue,le),T=ue<Q?0:5}if(T!=0)return Un(y,T,"cannot parse partitions");for(T=W(ue=y.m,7),J=G(ue)?re(ue,4):0,Q=G(ue)?re(ue,4):0,le=G(ue)?re(ue,4):0,pe=G(ue)?re(ue,4):0,ue=G(ue)?re(ue,4):0,Ie=y.Qa,Xe=0;4>Xe;++Xe){if(Ie.Cb){var Je=Ie.Zb[Xe];Ie.Fb||(Je+=T)}else{if(0<Xe){y.pb[Xe]=y.pb[0];continue}Je=T}var He=y.pb[Xe];He.Sc[0]=e4[Al(Je+J,127)],He.Sc[1]=t4[Al(Je+0,127)],He.Eb[0]=2*e4[Al(Je+Q,127)],He.Eb[1]=101581*t4[Al(Je+le,127)]>>16,8>He.Eb[1]&&(He.Eb[1]=8),He.Qc[0]=e4[Al(Je+pe,117)],He.Qc[1]=t4[Al(Je+ue,127)],He.lc=Je+ue}if(!ne.Rb)return Un(y,4,"Not a key frame.");for(G(te),ne=y.Pa,T=0;4>T;++T){for(J=0;8>J;++J)for(Q=0;3>Q;++Q)for(le=0;11>le;++le)pe=O(te,eG[T][J][Q][le])?W(te,8):J$[T][J][Q][le],ne.Wc[T][J].Yb[Q][le]=pe;for(J=0;17>J;++J)ne.Xc[T][J]=ne.Wc[T][tG[J]]}return y.kc=G(te),y.kc&&(y.Bd=W(te,8)),y.cb=1}function Bj(y,w,T,Q,J,te,ne){var le=w[J].Yb[T];for(T=0;16>J;++J){if(!O(y,le[T+0]))return J;for(;!O(y,le[T+1]);)if(le=w[++J].Yb[0],T=0,J==16)return 16;var ue=w[J+1].Yb;if(O(y,le[T+2])){var pe=y,Ie=0;if(O(pe,(Je=le)[(Xe=T)+3]))if(O(pe,Je[Xe+6])){for(le=0,Xe=2*(Ie=O(pe,Je[Xe+8]))+(Je=O(pe,Je[Xe+9+Ie])),Ie=0,Je=Y$[Xe];Je[le];++le)Ie+=Ie+O(pe,Je[le]);Ie+=3+(8<<Xe)}else O(pe,Je[Xe+7])?(Ie=7+2*O(pe,165),Ie+=O(pe,145)):Ie=5+O(pe,159);else Ie=O(pe,Je[Xe+4])?3+O(pe,Je[Xe+5]):2;le=ue[2]}else Ie=1,le=ue[1];ue=ne+X$[J],0>(pe=y).b&&Ae(pe);var Xe,Je=pe.b,He=(Xe=pe.Ca>>1)-(pe.I>>Je)>>31;--pe.b,pe.Ca+=He,pe.Ca|=1,pe.I-=(Xe+1&He)<<Je,te[ue]=((Ie^He)-He)*Q[(0<J)+0]}return 16}function _0(y){var w=y.rb[y.sb-1];w.la=0,w.Na=0,a(y.zc,0,0,y.zc.length),y.ja=0}function EN(y,w){if(y==null)return 0;if(w==null)return Un(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!Cj(y,w))return 0;if(s(y.cb),w.ac==null||w.ac(w)){w.ob&&(y.L=0);var T=ey[y.L];if(y.L==2?(y.yb=0,y.zb=0):(y.yb=w.v-T>>4,y.zb=w.j-T>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=w.o+15+T>>4,y.Hb=w.va+15+T>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var Q=y.ed;for(T=0;4>T;++T){var J;if(y.Qa.Cb){var te=y.Qa.Lb[T];y.Qa.Fb||(te+=Q.Tb)}else te=Q.Tb;for(J=0;1>=J;++J){var ne=y.gd[T][J],le=te;if(Q.Pc&&(le+=Q.vd[0],J&&(le+=Q.od[0])),0<(le=0>le?0:63<le?63:le)){var ue=le;0<Q.wb&&(ue=4<Q.wb?ue>>2:ue>>1)>9-Q.wb&&(ue=9-Q.wb),1>ue&&(ue=1),ne.dd=ue,ne.tc=2*le+ue,ne.ld=40<=le?2:15<=le?1:0}else ne.tc=0;ne.La=J}}}T=0}else Un(y,6,"Frame setup failed"),T=y.a;if(T=T==0){if(T){y.$c=0,0<y.Aa||(y.Ic=mG);e:{T=y.Ic,Q=4*(ue=y.za);var pe=32*ue,Ie=ue+1,Xe=0<y.L?ue*(0<y.Aa?2:1):0,Je=(y.Aa==2?2:1)*ue;if((ne=Q+832+(J=3*(16*T+ey[y.L])/2*pe)+(te=y.Fa!=null&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=ne)T=0;else{if(ne>y.Vb){if(y.Vb=0,y.Ec=i(ne),y.Fc=0,y.Ec==null){T=Un(y,1,"no memory during frame initialization.");break e}y.Vb=ne}ne=y.Ec,le=y.Fc,y.Ac=ne,y.Bc=le,le+=Q,y.Gd=l(pe,jc),y.Hd=0,y.rb=l(Ie+1,Ur),y.sb=1,y.wa=Xe?l(Xe,jr):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=ue),s(!0),y.oc=ne,y.pc=le,le+=832,y.ya=l(Je,bo),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,y.Aa==2&&(y.D.aa+=ue),y.R=16*ue,y.B=8*ue,ue=(pe=ey[y.L])*y.R,pe=pe/2*y.B,y.sa=ne,y.ta=le+ue,y.qa=y.sa,y.ra=y.ta+16*T*y.R+pe,y.Ha=y.qa,y.Ia=y.ra+8*T*y.B+pe,y.$c=0,le+=J,y.mb=te?ne:null,y.nb=te?le:null,s(le+te<=y.Fc+y.Vb),_0(y),a(y.Ac,y.Bc,0,Q),T=1}}if(T){if(w.ka=0,w.y=y.sa,w.O=y.ta,w.f=y.qa,w.N=y.ra,w.ea=y.Ha,w.Vd=y.Ia,w.fa=y.R,w.Rc=y.B,w.F=null,w.J=0,!zj){for(T=-255;255>=T;++T)da[255+T]=0>T?-T:T;for(T=-1020;1020>=T;++T)fd[1020+T]=-128>T?-128:127<T?127:T;for(T=-112;112>=T;++T)X0[112+T]=-16>T?-16:15<T?15:T;for(T=-255;510>=T;++T)Wm[255+T]=0>T?0:255<T?255:T;zj=1}qm=LN,md=FN,G0=kj,ji=TN,Vl=_j,On=Sj,$m=P0,Kj=Wh,W0=qN,Jh=D0,Zh=zN,du=Um,eA=U0,Gm=Oj,tA=Uj,uu=bc,Y0=ud,Kl=KN,ko[0]=wc,ko[1]=IN,ko[2]=ON,ko[3]=RN,ko[4]=Tj,ko[5]=Pm,ko[6]=Lj,ko[7]=T0,ko[8]=QN,ko[9]=MN,hu[0]=Ej,hu[1]=DN,hu[2]=dd,hu[3]=Lm,hu[4]=Ya,hu[5]=UN,hu[6]=Fj,xd[0]=au,xd[1]=PN,xd[2]=HN,xd[3]=L0,xd[4]=Gh,xd[5]=VN,xd[6]=I0,T=1}else T=0}T&&(T=function(He,wt){for(He.M=0;He.M<He.Va;++He.M){var nt,Pe=He.Jc[He.M&He.Xb],Ue=He.m,jt=He;for(nt=0;nt<jt.za;++nt){var Ct=Ue,yt=jt,Jt=yt.Ac,Ht=yt.Bc+4*nt,ms=yt.zc,Kt=yt.ya[yt.aa+nt];if(yt.Qa.Bb?Kt.$b=O(Ct,yt.Pa.jb[0])?2+O(Ct,yt.Pa.jb[2]):O(Ct,yt.Pa.jb[1]):Kt.$b=0,yt.kc&&(Kt.Ad=O(Ct,yt.Bd)),Kt.Za=!O(Ct,145)+0,Kt.Za){var gr=Kt.Ob,Sr=0;for(yt=0;4>yt;++yt){var lr,Zs=ms[0+yt];for(lr=0;4>lr;++lr){Zs=Z$[Jt[Ht+lr]][Zs];for(var Vr=$E[O(Ct,Zs[0])];0<Vr;)Vr=$E[2*Vr+O(Ct,Zs[Vr])];Zs=-Vr,Jt[Ht+lr]=Zs}n(gr,Sr,Jt,Ht,4),Sr+=4,ms[0+yt]=Zs}}else Zs=O(Ct,156)?O(Ct,128)?1:3:O(Ct,163)?2:0,Kt.Ob[0]=Zs,a(Jt,Ht,Zs,4),a(ms,0,Zs,4);Kt.Dd=O(Ct,142)?O(Ct,114)?O(Ct,183)?1:3:2:0}if(jt.m.Ka)return Un(He,7,"Premature end-of-partition0 encountered.");for(;He.ja<He.za;++He.ja){if(jt=Pe,Ct=(Ue=He).rb[Ue.sb-1],Jt=Ue.rb[Ue.sb+Ue.ja],nt=Ue.ya[Ue.aa+Ue.ja],Ht=Ue.kc?nt.Ad:0)Ct.la=Jt.la=0,nt.Za||(Ct.Na=Jt.Na=0),nt.Hc=0,nt.Gc=0,nt.ia=0;else{var Or,Is;if(Ct=Jt,Jt=jt,Ht=Ue.Pa.Xc,ms=Ue.ya[Ue.aa+Ue.ja],Kt=Ue.pb[ms.$b],yt=ms.ad,gr=0,Sr=Ue.rb[Ue.sb-1],Zs=lr=0,a(yt,gr,0,384),ms.Za)var ea=0,qi=Ht[3];else{Vr=i(16);var ta=Ct.Na+Sr.Na;if(ta=J0(Jt,Ht[1],ta,Kt.Eb,0,Vr,0),Ct.Na=Sr.Na=(0<ta)+0,1<ta)qm(Vr,0,yt,gr);else{var $i=Vr[0]+3>>3;for(Vr=0;256>Vr;Vr+=16)yt[gr+Vr]=$i}ea=1,qi=Ht[0]}var kr=15&Ct.la,fl=15&Sr.la;for(Vr=0;4>Vr;++Vr){var xl=1&fl;for($i=Is=0;4>$i;++$i)kr=kr>>1|(xl=(ta=J0(Jt,qi,ta=xl+(1&kr),Kt.Sc,ea,yt,gr))>ea)<<7,Is=Is<<2|(3<ta?3:1<ta?2:yt[gr+0]!=0),gr+=16;kr>>=4,fl=fl>>1|xl<<7,lr=(lr<<8|Is)>>>0}for(qi=kr,ea=fl>>4,Or=0;4>Or;Or+=2){for(Is=0,kr=Ct.la>>4+Or,fl=Sr.la>>4+Or,Vr=0;2>Vr;++Vr){for(xl=1&fl,$i=0;2>$i;++$i)ta=xl+(1&kr),kr=kr>>1|(xl=0<(ta=J0(Jt,Ht[2],ta,Kt.Qc,0,yt,gr)))<<3,Is=Is<<2|(3<ta?3:1<ta?2:yt[gr+0]!=0),gr+=16;kr>>=2,fl=fl>>1|xl<<5}Zs|=Is<<4*Or,qi|=kr<<4<<Or,ea|=(240&fl)<<Or}Ct.la=qi,Sr.la=ea,ms.Hc=lr,ms.Gc=Zs,ms.ia=43690&Zs?0:Kt.ia,Ht=!(lr|Zs)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[nt.$b][nt.Za],Ue.wa[Ue.Y+Ue.ja].La|=!Ht),jt.Ka)return Un(He,7,"Premature end-of-file encountered.")}if(_0(He),Ue=wt,jt=1,nt=(Pe=He).D,Ct=0<Pe.L&&Pe.M>=Pe.zb&&Pe.M<=Pe.Va,Pe.Aa==0)e:{if(nt.M=Pe.M,nt.uc=Ct,V0(Pe,nt),jt=1,nt=(Is=Pe.D).Nb,Ct=(Zs=ey[Pe.L])*Pe.R,Jt=Zs/2*Pe.B,Vr=16*nt*Pe.R,$i=8*nt*Pe.B,Ht=Pe.sa,ms=Pe.ta-Ct+Vr,Kt=Pe.qa,yt=Pe.ra-Jt+$i,gr=Pe.Ha,Sr=Pe.Ia-Jt+$i,fl=(kr=Is.M)==0,lr=kr>=Pe.Va-1,Pe.Aa==2&&V0(Pe,Is),Is.uc)for(xl=(ta=Pe).D.M,s(ta.D.uc),Is=ta.yb;Is<ta.Hb;++Is){ea=Is,qi=xl;var ja=(Fa=(Sn=ta).D).Nb;Or=Sn.R;var Fa=Fa.wa[Fa.Y+ea],yi=Sn.sa,Gl=Sn.ta+16*ja*Or+16*ea,Cc=Fa.dd,ya=Fa.tc;if(ya!=0)if(s(3<=ya),Sn.L==1)0<ea&&uu(yi,Gl,Or,ya+4),Fa.La&&Kl(yi,Gl,Or,ya),0<qi&&tA(yi,Gl,Or,ya+4),Fa.La&&Y0(yi,Gl,Or,ya);else{var pd=Sn.B,sA=Sn.qa,Ym=Sn.ra+8*ja*pd+8*ea,mu=Sn.Ha,Sn=Sn.Ia+8*ja*pd+8*ea;ja=Fa.ld,0<ea&&(Kj(yi,Gl,Or,ya+4,Cc,ja),Jh(sA,Ym,mu,Sn,pd,ya+4,Cc,ja)),Fa.La&&(du(yi,Gl,Or,ya,Cc,ja),Gm(sA,Ym,mu,Sn,pd,ya,Cc,ja)),0<qi&&($m(yi,Gl,Or,ya+4,Cc,ja),W0(sA,Ym,mu,Sn,pd,ya+4,Cc,ja)),Fa.La&&(Zh(yi,Gl,Or,ya,Cc,ja),eA(sA,Ym,mu,Sn,pd,ya,Cc,ja))}}if(Pe.ia&&alert("todo:DitherRow"),Ue.put!=null){if(Is=16*kr,kr=16*(kr+1),fl?(Ue.y=Pe.sa,Ue.O=Pe.ta+Vr,Ue.f=Pe.qa,Ue.N=Pe.ra+$i,Ue.ea=Pe.Ha,Ue.W=Pe.Ia+$i):(Is-=Zs,Ue.y=Ht,Ue.O=ms,Ue.f=Kt,Ue.N=yt,Ue.ea=gr,Ue.W=Sr),lr||(kr-=Zs),kr>Ue.o&&(kr=Ue.o),Ue.F=null,Ue.J=null,Pe.Fa!=null&&0<Pe.Fa.length&&Is<kr&&(Ue.J=Q0(Pe,Ue,Is,kr-Is),Ue.F=Pe.mb,Ue.F==null&&Ue.F.length==0)){jt=Un(Pe,3,"Could not decode alpha data.");break e}Is<Ue.j&&(Zs=Ue.j-Is,Is=Ue.j,s(!(1&Zs)),Ue.O+=Pe.R*Zs,Ue.N+=Pe.B*(Zs>>1),Ue.W+=Pe.B*(Zs>>1),Ue.F!=null&&(Ue.J+=Ue.width*Zs)),Is<kr&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=Is-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=kr-Is,jt=Ue.put(Ue))}nt+1!=Pe.Ic||lr||(n(Pe.sa,Pe.ta-Ct,Ht,ms+16*Pe.R,Ct),n(Pe.qa,Pe.ra-Jt,Kt,yt+8*Pe.B,Jt),n(Pe.Ha,Pe.Ia-Jt,gr,Sr+8*Pe.B,Jt))}if(!jt)return Un(He,6,"Output aborted.")}return 1}(y,w)),w.bc!=null&&w.bc(w),T&=1}return T?(y.cb=0,T):0}function Co(y,w,T,Q,J){J=y[w+T+32*Q]+(J>>3),y[w+T+32*Q]=-256&J?0>J?0:255:J}function Tm(y,w,T,Q,J,te){Co(y,w,0,T,Q+J),Co(y,w,1,T,Q+te),Co(y,w,2,T,Q-te),Co(y,w,3,T,Q-J)}function Vi(y){return(20091*y>>16)+y}function E0(y,w,T,Q){var J,te=0,ne=i(16);for(J=0;4>J;++J){var le=y[w+0]+y[w+8],ue=y[w+0]-y[w+8],pe=(35468*y[w+4]>>16)-Vi(y[w+12]),Ie=Vi(y[w+4])+(35468*y[w+12]>>16);ne[te+0]=le+Ie,ne[te+1]=ue+pe,ne[te+2]=ue-pe,ne[te+3]=le-Ie,te+=4,w++}for(J=te=0;4>J;++J)le=(y=ne[te+0]+4)+ne[te+8],ue=y-ne[te+8],pe=(35468*ne[te+4]>>16)-Vi(ne[te+12]),Co(T,Q,0,0,le+(Ie=Vi(ne[te+4])+(35468*ne[te+12]>>16))),Co(T,Q,1,0,ue+pe),Co(T,Q,2,0,ue-pe),Co(T,Q,3,0,le-Ie),te++,Q+=32}function Sj(y,w,T,Q){var J=y[w+0]+4,te=35468*y[w+4]>>16,ne=Vi(y[w+4]),le=35468*y[w+1]>>16;Tm(T,Q,0,J+ne,y=Vi(y[w+1]),le),Tm(T,Q,1,J+te,y,le),Tm(T,Q,2,J-te,y,le),Tm(T,Q,3,J-ne,y,le)}function FN(y,w,T,Q,J){E0(y,w,T,Q),J&&E0(y,w+16,T,Q+4)}function kj(y,w,T,Q){md(y,w+0,T,Q,1),md(y,w+32,T,Q+128,1)}function TN(y,w,T,Q){var J;for(y=y[w+0]+4,J=0;4>J;++J)for(w=0;4>w;++w)Co(T,Q,w,J,y)}function _j(y,w,T,Q){y[w+0]&&ji(y,w+0,T,Q),y[w+16]&&ji(y,w+16,T,Q+4),y[w+32]&&ji(y,w+32,T,Q+128),y[w+48]&&ji(y,w+48,T,Q+128+4)}function LN(y,w,T,Q){var J,te=i(16);for(J=0;4>J;++J){var ne=y[w+0+J]+y[w+12+J],le=y[w+4+J]+y[w+8+J],ue=y[w+4+J]-y[w+8+J],pe=y[w+0+J]-y[w+12+J];te[0+J]=ne+le,te[8+J]=ne-le,te[4+J]=pe+ue,te[12+J]=pe-ue}for(J=0;4>J;++J)ne=(y=te[0+4*J]+3)+te[3+4*J],le=te[1+4*J]+te[2+4*J],ue=te[1+4*J]-te[2+4*J],pe=y-te[3+4*J],T[Q+0]=ne+le>>3,T[Q+16]=pe+ue>>3,T[Q+32]=ne-le>>3,T[Q+48]=pe-ue>>3,Q+=64}function F0(y,w,T){var Q,J=w-32,te=ml,ne=255-y[J-1];for(Q=0;Q<T;++Q){var le,ue=te,pe=ne+y[w-1];for(le=0;le<T;++le)y[w+le]=ue[pe+y[J+le]];w+=32}}function IN(y,w){F0(y,w,4)}function PN(y,w){F0(y,w,8)}function DN(y,w){F0(y,w,16)}function dd(y,w){var T;for(T=0;16>T;++T)n(y,w+32*T,y,w-32,16)}function Lm(y,w){var T;for(T=16;0<T;--T)a(y,w,y[w-1],16),w+=32}function Im(y,w,T){var Q;for(Q=0;16>Q;++Q)a(w,T+32*Q,y,16)}function Ej(y,w){var T,Q=16;for(T=0;16>T;++T)Q+=y[w-1+32*T]+y[w+T-32];Im(Q>>5,y,w)}function Ya(y,w){var T,Q=8;for(T=0;16>T;++T)Q+=y[w-1+32*T];Im(Q>>4,y,w)}function UN(y,w){var T,Q=8;for(T=0;16>T;++T)Q+=y[w+T-32];Im(Q>>4,y,w)}function Fj(y,w){Im(128,y,w)}function Ss(y,w,T){return y+2*w+T+2>>2}function ON(y,w){var T,Q=w-32;for(Q=new Uint8Array([Ss(y[Q-1],y[Q+0],y[Q+1]),Ss(y[Q+0],y[Q+1],y[Q+2]),Ss(y[Q+1],y[Q+2],y[Q+3]),Ss(y[Q+2],y[Q+3],y[Q+4])]),T=0;4>T;++T)n(y,w+32*T,Q,0,Q.length)}function RN(y,w){var T=y[w-1],Q=y[w-1+32],J=y[w-1+64],te=y[w-1+96];ee(y,w+0,16843009*Ss(y[w-1-32],T,Q)),ee(y,w+32,16843009*Ss(T,Q,J)),ee(y,w+64,16843009*Ss(Q,J,te)),ee(y,w+96,16843009*Ss(J,te,te))}function wc(y,w){var T,Q=4;for(T=0;4>T;++T)Q+=y[w+T-32]+y[w-1+32*T];for(Q>>=3,T=0;4>T;++T)a(y,w+32*T,Q,4)}function Tj(y,w){var T=y[w-1+0],Q=y[w-1+32],J=y[w-1+64],te=y[w-1-32],ne=y[w+0-32],le=y[w+1-32],ue=y[w+2-32],pe=y[w+3-32];y[w+0+96]=Ss(Q,J,y[w-1+96]),y[w+1+96]=y[w+0+64]=Ss(T,Q,J),y[w+2+96]=y[w+1+64]=y[w+0+32]=Ss(te,T,Q),y[w+3+96]=y[w+2+64]=y[w+1+32]=y[w+0+0]=Ss(ne,te,T),y[w+3+64]=y[w+2+32]=y[w+1+0]=Ss(le,ne,te),y[w+3+32]=y[w+2+0]=Ss(ue,le,ne),y[w+3+0]=Ss(pe,ue,le)}function Lj(y,w){var T=y[w+1-32],Q=y[w+2-32],J=y[w+3-32],te=y[w+4-32],ne=y[w+5-32],le=y[w+6-32],ue=y[w+7-32];y[w+0+0]=Ss(y[w+0-32],T,Q),y[w+1+0]=y[w+0+32]=Ss(T,Q,J),y[w+2+0]=y[w+1+32]=y[w+0+64]=Ss(Q,J,te),y[w+3+0]=y[w+2+32]=y[w+1+64]=y[w+0+96]=Ss(J,te,ne),y[w+3+32]=y[w+2+64]=y[w+1+96]=Ss(te,ne,le),y[w+3+64]=y[w+2+96]=Ss(ne,le,ue),y[w+3+96]=Ss(le,ue,ue)}function Pm(y,w){var T=y[w-1+0],Q=y[w-1+32],J=y[w-1+64],te=y[w-1-32],ne=y[w+0-32],le=y[w+1-32],ue=y[w+2-32],pe=y[w+3-32];y[w+0+0]=y[w+1+64]=te+ne+1>>1,y[w+1+0]=y[w+2+64]=ne+le+1>>1,y[w+2+0]=y[w+3+64]=le+ue+1>>1,y[w+3+0]=ue+pe+1>>1,y[w+0+96]=Ss(J,Q,T),y[w+0+64]=Ss(Q,T,te),y[w+0+32]=y[w+1+96]=Ss(T,te,ne),y[w+1+32]=y[w+2+96]=Ss(te,ne,le),y[w+2+32]=y[w+3+96]=Ss(ne,le,ue),y[w+3+32]=Ss(le,ue,pe)}function T0(y,w){var T=y[w+0-32],Q=y[w+1-32],J=y[w+2-32],te=y[w+3-32],ne=y[w+4-32],le=y[w+5-32],ue=y[w+6-32],pe=y[w+7-32];y[w+0+0]=T+Q+1>>1,y[w+1+0]=y[w+0+64]=Q+J+1>>1,y[w+2+0]=y[w+1+64]=J+te+1>>1,y[w+3+0]=y[w+2+64]=te+ne+1>>1,y[w+0+32]=Ss(T,Q,J),y[w+1+32]=y[w+0+96]=Ss(Q,J,te),y[w+2+32]=y[w+1+96]=Ss(J,te,ne),y[w+3+32]=y[w+2+96]=Ss(te,ne,le),y[w+3+64]=Ss(ne,le,ue),y[w+3+96]=Ss(le,ue,pe)}function MN(y,w){var T=y[w-1+0],Q=y[w-1+32],J=y[w-1+64],te=y[w-1+96];y[w+0+0]=T+Q+1>>1,y[w+2+0]=y[w+0+32]=Q+J+1>>1,y[w+2+32]=y[w+0+64]=J+te+1>>1,y[w+1+0]=Ss(T,Q,J),y[w+3+0]=y[w+1+32]=Ss(Q,J,te),y[w+3+32]=y[w+1+64]=Ss(J,te,te),y[w+3+64]=y[w+2+64]=y[w+0+96]=y[w+1+96]=y[w+2+96]=y[w+3+96]=te}function QN(y,w){var T=y[w-1+0],Q=y[w-1+32],J=y[w-1+64],te=y[w-1+96],ne=y[w-1-32],le=y[w+0-32],ue=y[w+1-32],pe=y[w+2-32];y[w+0+0]=y[w+2+32]=T+ne+1>>1,y[w+0+32]=y[w+2+64]=Q+T+1>>1,y[w+0+64]=y[w+2+96]=J+Q+1>>1,y[w+0+96]=te+J+1>>1,y[w+3+0]=Ss(le,ue,pe),y[w+2+0]=Ss(ne,le,ue),y[w+1+0]=y[w+3+32]=Ss(T,ne,le),y[w+1+32]=y[w+3+64]=Ss(Q,T,ne),y[w+1+64]=y[w+3+96]=Ss(J,Q,T),y[w+1+96]=Ss(te,J,Q)}function HN(y,w){var T;for(T=0;8>T;++T)n(y,w+32*T,y,w-32,8)}function L0(y,w){var T;for(T=0;8>T;++T)a(y,w,y[w-1],8),w+=32}function $h(y,w,T){var Q;for(Q=0;8>Q;++Q)a(w,T+32*Q,y,8)}function au(y,w){var T,Q=8;for(T=0;8>T;++T)Q+=y[w+T-32]+y[w-1+32*T];$h(Q>>4,y,w)}function VN(y,w){var T,Q=4;for(T=0;8>T;++T)Q+=y[w+T-32];$h(Q>>3,y,w)}function Gh(y,w){var T,Q=4;for(T=0;8>T;++T)Q+=y[w-1+32*T];$h(Q>>3,y,w)}function I0(y,w){$h(128,y,w)}function Dm(y,w,T){var Q=y[w-T],J=y[w+0],te=3*(J-Q)+WN[1020+y[w-2*T]-y[w+T]],ne=qj[112+(te+4>>3)];y[w-T]=ml[255+Q+qj[112+(te+3>>3)]],y[w+0]=ml[255+J-ne]}function Ij(y,w,T,Q){var J=y[w+0],te=y[w+T];return ql[255+y[w-2*T]-y[w-T]]>Q||ql[255+te-J]>Q}function Pj(y,w,T,Q){return 4*ql[255+y[w-T]-y[w+0]]+ql[255+y[w-2*T]-y[w+T]]<=Q}function Dj(y,w,T,Q,J){var te=y[w-3*T],ne=y[w-2*T],le=y[w-T],ue=y[w+0],pe=y[w+T],Ie=y[w+2*T],Xe=y[w+3*T];return 4*ql[255+le-ue]+ql[255+ne-pe]>Q?0:ql[255+y[w-4*T]-te]<=J&&ql[255+te-ne]<=J&&ql[255+ne-le]<=J&&ql[255+Xe-Ie]<=J&&ql[255+Ie-pe]<=J&&ql[255+pe-ue]<=J}function Uj(y,w,T,Q){var J=2*Q+1;for(Q=0;16>Q;++Q)Pj(y,w+Q,T,J)&&Dm(y,w+Q,T)}function bc(y,w,T,Q){var J=2*Q+1;for(Q=0;16>Q;++Q)Pj(y,w+Q*T,1,J)&&Dm(y,w+Q*T,1)}function ud(y,w,T,Q){var J;for(J=3;0<J;--J)Uj(y,w+=4*T,T,Q)}function KN(y,w,T,Q){var J;for(J=3;0<J;--J)bc(y,w+=4,T,Q)}function iu(y,w,T,Q,J,te,ne,le){for(te=2*te+1;0<J--;){if(Dj(y,w,T,te,ne))if(Ij(y,w,T,le))Dm(y,w,T);else{var ue=y,pe=w,Ie=T,Xe=ue[pe-2*Ie],Je=ue[pe-Ie],He=ue[pe+0],wt=ue[pe+Ie],nt=ue[pe+2*Ie],Pe=27*(jt=WN[1020+3*(He-Je)+WN[1020+Xe-wt]])+63>>7,Ue=18*jt+63>>7,jt=9*jt+63>>7;ue[pe-3*Ie]=ml[255+ue[pe-3*Ie]+jt],ue[pe-2*Ie]=ml[255+Xe+Ue],ue[pe-Ie]=ml[255+Je+Pe],ue[pe+0]=ml[255+He-Pe],ue[pe+Ie]=ml[255+wt-Ue],ue[pe+2*Ie]=ml[255+nt-jt]}w+=Q}}function Bo(y,w,T,Q,J,te,ne,le){for(te=2*te+1;0<J--;){if(Dj(y,w,T,te,ne))if(Ij(y,w,T,le))Dm(y,w,T);else{var ue=y,pe=w,Ie=T,Xe=ue[pe-Ie],Je=ue[pe+0],He=ue[pe+Ie],wt=qj[112+((nt=3*(Je-Xe))+4>>3)],nt=qj[112+(nt+3>>3)],Pe=wt+1>>1;ue[pe-2*Ie]=ml[255+ue[pe-2*Ie]+Pe],ue[pe-Ie]=ml[255+Xe+nt],ue[pe+0]=ml[255+Je-wt],ue[pe+Ie]=ml[255+He-Pe]}w+=Q}}function P0(y,w,T,Q,J,te){iu(y,w,T,1,16,Q,J,te)}function Wh(y,w,T,Q,J,te){iu(y,w,1,T,16,Q,J,te)}function zN(y,w,T,Q,J,te){var ne;for(ne=3;0<ne;--ne)Bo(y,w+=4*T,T,1,16,Q,J,te)}function Um(y,w,T,Q,J,te){var ne;for(ne=3;0<ne;--ne)Bo(y,w+=4,1,T,16,Q,J,te)}function qN(y,w,T,Q,J,te,ne,le){iu(y,w,J,1,8,te,ne,le),iu(T,Q,J,1,8,te,ne,le)}function D0(y,w,T,Q,J,te,ne,le){iu(y,w,1,J,8,te,ne,le),iu(T,Q,1,J,8,te,ne,le)}function U0(y,w,T,Q,J,te,ne,le){Bo(y,w+4*J,J,1,8,te,ne,le),Bo(T,Q+4*J,J,1,8,te,ne,le)}function Oj(y,w,T,Q,J,te,ne,le){Bo(y,w+4,1,J,8,te,ne,le),Bo(T,Q+4,1,J,8,te,ne,le)}function Om(){this.ba=new dl,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Hr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function O0(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function R0(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Rj(){this.ua=0,this.Wa=new ge,this.vb=new ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new D}function $N(){this.xb=this.a=0,this.l=new yc,this.ca=new dl,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Rj,this.ab=0,this.gc=l(4,R0),this.Oc=0}function Rm(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new yc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Yh(y,w,T,Q,J,te,ne){for(y=y==null?0:y[w+0],w=0;w<ne;++w)J[te+w]=y+T[Q+w]&255,y=J[te+w]}function M0(y,w,T,Q,J,te,ne){var le;if(y==null)Yh(null,null,T,Q,J,te,ne);else for(le=0;le<ne;++le)J[te+le]=y[w+le]+T[Q+le]&255}function lu(y,w,T,Q,J,te,ne){if(y==null)Yh(null,null,T,Q,J,te,ne);else{var le,ue=y[w+0],pe=ue,Ie=ue;for(le=0;le<ne;++le)pe=Ie+(ue=y[w+le])-pe,Ie=T[Q+le]+(-256&pe?0>pe?0:255:pe)&255,pe=ue,J[te+le]=Ie}}function Q0(y,w,T,Q){var J=w.width,te=w.o;if(s(y!=null&&w!=null),0>T||0>=Q||T+Q>te)return null;if(!y.Cc){if(y.ga==null){var ne;if(y.ga=new Rm,(ne=y.ga==null)||(ne=w.width*w.o,s(y.Gb.length==0),y.Gb=i(ne),y.Uc=0,y.Gb==null?ne=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,ne=1),ne=!ne),!ne){ne=y.ga;var le=y.Fa,ue=y.P,pe=y.qc,Ie=y.mb,Xe=y.nb,Je=ue+1,He=pe-1,wt=ne.l;if(s(le!=null&&Ie!=null&&w!=null),Au[0]=null,Au[1]=Yh,Au[2]=M0,Au[3]=lu,ne.ca=Ie,ne.tb=Xe,ne.c=w.width,ne.i=w.height,s(0<ne.c&&0<ne.i),1>=pe)w=0;else if(ne.$a=le[ue+0]>>0&3,ne.Z=le[ue+0]>>2&3,ne.Lc=le[ue+0]>>4&3,ue=le[ue+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||ue)w=0;else if(wt.put=Ml,wt.ac=ca,wt.bc=Ql,wt.ma=ne,wt.width=w.width,wt.height=w.height,wt.Da=w.Da,wt.v=w.v,wt.va=w.va,wt.j=w.j,wt.o=w.o,ne.$a)e:{s(ne.$a==1),w=rt();t:for(;;){if(w==null){w=0;break e}if(s(ne!=null),ne.mc=w,w.c=ne.c,w.i=ne.i,w.l=ne.l,w.l.ma=ne,w.l.width=ne.c,w.l.height=ne.i,w.a=0,I(w.m,le,Je,He),!qe(ne.c,ne.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&he(w.s)?(ne.ic=1,le=w.c*w.i,w.Ta=null,w.Ua=0,w.V=i(le),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(ne.ic=0,w=Ze(w,ne.c)),!w))break t;w=1;break e}ne.mc=null,w=0}else w=He>=ne.c*ne.i;ne=!w}if(ne)return null;y.ga.Lc!=1?y.Ga=0:Q=te-T}s(y.ga!=null),s(T+Q<=te);e:{if(w=(le=y.ga).c,te=le.l.o,le.$a==0){if(Je=y.rc,He=y.Vc,wt=y.Fa,ue=y.P+1+T*w,pe=y.mb,Ie=y.nb+T*w,s(ue<=y.P+y.qc),le.Z!=0)for(s(Au[le.Z]!=null),ne=0;ne<Q;++ne)Au[le.Z](Je,He,wt,ue,pe,Ie,w),Je=pe,He=Ie,Ie+=w,ue+=w;else for(ne=0;ne<Q;++ne)n(pe,Ie,wt,ue,w),Je=pe,He=Ie,Ie+=w,ue+=w;y.rc=Je,y.Vc=He}else{if(s(le.mc!=null),w=T+Q,s((ne=le.mc)!=null),s(w<=ne.i),ne.C>=w)w=1;else if(le.ic||ze(),le.ic){le=ne.V,Je=ne.Ba,He=ne.c;var nt=ne.i,Pe=(wt=1,ue=ne.$/He,pe=ne.$%He,Ie=ne.m,Xe=ne.s,ne.$),Ue=He*nt,jt=He*w,Ct=Xe.wc,yt=Pe<jt?Cn(Xe,pe,ue):null;s(Pe<=Ue),s(w<=nt),s(he(Xe));t:for(;;){for(;!Ie.h&&Pe<jt;){if(pe&Ct||(yt=Cn(Xe,pe,ue)),s(yt!=null),ae(Ie),256>(nt=Wa(yt.G[0],yt.H[0],Ie)))le[Je+Pe]=nt,++Pe,++pe>=He&&(pe=0,++ue<=w&&!(ue%16)&&je(ne,ue));else{if(!(280>nt)){wt=0;break t}nt=ul(nt-256,Ie);var Jt,Ht=Wa(yt.G[4],yt.H[4],Ie);if(ae(Ie),!(Pe>=(Ht=Hi(He,Ht=ul(Ht,Ie)))&&Ue-Pe>=nt)){wt=0;break t}for(Jt=0;Jt<nt;++Jt)le[Je+Pe+Jt]=le[Je+Pe+Jt-Ht];for(Pe+=nt,pe+=nt;pe>=He;)pe-=He,++ue<=w&&!(ue%16)&&je(ne,ue);Pe<jt&&pe&Ct&&(yt=Cn(Xe,pe,ue))}s(Ie.h==R(Ie))}je(ne,ue>w?w:ue);break t}!wt||Ie.h&&Pe<Ue?(wt=0,ne.a=Ie.h?5:3):ne.$=Pe,w=wt}else w=we(ne,ne.V,ne.Ba,ne.c,ne.i,w,et);if(!w){Q=0;break e}}T+Q>=te&&(y.Cc=1),Q=1}if(!Q)return null;if(y.Cc&&((Q=y.ga)!=null&&(Q.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+T*J}function S(y,w,T,Q,J,te){for(;0<J--;){var ne,le=y,ue=w+(T?1:0),pe=y,Ie=w+(T?0:3);for(ne=0;ne<Q;++ne){var Xe=pe[Ie+4*ne];Xe!=255&&(Xe*=32897,le[ue+4*ne+0]=le[ue+4*ne+0]*Xe>>23,le[ue+4*ne+1]=le[ue+4*ne+1]*Xe>>23,le[ue+4*ne+2]=le[ue+4*ne+2]*Xe>>23)}w+=te}}function Z(y,w,T,Q,J){for(;0<Q--;){var te;for(te=0;te<T;++te){var ne=y[w+2*te+0],le=15&(pe=y[w+2*te+1]),ue=4369*le,pe=(240&pe|pe>>4)*ue>>16;y[w+2*te+0]=(240&ne|ne>>4)*ue>>16&240|(15&ne|ne<<4)*ue>>16>>4&15,y[w+2*te+1]=240&pe|le}w+=J}}function be(y,w,T,Q,J,te,ne,le){var ue,pe,Ie=255;for(pe=0;pe<J;++pe){for(ue=0;ue<Q;++ue){var Xe=y[w+ue];te[ne+4*ue]=Xe,Ie&=Xe}w+=T,ne+=le}return Ie!=255}function Te(y,w,T,Q,J){var te;for(te=0;te<J;++te)T[Q+te]=y[w+te]>>8}function ze(){zl=S,Yr=Z,Xr=be,Rn=Te}function it(y,w,T){N[y]=function(Q,J,te,ne,le,ue,pe,Ie,Xe,Je,He,wt,nt,Pe,Ue,jt,Ct){var yt,Jt=Ct-1>>1,Ht=le[ue+0]|pe[Ie+0]<<16,ms=Xe[Je+0]|He[wt+0]<<16;s(Q!=null);var Kt=3*Ht+ms+131074>>2;for(w(Q[J+0],255&Kt,Kt>>16,nt,Pe),te!=null&&(Kt=3*ms+Ht+131074>>2,w(te[ne+0],255&Kt,Kt>>16,Ue,jt)),yt=1;yt<=Jt;++yt){var gr=le[ue+yt]|pe[Ie+yt]<<16,Sr=Xe[Je+yt]|He[wt+yt]<<16,lr=Ht+gr+ms+Sr+524296,Zs=lr+2*(gr+ms)>>3;Kt=Zs+Ht>>1,Ht=(lr=lr+2*(Ht+Sr)>>3)+gr>>1,w(Q[J+2*yt-1],255&Kt,Kt>>16,nt,Pe+(2*yt-1)*T),w(Q[J+2*yt-0],255&Ht,Ht>>16,nt,Pe+(2*yt-0)*T),te!=null&&(Kt=lr+ms>>1,Ht=Zs+Sr>>1,w(te[ne+2*yt-1],255&Kt,Kt>>16,Ue,jt+(2*yt-1)*T),w(te[ne+2*yt+0],255&Ht,Ht>>16,Ue,jt+(2*yt+0)*T)),Ht=gr,ms=Sr}1&Ct||(Kt=3*Ht+ms+131074>>2,w(Q[J+Ct-1],255&Kt,Kt>>16,nt,Pe+(Ct-1)*T),te!=null&&(Kt=3*ms+Ht+131074>>2,w(te[ne+Ct-1],255&Kt,Kt>>16,Ue,jt+(Ct-1)*T)))}}function kt(){$l[$j]=rG,$l[Gj]=WE,$l[KE]=nG,$l[Wj]=YE,$l[Yj]=XE,$l[YN]=JE,$l[zE]=aG,$l[XN]=WE,$l[JN]=YE,$l[Xj]=XE,$l[ZN]=JE}function Yt(y){return y&-16384?0>y?0:255:y>>iG}function us(y,w){return Yt((19077*y>>8)+(26149*w>>8)-14234)}function Fs(y,w,T){return Yt((19077*y>>8)-(6419*w>>8)-(13320*T>>8)+8708)}function _s(y,w){return Yt((19077*y>>8)+(33050*w>>8)-17685)}function nr(y,w,T,Q,J){Q[J+0]=us(y,T),Q[J+1]=Fs(y,w,T),Q[J+2]=_s(y,w)}function xn(y,w,T,Q,J){Q[J+0]=_s(y,w),Q[J+1]=Fs(y,w,T),Q[J+2]=us(y,T)}function Bn(y,w,T,Q,J){var te=Fs(y,w,T);w=te<<3&224|_s(y,w)>>3,Q[J+0]=248&us(y,T)|te>>5,Q[J+1]=w}function Zn(y,w,T,Q,J){var te=240&_s(y,w)|15;Q[J+0]=240&us(y,T)|Fs(y,w,T)>>4,Q[J+1]=te}function Xa(y,w,T,Q,J){Q[J+0]=255,nr(y,w,T,Q,J+1)}function va(y,w,T,Q,J){xn(y,w,T,Q,J),Q[J+3]=255}function So(y,w,T,Q,J){nr(y,w,T,Q,J),Q[J+3]=255}function Al(y,w){return 0>y?0:y>w?w:y}function Nc(y,w,T){N[y]=function(Q,J,te,ne,le,ue,pe,Ie,Xe){for(var Je=Ie+(-2&Xe)*T;Ie!=Je;)w(Q[J+0],te[ne+0],le[ue+0],pe,Ie),w(Q[J+1],te[ne+0],le[ue+0],pe,Ie+T),J+=2,++ne,++ue,Ie+=2*T;1&Xe&&w(Q[J+0],te[ne+0],le[ue+0],pe,Ie)}}function Mj(y,w,T){return T==0?y==0?w==0?6:5:w==0?4:0:T}function H0(y,w,T,Q,J){switch(y>>>30){case 3:md(w,T,Q,J,0);break;case 2:On(w,T,Q,J);break;case 1:ji(w,T,Q,J)}}function V0(y,w){var T,Q,J=w.M,te=w.Nb,ne=y.oc,le=y.pc+40,ue=y.oc,pe=y.pc+584,Ie=y.oc,Xe=y.pc+600;for(T=0;16>T;++T)ne[le+32*T-1]=129;for(T=0;8>T;++T)ue[pe+32*T-1]=129,Ie[Xe+32*T-1]=129;for(0<J?ne[le-1-32]=ue[pe-1-32]=Ie[Xe-1-32]=129:(a(ne,le-32-1,127,21),a(ue,pe-32-1,127,9),a(Ie,Xe-32-1,127,9)),Q=0;Q<y.za;++Q){var Je=w.ya[w.aa+Q];if(0<Q){for(T=-1;16>T;++T)n(ne,le+32*T-4,ne,le+32*T+12,4);for(T=-1;8>T;++T)n(ue,pe+32*T-4,ue,pe+32*T+4,4),n(Ie,Xe+32*T-4,Ie,Xe+32*T+4,4)}var He=y.Gd,wt=y.Hd+Q,nt=Je.ad,Pe=Je.Hc;if(0<J&&(n(ne,le-32,He[wt].y,0,16),n(ue,pe-32,He[wt].f,0,8),n(Ie,Xe-32,He[wt].ea,0,8)),Je.Za){var Ue=ne,jt=le-32+16;for(0<J&&(Q>=y.za-1?a(Ue,jt,He[wt].y[15],4):n(Ue,jt,He[wt+1].y,0,4)),T=0;4>T;T++)Ue[jt+128+T]=Ue[jt+256+T]=Ue[jt+384+T]=Ue[jt+0+T];for(T=0;16>T;++T,Pe<<=2)Ue=ne,jt=le+e6[T],ko[Je.Ob[T]](Ue,jt),H0(Pe,nt,16*+T,Ue,jt)}else if(Ue=Mj(Q,J,Je.Ob[0]),hu[Ue](ne,le),Pe!=0)for(T=0;16>T;++T,Pe<<=2)H0(Pe,nt,16*+T,ne,le+e6[T]);for(T=Je.Gc,Ue=Mj(Q,J,Je.Dd),xd[Ue](ue,pe),xd[Ue](Ie,Xe),Pe=nt,Ue=ue,jt=pe,255&(Je=T>>0)&&(170&Je?G0(Pe,256,Ue,jt):Vl(Pe,256,Ue,jt)),Je=Ie,Pe=Xe,255&(T>>=8)&&(170&T?G0(nt,320,Je,Pe):Vl(nt,320,Je,Pe)),J<y.Ub-1&&(n(He[wt].y,0,ne,le+480,16),n(He[wt].f,0,ue,pe+224,8),n(He[wt].ea,0,Ie,Xe+224,8)),T=8*te*y.B,He=y.sa,wt=y.ta+16*Q+16*te*y.R,nt=y.qa,Je=y.ra+8*Q+T,Pe=y.Ha,Ue=y.Ia+8*Q+T,T=0;16>T;++T)n(He,wt+T*y.R,ne,le+32*T,16);for(T=0;8>T;++T)n(nt,Je+T*y.B,ue,pe+32*T,8),n(Pe,Ue+T*y.B,Ie,Xe+32*T,8)}}function Mm(y,w,T,Q,J,te,ne,le,ue){var pe=[0],Ie=[0],Xe=0,Je=ue!=null?ue.kd:0,He=ue??new O0;if(y==null||12>T)return 7;He.data=y,He.w=w,He.ha=T,w=[w],T=[T],He.gb=[He.gb];e:{var wt=w,nt=T,Pe=He.gb;if(s(y!=null),s(nt!=null),s(Pe!=null),Pe[0]=0,12<=nt[0]&&!r(y,wt[0],"RIFF")){if(r(y,wt[0]+8,"WEBP")){Pe=3;break e}var Ue=Ke(y,wt[0]+4);if(12>Ue||4294967286<Ue){Pe=3;break e}if(Je&&Ue>nt[0]-8){Pe=7;break e}Pe[0]=Ue,wt[0]+=12,nt[0]-=12}Pe=0}if(Pe!=0)return Pe;for(Ue=0<He.gb[0],T=T[0];;){e:{var jt=y;nt=w,Pe=T;var Ct=pe,yt=Ie,Jt=wt=[0];if((Kt=Xe=[Xe])[0]=0,8>Pe[0])Pe=7;else{if(!r(jt,nt[0],"VP8X")){if(Ke(jt,nt[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var Ht=Ke(jt,nt[0]+8),ms=1+Re(jt,nt[0]+12);if(2147483648<=ms*(jt=1+Re(jt,nt[0]+15))){Pe=3;break e}Jt!=null&&(Jt[0]=Ht),Ct!=null&&(Ct[0]=ms),yt!=null&&(yt[0]=jt),nt[0]+=18,Pe[0]-=18,Kt[0]=1}Pe=0}}if(Xe=Xe[0],wt=wt[0],Pe!=0)return Pe;if(nt=!!(2&wt),!Ue&&Xe)return 3;if(te!=null&&(te[0]=!!(16&wt)),ne!=null&&(ne[0]=nt),le!=null&&(le[0]=0),ne=pe[0],wt=Ie[0],Xe&&nt&&ue==null){Pe=0;break}if(4>T){Pe=7;break}if(Ue&&Xe||!Ue&&!Xe&&!r(y,w[0],"ALPH")){T=[T],He.na=[He.na],He.P=[He.P],He.Sa=[He.Sa];e:{Ht=y,Pe=w,Ue=T;var Kt=He.gb;Ct=He.na,yt=He.P,Jt=He.Sa,ms=22,s(Ht!=null),s(Ue!=null),jt=Pe[0];var gr=Ue[0];for(s(Ct!=null),s(Jt!=null),Ct[0]=null,yt[0]=null,Jt[0]=0;;){if(Pe[0]=jt,Ue[0]=gr,8>gr){Pe=7;break e}var Sr=Ke(Ht,jt+4);if(4294967286<Sr){Pe=3;break e}var lr=8+Sr+1&-2;if(ms+=lr,0<Kt&&ms>Kt){Pe=3;break e}if(!r(Ht,jt,"VP8 ")||!r(Ht,jt,"VP8L")){Pe=0;break e}if(gr[0]<lr){Pe=7;break e}r(Ht,jt,"ALPH")||(Ct[0]=Ht,yt[0]=jt+8,Jt[0]=Sr),jt+=lr,gr-=lr}}if(T=T[0],He.na=He.na[0],He.P=He.P[0],He.Sa=He.Sa[0],Pe!=0)break}T=[T],He.Ja=[He.Ja],He.xa=[He.xa];e:if(Kt=y,Pe=w,Ue=T,Ct=He.gb[0],yt=He.Ja,Jt=He.xa,Ht=Pe[0],jt=!r(Kt,Ht,"VP8 "),ms=!r(Kt,Ht,"VP8L"),s(Kt!=null),s(Ue!=null),s(yt!=null),s(Jt!=null),8>Ue[0])Pe=7;else{if(jt||ms){if(Kt=Ke(Kt,Ht+4),12<=Ct&&Kt>Ct-12){Pe=3;break e}if(Je&&Kt>Ue[0]-8){Pe=7;break e}yt[0]=Kt,Pe[0]+=8,Ue[0]-=8,Jt[0]=ms}else Jt[0]=5<=Ue[0]&&Kt[Ht+0]==47&&!(Kt[Ht+4]>>5),yt[0]=Ue[0];Pe=0}if(T=T[0],He.Ja=He.Ja[0],He.xa=He.xa[0],w=w[0],Pe!=0)break;if(4294967286<He.Ja)return 3;if(le==null||nt||(le[0]=He.xa?2:1),ne=[ne],wt=[wt],He.xa){if(5>T){Pe=7;break}le=ne,Je=wt,nt=te,y==null||5>T?y=0:5<=T&&y[w+0]==47&&!(y[w+4]>>5)?(Ue=[0],Kt=[0],Ct=[0],I(yt=new L,y,w,T),As(yt,Ue,Kt,Ct)?(le!=null&&(le[0]=Ue[0]),Je!=null&&(Je[0]=Kt[0]),nt!=null&&(nt[0]=Ct[0]),y=1):y=0):y=0}else{if(10>T){Pe=7;break}le=wt,y==null||10>T||!Nj(y,w+3,T-3)?y=0:(Je=y[w+0]|y[w+1]<<8|y[w+2]<<16,nt=16383&(y[w+7]<<8|y[w+6]),y=16383&(y[w+9]<<8|y[w+8]),1&Je||3<(Je>>1&7)||!(Je>>4&1)||Je>>5>=He.Ja||!nt||!y?y=0:(ne&&(ne[0]=nt),le&&(le[0]=y),y=1))}if(!y||(ne=ne[0],wt=wt[0],Xe&&(pe[0]!=ne||Ie[0]!=wt)))return 3;ue!=null&&(ue[0]=He,ue.offset=w-ue.w,s(4294967286>w-ue.w),s(ue.offset==ue.ha-T));break}return Pe==0||Pe==7&&Xe&&ue==null?(te!=null&&(te[0]|=He.na!=null&&0<He.na.length),Q!=null&&(Q[0]=ne),J!=null&&(J[0]=wt),0):Pe}function K0(y,w,T){var Q=w.width,J=w.height,te=0,ne=0,le=Q,ue=J;if(w.Da=y!=null&&0<y.Da,w.Da&&(le=y.cd,ue=y.bd,te=y.v,ne=y.j,11>T||(te&=-2,ne&=-2),0>te||0>ne||0>=le||0>=ue||te+le>Q||ne+ue>J))return 0;if(w.v=te,w.j=ne,w.va=te+le,w.o=ne+ue,w.U=le,w.T=ue,w.da=y!=null&&0<y.da,w.da){if(!mt(le,ue,T=[y.ib],te=[y.hb]))return 0;w.ib=T[0],w.hb=te[0]}return w.ob=y!=null&&y.ob,w.Kb=y==null||!y.Sd,w.da&&(w.ob=w.ib<3*Q/4&&w.hb<3*J/4,w.Kb=0),1}function z0(y){if(y==null)return 2;if(11>y.S){var w=y.f.RGBA;w.fb+=(y.height-1)*w.A,w.A=-w.A}else w=y.f.kb,y=y.height,w.O+=(y-1)*w.fa,w.fa=-w.fa,w.N+=(y-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(y-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(y-1)*w.lb,w.lb=-w.lb);return 0}function Qm(y,w,T,Q){if(Q==null||0>=y||0>=w)return 2;if(T!=null){if(T.Da){var J=T.cd,te=T.bd,ne=-2&T.v,le=-2&T.j;if(0>ne||0>le||0>=J||0>=te||ne+J>y||le+te>w)return 2;y=J,w=te}if(T.da){if(!mt(y,w,J=[T.ib],te=[T.hb]))return 2;y=J[0],w=te[0]}}Q.width=y,Q.height=w;e:{var ue=Q.width,pe=Q.height;if(y=Q.S,0>=ue||0>=pe||!(y>=$j&&13>y))y=2;else{if(0>=Q.Rd&&Q.sd==null){ne=te=J=w=0;var Ie=(le=ue*t6[y])*pe;if(11>y||(te=(pe+1)/2*(w=(ue+1)/2),y==12&&(ne=(J=ue)*pe)),(pe=i(Ie+2*te+ne))==null){y=1;break e}Q.sd=pe,11>y?((ue=Q.f.RGBA).eb=pe,ue.fb=0,ue.A=le,ue.size=Ie):((ue=Q.f.kb).y=pe,ue.O=0,ue.fa=le,ue.Fd=Ie,ue.f=pe,ue.N=0+Ie,ue.Ab=w,ue.Cd=te,ue.ea=pe,ue.W=0+Ie+te,ue.Db=w,ue.Ed=te,y==12&&(ue.F=pe,ue.J=0+Ie+2*te),ue.Tc=ne,ue.lb=J)}if(w=1,J=Q.S,te=Q.width,ne=Q.height,J>=$j&&13>J)if(11>J)y=Q.f.RGBA,w&=(le=Math.abs(y.A))*(ne-1)+te<=y.size,w&=le>=te*t6[J],w&=y.eb!=null;else{y=Q.f.kb,le=(te+1)/2,Ie=(ne+1)/2,ue=Math.abs(y.fa),pe=Math.abs(y.Ab);var Xe=Math.abs(y.Db),Je=Math.abs(y.lb),He=Je*(ne-1)+te;w&=ue*(ne-1)+te<=y.Fd,w&=pe*(Ie-1)+le<=y.Cd,w=(w&=Xe*(Ie-1)+le<=y.Ed)&ue>=te&pe>=le&Xe>=le,w&=y.y!=null,w&=y.f!=null,w&=y.ea!=null,J==12&&(w&=Je>=te,w&=He<=y.Tc,w&=y.F!=null)}else w=0;y=w?0:2}}return y!=0||T!=null&&T.fd&&(y=z0(Q)),y}var Ea=64,Hm=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vm=24,Km=32,q0=8,Ki=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];St("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(y){return y},N.Predictor2=function(y,w,T){return w[T+0]},N.Predictor3=function(y,w,T){return w[T+1]},N.Predictor4=function(y,w,T){return w[T-1]},N.Predictor5=function(y,w,T){return me(me(y,w[T+1]),w[T+0])},N.Predictor6=function(y,w,T){return me(y,w[T-1])},N.Predictor7=function(y,w,T){return me(y,w[T+0])},N.Predictor8=function(y,w,T){return me(w[T-1],w[T+0])},N.Predictor9=function(y,w,T){return me(w[T+0],w[T+1])},N.Predictor10=function(y,w,T){return me(me(y,w[T-1]),me(w[T+0],w[T+1]))},N.Predictor11=function(y,w,T){var Q=w[T+0];return 0>=ft(Q>>24&255,y>>24&255,(w=w[T-1])>>24&255)+ft(Q>>16&255,y>>16&255,w>>16&255)+ft(Q>>8&255,y>>8&255,w>>8&255)+ft(255&Q,255&y,255&w)?Q:y},N.Predictor12=function(y,w,T){var Q=w[T+0];return(Ee((y>>24&255)+(Q>>24&255)-((w=w[T-1])>>24&255))<<24|Ee((y>>16&255)+(Q>>16&255)-(w>>16&255))<<16|Ee((y>>8&255)+(Q>>8&255)-(w>>8&255))<<8|Ee((255&y)+(255&Q)-(255&w)))>>>0},N.Predictor13=function(y,w,T){var Q=w[T-1];return(Qe((y=me(y,w[T+0]))>>24&255,Q>>24&255)<<24|Qe(y>>16&255,Q>>16&255)<<16|Qe(y>>8&255,Q>>8&255)<<8|Qe(y>>0&255,Q>>0&255))>>>0};var GN=N.PredictorAdd0;N.PredictorAdd1=vt,St("Predictor2","PredictorAdd2"),St("Predictor3","PredictorAdd3"),St("Predictor4","PredictorAdd4"),St("Predictor5","PredictorAdd5"),St("Predictor6","PredictorAdd6"),St("Predictor7","PredictorAdd7"),St("Predictor8","PredictorAdd8"),St("Predictor9","PredictorAdd9"),St("Predictor10","PredictorAdd10"),St("Predictor11","PredictorAdd11"),St("Predictor12","PredictorAdd12"),St("Predictor13","PredictorAdd13");var $0=N.PredictorAdd2;cs("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),cs("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Qj,Hl=N.ColorIndexInverseTransform,zm=N.MapARGB,Hj=N.VP8LColorIndexInverseTransformAlpha,Vj=N.MapAlpha,ou=N.VP8LPredictorsAdd=[];ou.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var Xh,zi,vi,cu,hd,Ad,qm,md,On,G0,ji,Vl,$m,Kj,W0,Jh,Zh,du,eA,Gm,tA,uu,Y0,Kl,zl,Yr,Xr,Rn,da=i(511),fd=i(2041),X0=i(225),Wm=i(767),zj=0,WN=fd,qj=X0,ml=Wm,ql=da,$j=0,Gj=1,KE=2,Wj=3,Yj=4,YN=5,zE=6,XN=7,JN=8,Xj=9,ZN=10,V$=[2,3,7],K$=[3,3,11],qE=[280,256,256,256,40],z$=[0,1,1,1,0],q$=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$$=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],G$=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],W$=8,e4=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],t4=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],J0=null,Y$=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],X$=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],$E=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],J$=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Z$=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],eG=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],tG=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hu=[],ko=[],xd=[],sG=1,GE=2,Au=[],$l=[];it("UpsampleRgbLinePair",nr,3),it("UpsampleBgrLinePair",xn,3),it("UpsampleRgbaLinePair",So,4),it("UpsampleBgraLinePair",va,4),it("UpsampleArgbLinePair",Xa,4),it("UpsampleRgba4444LinePair",Zn,2),it("UpsampleRgb565LinePair",Bn,2);var rG=N.UpsampleRgbLinePair,nG=N.UpsampleBgrLinePair,WE=N.UpsampleRgbaLinePair,YE=N.UpsampleBgraLinePair,XE=N.UpsampleArgbLinePair,JE=N.UpsampleRgba4444LinePair,aG=N.UpsampleRgb565LinePair,Jj=16,Zj=1<<Jj-1,Z0=-227,s4=482,iG=6,ZE=0,lG=i(256),oG=i(256),cG=i(256),dG=i(256),uG=i(s4-Z0),hG=i(s4-Z0);Nc("YuvToRgbRow",nr,3),Nc("YuvToBgrRow",xn,3),Nc("YuvToRgbaRow",So,4),Nc("YuvToBgraRow",va,4),Nc("YuvToArgbRow",Xa,4),Nc("YuvToRgba4444Row",Zn,2),Nc("YuvToRgb565Row",Bn,2);var e6=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ey=[0,2,8],AG=[8,7,6,4,4,2,2,2,1,1,1,1],mG=1;this.WebPDecodeRGBA=function(y,w,T,Q,J){var te=Gj,ne=new Om,le=new dl;ne.ba=le,le.S=te,le.width=[le.width],le.height=[le.height];var ue=le.width,pe=le.height,Ie=new wo;if(Ie==null||y==null)var Xe=2;else s(Ie!=null),Xe=Mm(y,w,T,Ie.width,Ie.height,Ie.Pd,Ie.Qd,Ie.format,null);if(Xe!=0?ue=0:(ue!=null&&(ue[0]=Ie.width[0]),pe!=null&&(pe[0]=Ie.height[0]),ue=1),ue){le.width=le.width[0],le.height=le.height[0],Q!=null&&(Q[0]=le.width),J!=null&&(J[0]=le.height);e:{if(Q=new yc,(J=new O0).data=y,J.w=w,J.ha=T,J.kd=1,w=[0],s(J!=null),((y=Mm(J.data,J.w,J.ha,null,null,null,w,null,J))==0||y==7)&&w[0]&&(y=4),(w=y)==0){if(s(ne!=null),Q.data=J.data,Q.w=J.w+J.offset,Q.ha=J.ha-J.offset,Q.put=Ml,Q.ac=ca,Q.bc=Ql,Q.ma=ne,J.xa){if((y=rt())==null){ne=1;break e}if(function(Je,He){var wt=[0],nt=[0],Pe=[0];t:for(;;){if(Je==null)return 0;if(He==null)return Je.a=2,0;if(Je.l=He,Je.a=0,I(Je.m,He.data,He.w,He.ha),!As(Je.m,wt,nt,Pe)){Je.a=3;break t}if(Je.xb=GE,He.width=wt[0],He.height=nt[0],!qe(wt[0],nt[0],1,Je,null))break t;return 1}return s(Je.a!=0),0}(y,Q)){if(Q=(w=Qm(Q.width,Q.height,ne.Oa,ne.ba))==0){t:{Q=y;s:for(;;){if(Q==null){Q=0;break t}if(s(Q.s.yc!=null),s(Q.s.Ya!=null),s(0<Q.s.Wb),s((T=Q.l)!=null),s((J=T.ma)!=null),Q.xb!=0){if(Q.ca=J.ba,Q.tb=J.tb,s(Q.ca!=null),!K0(J.Oa,T,Wj)){Q.a=2;break s}if(!Ze(Q,T.width)||T.da)break s;if((T.da||Js(Q.ca.S))&&ze(),11>Q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Q.ca.f.kb.F!=null&&ze()),Q.Pb&&0<Q.s.ua&&Q.s.vb.X==null&&!Me(Q.s.vb,Q.s.Wa.Xa)){Q.a=1;break s}Q.xb=0}if(!we(Q,Q.V,Q.Ba,Q.c,Q.i,T.o,ye))break s;J.Dc=Q.Ma,Q=1;break t}s(Q.a!=0),Q=0}Q=!Q}Q&&(w=y.a)}else w=y.a}else{if((y=new hl)==null){ne=1;break e}if(y.Fa=J.na,y.P=J.P,y.qc=J.Sa,Cj(y,Q)){if((w=Qm(Q.width,Q.height,ne.Oa,ne.ba))==0){if(y.Aa=0,T=ne.Oa,s((J=y)!=null),T!=null){if(0<(ue=0>(ue=T.Md)?0:100<ue?255:255*ue/100)){for(pe=Ie=0;4>pe;++pe)12>(Xe=J.pb[pe]).lc&&(Xe.ia=ue*AG[0>Xe.lc?0:Xe.lc]>>3),Ie|=Xe.ia;Ie&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=T.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}EN(y,Q)||(w=y.a)}}else w=y.a}w==0&&ne.Oa!=null&&ne.Oa.fd&&(w=z0(ne.ba))}ne=w}te=ne!=0?null:11>te?le.f.RGBA.eb:le.f.kb.y}else te=null;return te};var t6=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(N,C){for(var _="",k=0;k<4;k++)_+=String.fromCharCode(N[C++]);return _}function u(N,C){return(N[C+0]<<0|N[C+1]<<8|N[C+2]<<16)>>>0}function h(N,C){return(N[C+0]<<0|N[C+1]<<8|N[C+2]<<16|N[C+3]<<24)>>>0}new c;var A=[0],m=[0],p=[],f=new c,x=t,g=function(N,C){var _={},k=0,D=!1,z=0,K=0;if(_.frames=[],!function(U,R,q,ae){for(var Ae=0;Ae<ae;Ae++)if(U[R+Ae]!=q.charCodeAt(Ae))return!0;return!1}(N,C,"RIFF",4)){for(h(N,C+=4),C+=8;C<N.length;){var xe=d(N,C),W=h(N,C+=4);C+=4;var re=W+(1&W);switch(xe){case"VP8 ":case"VP8L":_.frames[k]===void 0&&(_.frames[k]={}),(ve=_.frames[k]).src_off=D?K:C-8,ve.src_size=z+W+8,k++,D&&(D=!1,z=0,K=0);break;case"VP8X":(ve=_.header={}).feature_flags=N[C];var I=C+4;ve.canvas_width=1+u(N,I),I+=3,ve.canvas_height=1+u(N,I),I+=3;break;case"ALPH":D=!0,z=re+8,K=C-8;break;case"ANIM":(ve=_.header).bgcolor=h(N,C),I=C+4,ve.loop_count=(De=N)[(L=I)+0]<<0|De[L+1]<<8,I+=2;break;case"ANMF":var ie,ve;(ve=_.frames[k]={}).offset_x=2*u(N,C),C+=3,ve.offset_y=2*u(N,C),C+=3,ve.width=1+u(N,C),C+=3,ve.height=1+u(N,C),C+=3,ve.duration=u(N,C),C+=3,ie=N[C++],ve.dispose=1&ie,ve.blend=ie>>1&1}xe!="ANMF"&&(C+=re)}var De,L;return _}}(x,0);g.response=x,g.rgbaoutput=!0,g.dataurl=!1;var v=g.header?g.header:null,j=g.frames?g.frames:null;if(v){v.loop_counter=v.loop_count,A=[v.canvas_height],m=[v.canvas_width];for(var B=0;B<j.length&&j[B].blend!=0;B++);}var F=j[0],P=f.WebPDecodeRGBA(x,F.src_off,F.src_size,m,A);F.rgba=P,F.imgwidth=m[0],F.imgheight=A[0];for(var E=0;E<m[0]*A[0]*4;E++)p[E]=P[E];return this.width=m,this.height=A,this.data=p,this}(function(t){var s=function(){return typeof MB=="function"},r=function(A,m,p,f){var x=4,g=l;switch(f){case t.image_compression.FAST:x=1,g=i;break;case t.image_compression.MEDIUM:x=6,g=o;break;case t.image_compression.SLOW:x=9,g=c}A=n(A,m,p,g);var v=MB(A,{level:x});return t.__addimage__.arrayBufferToBinaryString(v)},n=function(A,m,p,f){for(var x,g,v,j=A.length/m,B=new Uint8Array(A.length+j),F=u(),P=0;P<j;P+=1){if(v=P*m,x=A.subarray(v,v+m),f)B.set(f(x,p,g),v+P);else{for(var E,N=F.length,C=[];E<N;E+=1)C[E]=F[E](x,p,g);var _=h(C.concat());B.set(C[_],v+P)}g=x}return B},a=function(A){var m=Array.apply([],A);return m.unshift(0),m},i=function(A,m){var p,f=[],x=A.length;f[0]=1;for(var g=0;g<x;g+=1)p=A[g-m]||0,f[g+1]=A[g]-p+256&255;return f},l=function(A,m,p){var f,x=[],g=A.length;x[0]=2;for(var v=0;v<g;v+=1)f=p&&p[v]||0,x[v+1]=A[v]-f+256&255;return x},o=function(A,m,p){var f,x,g=[],v=A.length;g[0]=3;for(var j=0;j<v;j+=1)f=A[j-m]||0,x=p&&p[j]||0,g[j+1]=A[j]+256-(f+x>>>1)&255;return g},c=function(A,m,p){var f,x,g,v,j=[],B=A.length;j[0]=4;for(var F=0;F<B;F+=1)f=A[F-m]||0,x=p&&p[F]||0,g=p&&p[F-m]||0,v=d(f,x,g),j[F+1]=A[F]-v+256&255;return j},d=function(A,m,p){if(A===m&&m===p)return A;var f=Math.abs(m-p),x=Math.abs(A-p),g=Math.abs(A+m-p-p);return f<=x&&f<=g?A:x<=g?m:p},u=function(){return[a,i,l,o,c]},h=function(A){var m=A.map(function(p){return p.reduce(function(f,x){return f+Math.abs(x)},0)});return m.indexOf(Math.min.apply(null,m))};t.processPNG=function(A,m,p,f){var x,g,v,j,B,F,P,E,N,C,_,k,D,z,K,xe=this.decode.FLATE_DECODE,W="";if(this.__addimage__.isArrayBuffer(A)&&(A=new Uint8Array(A)),this.__addimage__.isArrayBufferView(A)){if(A=(v=new rre(A)).imgData,g=v.bits,x=v.colorSpace,B=v.colors,[4,6].indexOf(v.colorType)!==-1){if(v.bits===8){N=(E=v.pixelBitlength==32?new Uint32Array(v.decodePixels().buffer):v.pixelBitlength==16?new Uint16Array(v.decodePixels().buffer):new Uint8Array(v.decodePixels().buffer)).length,_=new Uint8Array(N*v.colors),C=new Uint8Array(N);var re,I=v.pixelBitlength-v.bits;for(z=0,K=0;z<N;z++){for(D=E[z],re=0;re<I;)_[K++]=D>>>re&255,re+=v.bits;C[z]=D>>>re&255}}if(v.bits===16){N=(E=new Uint32Array(v.decodePixels().buffer)).length,_=new Uint8Array(N*(32/v.pixelBitlength)*v.colors),C=new Uint8Array(N*(32/v.pixelBitlength)),k=v.colors>1,z=0,K=0;for(var ie=0;z<N;)D=E[z++],_[K++]=D>>>0&255,k&&(_[K++]=D>>>16&255,D=E[z++],_[K++]=D>>>0&255),C[ie++]=D>>>16&255;g=8}f!==t.image_compression.NONE&&s()?(A=r(_,v.width*v.colors,v.colors,f),P=r(C,v.width,1,f)):(A=_,P=C,xe=void 0)}if(v.colorType===3&&(x=this.color_spaces.INDEXED,F=v.palette,v.transparency.indexed)){var ve=v.transparency.indexed,De=0;for(z=0,N=ve.length;z<N;++z)De+=ve[z];if((De/=255)===N-1&&ve.indexOf(0)!==-1)j=[ve.indexOf(0)];else if(De!==N){for(E=v.decodePixels(),C=new Uint8Array(E.length),z=0,N=E.length;z<N;z++)C[z]=ve[E[z]];P=r(C,v.width,1)}}var L=function(U){var R;switch(U){case t.image_compression.FAST:R=11;break;case t.image_compression.MEDIUM:R=13;break;case t.image_compression.SLOW:R=14;break;default:R=12}return R}(f);return xe===this.decode.FLATE_DECODE&&(W="/Predictor "+L+" "),W+="/Colors "+B+" /BitsPerComponent "+g+" /Columns "+v.width,(this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),(P&&this.__addimage__.isArrayBuffer(P)||this.__addimage__.isArrayBufferView(P))&&(P=this.__addimage__.arrayBufferToBinaryString(P)),{alias:p,data:A,index:m,filter:xe,decodeParameters:W,transparency:j,palette:F,sMask:P,predictor:L,width:v.width,height:v.height,bitsPerComponent:g,colorSpace:x}}}})(fs.API),function(t){t.processGIF89A=function(s,r,n,a){var i=new nre(s),l=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:l,height:o},u=new a5(100).encode(d,100);return t.processJPEG.call(this,u,r,n,a)},t.processGIF87A=t.processGIF89A}(fs.API),To.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var s=0;s<t;s++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[s]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},To.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,s=this.width*this.height*4;this.data=new Uint8Array(s),this[t]()}catch(r){Kr.log("bit decode error:"+r)}},To.prototype.bit1=function(){var t,s=Math.ceil(this.width/8),r=s%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<s;a++)for(var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[l+4*o]=c.blue,this.data[l+4*o+1]=c.green,this.data[l+4*o+2]=c.red,this.data[l+4*o+3]=255}r!==0&&(this.pos+=4-r)}},To.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),s=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*a*4,o=i>>4,c=15&i,d=this.palette[o];if(this.data[l]=d.blue,this.data[l+1]=d.green,this.data[l+2]=d.red,this.data[l+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[l+4]=d.blue,this.data[l+4+1]=d.green,this.data[l+4+2]=d.red,this.data[l+4+3]=255}s!==0&&(this.pos+=4-s)}},To.prototype.bit8=function(){for(var t=this.width%4,s=this.height-1;s>=0;s--){for(var r=this.bottom_up?s:this.height-1-s,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var l=this.palette[a];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},To.prototype.bit15=function(){for(var t=this.width%3,s=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&s)/s*255|0,o=(i>>5&s)/s*255|0,c=(i>>10&s)/s*255|0,d=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=c,this.data[u+1]=o,this.data[u+2]=l,this.data[u+3]=d}this.pos+=t}},To.prototype.bit16=function(){for(var t=this.width%3,s=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&s)/s*255|0,c=(l>>5&r)/r*255|0,d=(l>>11)/s*255|0,u=a*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},To.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=s*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},To.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var s=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=l}},To.prototype.getData=function(){return this.data},function(t){t.processBMP=function(s,r,n,a){var i=new To(s,!1),l=i.width,o=i.height,c={data:i.getData(),width:l,height:o},d=new a5(100).encode(c,100);return t.processJPEG.call(this,d,r,n,a)}}(fs.API),OT.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(s,r,n,a){var i=new OT(s),l=i.width,o=i.height,c={data:i.getData(),width:l,height:o},d=new a5(100).encode(c,100);return t.processJPEG.call(this,d,r,n,a)}}(fs.API),fs.API.processRGBA=function(t,s,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),l=new Uint8Array(a/4),o=0,c=0,d=0;d<a;d+=4){var u=n[d],h=n[d+1],A=n[d+2],m=n[d+3];i[o++]=u,i[o++]=h,i[o++]=A,l[c++]=m}var p=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:p,index:s,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},fs.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},af=fs.API,My=af.getCharWidthsArray=function(t,s){var r,n,a=(s=s||{}).font||this.internal.getFont(),i=s.fontSize||this.internal.getFontSize(),l=s.charSpace||this.internal.getCharSpace(),o=s.widths?s.widths:a.metadata.Unicode.widths,c=o.fof?o.fof:1,d=s.kerning?s.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=s.doKerning!==!1,A=0,m=t.length,p=0,f=o[0]||c,x=[];for(r=0;r<m;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+l*(1e3/i)||0)/1e3):(A=h&&Tr(d[n])==="object"&&!isNaN(parseInt(d[n][p],10))?d[n][p]/u:0,x.push((o[n]||f)/c+A)),p=n;return x},IT=af.getStringUnitWidth=function(t,s){var r=(s=s||{}).fontSize||this.internal.getFontSize(),n=s.font||this.internal.getFont(),a=s.charSpace||this.internal.getCharSpace();return af.processArabic&&(t=af.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:My.apply(this,arguments).reduce(function(i,l){return i+l},0)},PT=function(t,s,r,n){for(var a=[],i=0,l=t.length,o=0;i!==l&&o+s[i]<r;)o+=s[i],i++;a.push(t.slice(0,i));var c=i;for(o=0;i!==l;)o+s[i]>n&&(a.push(t.slice(c,i)),o=0,c=i),o+=s[i],i++;return c!==i&&a.push(t.slice(c,i)),a},DT=function(t,s,r){r||(r={});var n,a,i,l,o,c,d,u=[],h=[u],A=r.textIndent||0,m=0,p=0,f=t.split(" "),x=My.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?f[0].length+2:r.lineIndent||0){var g=Array(c).join(" "),v=[];f.map(function(B){(B=B.split(/\s*\n/)).length>1?v=v.concat(B.map(function(F,P){return(P&&F.length?`
`:"")+F})):v.push(B[0])}),f=v,c=IT.apply(this,[g,r])}for(i=0,l=f.length;i<l;i++){var j=0;if(n=f[i],c&&n[0]==`
`&&(n=n.substr(1),j=1),A+m+(p=(a=My.apply(this,[n,r])).reduce(function(B,F){return B+F},0))>s||j){if(p>s){for(o=PT.apply(this,[n,a,s-(A+m),s]),u.push(o.shift()),u=[o.pop()];o.length;)h.push([o.shift()]);p=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(B,F){return B+F},0)}else u=[n];h.push(u),A=p+c,m=x}else u.push(n),A+=m+p,m=x}return d=c?function(B,F){return(F?g:"")+B.join(" ")}:function(B){return B.join(" ")},h.map(d)},af.splitTextToSize=function(t,s,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var l=1*this.internal.scaleFactor*s/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,c,d=[];for(o=0,c=n.length;o<c;o++)d=d.concat(DT.apply(this,[n[o],l,i]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var s="klmnopqrstuvwxyz",r={},n={},a=0;a<s.length;a++)r[s[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=s[a];var i=function(h){return"0x"+parseInt(h,10).toString(16)},l=t.__fontmetrics__.compress=function(h){var A,m,p,f,x=["{"];for(var g in h){if(A=h[g],isNaN(parseInt(g,10))?m="'"+g+"'":(g=parseInt(g,10),m=(m=i(g).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof A=="number")A<0?(p=i(A).slice(3),f="-"):(p=i(A).slice(2),f=""),p=f+p.slice(0,-1)+n[p.slice(-1)];else{if(Tr(A)!=="object")throw new Error("Don't know what to do with value type "+Tr(A)+".");p=l(A)}x.push(m+p)}return x.push("}"),x.join("")},o=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var A,m,p,f,x={},g=1,v=x,j=[],B="",F="",P=h.length-1,E=1;E<P;E+=1)(f=h[E])=="'"?A?(p=A.join(""),A=void 0):A=[]:A?A.push(f):f=="{"?(j.push([v,p]),v={},p=void 0):f=="}"?((m=j.pop())[0][m[1]]=v,p=void 0,v=m[0]):f=="-"?g=-1:p===void 0?r.hasOwnProperty(f)?(B+=r[f],p=parseInt(B,16)*g,g=1,B=""):B+=f:r.hasOwnProperty(f)?(F+=r[f],v[p]=parseInt(F,16)*g,g=1,p=void 0,F=""):F+=f;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var A=h.font,m=u.Unicode[A.postScriptName];m&&(A.metadata.Unicode={},A.metadata.Unicode.widths=m.widths,A.metadata.Unicode.kerning=m.kerning);var p=d.Unicode[A.postScriptName];p&&(A.metadata.Unicode.encoding=p,A.encoding=p.codePages[0])}])}(fs.API),function(t){var s=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?s(o):s(Ag(o)),l.metadata=t.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,n)}}])}(fs),function(t){function s(){return(vs.canvg?Promise.resolve(vs.canvg):$d(()=>import("./index.es-USNV1PnN.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}fs.API.addSvgAsImage=function(r,n,a,i,l,o,c,d){if(isNaN(n)||isNaN(a))throw Kr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(l))throw Kr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=l;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return s().then(function(p){return p.fromString(h,r,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(A)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),n,a,i,l,c,d)})}}(),fs.API.putTotalPages=function(t){var s,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(s=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(s=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(s,r);return this},fs.API.viewerPreferences=function(t,s){var r;t=t||{},s=s||!1;var n,a,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),c=[],d=0,u=0,h=0;function A(p,f){var x,g=!1;for(x=0;x<p.length;x+=1)p[x]===f&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||s===!0){var m=o.length;for(h=0;h<m;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(Tr(t)==="object"){for(a in t)if(i=t[a],A(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&A(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(n=!1);n===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,f=[];for(p in r)r[p].explicitSet===!0&&(r[p].type==="name"?f.push("/"+p+" /"+r[p].value):f.push("/"+p+" "+r[p].value));f.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+f.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var s=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+l.length+o.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+l+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",s)),this}}(fs.API),function(t){var s=t.API,r=s.pdfEscape16=function(i,l){for(var o,c=l.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,A=i.length;h<A;++h){if(o=l.metadata.characterToGlyph(i.charCodeAt(h)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=i.charCodeAt(h),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(d[4-o.length],o)}return u.join("")},n=function(i){var l,o,c,d,u,h,A;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,A=(o=Object.keys(i).sort(function(m,p){return m-p})).length;h<A;h++)l=o[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(d=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),c.push("<"+l+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};s.events.push(["putFont",function(i){(function(l){var o=l.font,c=l.out,d=l.newObject,u=l.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,A=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",p=0;p<A.length;p++)m+=String.fromCharCode(A[p]);var f=d();u({data:m,addLength1:!0,objectId:f}),c("endobj");var x=d();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var g=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Cf(o.fontName)),c("/FontFile2 "+f+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var v=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Cf(o.fontName)),c("/FontDescriptor "+g+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+Cf(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+v+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),s.events.push(["putFont",function(i){(function(l){var o=l.font,c=l.out,d=l.newObject,u=l.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,A="",m=0;m<h.length;m++)A+=String.fromCharCode(h[m]);var p=d();u({data:A,addLength1:!0,objectId:p}),c("endobj");var f=d();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:f}),c("endobj");var x=d();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+p+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Cf(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=d();for(var g=0;g<o.metadata.hmtx.widths.length;g++)o.metadata.hmtx.widths[g]=parseInt(o.metadata.hmtx.widths[g]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+f+" 0 R/BaseFont/"+Cf(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var l,o=i.text||"",c=i.x,d=i.y,u=i.options||{},h=i.mutex||{},A=h.pdfEscape,m=h.activeFontKey,p=h.fonts,f=m,x="",g=0,v="",j=p[f].encoding;if(p[f].encoding!=="Identity-H")return{text:o,x:c,y:d,options:u,mutex:h};for(v=o,f=m,Array.isArray(o)&&(v=o[0]),g=0;g<v.length;g+=1)p[f].metadata.hasOwnProperty("cmap")&&(l=p[f].metadata.cmap.unicode.codeMap[v[g].charCodeAt(0)]),l||v[g].charCodeAt(0)<256&&p[f].metadata.hasOwnProperty("Unicode")?x+=v[g]:x+="";var B="";return parseInt(f.slice(1))<14||j==="WinAnsiEncoding"?B=A(x,f).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(B=r(x,p[f])),h.isHex=!0,{text:B,x:c,y:d,options:u,mutex:h}};s.events.push(["postProcessText",function(i){var l=i.text||"",o=[],c={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var d=0;for(d=0;d<l.length;d+=1)Array.isArray(l[d])&&l[d].length===3?o.push([a(Object.assign({},c,{text:l[d][0]})).text,l[d][1],l[d][2]]):o.push(a(Object.assign({},c,{text:l[d]})).text);i.text=o}else i.text=a(Object.assign({},c,{text:l})).text}])}(fs),function(t){var s=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return s.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return s.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return s.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(fs.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,l,o,c,d,u,h=s,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,j=0;this.__bidiEngine__={};var B=function(k){var D=k.charCodeAt(),z=D>>8,K=f[z];return K!==void 0?h[256*K+(255&D)]:z===252||z===253?"AL":g.test(z)?"L":z===8?"R":"N"},F=function(k){for(var D,z=0;z<k.length;z++){if((D=B(k.charAt(z)))==="L")return!1;if(D==="R")return!0}return!1},P=function(k,D,z,K){var xe,W,re,I,ie=D[K];switch(ie){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(ie="AN");break;case"AL":v=!0,ie="R";break;case"WS":ie="N";break;case"CS":K<1||K+1>=D.length||(xe=z[K-1])!=="EN"&&xe!=="AN"||(W=D[K+1])!=="EN"&&W!=="AN"?ie="N":v&&(W="AN"),ie=W===xe?W:"N";break;case"ES":ie=(xe=K>0?z[K-1]:"B")==="EN"&&K+1<D.length&&D[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&z[K-1]==="EN"){ie="EN";break}if(v){ie="N";break}for(re=K+1,I=D.length;re<I&&D[re]==="ET";)re++;ie=re<I&&D[re]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(I=D.length,re=K+1;re<I&&D[re]==="NSM";)re++;if(re<I){var ve=k[K],De=ve>=1425&&ve<=2303||ve===64286;if(xe=D[re],De&&(xe==="R"||xe==="AL")){ie="R";break}}}ie=K<1||(xe=D[K-1])==="B"?"N":z[K-1];break;case"B":v=!1,a=!0,ie=j;break;case"S":i=!0,ie="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":ie="N"}return ie},E=function(k,D,z){var K=k.split("");return z&&N(K,z,{hiLevel:j}),K.reverse(),D&&D.reverse(),K.join("")},N=function(k,D,z){var K,xe,W,re,I,ie=-1,ve=k.length,De=0,L=[],U=j?m:A,R=[];for(v=!1,a=!1,i=!1,xe=0;xe<ve;xe++)R[xe]=B(k[xe]);for(W=0;W<ve;W++){if(I=De,L[W]=P(k,R,L,W),K=240&(De=U[I][p[L[W]]]),De&=15,D[W]=re=U[De][5],K>0)if(K===16){for(xe=ie;xe<W;xe++)D[xe]=1;ie=-1}else ie=-1;if(U[De][6])ie===-1&&(ie=W);else if(ie>-1){for(xe=ie;xe<W;xe++)D[xe]=re;ie=-1}R[W]==="B"&&(D[W]=0),z.hiLevel|=re}i&&function(q,ae,Ae){for(var G=0;G<Ae;G++)if(q[G]==="S"){ae[G]=j;for(var O=G-1;O>=0&&q[O]==="WS";O--)ae[O]=j}}(R,D,ve)},C=function(k,D,z,K,xe){if(!(xe.hiLevel<k)){if(k===1&&j===1&&!a)return D.reverse(),void(z&&z.reverse());for(var W,re,I,ie,ve=D.length,De=0;De<ve;){if(K[De]>=k){for(I=De+1;I<ve&&K[I]>=k;)I++;for(ie=De,re=I-1;ie<re;ie++,re--)W=D[ie],D[ie]=D[re],D[re]=W,z&&(W=z[ie],z[ie]=z[re],z[re]=W);De=I}De++}}},_=function(k,D,z){var K=k.split(""),xe={hiLevel:j};return z||(z=[]),N(K,z,xe),function(W,re,I){if(I.hiLevel!==0&&u)for(var ie,ve=0;ve<W.length;ve++)re[ve]===1&&(ie=x.indexOf(W[ve]))>=0&&(W[ve]=x[ie+1])}(K,z,xe),C(2,K,D,z,xe),C(1,K,D,z,xe),K.join("")};return this.__bidiEngine__.doBidiReorder=function(k,D,z){if(function(xe,W){if(W)for(var re=0;re<xe.length;re++)W[re]=re;o===void 0&&(o=F(xe)),d===void 0&&(d=F(xe))}(k,D),l||!c||d)if(l&&c&&o^d)j=o?1:0,k=E(k,D,z);else if(!l&&c&&d)j=o?1:0,k=_(k,D,z),k=E(k,D);else if(!l||o||c||d){if(l&&!c&&o^d)k=E(k,D),o?(j=0,k=_(k,D,z)):(j=1,k=_(k,D,z),k=E(k,D));else if(l&&o&&!c&&d)j=1,k=_(k,D,z),k=E(k,D);else if(!l&&!c&&o^d){var K=u;o?(j=1,k=_(k,D,z),j=0,u=!1,k=_(k,D,z),u=K):(j=0,k=_(k,D,z),k=E(k,D),j=1,u=!1,k=_(k,D,z),u=K,k=E(k,D))}}else j=0,k=_(k,D,z);else j=o?1:0,k=_(k,D,z);return k},this.__bidiEngine__.setOptions=function(k){k&&(l=k.isInputVisual,c=k.isOutputVisual,o=k.isInputRtl,d=k.isOutputRtl,u=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var s=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(l=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?l.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):l.push([r.doBidiReorder(a[o])]);n.text=l}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(fs),fs.API.TTFFont=function(){function t(s){var r;if(this.rawData=s,r=this.contents=new Nh(s),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new vre(this),this.registerTTF()}return t.open=function(s){return new t(s)},t.prototype.parse=function(){return this.directory=new are(this.contents),this.head=new lre(this),this.name=new hre(this),this.cmap=new yM(this),this.toUnicode={},this.hhea=new ore(this),this.maxp=new Are(this),this.hmtx=new mre(this),this.post=new dre(this),this.os2=new cre(this),this.loca=new gre(this),this.glyf=new fre(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var s,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,c,d;for(d=[],l=0,o=(c=this.bbox).length;l<o;l++)s=c[l],d.push(Math.round(s*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(s){var r;return((r=this.cmap.unicode)!=null?r.codeMap[s]:void 0)||0},t.prototype.widthOfGlyph=function(s){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(s).advance*r},t.prototype.widthOfString=function(s,r,n){var a,i,l,o;for(l=0,i=0,o=(s=""+s).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=s.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return l*(r/1e3)},t.prototype.lineHeight=function(s,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*s},t}();var xc,Nh=function(){function t(s){this.data=s??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(s){return this.data[this.pos++]=s},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(s){return this.writeByte(s>>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt32=function(){var s;return(s=this.readUInt32())>=2147483648?s-4294967296:s},t.prototype.writeInt32=function(s){return s<0&&(s+=4294967296),this.writeUInt32(s)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(s){return this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt16=function(){var s;return(s=this.readUInt16())>=32768?s-65536:s},t.prototype.writeInt16=function(s){return s<0&&(s+=65536),this.writeUInt16(s)},t.prototype.readString=function(s){var r,n;for(n=[],r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(s){var r,n,a;for(a=[],r=0,n=s.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(s.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(s){return this.writeInt16(s)},t.prototype.readLongLong=function(){var s,r,n,a,i,l,o,c;return s=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),l=this.readByte(),o=this.readByte(),c=this.readByte(),128&s?-1*(72057594037927940*(255^s)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^l)+256*(255^o)+(255^c)+1):72057594037927940*s+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*l+256*o+c},t.prototype.writeLongLong=function(s){var r,n;return r=Math.floor(s/4294967296),n=4294967295&s,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(s){return this.writeInt32(s)},t.prototype.read=function(s){var r,n;for(r=[],n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(s){var r,n,a,i;for(i=[],n=0,a=s.length;n<a;n++)r=s[n],i.push(this.writeByte(r));return i},t}(),are=function(){var t;function s(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return s.prototype.encode=function(r){var n,a,i,l,o,c,d,u,h,A,m,p,f;for(f in m=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(m)/c),l=Math.floor(h/c),u=16*m-h,(a=new Nh).writeInt(this.scalarType),a.writeShort(m),a.writeShort(h),a.writeShort(l),a.writeShort(u),i=16*m,d=a.pos+i,o=null,p=[],r)for(A=r[f],a.writeString(f),a.writeInt(t(A)),a.writeInt(d),a.writeInt(A.length),p=p.concat(A),f==="head"&&(o=d),d+=A.length;d%4;)p.push(0),d++;return a.write(p),n=2981146554-t(a.data),a.pos=o+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,l;for(r=wM.call(r);r.length%4;)r.push(0);for(i=new Nh(r),a=0,n=0,l=r.length;n<l;n=n+=4)a+=i.readUInt32();return 4294967295&a},s}(),ire={}.hasOwnProperty,rd=function(t,s){for(var r in s)ire.call(s,r)&&(t[r]=s[r]);function n(){this.constructor=t}return n.prototype=s.prototype,t.prototype=new n,t.__super__=s.prototype,t};xc=function(){function t(s){var r;this.file=s,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var lre=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return rd(s,xc),s.prototype.tag="head",s.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},s.prototype.encode=function(r){var n;return(n=new Nh).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},s}(),RT=function(){function t(s,r){var n,a,i,l,o,c,d,u,h,A,m,p,f,x,g,v,j;switch(this.platformID=s.readUInt16(),this.encodingID=s.readShort(),this.offset=r+s.readInt(),h=s.pos,s.pos=this.offset,this.format=s.readUInt16(),this.length=s.readUInt16(),this.language=s.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=s.readByte();break;case 4:for(m=s.readUInt16(),A=m/2,s.pos+=6,i=function(){var B,F;for(F=[],c=B=0;0<=A?B<A:B>A;c=0<=A?++B:--B)F.push(s.readUInt16());return F}(),s.pos+=2,f=function(){var B,F;for(F=[],c=B=0;0<=A?B<A:B>A;c=0<=A?++B:--B)F.push(s.readUInt16());return F}(),d=function(){var B,F;for(F=[],c=B=0;0<=A?B<A:B>A;c=0<=A?++B:--B)F.push(s.readUInt16());return F}(),u=function(){var B,F;for(F=[],c=B=0;0<=A?B<A:B>A;c=0<=A?++B:--B)F.push(s.readUInt16());return F}(),a=(this.length-s.pos+this.offset)/2,o=function(){var B,F;for(F=[],c=B=0;0<=a?B<a:B>a;c=0<=a?++B:--B)F.push(s.readUInt16());return F}(),c=g=0,j=i.length;g<j;c=++g)for(x=i[c],n=v=p=f[c];p<=x?v<=x:v>=x;n=p<=x?++v:--v)u[c]===0?l=n+d[c]:(l=o[u[c]/2+(n-p)-(A-c)]||0)!==0&&(l+=d[c]),this.codeMap[n]=65535&l}s.pos=h}return t.encode=function(s,r){var n,a,i,l,o,c,d,u,h,A,m,p,f,x,g,v,j,B,F,P,E,N,C,_,k,D,z,K,xe,W,re,I,ie,ve,De,L,U,R,q,ae,Ae,G,O,ee,Le,Re;switch(K=new Nh,l=Object.keys(s).sort(function(Ke,Me){return Ke-Me}),r){case"macroman":for(f=0,x=function(){var Ke=[];for(p=0;p<256;++p)Ke.push(0);return Ke}(),v={0:0},i={},xe=0,ie=l.length;xe<ie;xe++)v[O=s[a=l[xe]]]==null&&(v[O]=++f),i[a]={old:s[a],new:v[s[a]]},x[a]=v[s[a]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(x),{charMap:i,subtable:K.data,maxGlyphID:f+1};case"unicode":for(D=[],h=[],j=0,v={},n={},g=d=null,W=0,ve=l.length;W<ve;W++)v[F=s[a=l[W]]]==null&&(v[F]=++j),n[a]={old:F,new:v[F]},o=v[F]-a,g!=null&&o===d||(g&&h.push(g),D.push(a),d=o),g=a;for(g&&h.push(g),h.push(65535),D.push(65535),_=2*(C=D.length),N=2*Math.pow(Math.log(C)/Math.LN2,2),A=Math.log(N/2)/Math.LN2,E=2*C-N,c=[],P=[],m=[],p=re=0,De=D.length;re<De;p=++re){if(k=D[p],u=h[p],k===65535){c.push(0),P.push(0);break}if(k-(z=n[k].new)>=32768)for(c.push(0),P.push(2*(m.length+C-p)),a=I=k;k<=u?I<=u:I>=u;a=k<=u?++I:--I)m.push(n[a].new);else c.push(z-k),P.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*C+2*m.length),K.writeUInt16(0),K.writeUInt16(_),K.writeUInt16(N),K.writeUInt16(A),K.writeUInt16(E),Ae=0,L=h.length;Ae<L;Ae++)a=h[Ae],K.writeUInt16(a);for(K.writeUInt16(0),G=0,U=D.length;G<U;G++)a=D[G],K.writeUInt16(a);for(ee=0,R=c.length;ee<R;ee++)o=c[ee],K.writeUInt16(o);for(Le=0,q=P.length;Le<q;Le++)B=P[Le],K.writeUInt16(B);for(Re=0,ae=m.length;Re<ae;Re++)f=m[Re],K.writeUInt16(f);return{charMap:n,subtable:K.data,maxGlyphID:j+1}}},t}(),yM=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return rd(s,xc),s.prototype.tag="cmap",s.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new RT(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},s.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=RT.encode(r,n),(i=new Nh).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},s}(),ore=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return rd(s,xc),s.prototype.tag="hhea",s.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},s}(),cre=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return rd(s,xc),s.prototype.tag="OS/2",s.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},s}(),dre=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return rd(s,xc),s.prototype.tag="post",s.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var l;for(a=r.readUInt16(),this.glyphNameIndex=[],l=0;0<=a?l<a:l>a;l=0<=a?++l:--l)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,c,d;for(d=[],l=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;l=0<=c?++o:--o)d.push(r.readUInt32());return d}).call(this)}},s}(),ure=function(t,s){this.raw=t,this.length=t.length,this.platformID=s.platformID,this.encodingID=s.encodingID,this.languageID=s.languageID},hre=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return rd(s,xc),s.prototype.tag="name",s.prototype.parse=function(r){var n,a,i,l,o,c,d,u,h,A,m;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],l=0;0<=n?l<n:l>n;l=0<=n?++l:--l)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(d={},l=h=0,A=a.length;h<A;l=++h)i=a[l],r.pos=i.offset,u=r.readString(i.length),o=new ure(u,i),d[m=i.nameID]==null&&(d[m]=[]),d[i.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},s}(),Are=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return rd(s,xc),s.prototype.tag="maxp",s.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},s}(),mre=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return rd(s,xc),s.prototype.tag="hmtx",s.prototype.parse=function(r){var n,a,i,l,o,c,d;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)h.push(r.readInt16());return h}(),this.widths=(function(){var u,h,A,m;for(m=[],u=0,h=(A=this.metrics).length;u<h;u++)l=A[u],m.push(l.advance);return m}).call(this),a=this.widths[this.widths.length-1],d=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)d.push(this.widths.push(a));return d},s.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},s}(),wM=[].slice,fre=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return rd(s,xc),s.prototype.tag="glyf",s.prototype.parse=function(){return this.cache={}},s.prototype.glyphFor=function(r){var n,a,i,l,o,c,d,u,h,A;return r in this.cache?this.cache[r]:(l=this.file.loca,n=this.file.contents,a=l.indexOf(r),(i=l.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(c=new Nh(n.read(i))).readShort(),u=c.readShort(),A=c.readShort(),d=c.readShort(),h=c.readShort(),this.cache[r]=o===-1?new pre(c,u,A,d,h):new xre(c,o,u,A,d,h),this.cache[r]))},s.prototype.encode=function(r,n,a){var i,l,o,c,d;for(o=[],l=[],c=0,d=n.length;c<d;c++)i=r[n[c]],l.push(o.length),i&&(o=o.concat(i.encode(a)));return l.push(o.length),{table:o,offsets:l}},s}(),xre=function(){function t(s,r,n,a,i,l){this.raw=s,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=l,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),pre=function(){function t(s,r,n,a,i){var l,o;for(this.raw=s,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return t.prototype.encode=function(){var s,r,n;for(r=new Nh(wM.call(this.raw.data)),s=0,n=this.glyphIDs.length;s<n;++s)r.pos=this.glyphOffsets[s];return r.data},t}(),gre=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return rd(s,xc),s.prototype.tag="loca",s.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,l;for(l=[],a=0,i=this.length;a<i;a+=2)l.push(2*r.readUInt16());return l}).call(this):(function(){var i,l;for(l=[],a=0,i=this.length;a<i;a+=4)l.push(r.readUInt32());return l}).call(this)},s.prototype.indexOf=function(r){return this.offsets[r]},s.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},s.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,l=0,o=0;o<a.length;++o)if(a[o]=i,l<n.length&&n[l]==o){++l,a[o]=i;var c=this.offsets[o],d=this.offsets[o+1]-c;d>0&&(i+=d)}for(var u=new Array(4*a.length),h=0;h<a.length;++h)u[4*h+3]=255&a[h],u[4*h+2]=(65280&a[h])>>8,u[4*h+1]=(16711680&a[h])>>16,u[4*h]=(4278190080&a[h])>>24;return u},s}(),vre=function(){function t(s){this.font=s,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var s,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,s={},i=this.subset)n=i[r],s[r]=a[n];return s},t.prototype.glyphsFor=function(s){var r,n,a,i,l,o,c;for(a={},l=0,o=s.length;l<o;l++)a[i=s[l]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(s,r){var n,a,i,l,o,c,d,u,h,A,m,p,f,x,g;for(a in n=yM.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(s),m={0:0},g=n.charMap)m[(c=g[a]).old]=c.new;for(p in A=n.maxGlyphID,l)p in m||(m[p]=A++);return u=function(v){var j,B;for(j in B={},v)B[v[j]]=j;return B}(m),h=Object.keys(u).sort(function(v,j){return v-j}),f=function(){var v,j,B;for(B=[],v=0,j=h.length;v<j;v++)o=h[v],B.push(u[o]);return B}(),i=this.font.glyf.encode(l,f,m),d=this.font.loca.encode(i.offsets,f),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t}();fs.API.PDFObject=function(){var t;function s(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},s.convert=function(r){var n,a,i,l;if(Array.isArray(r))return"["+function(){var o,c,d;for(d=[],o=0,c=r.length;o<c;o++)n=r[o],d.push(s.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)l=r[a],i.push("/"+a+" "+s.convert(l));return i.push(">>"),i.join(`
`)}return""+r},s}();function $s(t){const s=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&s==="[object Date]"?new t.constructor(+t):typeof t=="number"||s==="[object Number]"||typeof t=="string"||s==="[object String]"?new Date(t):new Date(NaN)}function al(t,s){return t instanceof Date?new t.constructor(s):new Date(s)}function Oa(t,s){const r=$s(t);return isNaN(s)?al(t,NaN):(s&&r.setDate(r.getDate()+s),r)}function cc(t,s){const r=$s(t);if(isNaN(s))return al(t,NaN);if(!s)return r;const n=r.getDate(),a=al(t,r.getTime());a.setMonth(r.getMonth()+s+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const S3=6048e5,jre=864e5,bM=6e4,NM=36e5;let yre={};function Jv(){return yre}function dc(t,s){var o,c,d,u;const r=Jv(),n=(s==null?void 0:s.weekStartsOn)??((c=(o=s==null?void 0:s.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=$s(t),i=a.getDay(),l=(i<n?7:0)+i-n;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function rm(t){return dc(t,{weekStartsOn:1})}function CM(t){const s=$s(t),r=s.getFullYear(),n=al(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=rm(n),i=al(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const l=rm(i);return s.getTime()>=a.getTime()?r+1:s.getTime()>=l.getTime()?r:r-1}function Gx(t){const s=$s(t);return s.setHours(0,0,0,0),s}function eb(t){const s=$s(t),r=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return r.setUTCFullYear(s.getFullYear()),+t-+r}function Xo(t,s){const r=Gx(t),n=Gx(s),a=+r-eb(r),i=+n-eb(n);return Math.round((a-i)/jre)}function wre(t){const s=CM(t),r=al(t,0);return r.setFullYear(s,0,4),r.setHours(0,0,0,0),rm(r)}function $B(t,s){const r=s*7;return Oa(t,r)}function bre(t,s){return cc(t,s*12)}function Nre(t){let s;return t.forEach(function(r){const n=$s(r);(s===void 0||s<n||isNaN(Number(n)))&&(s=n)}),s||new Date(NaN)}function Cre(t){let s;return t.forEach(r=>{const n=$s(r);(!s||s>n||isNaN(+n))&&(s=n)}),s||new Date(NaN)}function BM(t){return al(t,Date.now())}function hi(t,s){const r=Gx(t),n=Gx(s);return+r==+n}function k3(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Bre(t){if(!k3(t)&&typeof t!="number")return!1;const s=$s(t);return!isNaN(Number(s))}function sv(t,s){const r=$s(t),n=$s(s),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Sre(t,s,r){const n=dc(t,r),a=dc(s,r),i=+n-eb(n),l=+a-eb(a);return Math.round((i-l)/S3)}function kre(t,s){const r=$s(t),n=$s(s),a=MT(r,n),i=Math.abs(Xo(r,n));r.setDate(r.getDate()-a*i);const l=+(MT(r,n)===-a),o=a*(i-l);return o===0?0:o}function MT(t,s){const r=t.getFullYear()-s.getFullYear()||t.getMonth()-s.getMonth()||t.getDate()-s.getDate()||t.getHours()-s.getHours()||t.getMinutes()-s.getMinutes()||t.getSeconds()-s.getSeconds()||t.getMilliseconds()-s.getMilliseconds();return r<0?-1:r>0?1:r}function rv(t){const s=$s(t),r=s.getMonth();return s.setFullYear(s.getFullYear(),r+1,0),s.setHours(23,59,59,999),s}function _re(t,s){const r=$s(t.start),n=$s(t.end);let a=+r>+n;const i=a?+r:+n,l=a?n:r;l.setHours(0,0,0,0);let o=1;const c=[];for(;+l<=i;)c.push($s(l)),l.setDate(l.getDate()+o),l.setHours(0,0,0,0);return a?c.reverse():c}function mi(t){const s=$s(t);return s.setDate(1),s.setHours(0,0,0,0),s}function SM(t){const s=$s(t),r=al(t,0);return r.setFullYear(s.getFullYear(),0,1),r.setHours(0,0,0,0),r}function _3(t,s){var o,c,d,u;const r=Jv(),n=(s==null?void 0:s.weekStartsOn)??((c=(o=s==null?void 0:s.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=$s(t),i=a.getDay(),l=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}function kM(t){return _3(t,{weekStartsOn:1})}const Ere={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fre=(t,s,r)=>{let n;const a=Ere[t];return typeof a=="string"?n=a:s===1?n=a.one:n=a.other.replace("{{count}}",s.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function i5(t){return(s={})=>{const r=s.width?String(s.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Tre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Lre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ire={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Pre={date:i5({formats:Tre,defaultWidth:"full"}),time:i5({formats:Lre,defaultWidth:"full"}),dateTime:i5({formats:Ire,defaultWidth:"full"})},Dre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ure=(t,s,r,n)=>Dre[t];function pp(t){return(s,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):l;a=t.formattingValues[o]||t.formattingValues[l]}else{const l=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[o]||t.values[l]}const i=t.argumentCallback?t.argumentCallback(s):s;return a[i]}}const Ore={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Rre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Hre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Vre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Kre=(t,s)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},zre={ordinalNumber:Kre,era:pp({values:Ore,defaultWidth:"wide"}),quarter:pp({values:Rre,defaultWidth:"wide",argumentCallback:t=>t-1}),month:pp({values:Mre,defaultWidth:"wide"}),day:pp({values:Qre,defaultWidth:"wide"}),dayPeriod:pp({values:Hre,defaultWidth:"wide",formattingValues:Vre,defaultFormattingWidth:"wide"})};function gp(t){return(s,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=s.match(a);if(!i)return null;const l=i[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?$re(o,h=>h.test(l)):qre(o,h=>h.test(l));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=s.slice(l.length);return{value:d,rest:u}}}function qre(t,s){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&s(t[r]))return r}function $re(t,s){for(let r=0;r<t.length;r++)if(s(t[r]))return r}function Gre(t){return(s,r={})=>{const n=s.match(t.matchPattern);if(!n)return null;const a=n[0],i=s.match(t.parsePattern);if(!i)return null;let l=t.valueCallback?t.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const o=s.slice(a.length);return{value:l,rest:o}}}const Wre=/^(\d+)(th|st|nd|rd)?/i,Yre=/\d+/i,Xre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Jre={any:[/^b/i,/^(a|c)/i]},Zre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ene={any:[/1/i,/2/i,/3/i,/4/i]},tne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ane={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ine={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lne={ordinalNumber:Gre({matchPattern:Wre,parsePattern:Yre,valueCallback:t=>parseInt(t,10)}),era:gp({matchPatterns:Xre,defaultMatchWidth:"wide",parsePatterns:Jre,defaultParseWidth:"any"}),quarter:gp({matchPatterns:Zre,defaultMatchWidth:"wide",parsePatterns:ene,defaultParseWidth:"any",valueCallback:t=>t+1}),month:gp({matchPatterns:tne,defaultMatchWidth:"wide",parsePatterns:sne,defaultParseWidth:"any"}),day:gp({matchPatterns:rne,defaultMatchWidth:"wide",parsePatterns:nne,defaultParseWidth:"any"}),dayPeriod:gp({matchPatterns:ane,defaultMatchWidth:"any",parsePatterns:ine,defaultParseWidth:"any"})},_M={code:"en-US",formatDistance:Fre,formatLong:Pre,formatRelative:Ure,localize:zre,match:lne,options:{weekStartsOn:0,firstWeekContainsDate:1}};function one(t){const s=$s(t);return Xo(s,SM(s))+1}function EM(t){const s=$s(t),r=+rm(s)-+wre(s);return Math.round(r/S3)+1}function FM(t,s){var u,h,A,m;const r=$s(t),n=r.getFullYear(),a=Jv(),i=(s==null?void 0:s.firstWeekContainsDate)??((h=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(A=a.locale)==null?void 0:A.options)==null?void 0:m.firstWeekContainsDate)??1,l=al(t,0);l.setFullYear(n+1,0,i),l.setHours(0,0,0,0);const o=dc(l,s),c=al(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=dc(c,s);return r.getTime()>=o.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function cne(t,s){var o,c,d,u;const r=Jv(),n=(s==null?void 0:s.firstWeekContainsDate)??((c=(o=s==null?void 0:s.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=FM(t,s),i=al(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),dc(i,s)}function TM(t,s){const r=$s(t),n=+dc(r,s)-+cne(r,s);return Math.round(n/S3)+1}function Er(t,s){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(s,"0");return r+n}const Nu={y(t,s){const r=t.getFullYear(),n=r>0?r:1-r;return Er(s==="yy"?n%100:n,s.length)},M(t,s){const r=t.getMonth();return s==="M"?String(r+1):Er(r+1,2)},d(t,s){return Er(t.getDate(),s.length)},a(t,s){const r=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,s){return Er(t.getHours()%12||12,s.length)},H(t,s){return Er(t.getHours(),s.length)},m(t,s){return Er(t.getMinutes(),s.length)},s(t,s){return Er(t.getSeconds(),s.length)},S(t,s){const r=s.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Er(a,s.length)}},lf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QT={G:function(t,s,r){const n=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,s,r){if(s==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Nu.y(t,s)},Y:function(t,s,r,n){const a=FM(t,n),i=a>0?a:1-a;if(s==="YY"){const l=i%100;return Er(l,2)}return s==="Yo"?r.ordinalNumber(i,{unit:"year"}):Er(i,s.length)},R:function(t,s){const r=CM(t);return Er(r,s.length)},u:function(t,s){const r=t.getFullYear();return Er(r,s.length)},Q:function(t,s,r){const n=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(n);case"QQ":return Er(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,s,r){const n=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(n);case"qq":return Er(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,s,r){const n=t.getMonth();switch(s){case"M":case"MM":return Nu.M(t,s);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,s,r){const n=t.getMonth();switch(s){case"L":return String(n+1);case"LL":return Er(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,s,r,n){const a=TM(t,n);return s==="wo"?r.ordinalNumber(a,{unit:"week"}):Er(a,s.length)},I:function(t,s,r){const n=EM(t);return s==="Io"?r.ordinalNumber(n,{unit:"week"}):Er(n,s.length)},d:function(t,s,r){return s==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Nu.d(t,s)},D:function(t,s,r){const n=one(t);return s==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Er(n,s.length)},E:function(t,s,r){const n=t.getDay();switch(s){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,s,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(s){case"e":return String(i);case"ee":return Er(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,s,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(s){case"c":return String(i);case"cc":return Er(i,s.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,s,r){const n=t.getDay(),a=n===0?7:n;switch(s){case"i":return String(a);case"ii":return Er(a,s.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,s,r){const a=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,s,r){const n=t.getHours();let a;switch(n===12?a=lf.noon:n===0?a=lf.midnight:a=n/12>=1?"pm":"am",s){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,s,r){const n=t.getHours();let a;switch(n>=17?a=lf.evening:n>=12?a=lf.afternoon:n>=4?a=lf.morning:a=lf.night,s){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,s,r){if(s==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Nu.h(t,s)},H:function(t,s,r){return s==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Nu.H(t,s)},K:function(t,s,r){const n=t.getHours()%12;return s==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Er(n,s.length)},k:function(t,s,r){let n=t.getHours();return n===0&&(n=24),s==="ko"?r.ordinalNumber(n,{unit:"hour"}):Er(n,s.length)},m:function(t,s,r){return s==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Nu.m(t,s)},s:function(t,s,r){return s==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Nu.s(t,s)},S:function(t,s){return Nu.S(t,s)},X:function(t,s,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(s){case"X":return VT(n);case"XXXX":case"XX":return AA(n);case"XXXXX":case"XXX":default:return AA(n,":")}},x:function(t,s,r){const n=t.getTimezoneOffset();switch(s){case"x":return VT(n);case"xxxx":case"xx":return AA(n);case"xxxxx":case"xxx":default:return AA(n,":")}},O:function(t,s,r){const n=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+HT(n,":");case"OOOO":default:return"GMT"+AA(n,":")}},z:function(t,s,r){const n=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+HT(n,":");case"zzzz":default:return"GMT"+AA(n,":")}},t:function(t,s,r){const n=Math.trunc(t.getTime()/1e3);return Er(n,s.length)},T:function(t,s,r){const n=t.getTime();return Er(n,s.length)}};function HT(t,s=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+s+Er(i,2)}function VT(t,s){return t%60===0?(t>0?"-":"+")+Er(Math.abs(t)/60,2):AA(t,s)}function AA(t,s=""){const r=t>0?"-":"+",n=Math.abs(t),a=Er(Math.trunc(n/60),2),i=Er(n%60,2);return r+a+s+i}const KT=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},LM=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},dne=(t,s)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return KT(t,s);let i;switch(n){case"P":i=s.dateTime({width:"short"});break;case"PP":i=s.dateTime({width:"medium"});break;case"PPP":i=s.dateTime({width:"long"});break;case"PPPP":default:i=s.dateTime({width:"full"});break}return i.replace("{{date}}",KT(n,s)).replace("{{time}}",LM(a,s))},une={p:LM,P:dne},hne=/^D+$/,Ane=/^Y+$/,mne=["D","DD","YY","YYYY"];function fne(t){return hne.test(t)}function xne(t){return Ane.test(t)}function pne(t,s,r){const n=gne(t,s,r);if(console.warn(n),mne.includes(t))throw new RangeError(n)}function gne(t,s,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yne=/^'([^]*?)'?$/,wne=/''/g,bne=/[a-zA-Z]/;function Vs(t,s,r){var u,h,A,m,p,f,x,g;const n=Jv(),a=(r==null?void 0:r.locale)??n.locale??_M,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(A=n.locale)==null?void 0:A.options)==null?void 0:m.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((f=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((g=(x=n.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??0,o=$s(t);if(!Bre(o))throw new RangeError("Invalid time value");let c=s.match(jne).map(v=>{const j=v[0];if(j==="p"||j==="P"){const B=une[j];return B(v,a.formatLong)}return v}).join("").match(vne).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const j=v[0];if(j==="'")return{isToken:!1,value:Nne(v)};if(QT[j])return{isToken:!0,value:v};if(j.match(bne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(c=a.localize.preprocessor(o,c));const d={firstWeekContainsDate:i,weekStartsOn:l,locale:a};return c.map(v=>{if(!v.isToken)return v.value;const j=v.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&xne(j)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&fne(j))&&pne(j,s,String(t));const B=QT[j[0]];return B(o,j,a.localize,d)}).join("")}function Nne(t){const s=t.match(yne);return s?s[1].replace(wne,"'"):t}function Cne(t){const s=$s(t),r=s.getFullYear(),n=s.getMonth(),a=al(t,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Bne(t){return Math.trunc(+$s(t)/1e3)}function Sne(t){const s=$s(t),r=s.getMonth();return s.setFullYear(s.getFullYear(),r+1,0),s.setHours(0,0,0,0),s}function kne(t,s){return Sre(Sne(t),mi(t),s)+1}function GB(t,s){const r=$s(t),n=$s(s);return r.getTime()>n.getTime()}function IM(t,s){const r=$s(t),n=$s(s);return+r<+n}function E3(t,s){const r=$s(t),n=$s(s);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function _ne(t,s){const r=$s(t),n=$s(s);return r.getFullYear()===n.getFullYear()}function tb(t){return hi(t,BM(t))}function J1(t,s){return Oa(t,-s)}function Ene(t){return hi(t,J1(BM(t),1))}function ac(t,s){const n=Ine(t);let a;if(n.date){const c=Pne(n.date,2);a=Dne(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let l=0,o;if(n.time&&(l=Une(n.time),isNaN(l)))return new Date(NaN);if(n.timezone){if(o=One(n.timezone),isNaN(o))return new Date(NaN)}else{const c=new Date(i+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(i+l+o)}const Qy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Fne=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Tne=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Lne=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ine(t){const s={},r=t.split(Qy.dateTimeDelimiter);let n;if(r.length>2)return s;if(/:/.test(r[0])?n=r[0]:(s.date=r[0],n=r[1],Qy.timeZoneDelimiter.test(s.date)&&(s.date=t.split(Qy.timeZoneDelimiter)[0],n=t.substr(s.date.length,t.length))),n){const a=Qy.timezone.exec(n);a?(s.time=n.replace(a[1],""),s.timezone=a[1]):s.time=n}return s}function Pne(t,s){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function Dne(t,s){if(s===null)return new Date(NaN);const r=t.match(Fne);if(!r)return new Date(NaN);const n=!!r[4],a=vp(r[1]),i=vp(r[2])-1,l=vp(r[3]),o=vp(r[4]),c=vp(r[5])-1;if(n)return Vne(s,o,c)?Rne(s,o,c):new Date(NaN);{const d=new Date(0);return!Qne(s,i,l)||!Hne(s,a)?new Date(NaN):(d.setUTCFullYear(s,i,Math.max(a,l)),d)}}function vp(t){return t?parseInt(t):1}function Une(t){const s=t.match(Tne);if(!s)return NaN;const r=l5(s[1]),n=l5(s[2]),a=l5(s[3]);return Kne(r,n,a)?r*NM+n*bM+a*1e3:NaN}function l5(t){return t&&parseFloat(t.replace(",","."))||0}function One(t){if(t==="Z")return 0;const s=t.match(Lne);if(!s)return 0;const r=s[1]==="+"?-1:1,n=parseInt(s[2]),a=s[3]&&parseInt(s[3])||0;return zne(n,a)?r*(n*NM+a*bM):NaN}function Rne(t,s,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,i=(s-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const Mne=[31,null,31,30,31,30,31,31,30,31,30,31];function PM(t){return t%400===0||t%4===0&&t%100!==0}function Qne(t,s,r){return s>=0&&s<=11&&r>=1&&r<=(Mne[s]||(PM(t)?29:28))}function Hne(t,s){return s>=1&&s<=(PM(t)?366:365)}function Vne(t,s,r){return s>=1&&s<=53&&r>=0&&r<=6}function Kne(t,s,r){return t===24?s===0&&r===0:r>=0&&r<60&&s>=0&&s<60&&t>=0&&t<25}function zne(t,s){return s>=0&&s<=59}function o5(t,s){const r=$s(t),n=r.getFullYear(),a=r.getDate(),i=al(t,0);i.setFullYear(n,s,15),i.setHours(0,0,0,0);const l=Cne(i);return r.setMonth(s,Math.min(a,l)),r}function zT(t,s){const r=$s(t);return isNaN(+r)?al(t,NaN):(r.setFullYear(s),r)}function at(...t){return wse(KR(t))}const qne=Ate,DM=b.forwardRef(({className:t,...s},r)=>e.jsx(UR,{ref:r,className:at("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));DM.displayName=UR.displayName;const $ne=Wv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),UM=b.forwardRef(({className:t,variant:s,...r},n)=>e.jsx(OR,{ref:n,className:at($ne({variant:s}),t),...r}));UM.displayName=OR.displayName;const Gne=b.forwardRef(({className:t,...s},r)=>e.jsx(QR,{ref:r,className:at("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));Gne.displayName=QR.displayName;const OM=b.forwardRef(({className:t,...s},r)=>e.jsx(HR,{ref:r,className:at("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(sm,{className:"h-4 w-4"})}));OM.displayName=HR.displayName;const RM=b.forwardRef(({className:t,...s},r)=>e.jsx(RR,{ref:r,className:at("text-sm font-semibold",t),...s}));RM.displayName=RR.displayName;const MM=b.forwardRef(({className:t,...s},r)=>e.jsx(MR,{ref:r,className:at("text-sm opacity-90",t),...s}));MM.displayName=MR.displayName;function sb(){const{toasts:t}=ls();return e.jsxs(qne,{children:[t.map(function({id:s,title:r,description:n,action:a,...i}){return e.jsxs(UM,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(RM,{children:r}),n&&e.jsx(MM,{children:n})]}),a,e.jsx(OM,{})]},s)}),e.jsx(DM,{})]})}class Wne{constructor(){wi(this,"history",[]);wi(this,"maxHistorySize",50)}addPath(s){this.history[this.history.length-1]!==s&&(this.history.push(s),this.history.length>this.maxHistorySize&&(this.history=this.history.slice(-this.maxHistorySize)))}getPreviousPath(){return this.history.length>=2?this.history[this.history.length-2]:null}canGoBack(){return this.history.length>=2}goBack(){return this.canGoBack()?(this.history.pop(),this.history[this.history.length-1]):null}getCurrentPath(){return this.history.length>0?this.history[this.history.length-1]:null}clear(){this.history=[]}}const Z1=new Wne;function Yne(){const[t,s]=Oi();return{location:t,goBack:()=>{const i=Z1.goBack();s(i||"/")},navigateTo:i=>{Z1.addPath(t),s(i)},canGoBack:()=>Z1.canGoBack(),setLocation:s}}function Xne(){const t=window.location.pathname;Z1.addPath(t)}const H=b.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:at("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));H.displayName="Card";const oe=b.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:at("flex flex-col space-y-1.5 p-6",t),...s}));oe.displayName="CardHeader";const ce=b.forwardRef(({className:t,...s},r)=>e.jsx("h3",{ref:r,className:at("text-2xl font-semibold leading-none tracking-tight",t),...s}));ce.displayName="CardTitle";const ct=b.forwardRef(({className:t,...s},r)=>e.jsx("p",{ref:r,className:at("text-sm text-muted-foreground",t),...s}));ct.displayName="CardDescription";const M=b.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:at("p-6 pt-0",t),...s}));M.displayName="CardContent";const QA=b.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:at("flex items-center p-6 pt-0",t),...s}));QA.displayName="CardFooter";const rb=Wv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=b.forwardRef(({className:t,variant:s,size:r,asChild:n=!1,...a},i)=>{const l=n?jR:"button";return e.jsx(l,{className:at(rb({variant:s,size:r,className:t})),ref:i,...a})});V.displayName="Button";const QM=b.createContext(void 0);function nb({children:t}){const[s,r]=b.useState(()=>{const i=localStorage.getItem("language");return i&&["en","bn","ar"].includes(i)?i:"bn"}),n=s==="ar";b.useEffect(()=>{localStorage.setItem("language",s),document.documentElement.lang=s,document.documentElement.dir=n?"rtl":"ltr",n?document.documentElement.classList.add("rtl"):document.documentElement.classList.remove("rtl")},[s,n]);const a={language:s,setLanguage:r,isRTL:n};return e.jsx(QM.Provider,{value:a,children:t})}function f0(){const t=b.useContext(QM);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}function Rt({en:t,bn:s,ar:r,className:n}){const{language:a}=f0(),i=()=>{switch(a){case"en":return t;case"bn":return s;case"ar":return r;default:return s}};return e.jsx("span",{className:n,children:i()})}function Jne(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsx(H,{className:"w-full max-w-md mx-4",children:e.jsxs(M,{className:"pt-6 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(aa,{className:"h-12 w-12 text-red-500"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"404"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:e.jsx(Rt,{en:"Page Not Found",bn:"  ",ar:"  "})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:e.jsx(Rt,{en:"The page you're looking for doesn't exist or has been moved.",bn:"         ",ar:"        ."})}),e.jsx(tt,{href:"/dashboard",children:e.jsxs(V,{className:"w-full",children:[e.jsx(nc,{className:"w-4 h-4 mr-2"}),e.jsx(Rt,{en:"Go to Dashboard",bn:" ",ar:"   "})]})})]})})})}var Zv=t=>t.type==="checkbox",SA=t=>t instanceof Date,ki=t=>t==null;const HM=t=>typeof t=="object";var Xn=t=>!ki(t)&&!Array.isArray(t)&&HM(t)&&!SA(t),VM=t=>Xn(t)&&t.target?Zv(t.target)?t.target.checked:t.target.value:t,Zne=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,KM=(t,s)=>t.has(Zne(s)),eae=t=>{const s=t.constructor&&t.constructor.prototype;return Xn(s)&&s.hasOwnProperty("isPrototypeOf")},F3=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ta(t){let s;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)s=new Date(t);else if(t instanceof Set)s=new Set(t);else if(!(F3&&(t instanceof Blob||n))&&(r||Xn(t)))if(s=r?[]:{},!r&&!eae(t))s=t;else for(const a in t)t.hasOwnProperty(a)&&(s[a]=Ta(t[a]));else return t;return s}var M2=t=>Array.isArray(t)?t.filter(Boolean):[],Vn=t=>t===void 0,zt=(t,s,r)=>{if(!s||!Xn(t))return r;const n=M2(s.split(/[,[\].]+?/)).reduce((a,i)=>ki(a)?a:a[i],t);return Vn(n)||n===t?Vn(t[s])?r:t[s]:n},wl=t=>typeof t=="boolean",T3=t=>/^\w*$/.test(t),zM=t=>M2(t.replace(/["|']|\]/g,"").split(/\.|\[/)),wr=(t,s,r)=>{let n=-1;const a=T3(s)?[s]:zM(s),i=a.length,l=i-1;for(;++n<i;){const o=a[n];let c=r;if(n!==l){const d=t[o];c=Xn(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const ab={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Go={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yd={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},qM=gs.createContext(null),Q2=()=>gs.useContext(qM),tae=t=>{const{children:s,...r}=t;return gs.createElement(qM.Provider,{value:r},s)};var $M=(t,s,r,n=!0)=>{const a={defaultValues:s._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const l=i;return s._proxyFormState[l]!==Go.all&&(s._proxyFormState[l]=!n||Go.all),r&&(r[l]=!0),t[l]}});return a};function sae(t){const s=Q2(),{control:r=s.control,disabled:n,name:a,exact:i}=t||{},[l,o]=gs.useState(r._formState),c=gs.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=gs.useRef(a);return d.current=a,gs.useEffect(()=>r._subscribe({name:d.current,formState:c.current,exact:i,callback:u=>{!n&&o({...r._formState,...u})}}),[r,n,i]),gs.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),gs.useMemo(()=>$M(l,r,c.current,!1),[l,r])}var Qc=t=>typeof t=="string",GM=(t,s,r,n,a)=>Qc(t)?(n&&s.watch.add(t),zt(r,t,a)):Array.isArray(t)?t.map(i=>(n&&s.watch.add(i),zt(r,i))):(n&&(s.watchAll=!0),r);function rae(t){const s=Q2(),{control:r=s.control,name:n,defaultValue:a,disabled:i,exact:l}=t||{},o=gs.useRef(n),c=gs.useRef(a);o.current=n,gs.useEffect(()=>r._subscribe({name:o.current,formState:{values:!0},exact:l,callback:h=>!i&&u(GM(o.current,r._names,h.values||r._formValues,!1,c.current))}),[r,i,l]);const[d,u]=gs.useState(r._getWatch(n,a));return gs.useEffect(()=>r._removeUnmounted()),d}function nae(t){const s=Q2(),{name:r,disabled:n,control:a=s.control,shouldUnregister:i}=t,l=KM(a._names.array,r),o=rae({control:a,name:r,defaultValue:zt(a._formValues,r,zt(a._defaultValues,r,t.defaultValue)),exact:!0}),c=sae({control:a,name:r,exact:!0}),d=gs.useRef(t),u=gs.useRef(a.register(r,{...t.rules,value:o,...wl(t.disabled)?{disabled:t.disabled}:{}})),h=gs.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!zt(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!zt(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!zt(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!zt(c.validatingFields,r)},error:{enumerable:!0,get:()=>zt(c.errors,r)}}),[c,r]),A=gs.useCallback(x=>u.current.onChange({target:{value:VM(x),name:r},type:ab.CHANGE}),[r]),m=gs.useCallback(()=>u.current.onBlur({target:{value:zt(a._formValues,r),name:r},type:ab.BLUR}),[r,a._formValues]),p=gs.useCallback(x=>{const g=zt(a._fields,r);g&&x&&(g._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:v=>x.setCustomValidity(v),reportValidity:()=>x.reportValidity()})},[a._fields,r]),f=gs.useMemo(()=>({name:r,value:o,...wl(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:A,onBlur:m,ref:p}),[r,n,c.disabled,A,m,p,o]);return gs.useEffect(()=>{const x=a._options.shouldUnregister||i;a.register(r,{...d.current.rules,...wl(d.current.disabled)?{disabled:d.current.disabled}:{}});const g=(v,j)=>{const B=zt(a._fields,v);B&&B._f&&(B._f.mount=j)};if(g(r,!0),x){const v=Ta(zt(a._options.defaultValues,r));wr(a._defaultValues,r,v),Vn(zt(a._formValues,r))&&wr(a._formValues,r,v)}return!l&&a.register(r),()=>{(l?x&&!a._state.action:x)?a.unregister(r):g(r,!1)}},[r,a,l,i]),gs.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),gs.useMemo(()=>({field:f,formState:c,fieldState:h}),[f,c,h])}const aae=t=>t.render(nae(t));var WM=(t,s,r,n,a)=>s?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},mg=t=>Array.isArray(t)?t:[t],qT=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}},WB=t=>ki(t)||!HM(t);function Hu(t,s){if(WB(t)||WB(s))return t===s;if(SA(t)&&SA(s))return t.getTime()===s.getTime();const r=Object.keys(t),n=Object.keys(s);if(r.length!==n.length)return!1;for(const a of r){const i=t[a];if(!n.includes(a))return!1;if(a!=="ref"){const l=s[a];if(SA(i)&&SA(l)||Xn(i)&&Xn(l)||Array.isArray(i)&&Array.isArray(l)?!Hu(i,l):i!==l)return!1}}return!0}var Bi=t=>Xn(t)&&!Object.keys(t).length,L3=t=>t.type==="file",Wo=t=>typeof t=="function",ib=t=>{if(!F3)return!1;const s=t?t.ownerDocument:0;return t instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},YM=t=>t.type==="select-multiple",I3=t=>t.type==="radio",iae=t=>I3(t)||Zv(t),c5=t=>ib(t)&&t.isConnected;function lae(t,s){const r=s.slice(0,-1).length;let n=0;for(;n<r;)t=Vn(t)?n++:t[s[n++]];return t}function oae(t){for(const s in t)if(t.hasOwnProperty(s)&&!Vn(t[s]))return!1;return!0}function ua(t,s){const r=Array.isArray(s)?s:T3(s)?[s]:zM(s),n=r.length===1?t:lae(t,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Xn(n)&&Bi(n)||Array.isArray(n)&&oae(n))&&ua(t,r.slice(0,-1)),t}var XM=t=>{for(const s in t)if(Wo(t[s]))return!0;return!1};function lb(t,s={}){const r=Array.isArray(t);if(Xn(t)||r)for(const n in t)Array.isArray(t[n])||Xn(t[n])&&!XM(t[n])?(s[n]=Array.isArray(t[n])?[]:{},lb(t[n],s[n])):ki(t[n])||(s[n]=!0);return s}function JM(t,s,r){const n=Array.isArray(t);if(Xn(t)||n)for(const a in t)Array.isArray(t[a])||Xn(t[a])&&!XM(t[a])?Vn(s)||WB(r[a])?r[a]=Array.isArray(t[a])?lb(t[a],[]):{...lb(t[a])}:JM(t[a],ki(s)?{}:s[a],r[a]):r[a]=!Hu(t[a],s[a]);return r}var jp=(t,s)=>JM(t,s,lb(s));const $T={value:!1,isValid:!1},GT={value:!0,isValid:!0};var ZM=t=>{if(Array.isArray(t)){if(t.length>1){const s=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Vn(t[0].attributes.value)?Vn(t[0].value)||t[0].value===""?GT:{value:t[0].value,isValid:!0}:GT:$T}return $T},eQ=(t,{valueAsNumber:s,valueAsDate:r,setValueAs:n})=>Vn(t)?t:s?t===""?NaN:t&&+t:r&&Qc(t)?new Date(t):n?n(t):t;const WT={isValid:!1,value:null};var tQ=t=>Array.isArray(t)?t.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,WT):WT;function YT(t){const s=t.ref;return L3(s)?s.files:I3(s)?tQ(t.refs).value:YM(s)?[...s.selectedOptions].map(({value:r})=>r):Zv(s)?ZM(t.refs).value:eQ(Vn(s.value)?t.ref.value:s.value,t)}var cae=(t,s,r,n)=>{const a={};for(const i of t){const l=zt(s,i);l&&wr(a,i,l._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},ob=t=>t instanceof RegExp,yp=t=>Vn(t)?t:ob(t)?t.source:Xn(t)?ob(t.value)?t.value.source:t.value:t,XT=t=>({isOnSubmit:!t||t===Go.onSubmit,isOnBlur:t===Go.onBlur,isOnChange:t===Go.onChange,isOnAll:t===Go.all,isOnTouch:t===Go.onTouched});const JT="AsyncFunction";var dae=t=>!!t&&!!t.validate&&!!(Wo(t.validate)&&t.validate.constructor.name===JT||Xn(t.validate)&&Object.values(t.validate).find(s=>s.constructor.name===JT)),uae=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),ZT=(t,s,r)=>!r&&(s.watchAll||s.watch.has(t)||[...s.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const fg=(t,s,r,n)=>{for(const a of r||Object.keys(t)){const i=zt(t,a);if(i){const{_f:l,...o}=i;if(l){if(l.refs&&l.refs[0]&&s(l.refs[0],a)&&!n)return!0;if(l.ref&&s(l.ref,l.name)&&!n)return!0;if(fg(o,s))break}else if(Xn(o)&&fg(o,s))break}}};function e8(t,s,r){const n=zt(t,r);if(n||T3(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),l=zt(s,i),o=zt(t,i);if(l&&!Array.isArray(l)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};a.pop()}return{name:r}}var hae=(t,s,r,n)=>{r(t);const{name:a,...i}=t;return Bi(i)||Object.keys(i).length>=Object.keys(s).length||Object.keys(i).find(l=>s[l]===(!n||Go.all))},Aae=(t,s,r)=>!t||!s||t===s||mg(t).some(n=>n&&(r?n===s:n.startsWith(s)||s.startsWith(n))),mae=(t,s,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(s||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,fae=(t,s)=>!M2(zt(t,s)).length&&ua(t,s),xae=(t,s,r)=>{const n=mg(zt(t,r));return wr(n,"root",s[r]),wr(t,r,n),t},ew=t=>Qc(t);function t8(t,s,r="validate"){if(ew(t)||Array.isArray(t)&&t.every(ew)||wl(t)&&!t)return{type:r,message:ew(t)?t:"",ref:s}}var of=t=>Xn(t)&&!ob(t)?t:{value:t,message:""},s8=async(t,s,r,n,a,i)=>{const{ref:l,refs:o,required:c,maxLength:d,minLength:u,min:h,max:A,pattern:m,validate:p,name:f,valueAsNumber:x,mount:g}=t._f,v=zt(r,f);if(!g||s.has(f))return{};const j=o?o[0]:l,B=D=>{a&&j.reportValidity&&(j.setCustomValidity(wl(D)?"":D||""),j.reportValidity())},F={},P=I3(l),E=Zv(l),N=P||E,C=(x||L3(l))&&Vn(l.value)&&Vn(v)||ib(l)&&l.value===""||v===""||Array.isArray(v)&&!v.length,_=WM.bind(null,f,n,F),k=(D,z,K,xe=yd.maxLength,W=yd.minLength)=>{const re=D?z:K;F[f]={type:D?xe:W,message:re,ref:l,..._(D?xe:W,re)}};if(i?!Array.isArray(v)||!v.length:c&&(!N&&(C||ki(v))||wl(v)&&!v||E&&!ZM(o).isValid||P&&!tQ(o).isValid)){const{value:D,message:z}=ew(c)?{value:!!c,message:c}:of(c);if(D&&(F[f]={type:yd.required,message:z,ref:j,..._(yd.required,z)},!n))return B(z),F}if(!C&&(!ki(h)||!ki(A))){let D,z;const K=of(A),xe=of(h);if(!ki(v)&&!isNaN(v)){const W=l.valueAsNumber||v&&+v;ki(K.value)||(D=W>K.value),ki(xe.value)||(z=W<xe.value)}else{const W=l.valueAsDate||new Date(v),re=ve=>new Date(new Date().toDateString()+" "+ve),I=l.type=="time",ie=l.type=="week";Qc(K.value)&&v&&(D=I?re(v)>re(K.value):ie?v>K.value:W>new Date(K.value)),Qc(xe.value)&&v&&(z=I?re(v)<re(xe.value):ie?v<xe.value:W<new Date(xe.value))}if((D||z)&&(k(!!D,K.message,xe.message,yd.max,yd.min),!n))return B(F[f].message),F}if((d||u)&&!C&&(Qc(v)||i&&Array.isArray(v))){const D=of(d),z=of(u),K=!ki(D.value)&&v.length>+D.value,xe=!ki(z.value)&&v.length<+z.value;if((K||xe)&&(k(K,D.message,z.message),!n))return B(F[f].message),F}if(m&&!C&&Qc(v)){const{value:D,message:z}=of(m);if(ob(D)&&!v.match(D)&&(F[f]={type:yd.pattern,message:z,ref:l,..._(yd.pattern,z)},!n))return B(z),F}if(p){if(Wo(p)){const D=await p(v,r),z=t8(D,j);if(z&&(F[f]={...z,..._(yd.validate,z.message)},!n))return B(z.message),F}else if(Xn(p)){let D={};for(const z in p){if(!Bi(D)&&!n)break;const K=t8(await p[z](v,r),j,z);K&&(D={...K,..._(z,K.message)},B(K.message),n&&(F[f]=D))}if(!Bi(D)&&(F[f]={ref:j,...D},!n))return F}}return B(!0),F};const pae={mode:Go.onSubmit,reValidateMode:Go.onChange,shouldFocusError:!0};function gae(t={}){let s={...pae,...t},r={submitCount:0,isDirty:!1,isLoading:Wo(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1};const n={};let a=Xn(s.defaultValues)||Xn(s.values)?Ta(s.values||s.defaultValues)||{}:{},i=s.shouldUnregister?{}:Ta(a),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const A={array:qT(),state:qT()},m=XT(s.mode),p=XT(s.reValidateMode),f=s.criteriaMode===Go.all,x=me=>Ee=>{clearTimeout(d),d=setTimeout(me,Ee)},g=async me=>{if(!s.disabled&&(u.isValid||h.isValid||me)){const Ee=s.resolver?Bi((await C()).errors):await k(n,!0);Ee!==r.isValid&&A.state.next({isValid:Ee})}},v=(me,Ee)=>{!s.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((me||Array.from(o.mount)).forEach(Qe=>{Qe&&(Ee?wr(r.validatingFields,Qe,Ee):ua(r.validatingFields,Qe))}),A.state.next({validatingFields:r.validatingFields,isValidating:!Bi(r.validatingFields)}))},j=(me,Ee=[],Qe,ft,vt=!0,ut=!0)=>{if(ft&&Qe&&!s.disabled){if(l.action=!0,ut&&Array.isArray(zt(n,me))){const Et=Qe(zt(n,me),ft.argA,ft.argB);vt&&wr(n,me,Et)}if(ut&&Array.isArray(zt(r.errors,me))){const Et=Qe(zt(r.errors,me),ft.argA,ft.argB);vt&&wr(r.errors,me,Et),fae(r.errors,me)}if((u.touchedFields||h.touchedFields)&&ut&&Array.isArray(zt(r.touchedFields,me))){const Et=Qe(zt(r.touchedFields,me),ft.argA,ft.argB);vt&&wr(r.touchedFields,me,Et)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=jp(a,i)),A.state.next({name:me,isDirty:z(me,Ee),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else wr(i,me,Ee)},B=(me,Ee)=>{wr(r.errors,me,Ee),A.state.next({errors:r.errors})},F=me=>{r.errors=me,A.state.next({errors:r.errors,isValid:!1})},P=(me,Ee,Qe,ft)=>{const vt=zt(n,me);if(vt){const ut=zt(i,me,Vn(Qe)?zt(a,me):Qe);Vn(ut)||ft&&ft.defaultChecked||Ee?wr(i,me,Ee?ut:YT(vt._f)):W(me,ut),l.mount&&g()}},E=(me,Ee,Qe,ft,vt)=>{let ut=!1,Et=!1;const Mt={name:me};if(!s.disabled){if(!Qe||ft){(u.isDirty||h.isDirty)&&(Et=r.isDirty,r.isDirty=Mt.isDirty=z(),ut=Et!==Mt.isDirty);const cs=Hu(zt(a,me),Ee);Et=!!zt(r.dirtyFields,me),cs?ua(r.dirtyFields,me):wr(r.dirtyFields,me,!0),Mt.dirtyFields=r.dirtyFields,ut=ut||(u.dirtyFields||h.dirtyFields)&&Et!==!cs}if(Qe){const cs=zt(r.touchedFields,me);cs||(wr(r.touchedFields,me,Qe),Mt.touchedFields=r.touchedFields,ut=ut||(u.touchedFields||h.touchedFields)&&cs!==Qe)}ut&&vt&&A.state.next(Mt)}return ut?Mt:{}},N=(me,Ee,Qe,ft)=>{const vt=zt(r.errors,me),ut=(u.isValid||h.isValid)&&wl(Ee)&&r.isValid!==Ee;if(s.delayError&&Qe?(c=x(()=>B(me,Qe)),c(s.delayError)):(clearTimeout(d),c=null,Qe?wr(r.errors,me,Qe):ua(r.errors,me)),(Qe?!Hu(vt,Qe):vt)||!Bi(ft)||ut){const Et={...ft,...ut&&wl(Ee)?{isValid:Ee}:{},errors:r.errors,name:me};r={...r,...Et},A.state.next(Et)}},C=async me=>{v(me,!0);const Ee=await s.resolver(i,s.context,cae(me||o.mount,n,s.criteriaMode,s.shouldUseNativeValidation));return v(me),Ee},_=async me=>{const{errors:Ee}=await C(me);if(me)for(const Qe of me){const ft=zt(Ee,Qe);ft?wr(r.errors,Qe,ft):ua(r.errors,Qe)}else r.errors=Ee;return Ee},k=async(me,Ee,Qe={valid:!0})=>{for(const ft in me){const vt=me[ft];if(vt){const{_f:ut,...Et}=vt;if(ut){const Mt=o.array.has(ut.name),cs=vt._f&&dae(vt._f);cs&&u.validatingFields&&v([ft],!0);const Lt=await s8(vt,o.disabled,i,f,s.shouldUseNativeValidation&&!Ee,Mt);if(cs&&u.validatingFields&&v([ft]),Lt[ut.name]&&(Qe.valid=!1,Ee))break;!Ee&&(zt(Lt,ut.name)?Mt?xae(r.errors,Lt,ut.name):wr(r.errors,ut.name,Lt[ut.name]):ua(r.errors,ut.name))}!Bi(Et)&&await k(Et,Ee,Qe)}}return Qe.valid},D=()=>{for(const me of o.unMount){const Ee=zt(n,me);Ee&&(Ee._f.refs?Ee._f.refs.every(Qe=>!c5(Qe)):!c5(Ee._f.ref))&&O(me)}o.unMount=new Set},z=(me,Ee)=>!s.disabled&&(me&&Ee&&wr(i,me,Ee),!Hu(L(),a)),K=(me,Ee,Qe)=>GM(me,o,{...l.mount?i:Vn(Ee)?a:Qc(me)?{[me]:Ee}:Ee},Qe,Ee),xe=me=>M2(zt(l.mount?i:a,me,s.shouldUnregister?zt(a,me,[]):[])),W=(me,Ee,Qe={})=>{const ft=zt(n,me);let vt=Ee;if(ft){const ut=ft._f;ut&&(!ut.disabled&&wr(i,me,eQ(Ee,ut)),vt=ib(ut.ref)&&ki(Ee)?"":Ee,YM(ut.ref)?[...ut.ref.options].forEach(Et=>Et.selected=vt.includes(Et.value)):ut.refs?Zv(ut.ref)?ut.refs.length>1?ut.refs.forEach(Et=>(!Et.defaultChecked||!Et.disabled)&&(Et.checked=Array.isArray(vt)?!!vt.find(Mt=>Mt===Et.value):vt===Et.value)):ut.refs[0]&&(ut.refs[0].checked=!!vt):ut.refs.forEach(Et=>Et.checked=Et.value===vt):L3(ut.ref)?ut.ref.value="":(ut.ref.value=vt,ut.ref.type||A.state.next({name:me,values:Ta(i)})))}(Qe.shouldDirty||Qe.shouldTouch)&&E(me,vt,Qe.shouldTouch,Qe.shouldDirty,!0),Qe.shouldValidate&&De(me)},re=(me,Ee,Qe)=>{for(const ft in Ee){const vt=Ee[ft],ut=`${me}.${ft}`,Et=zt(n,ut);(o.array.has(me)||Xn(vt)||Et&&!Et._f)&&!SA(vt)?re(ut,vt,Qe):W(ut,vt,Qe)}},I=(me,Ee,Qe={})=>{const ft=zt(n,me),vt=o.array.has(me),ut=Ta(Ee);wr(i,me,ut),vt?(A.array.next({name:me,values:Ta(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&Qe.shouldDirty&&A.state.next({name:me,dirtyFields:jp(a,i),isDirty:z(me,ut)})):ft&&!ft._f&&!ki(ut)?re(me,ut,Qe):W(me,ut,Qe),ZT(me,o)&&A.state.next({...r}),A.state.next({name:l.mount?me:void 0,values:Ta(i)})},ie=async me=>{l.mount=!0;const Ee=me.target;let Qe=Ee.name,ft=!0;const vt=zt(n,Qe),ut=Et=>{ft=Number.isNaN(Et)||SA(Et)&&isNaN(Et.getTime())||Hu(Et,zt(i,Qe,Et))};if(vt){let Et,Mt;const cs=Ee.type?YT(vt._f):VM(me),Lt=me.type===ab.BLUR||me.type===ab.FOCUS_OUT,Pn=!uae(vt._f)&&!s.resolver&&!zt(r.errors,Qe)&&!vt._f.deps||mae(Lt,zt(r.touchedFields,Qe),r.isSubmitted,p,m),Hs=ZT(Qe,o,Lt);wr(i,Qe,cs),Lt?(vt._f.onBlur&&vt._f.onBlur(me),c&&c(0)):vt._f.onChange&&vt._f.onChange(me);const ga=E(Qe,cs,Lt),mr=!Bi(ga)||Hs;if(!Lt&&A.state.next({name:Qe,type:me.type,values:Ta(i)}),Pn)return(u.isValid||h.isValid)&&(s.mode==="onBlur"?Lt&&g():Lt||g()),mr&&A.state.next({name:Qe,...Hs?{}:ga});if(!Lt&&Hs&&A.state.next({...r}),s.resolver){const{errors:Br}=await C([Qe]);if(ut(cs),ft){const Qi=e8(r.errors,n,Qe),Js=e8(Br,n,Qi.name||Qe);Et=Js.error,Qe=Js.name,Mt=Bi(Br)}}else v([Qe],!0),Et=(await s8(vt,o.disabled,i,f,s.shouldUseNativeValidation))[Qe],v([Qe]),ut(cs),ft&&(Et?Mt=!1:(u.isValid||h.isValid)&&(Mt=await k(n,!0)));ft&&(vt._f.deps&&De(vt._f.deps),N(Qe,Mt,Et,ga))}},ve=(me,Ee)=>{if(zt(r.errors,Ee)&&me.focus)return me.focus(),1},De=async(me,Ee={})=>{let Qe,ft;const vt=mg(me);if(s.resolver){const ut=await _(Vn(me)?me:vt);Qe=Bi(ut),ft=me?!vt.some(Et=>zt(ut,Et)):Qe}else me?(ft=(await Promise.all(vt.map(async ut=>{const Et=zt(n,ut);return await k(Et&&Et._f?{[ut]:Et}:Et)}))).every(Boolean),!(!ft&&!r.isValid)&&g()):ft=Qe=await k(n);return A.state.next({...!Qc(me)||(u.isValid||h.isValid)&&Qe!==r.isValid?{}:{name:me},...s.resolver||!me?{isValid:Qe}:{},errors:r.errors}),Ee.shouldFocus&&!ft&&fg(n,ve,me?vt:o.mount),ft},L=me=>{const Ee={...l.mount?i:a};return Vn(me)?Ee:Qc(me)?zt(Ee,me):me.map(Qe=>zt(Ee,Qe))},U=(me,Ee)=>({invalid:!!zt((Ee||r).errors,me),isDirty:!!zt((Ee||r).dirtyFields,me),error:zt((Ee||r).errors,me),isValidating:!!zt(r.validatingFields,me),isTouched:!!zt((Ee||r).touchedFields,me)}),R=me=>{me&&mg(me).forEach(Ee=>ua(r.errors,Ee)),A.state.next({errors:me?r.errors:{}})},q=(me,Ee,Qe)=>{const ft=(zt(n,me,{_f:{}})._f||{}).ref,vt=zt(r.errors,me)||{},{ref:ut,message:Et,type:Mt,...cs}=vt;wr(r.errors,me,{...cs,...Ee,ref:ft}),A.state.next({name:me,errors:r.errors,isValid:!1}),Qe&&Qe.shouldFocus&&ft&&ft.focus&&ft.focus()},ae=(me,Ee)=>Wo(me)?A.state.subscribe({next:Qe=>me(K(void 0,Ee),Qe)}):K(me,Ee,!0),Ae=me=>A.state.subscribe({next:Ee=>{Aae(me.name,Ee.name,me.exact)&&hae(Ee,me.formState||u,Ye,me.reRenderRoot)&&me.callback({values:{...i},...r,...Ee})}}).unsubscribe,G=me=>(l.mount=!0,h={...h,...me.formState},Ae({...me,formState:h})),O=(me,Ee={})=>{for(const Qe of me?mg(me):o.mount)o.mount.delete(Qe),o.array.delete(Qe),Ee.keepValue||(ua(n,Qe),ua(i,Qe)),!Ee.keepError&&ua(r.errors,Qe),!Ee.keepDirty&&ua(r.dirtyFields,Qe),!Ee.keepTouched&&ua(r.touchedFields,Qe),!Ee.keepIsValidating&&ua(r.validatingFields,Qe),!s.shouldUnregister&&!Ee.keepDefaultValue&&ua(a,Qe);A.state.next({values:Ta(i)}),A.state.next({...r,...Ee.keepDirty?{isDirty:z()}:{}}),!Ee.keepIsValid&&g()},ee=({disabled:me,name:Ee})=>{(wl(me)&&l.mount||me||o.disabled.has(Ee))&&(me?o.disabled.add(Ee):o.disabled.delete(Ee))},Le=(me,Ee={})=>{let Qe=zt(n,me);const ft=wl(Ee.disabled)||wl(s.disabled);return wr(n,me,{...Qe||{},_f:{...Qe&&Qe._f?Qe._f:{ref:{name:me}},name:me,mount:!0,...Ee}}),o.mount.add(me),Qe?ee({disabled:wl(Ee.disabled)?Ee.disabled:s.disabled,name:me}):P(me,!0,Ee.value),{...ft?{disabled:Ee.disabled||s.disabled}:{},...s.progressive?{required:!!Ee.required,min:yp(Ee.min),max:yp(Ee.max),minLength:yp(Ee.minLength),maxLength:yp(Ee.maxLength),pattern:yp(Ee.pattern)}:{},name:me,onChange:ie,onBlur:ie,ref:vt=>{if(vt){Le(me,Ee),Qe=zt(n,me);const ut=Vn(vt.value)&&vt.querySelectorAll&&vt.querySelectorAll("input,select,textarea")[0]||vt,Et=iae(ut),Mt=Qe._f.refs||[];if(Et?Mt.find(cs=>cs===ut):ut===Qe._f.ref)return;wr(n,me,{_f:{...Qe._f,...Et?{refs:[...Mt.filter(c5),ut,...Array.isArray(zt(a,me))?[{}]:[]],ref:{type:ut.type,name:me}}:{ref:ut}}}),P(me,!1,void 0,ut)}else Qe=zt(n,me,{}),Qe._f&&(Qe._f.mount=!1),(s.shouldUnregister||Ee.shouldUnregister)&&!(KM(o.array,me)&&l.action)&&o.unMount.add(me)}}},Re=()=>s.shouldFocusError&&fg(n,ve,o.mount),Ke=me=>{wl(me)&&(A.state.next({disabled:me}),fg(n,(Ee,Qe)=>{const ft=zt(n,Qe);ft&&(Ee.disabled=ft._f.disabled||me,Array.isArray(ft._f.refs)&&ft._f.refs.forEach(vt=>{vt.disabled=ft._f.disabled||me}))},0,!1))},Me=(me,Ee)=>async Qe=>{let ft;Qe&&(Qe.preventDefault&&Qe.preventDefault(),Qe.persist&&Qe.persist());let vt=Ta(i);if(A.state.next({isSubmitting:!0}),s.resolver){const{errors:ut,values:Et}=await C();r.errors=ut,vt=Et}else await k(n);if(o.disabled.size)for(const ut of o.disabled)wr(vt,ut,void 0);if(ua(r.errors,"root"),Bi(r.errors)){A.state.next({errors:{}});try{await me(vt,Qe)}catch(ut){ft=ut}}else Ee&&await Ee({...r.errors},Qe),Re(),setTimeout(Re);if(A.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Bi(r.errors)&&!ft,submitCount:r.submitCount+1,errors:r.errors}),ft)throw ft},$e=(me,Ee={})=>{zt(n,me)&&(Vn(Ee.defaultValue)?I(me,Ta(zt(a,me))):(I(me,Ee.defaultValue),wr(a,me,Ta(Ee.defaultValue))),Ee.keepTouched||ua(r.touchedFields,me),Ee.keepDirty||(ua(r.dirtyFields,me),r.isDirty=Ee.defaultValue?z(me,Ta(zt(a,me))):z()),Ee.keepError||(ua(r.errors,me),u.isValid&&g()),A.state.next({...r}))},ge=(me,Ee={})=>{const Qe=me?Ta(me):a,ft=Ta(Qe),vt=Bi(me),ut=vt?a:ft;if(Ee.keepDefaultValues||(a=Qe),!Ee.keepValues){if(Ee.keepDirtyValues){const Et=new Set([...o.mount,...Object.keys(jp(a,i))]);for(const Mt of Array.from(Et))zt(r.dirtyFields,Mt)?wr(ut,Mt,zt(i,Mt)):I(Mt,zt(ut,Mt))}else{if(F3&&Vn(me))for(const Et of o.mount){const Mt=zt(n,Et);if(Mt&&Mt._f){const cs=Array.isArray(Mt._f.refs)?Mt._f.refs[0]:Mt._f.ref;if(ib(cs)){const Lt=cs.closest("form");if(Lt){Lt.reset();break}}}}for(const Et of o.mount)I(Et,zt(ut,Et))}i=Ta(ut),A.array.next({values:{...ut}}),A.state.next({values:{...ut}})}o={mount:Ee.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!Ee.keepIsValid||!!Ee.keepDirtyValues,l.watch=!!s.shouldUnregister,A.state.next({submitCount:Ee.keepSubmitCount?r.submitCount:0,isDirty:vt?!1:Ee.keepDirty?r.isDirty:!!(Ee.keepDefaultValues&&!Hu(me,a)),isSubmitted:Ee.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:vt?{}:Ee.keepDirtyValues?Ee.keepDefaultValues&&i?jp(a,i):r.dirtyFields:Ee.keepDefaultValues&&me?jp(a,me):Ee.keepDirty?r.dirtyFields:{},touchedFields:Ee.keepTouched?r.touchedFields:{},errors:Ee.keepErrors?r.errors:{},isSubmitSuccessful:Ee.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},mt=(me,Ee)=>ge(Wo(me)?me(i):me,Ee),Ot=(me,Ee={})=>{const Qe=zt(n,me),ft=Qe&&Qe._f;if(ft){const vt=ft.refs?ft.refs[0]:ft.ref;vt.focus&&(vt.focus(),Ee.shouldSelect&&Wo(vt.select)&&vt.select())}},Ye=me=>{r={...r,...me}},gt={control:{register:Le,unregister:O,getFieldState:U,handleSubmit:Me,setError:q,_subscribe:Ae,_runSchema:C,_getWatch:K,_getDirty:z,_setValid:g,_setFieldArray:j,_setDisabledField:ee,_setErrors:F,_getFieldArray:xe,_reset:ge,_resetDefaultValues:()=>Wo(s.defaultValues)&&s.defaultValues().then(me=>{mt(me,s.resetOptions),A.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:Ke,_subjects:A,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return l},set _state(me){l=me},get _defaultValues(){return a},get _names(){return o},set _names(me){o=me},get _formState(){return r},get _options(){return s},set _options(me){s={...s,...me}}},subscribe:G,trigger:De,register:Le,handleSubmit:Me,watch:ae,setValue:I,getValues:L,reset:mt,resetField:$e,clearErrors:R,unregister:O,setError:q,setFocus:Ot,getFieldState:U};return{...gt,formControl:gt}}function zs(t={}){const s=gs.useRef(void 0),r=gs.useRef(void 0),[n,a]=gs.useState({isDirty:!1,isValidating:!1,isLoading:Wo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Wo(t.defaultValues)?void 0:t.defaultValues});s.current||(s.current={...t.formControl?t.formControl:gae(t),formState:n},t.formControl&&t.defaultValues&&!Wo(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=s.current.control;return i._options=t,gs.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),gs.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),gs.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==n.isDirty&&i._subjects.state.next({isDirty:l})}},[i,n.isDirty]),gs.useEffect(()=>{t.values&&!Hu(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,a(l=>({...l}))):i._resetDefaultValues()},[t.values,i]),gs.useEffect(()=>{t.errors&&!Bi(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),gs.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),gs.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),s.current.formState=$M(n,i),s.current}const r8=(t,s,r)=>{if(t&&"reportValidity"in t){const n=zt(r,s);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},sQ=(t,s)=>{for(const r in s.fields){const n=s.fields[r];n&&n.ref&&"reportValidity"in n.ref?r8(n.ref,r,t):n.refs&&n.refs.forEach(a=>r8(a,r,t))}},vae=(t,s)=>{s.shouldUseNativeValidation&&sQ(t,s);const r={};for(const n in t){const a=zt(s.fields,n),i=Object.assign(t[n]||{},{ref:a&&a.ref});if(jae(s.names||Object.keys(t),n)){const l=Object.assign({},zt(r,n));wr(l,"root",i),wr(r,n,l)}else wr(r,n,i)}return r},jae=(t,s)=>t.some(r=>r.startsWith(s+"."));var yae=function(t,s){for(var r={};t.length;){var n=t[0],a=n.code,i=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[l]={message:o.message,type:o.code}}else r[l]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),s){var c=r[l].types,d=c&&c[n.code];r[l]=WM(l,s,r,a,d?[].concat(d,n.message):n.message)}t.shift()}return r},qs=function(t,s,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(l,o){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,s)).then(function(d){return i.shouldUseNativeValidation&&sQ({},i),{errors:{},values:r.raw?n:d}})}catch(d){return o(d)}return c&&c.then?c.then(void 0,o):c}(0,function(l){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(l))return{values:{},errors:vae(yae(l.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw l}))}catch(l){return Promise.reject(l)}}},ar;(function(t){t.assertEqual=a=>a;function s(a){}t.assertIs=s;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const i={};for(const l of a)i[l]=l;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),l={};for(const o of i)l[o]=a[o];return t.objectValues(l)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&i.push(l);return i},t.find=(a,i)=>{for(const l of a)if(i(l))return l},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(ar||(ar={}));var YB;(function(t){t.mergeShapes=(s,r)=>({...s,...r})})(YB||(YB={}));const es=ar.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ed=t=>{switch(typeof t){case"undefined":return es.undefined;case"string":return es.string;case"number":return isNaN(t)?es.nan:es.number;case"boolean":return es.boolean;case"function":return es.function;case"bigint":return es.bigint;case"symbol":return es.symbol;case"object":return Array.isArray(t)?es.array:t===null?es.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?es.promise:typeof Map<"u"&&t instanceof Map?es.map:typeof Set<"u"&&t instanceof Set?es.set:typeof Date<"u"&&t instanceof Date?es.date:es.object;default:return es.unknown}},Ft=ar.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),wae=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Fl extends Error{get errors(){return this.issues}constructor(s){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=s}format(s){const r=s||function(i){return i.message},n={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let o=n,c=0;for(;c<l.path.length;){const d=l.path[c];c===l.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(r(l))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return a(this),n}static assert(s){if(!(s instanceof Fl))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ar.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(s(a))):n.push(s(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Fl.create=t=>new Fl(t);const Wx=(t,s)=>{let r;switch(t.code){case Ft.invalid_type:t.received===es.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Ft.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ar.jsonStringifyReplacer)}`;break;case Ft.unrecognized_keys:r=`Unrecognized key(s) in object: ${ar.joinValues(t.keys,", ")}`;break;case Ft.invalid_union:r="Invalid input";break;case Ft.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ar.joinValues(t.options)}`;break;case Ft.invalid_enum_value:r=`Invalid enum value. Expected ${ar.joinValues(t.options)}, received '${t.received}'`;break;case Ft.invalid_arguments:r="Invalid function arguments";break;case Ft.invalid_return_type:r="Invalid function return type";break;case Ft.invalid_date:r="Invalid date";break;case Ft.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ar.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Ft.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Ft.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Ft.custom:r="Invalid input";break;case Ft.invalid_intersection_types:r="Intersection results could not be merged";break;case Ft.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Ft.not_finite:r="Number must be finite";break;default:r=s.defaultError,ar.assertNever(t)}return{message:r}};let rQ=Wx;function bae(t){rQ=t}function cb(){return rQ}const db=t=>{const{data:s,path:r,errorMaps:n,issueData:a}=t,i=[...r,...a.path||[]],l={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)o=d(l,{data:s,defaultError:o}).message;return{...a,path:i,message:o}},Nae=[];function $t(t,s){const r=cb(),n=db({issueData:s,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Wx?void 0:Wx].filter(a=>!!a)});t.common.issues.push(n)}class gi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(s,r){const n=[];for(const a of r){if(a.status==="aborted")return ws;a.status==="dirty"&&s.dirty(),n.push(a.value)}return{status:s.value,value:n}}static async mergeObjectAsync(s,r){const n=[];for(const a of r){const i=await a.key,l=await a.value;n.push({key:i,value:l})}return gi.mergeObjectSync(s,n)}static mergeObjectSync(s,r){const n={};for(const a of r){const{key:i,value:l}=a;if(i.status==="aborted"||l.status==="aborted")return ws;i.status==="dirty"&&s.dirty(),l.status==="dirty"&&s.dirty(),i.value!=="__proto__"&&(typeof l.value<"u"||a.alwaysSet)&&(n[i.value]=l.value)}return{status:s.value,value:n}}}const ws=Object.freeze({status:"aborted"}),Kf=t=>({status:"dirty",value:t}),Pi=t=>({status:"valid",value:t}),XB=t=>t.status==="aborted",JB=t=>t.status==="dirty",nm=t=>t.status==="valid",nv=t=>typeof Promise<"u"&&t instanceof Promise;function ub(t,s,r,n){if(typeof s=="function"?t!==s||!0:!s.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s.get(t)}function nQ(t,s,r,n,a){if(typeof s=="function"?t!==s||!0:!s.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s.set(t,r),r}var ds;(function(t){t.errToObj=s=>typeof s=="string"?{message:s}:s||{},t.toString=s=>typeof s=="string"?s:s==null?void 0:s.message})(ds||(ds={}));var Dp,Up;class Zc{constructor(s,r,n,a){this._cachedPath=[],this.parent=s,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const n8=(t,s)=>{if(nm(s))return{success:!0,data:s.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Fl(t.common.issues);return this._error=r,this._error}}};function Ps(t){if(!t)return{};const{errorMap:s,invalid_type_error:r,required_error:n,description:a}=t;if(s&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return s?{errorMap:s,description:a}:{errorMap:(l,o)=>{var c,d;const{message:u}=t;return l.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(c=u??n)!==null&&c!==void 0?c:o.defaultError}:l.code!=="invalid_type"?{message:o.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:o.defaultError}},description:a}}class Qs{get description(){return this._def.description}_getType(s){return Ed(s.data)}_getOrReturnCtx(s,r){return r||{common:s.parent.common,data:s.data,parsedType:Ed(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new gi,ctx:{common:s.parent.common,data:s.data,parsedType:Ed(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const r=this._parse(s);if(nv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(s){const r=this._parse(s);return Promise.resolve(r)}parse(s,r){const n=this.safeParse(s,r);if(n.success)return n.data;throw n.error}safeParse(s,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Ed(s)},i=this._parseSync({data:s,path:a.path,parent:a});return n8(a,i)}"~validate"(s){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Ed(s)};if(!this["~standard"].async)try{const i=this._parseSync({data:s,path:[],parent:a});return nm(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:s,path:[],parent:a}).then(i=>nm(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(s,r){const n=await this.safeParseAsync(s,r);if(n.success)return n.data;throw n.error}async safeParseAsync(s,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Ed(s)},a=this._parse({data:s,path:n.path,parent:n}),i=await(nv(a)?a:Promise.resolve(a));return n8(n,i)}refine(s,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const l=s(a),o=()=>i.addIssue({code:Ft.custom,...n(a)});return typeof Promise<"u"&&l instanceof Promise?l.then(c=>c?!0:(o(),!1)):l?!0:(o(),!1)})}refinement(s,r){return this._refinement((n,a)=>s(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(s){return new uc({schema:this,typeName:js.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return qc.create(this,this._def)}nullable(){return kh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ic.create(this)}promise(){return Xx.create(this,this._def)}or(s){return ov.create([this,s],this._def)}and(s){return cv.create(this,s,this._def)}transform(s){return new uc({...Ps(this._def),schema:this,typeName:js.ZodEffects,effect:{type:"transform",transform:s}})}default(s){const r=typeof s=="function"?s:()=>s;return new mv({...Ps(this._def),innerType:this,defaultValue:r,typeName:js.ZodDefault})}brand(){return new P3({typeName:js.ZodBranded,type:this,...Ps(this._def)})}catch(s){const r=typeof s=="function"?s:()=>s;return new fv({...Ps(this._def),innerType:this,catchValue:r,typeName:js.ZodCatch})}describe(s){const r=this.constructor;return new r({...this._def,description:s})}pipe(s){return ej.create(this,s)}readonly(){return xv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Cae=/^c[^\s-]{8,}$/i,Bae=/^[0-9a-z]+$/,Sae=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kae=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_ae=/^[a-z0-9_-]{21}$/i,Eae=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Fae=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Tae=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Lae="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let d5;const Iae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Pae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Dae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Uae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Oae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Rae=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,aQ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Mae=new RegExp(`^${aQ}$`);function iQ(t){let s="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?s=`${s}\\.\\d{${t.precision}}`:t.precision==null&&(s=`${s}(\\.\\d+)?`),s}function Qae(t){return new RegExp(`^${iQ(t)}$`)}function lQ(t){let s=`${aQ}T${iQ(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${r.join("|")})`,new RegExp(`^${s}$`)}function Hae(t,s){return!!((s==="v4"||!s)&&Iae.test(t)||(s==="v6"||!s)&&Dae.test(t))}function Vae(t,s){if(!Eae.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||s&&a.alg!==s)}catch{return!1}}function Kae(t,s){return!!((s==="v4"||!s)&&Pae.test(t)||(s==="v6"||!s)&&Uae.test(t))}class Jo extends Qs{_parse(s){if(this._def.coerce&&(s.data=String(s.data)),this._getType(s)!==es.string){const i=this._getOrReturnCtx(s);return $t(i,{code:Ft.invalid_type,expected:es.string,received:i.parsedType}),ws}const n=new gi;let a;for(const i of this._def.checks)if(i.kind==="min")s.data.length<i.value&&(a=this._getOrReturnCtx(s,a),$t(a,{code:Ft.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")s.data.length>i.value&&(a=this._getOrReturnCtx(s,a),$t(a,{code:Ft.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const l=s.data.length>i.value,o=s.data.length<i.value;(l||o)&&(a=this._getOrReturnCtx(s,a),l?$t(a,{code:Ft.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&$t(a,{code:Ft.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Tae.test(s.data)||(a=this._getOrReturnCtx(s,a),$t(a,{validation:"email",code:Ft.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")d5||(d5=new RegExp(Lae,"u")),d5.test(s.data)||(a=this._getOrReturnCtx(s,a),$t(a,{validation:"emoji",code:Ft.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")kae.test(s.data)||(a=this._getOrReturnCtx(s,a),$t(a,{validation:"uuid",code:Ft.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")_ae.test(s.data)||(a=this._getOrReturnCtx(s,a),$t(a,{validation:"nanoid",code:Ft.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Cae.test(s.data)||(a=this._getOrReturnCtx(s,a),$t(a,{validation:"cuid",code:Ft.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Bae.test(s.data)||(a=this._getOrReturnCtx(s,a),$t(a,{validation:"cuid2",code:Ft.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Sae.test(s.data)||(a=this._getOrReturnCtx(s,a),$t(a,{validation:"ulid",code:Ft.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(s.data)}catch{a=this._getOrReturnCtx(s,a),$t(a,{validation:"url",code:Ft.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(s.data)||(a=this._getOrReturnCtx(s,a),$t(a,{validation:"regex",code:Ft.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?s.data=s.data.trim():i.kind==="includes"?s.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(s,a),$t(a,{code:Ft.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?s.data=s.data.toLowerCase():i.kind==="toUpperCase"?s.data=s.data.toUpperCase():i.kind==="startsWith"?s.data.startsWith(i.value)||(a=this._getOrReturnCtx(s,a),$t(a,{code:Ft.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?s.data.endsWith(i.value)||(a=this._getOrReturnCtx(s,a),$t(a,{code:Ft.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?lQ(i).test(s.data)||(a=this._getOrReturnCtx(s,a),$t(a,{code:Ft.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Mae.test(s.data)||(a=this._getOrReturnCtx(s,a),$t(a,{code:Ft.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Qae(i).test(s.data)||(a=this._getOrReturnCtx(s,a),$t(a,{code:Ft.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Fae.test(s.data)||(a=this._getOrReturnCtx(s,a),$t(a,{validation:"duration",code:Ft.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Hae(s.data,i.version)||(a=this._getOrReturnCtx(s,a),$t(a,{validation:"ip",code:Ft.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Vae(s.data,i.alg)||(a=this._getOrReturnCtx(s,a),$t(a,{validation:"jwt",code:Ft.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Kae(s.data,i.version)||(a=this._getOrReturnCtx(s,a),$t(a,{validation:"cidr",code:Ft.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Oae.test(s.data)||(a=this._getOrReturnCtx(s,a),$t(a,{validation:"base64",code:Ft.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Rae.test(s.data)||(a=this._getOrReturnCtx(s,a),$t(a,{validation:"base64url",code:Ft.invalid_string,message:i.message}),n.dirty()):ar.assertNever(i);return{status:n.value,value:s.data}}_regex(s,r,n){return this.refinement(a=>s.test(a),{validation:r,code:Ft.invalid_string,...ds.errToObj(n)})}_addCheck(s){return new Jo({...this._def,checks:[...this._def.checks,s]})}email(s){return this._addCheck({kind:"email",...ds.errToObj(s)})}url(s){return this._addCheck({kind:"url",...ds.errToObj(s)})}emoji(s){return this._addCheck({kind:"emoji",...ds.errToObj(s)})}uuid(s){return this._addCheck({kind:"uuid",...ds.errToObj(s)})}nanoid(s){return this._addCheck({kind:"nanoid",...ds.errToObj(s)})}cuid(s){return this._addCheck({kind:"cuid",...ds.errToObj(s)})}cuid2(s){return this._addCheck({kind:"cuid2",...ds.errToObj(s)})}ulid(s){return this._addCheck({kind:"ulid",...ds.errToObj(s)})}base64(s){return this._addCheck({kind:"base64",...ds.errToObj(s)})}base64url(s){return this._addCheck({kind:"base64url",...ds.errToObj(s)})}jwt(s){return this._addCheck({kind:"jwt",...ds.errToObj(s)})}ip(s){return this._addCheck({kind:"ip",...ds.errToObj(s)})}cidr(s){return this._addCheck({kind:"cidr",...ds.errToObj(s)})}datetime(s){var r,n;return typeof s=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:s}):this._addCheck({kind:"datetime",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,offset:(r=s==null?void 0:s.offset)!==null&&r!==void 0?r:!1,local:(n=s==null?void 0:s.local)!==null&&n!==void 0?n:!1,...ds.errToObj(s==null?void 0:s.message)})}date(s){return this._addCheck({kind:"date",message:s})}time(s){return typeof s=="string"?this._addCheck({kind:"time",precision:null,message:s}):this._addCheck({kind:"time",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,...ds.errToObj(s==null?void 0:s.message)})}duration(s){return this._addCheck({kind:"duration",...ds.errToObj(s)})}regex(s,r){return this._addCheck({kind:"regex",regex:s,...ds.errToObj(r)})}includes(s,r){return this._addCheck({kind:"includes",value:s,position:r==null?void 0:r.position,...ds.errToObj(r==null?void 0:r.message)})}startsWith(s,r){return this._addCheck({kind:"startsWith",value:s,...ds.errToObj(r)})}endsWith(s,r){return this._addCheck({kind:"endsWith",value:s,...ds.errToObj(r)})}min(s,r){return this._addCheck({kind:"min",value:s,...ds.errToObj(r)})}max(s,r){return this._addCheck({kind:"max",value:s,...ds.errToObj(r)})}length(s,r){return this._addCheck({kind:"length",value:s,...ds.errToObj(r)})}nonempty(s){return this.min(1,ds.errToObj(s))}trim(){return new Jo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Jo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Jo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(s=>s.kind==="datetime")}get isDate(){return!!this._def.checks.find(s=>s.kind==="date")}get isTime(){return!!this._def.checks.find(s=>s.kind==="time")}get isDuration(){return!!this._def.checks.find(s=>s.kind==="duration")}get isEmail(){return!!this._def.checks.find(s=>s.kind==="email")}get isURL(){return!!this._def.checks.find(s=>s.kind==="url")}get isEmoji(){return!!this._def.checks.find(s=>s.kind==="emoji")}get isUUID(){return!!this._def.checks.find(s=>s.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(s=>s.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(s=>s.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(s=>s.kind==="cuid2")}get isULID(){return!!this._def.checks.find(s=>s.kind==="ulid")}get isIP(){return!!this._def.checks.find(s=>s.kind==="ip")}get isCIDR(){return!!this._def.checks.find(s=>s.kind==="cidr")}get isBase64(){return!!this._def.checks.find(s=>s.kind==="base64")}get isBase64url(){return!!this._def.checks.find(s=>s.kind==="base64url")}get minLength(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxLength(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}Jo.create=t=>{var s;return new Jo({checks:[],typeName:js.ZodString,coerce:(s=t==null?void 0:t.coerce)!==null&&s!==void 0?s:!1,...Ps(t)})};function zae(t,s){const r=(t.toString().split(".")[1]||"").length,n=(s.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(t.toFixed(a).replace(".","")),l=parseInt(s.toFixed(a).replace(".",""));return i%l/Math.pow(10,a)}class Ch extends Qs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(s){if(this._def.coerce&&(s.data=Number(s.data)),this._getType(s)!==es.number){const i=this._getOrReturnCtx(s);return $t(i,{code:Ft.invalid_type,expected:es.number,received:i.parsedType}),ws}let n;const a=new gi;for(const i of this._def.checks)i.kind==="int"?ar.isInteger(s.data)||(n=this._getOrReturnCtx(s,n),$t(n,{code:Ft.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?s.data<i.value:s.data<=i.value)&&(n=this._getOrReturnCtx(s,n),$t(n,{code:Ft.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?s.data>i.value:s.data>=i.value)&&(n=this._getOrReturnCtx(s,n),$t(n,{code:Ft.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?zae(s.data,i.value)!==0&&(n=this._getOrReturnCtx(s,n),$t(n,{code:Ft.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(s.data)||(n=this._getOrReturnCtx(s,n),$t(n,{code:Ft.not_finite,message:i.message}),a.dirty()):ar.assertNever(i);return{status:a.value,value:s.data}}gte(s,r){return this.setLimit("min",s,!0,ds.toString(r))}gt(s,r){return this.setLimit("min",s,!1,ds.toString(r))}lte(s,r){return this.setLimit("max",s,!0,ds.toString(r))}lt(s,r){return this.setLimit("max",s,!1,ds.toString(r))}setLimit(s,r,n,a){return new Ch({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:n,message:ds.toString(a)}]})}_addCheck(s){return new Ch({...this._def,checks:[...this._def.checks,s]})}int(s){return this._addCheck({kind:"int",message:ds.toString(s)})}positive(s){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ds.toString(s)})}negative(s){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ds.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ds.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ds.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:ds.toString(r)})}finite(s){return this._addCheck({kind:"finite",message:ds.toString(s)})}safe(s){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ds.toString(s)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ds.toString(s)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}get isInt(){return!!this._def.checks.find(s=>s.kind==="int"||s.kind==="multipleOf"&&ar.isInteger(s.value))}get isFinite(){let s=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(s===null||n.value<s)&&(s=n.value)}return Number.isFinite(r)&&Number.isFinite(s)}}Ch.create=t=>new Ch({checks:[],typeName:js.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ps(t)});class Bh extends Qs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(s){if(this._def.coerce)try{s.data=BigInt(s.data)}catch{return this._getInvalidInput(s)}if(this._getType(s)!==es.bigint)return this._getInvalidInput(s);let n;const a=new gi;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?s.data<i.value:s.data<=i.value)&&(n=this._getOrReturnCtx(s,n),$t(n,{code:Ft.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?s.data>i.value:s.data>=i.value)&&(n=this._getOrReturnCtx(s,n),$t(n,{code:Ft.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?s.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(s,n),$t(n,{code:Ft.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):ar.assertNever(i);return{status:a.value,value:s.data}}_getInvalidInput(s){const r=this._getOrReturnCtx(s);return $t(r,{code:Ft.invalid_type,expected:es.bigint,received:r.parsedType}),ws}gte(s,r){return this.setLimit("min",s,!0,ds.toString(r))}gt(s,r){return this.setLimit("min",s,!1,ds.toString(r))}lte(s,r){return this.setLimit("max",s,!0,ds.toString(r))}lt(s,r){return this.setLimit("max",s,!1,ds.toString(r))}setLimit(s,r,n,a){return new Bh({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:n,message:ds.toString(a)}]})}_addCheck(s){return new Bh({...this._def,checks:[...this._def.checks,s]})}positive(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ds.toString(s)})}negative(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ds.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ds.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ds.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:ds.toString(r)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}Bh.create=t=>{var s;return new Bh({checks:[],typeName:js.ZodBigInt,coerce:(s=t==null?void 0:t.coerce)!==null&&s!==void 0?s:!1,...Ps(t)})};class av extends Qs{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==es.boolean){const n=this._getOrReturnCtx(s);return $t(n,{code:Ft.invalid_type,expected:es.boolean,received:n.parsedType}),ws}return Pi(s.data)}}av.create=t=>new av({typeName:js.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ps(t)});class am extends Qs{_parse(s){if(this._def.coerce&&(s.data=new Date(s.data)),this._getType(s)!==es.date){const i=this._getOrReturnCtx(s);return $t(i,{code:Ft.invalid_type,expected:es.date,received:i.parsedType}),ws}if(isNaN(s.data.getTime())){const i=this._getOrReturnCtx(s);return $t(i,{code:Ft.invalid_date}),ws}const n=new gi;let a;for(const i of this._def.checks)i.kind==="min"?s.data.getTime()<i.value&&(a=this._getOrReturnCtx(s,a),$t(a,{code:Ft.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?s.data.getTime()>i.value&&(a=this._getOrReturnCtx(s,a),$t(a,{code:Ft.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ar.assertNever(i);return{status:n.value,value:new Date(s.data.getTime())}}_addCheck(s){return new am({...this._def,checks:[...this._def.checks,s]})}min(s,r){return this._addCheck({kind:"min",value:s.getTime(),message:ds.toString(r)})}max(s,r){return this._addCheck({kind:"max",value:s.getTime(),message:ds.toString(r)})}get minDate(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s!=null?new Date(s):null}get maxDate(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s!=null?new Date(s):null}}am.create=t=>new am({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:js.ZodDate,...Ps(t)});class hb extends Qs{_parse(s){if(this._getType(s)!==es.symbol){const n=this._getOrReturnCtx(s);return $t(n,{code:Ft.invalid_type,expected:es.symbol,received:n.parsedType}),ws}return Pi(s.data)}}hb.create=t=>new hb({typeName:js.ZodSymbol,...Ps(t)});class iv extends Qs{_parse(s){if(this._getType(s)!==es.undefined){const n=this._getOrReturnCtx(s);return $t(n,{code:Ft.invalid_type,expected:es.undefined,received:n.parsedType}),ws}return Pi(s.data)}}iv.create=t=>new iv({typeName:js.ZodUndefined,...Ps(t)});class lv extends Qs{_parse(s){if(this._getType(s)!==es.null){const n=this._getOrReturnCtx(s);return $t(n,{code:Ft.invalid_type,expected:es.null,received:n.parsedType}),ws}return Pi(s.data)}}lv.create=t=>new lv({typeName:js.ZodNull,...Ps(t)});class Yx extends Qs{constructor(){super(...arguments),this._any=!0}_parse(s){return Pi(s.data)}}Yx.create=t=>new Yx({typeName:js.ZodAny,...Ps(t)});class HA extends Qs{constructor(){super(...arguments),this._unknown=!0}_parse(s){return Pi(s.data)}}HA.create=t=>new HA({typeName:js.ZodUnknown,...Ps(t)});class Yd extends Qs{_parse(s){const r=this._getOrReturnCtx(s);return $t(r,{code:Ft.invalid_type,expected:es.never,received:r.parsedType}),ws}}Yd.create=t=>new Yd({typeName:js.ZodNever,...Ps(t)});class Ab extends Qs{_parse(s){if(this._getType(s)!==es.undefined){const n=this._getOrReturnCtx(s);return $t(n,{code:Ft.invalid_type,expected:es.void,received:n.parsedType}),ws}return Pi(s.data)}}Ab.create=t=>new Ab({typeName:js.ZodVoid,...Ps(t)});class ic extends Qs{_parse(s){const{ctx:r,status:n}=this._processInputParams(s),a=this._def;if(r.parsedType!==es.array)return $t(r,{code:Ft.invalid_type,expected:es.array,received:r.parsedType}),ws;if(a.exactLength!==null){const l=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(l||o)&&($t(r,{code:l?Ft.too_big:Ft.too_small,minimum:o?a.exactLength.value:void 0,maximum:l?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&($t(r,{code:Ft.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&($t(r,{code:Ft.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,o)=>a.type._parseAsync(new Zc(r,l,r.path,o)))).then(l=>gi.mergeArray(n,l));const i=[...r.data].map((l,o)=>a.type._parseSync(new Zc(r,l,r.path,o)));return gi.mergeArray(n,i)}get element(){return this._def.type}min(s,r){return new ic({...this._def,minLength:{value:s,message:ds.toString(r)}})}max(s,r){return new ic({...this._def,maxLength:{value:s,message:ds.toString(r)}})}length(s,r){return new ic({...this._def,exactLength:{value:s,message:ds.toString(r)}})}nonempty(s){return this.min(1,s)}}ic.create=(t,s)=>new ic({type:t,minLength:null,maxLength:null,exactLength:null,typeName:js.ZodArray,...Ps(s)});function Bf(t){if(t instanceof pn){const s={};for(const r in t.shape){const n=t.shape[r];s[r]=qc.create(Bf(n))}return new pn({...t._def,shape:()=>s})}else return t instanceof ic?new ic({...t._def,type:Bf(t.element)}):t instanceof qc?qc.create(Bf(t.unwrap())):t instanceof kh?kh.create(Bf(t.unwrap())):t instanceof ed?ed.create(t.items.map(s=>Bf(s))):t}class pn extends Qs{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const s=this._def.shape(),r=ar.objectKeys(s);return this._cached={shape:s,keys:r}}_parse(s){if(this._getType(s)!==es.object){const d=this._getOrReturnCtx(s);return $t(d,{code:Ft.invalid_type,expected:es.object,received:d.parsedType}),ws}const{status:n,ctx:a}=this._processInputParams(s),{shape:i,keys:l}=this._getCached(),o=[];if(!(this._def.catchall instanceof Yd&&this._def.unknownKeys==="strip"))for(const d in a.data)l.includes(d)||o.push(d);const c=[];for(const d of l){const u=i[d],h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Zc(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Yd){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")o.length>0&&($t(a,{code:Ft.unrecognized_keys,keys:o}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of o){const h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Zc(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,A=await u.value;d.push({key:h,value:A,alwaysSet:u.alwaysSet})}return d}).then(d=>gi.mergeObjectSync(n,d)):gi.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(s){return ds.errToObj,new pn({...this._def,unknownKeys:"strict",...s!==void 0?{errorMap:(r,n)=>{var a,i,l,o;const c=(l=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&l!==void 0?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=ds.errToObj(s).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new pn({...this._def,unknownKeys:"strip"})}passthrough(){return new pn({...this._def,unknownKeys:"passthrough"})}extend(s){return new pn({...this._def,shape:()=>({...this._def.shape(),...s})})}merge(s){return new pn({unknownKeys:s._def.unknownKeys,catchall:s._def.catchall,shape:()=>({...this._def.shape(),...s._def.shape()}),typeName:js.ZodObject})}setKey(s,r){return this.augment({[s]:r})}catchall(s){return new pn({...this._def,catchall:s})}pick(s){const r={};return ar.objectKeys(s).forEach(n=>{s[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new pn({...this._def,shape:()=>r})}omit(s){const r={};return ar.objectKeys(this.shape).forEach(n=>{s[n]||(r[n]=this.shape[n])}),new pn({...this._def,shape:()=>r})}deepPartial(){return Bf(this)}partial(s){const r={};return ar.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];s&&!s[n]?r[n]=a:r[n]=a.optional()}),new pn({...this._def,shape:()=>r})}required(s){const r={};return ar.objectKeys(this.shape).forEach(n=>{if(s&&!s[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof qc;)i=i._def.innerType;r[n]=i}}),new pn({...this._def,shape:()=>r})}keyof(){return oQ(ar.objectKeys(this.shape))}}pn.create=(t,s)=>new pn({shape:()=>t,unknownKeys:"strip",catchall:Yd.create(),typeName:js.ZodObject,...Ps(s)});pn.strictCreate=(t,s)=>new pn({shape:()=>t,unknownKeys:"strict",catchall:Yd.create(),typeName:js.ZodObject,...Ps(s)});pn.lazycreate=(t,s)=>new pn({shape:t,unknownKeys:"strip",catchall:Yd.create(),typeName:js.ZodObject,...Ps(s)});class ov extends Qs{_parse(s){const{ctx:r}=this._processInputParams(s),n=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(o=>new Fl(o.ctx.common.issues));return $t(r,{code:Ft.invalid_union,unionErrors:l}),ws}if(r.common.async)return Promise.all(n.map(async i=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(a);{let i;const l=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=l.map(c=>new Fl(c));return $t(r,{code:Ft.invalid_union,unionErrors:o}),ws}}get options(){return this._def.options}}ov.create=(t,s)=>new ov({options:t,typeName:js.ZodUnion,...Ps(s)});const Bd=t=>t instanceof uv?Bd(t.schema):t instanceof uc?Bd(t.innerType()):t instanceof hv?[t.value]:t instanceof Sh?t.options:t instanceof Av?ar.objectValues(t.enum):t instanceof mv?Bd(t._def.innerType):t instanceof iv?[void 0]:t instanceof lv?[null]:t instanceof qc?[void 0,...Bd(t.unwrap())]:t instanceof kh?[null,...Bd(t.unwrap())]:t instanceof P3||t instanceof xv?Bd(t.unwrap()):t instanceof fv?Bd(t._def.innerType):[];class H2 extends Qs{_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==es.object)return $t(r,{code:Ft.invalid_type,expected:es.object,received:r.parsedType}),ws;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):($t(r,{code:Ft.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ws)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(s,r,n){const a=new Map;for(const i of r){const l=Bd(i.shape[s]);if(!l.length)throw new Error(`A discriminator value for key \`${s}\` could not be extracted from all schema options`);for(const o of l){if(a.has(o))throw new Error(`Discriminator property ${String(s)} has duplicate value ${String(o)}`);a.set(o,i)}}return new H2({typeName:js.ZodDiscriminatedUnion,discriminator:s,options:r,optionsMap:a,...Ps(n)})}}function ZB(t,s){const r=Ed(t),n=Ed(s);if(t===s)return{valid:!0,data:t};if(r===es.object&&n===es.object){const a=ar.objectKeys(s),i=ar.objectKeys(t).filter(o=>a.indexOf(o)!==-1),l={...t,...s};for(const o of i){const c=ZB(t[o],s[o]);if(!c.valid)return{valid:!1};l[o]=c.data}return{valid:!0,data:l}}else if(r===es.array&&n===es.array){if(t.length!==s.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const l=t[i],o=s[i],c=ZB(l,o);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===es.date&&n===es.date&&+t==+s?{valid:!0,data:t}:{valid:!1}}class cv extends Qs{_parse(s){const{status:r,ctx:n}=this._processInputParams(s),a=(i,l)=>{if(XB(i)||XB(l))return ws;const o=ZB(i.value,l.value);return o.valid?((JB(i)||JB(l))&&r.dirty(),{status:r.value,value:o.data}):($t(n,{code:Ft.invalid_intersection_types}),ws)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,l])=>a(i,l)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}cv.create=(t,s,r)=>new cv({left:t,right:s,typeName:js.ZodIntersection,...Ps(r)});class ed extends Qs{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==es.array)return $t(n,{code:Ft.invalid_type,expected:es.array,received:n.parsedType}),ws;if(n.data.length<this._def.items.length)return $t(n,{code:Ft.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ws;!this._def.rest&&n.data.length>this._def.items.length&&($t(n,{code:Ft.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((l,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Zc(n,l,n.path,o)):null}).filter(l=>!!l);return n.common.async?Promise.all(i).then(l=>gi.mergeArray(r,l)):gi.mergeArray(r,i)}get items(){return this._def.items}rest(s){return new ed({...this._def,rest:s})}}ed.create=(t,s)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ed({items:t,typeName:js.ZodTuple,rest:null,...Ps(s)})};class dv extends Qs{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==es.object)return $t(n,{code:Ft.invalid_type,expected:es.object,received:n.parsedType}),ws;const a=[],i=this._def.keyType,l=this._def.valueType;for(const o in n.data)a.push({key:i._parse(new Zc(n,o,n.path,o)),value:l._parse(new Zc(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?gi.mergeObjectAsync(r,a):gi.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(s,r,n){return r instanceof Qs?new dv({keyType:s,valueType:r,typeName:js.ZodRecord,...Ps(n)}):new dv({keyType:Jo.create(),valueType:s,typeName:js.ZodRecord,...Ps(r)})}}class mb extends Qs{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==es.map)return $t(n,{code:Ft.invalid_type,expected:es.map,received:n.parsedType}),ws;const a=this._def.keyType,i=this._def.valueType,l=[...n.data.entries()].map(([o,c],d)=>({key:a._parse(new Zc(n,o,n.path,[d,"key"])),value:i._parse(new Zc(n,c,n.path,[d,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of l){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return ws;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(d.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of l){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return ws;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(d.value,u.value)}return{status:r.value,value:o}}}}mb.create=(t,s,r)=>new mb({valueType:s,keyType:t,typeName:js.ZodMap,...Ps(r)});class im extends Qs{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==es.set)return $t(n,{code:Ft.invalid_type,expected:es.set,received:n.parsedType}),ws;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&($t(n,{code:Ft.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&($t(n,{code:Ft.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function l(c){const d=new Set;for(const u of c){if(u.status==="aborted")return ws;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const o=[...n.data.values()].map((c,d)=>i._parse(new Zc(n,c,n.path,d)));return n.common.async?Promise.all(o).then(c=>l(c)):l(o)}min(s,r){return new im({...this._def,minSize:{value:s,message:ds.toString(r)}})}max(s,r){return new im({...this._def,maxSize:{value:s,message:ds.toString(r)}})}size(s,r){return this.min(s,r).max(s,r)}nonempty(s){return this.min(1,s)}}im.create=(t,s)=>new im({valueType:t,minSize:null,maxSize:null,typeName:js.ZodSet,...Ps(s)});class mx extends Qs{constructor(){super(...arguments),this.validate=this.implement}_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==es.function)return $t(r,{code:Ft.invalid_type,expected:es.function,received:r.parsedType}),ws;function n(o,c){return db({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,cb(),Wx].filter(d=>!!d),issueData:{code:Ft.invalid_arguments,argumentsError:c}})}function a(o,c){return db({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,cb(),Wx].filter(d=>!!d),issueData:{code:Ft.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof Xx){const o=this;return Pi(async function(...c){const d=new Fl([]),u=await o._def.args.parseAsync(c,i).catch(m=>{throw d.addIssue(n(c,m)),d}),h=await Reflect.apply(l,this,u);return await o._def.returns._def.type.parseAsync(h,i).catch(m=>{throw d.addIssue(a(h,m)),d})})}else{const o=this;return Pi(function(...c){const d=o._def.args.safeParse(c,i);if(!d.success)throw new Fl([n(c,d.error)]);const u=Reflect.apply(l,this,d.data),h=o._def.returns.safeParse(u,i);if(!h.success)throw new Fl([a(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...s){return new mx({...this._def,args:ed.create(s).rest(HA.create())})}returns(s){return new mx({...this._def,returns:s})}implement(s){return this.parse(s)}strictImplement(s){return this.parse(s)}static create(s,r,n){return new mx({args:s||ed.create([]).rest(HA.create()),returns:r||HA.create(),typeName:js.ZodFunction,...Ps(n)})}}class uv extends Qs{get schema(){return this._def.getter()}_parse(s){const{ctx:r}=this._processInputParams(s);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}uv.create=(t,s)=>new uv({getter:t,typeName:js.ZodLazy,...Ps(s)});class hv extends Qs{_parse(s){if(s.data!==this._def.value){const r=this._getOrReturnCtx(s);return $t(r,{received:r.data,code:Ft.invalid_literal,expected:this._def.value}),ws}return{status:"valid",value:s.data}}get value(){return this._def.value}}hv.create=(t,s)=>new hv({value:t,typeName:js.ZodLiteral,...Ps(s)});function oQ(t,s){return new Sh({values:t,typeName:js.ZodEnum,...Ps(s)})}class Sh extends Qs{constructor(){super(...arguments),Dp.set(this,void 0)}_parse(s){if(typeof s.data!="string"){const r=this._getOrReturnCtx(s),n=this._def.values;return $t(r,{expected:ar.joinValues(n),received:r.parsedType,code:Ft.invalid_type}),ws}if(ub(this,Dp)||nQ(this,Dp,new Set(this._def.values)),!ub(this,Dp).has(s.data)){const r=this._getOrReturnCtx(s),n=this._def.values;return $t(r,{received:r.data,code:Ft.invalid_enum_value,options:n}),ws}return Pi(s.data)}get options(){return this._def.values}get enum(){const s={};for(const r of this._def.values)s[r]=r;return s}get Values(){const s={};for(const r of this._def.values)s[r]=r;return s}get Enum(){const s={};for(const r of this._def.values)s[r]=r;return s}extract(s,r=this._def){return Sh.create(s,{...this._def,...r})}exclude(s,r=this._def){return Sh.create(this.options.filter(n=>!s.includes(n)),{...this._def,...r})}}Dp=new WeakMap;Sh.create=oQ;class Av extends Qs{constructor(){super(...arguments),Up.set(this,void 0)}_parse(s){const r=ar.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(s);if(n.parsedType!==es.string&&n.parsedType!==es.number){const a=ar.objectValues(r);return $t(n,{expected:ar.joinValues(a),received:n.parsedType,code:Ft.invalid_type}),ws}if(ub(this,Up)||nQ(this,Up,new Set(ar.getValidEnumValues(this._def.values))),!ub(this,Up).has(s.data)){const a=ar.objectValues(r);return $t(n,{received:n.data,code:Ft.invalid_enum_value,options:a}),ws}return Pi(s.data)}get enum(){return this._def.values}}Up=new WeakMap;Av.create=(t,s)=>new Av({values:t,typeName:js.ZodNativeEnum,...Ps(s)});class Xx extends Qs{unwrap(){return this._def.type}_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==es.promise&&r.common.async===!1)return $t(r,{code:Ft.invalid_type,expected:es.promise,received:r.parsedType}),ws;const n=r.parsedType===es.promise?r.data:Promise.resolve(r.data);return Pi(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Xx.create=(t,s)=>new Xx({type:t,typeName:js.ZodPromise,...Ps(s)});class uc extends Qs{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===js.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:r,ctx:n}=this._processInputParams(s),a=this._def.effect||null,i={addIssue:l=>{$t(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const l=a.transform(n.data,i);if(n.common.async)return Promise.resolve(l).then(async o=>{if(r.value==="aborted")return ws;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?ws:c.status==="dirty"||r.value==="dirty"?Kf(c.value):c});{if(r.value==="aborted")return ws;const o=this._def.schema._parseSync({data:l,path:n.path,parent:n});return o.status==="aborted"?ws:o.status==="dirty"||r.value==="dirty"?Kf(o.value):o}}if(a.type==="refinement"){const l=o=>{const c=a.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ws:(o.status==="dirty"&&r.dirty(),l(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?ws:(o.status==="dirty"&&r.dirty(),l(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!nm(l))return l;const o=a.transform(l.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>nm(l)?Promise.resolve(a.transform(l.value,i)).then(o=>({status:r.value,value:o})):l);ar.assertNever(a)}}uc.create=(t,s,r)=>new uc({schema:t,typeName:js.ZodEffects,effect:s,...Ps(r)});uc.createWithPreprocess=(t,s,r)=>new uc({schema:s,effect:{type:"preprocess",transform:t},typeName:js.ZodEffects,...Ps(r)});class qc extends Qs{_parse(s){return this._getType(s)===es.undefined?Pi(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}qc.create=(t,s)=>new qc({innerType:t,typeName:js.ZodOptional,...Ps(s)});class kh extends Qs{_parse(s){return this._getType(s)===es.null?Pi(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}kh.create=(t,s)=>new kh({innerType:t,typeName:js.ZodNullable,...Ps(s)});class mv extends Qs{_parse(s){const{ctx:r}=this._processInputParams(s);let n=r.data;return r.parsedType===es.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}mv.create=(t,s)=>new mv({innerType:t,typeName:js.ZodDefault,defaultValue:typeof s.default=="function"?s.default:()=>s.default,...Ps(s)});class fv extends Qs{_parse(s){const{ctx:r}=this._processInputParams(s),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return nv(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fl(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Fl(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}fv.create=(t,s)=>new fv({innerType:t,typeName:js.ZodCatch,catchValue:typeof s.catch=="function"?s.catch:()=>s.catch,...Ps(s)});class fb extends Qs{_parse(s){if(this._getType(s)!==es.nan){const n=this._getOrReturnCtx(s);return $t(n,{code:Ft.invalid_type,expected:es.nan,received:n.parsedType}),ws}return{status:"valid",value:s.data}}}fb.create=t=>new fb({typeName:js.ZodNaN,...Ps(t)});const qae=Symbol("zod_brand");class P3 extends Qs{_parse(s){const{ctx:r}=this._processInputParams(s),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ej extends Qs{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ws:i.status==="dirty"?(r.dirty(),Kf(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ws:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(s,r){return new ej({in:s,out:r,typeName:js.ZodPipeline})}}class xv extends Qs{_parse(s){const r=this._def.innerType._parse(s),n=a=>(nm(a)&&(a.value=Object.freeze(a.value)),a);return nv(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}xv.create=(t,s)=>new xv({innerType:t,typeName:js.ZodReadonly,...Ps(s)});function a8(t,s){const r=typeof t=="function"?t(s):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function cQ(t,s={},r){return t?Yx.create().superRefine((n,a)=>{var i,l;const o=t(n);if(o instanceof Promise)return o.then(c=>{var d,u;if(!c){const h=a8(s,n),A=(u=(d=h.fatal)!==null&&d!==void 0?d:r)!==null&&u!==void 0?u:!0;a.addIssue({code:"custom",...h,fatal:A})}});if(!o){const c=a8(s,n),d=(l=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&l!==void 0?l:!0;a.addIssue({code:"custom",...c,fatal:d})}}):Yx.create()}const $ae={object:pn.lazycreate};var js;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(js||(js={}));const Gae=(t,s={message:`Input not instance of ${t.name}`})=>cQ(r=>r instanceof t,s),dQ=Jo.create,uQ=Ch.create,Wae=fb.create,Yae=Bh.create,hQ=av.create,Xae=am.create,Jae=hb.create,Zae=iv.create,eie=lv.create,tie=Yx.create,sie=HA.create,rie=Yd.create,nie=Ab.create,aie=ic.create,iie=pn.create,lie=pn.strictCreate,oie=ov.create,cie=H2.create,die=cv.create,uie=ed.create,hie=dv.create,Aie=mb.create,mie=im.create,fie=mx.create,xie=uv.create,pie=hv.create,gie=Sh.create,vie=Av.create,jie=Xx.create,i8=uc.create,yie=qc.create,wie=kh.create,bie=uc.createWithPreprocess,Nie=ej.create,Cie=()=>dQ().optional(),Bie=()=>uQ().optional(),Sie=()=>hQ().optional(),kie={string:t=>Jo.create({...t,coerce:!0}),number:t=>Ch.create({...t,coerce:!0}),boolean:t=>av.create({...t,coerce:!0}),bigint:t=>Bh.create({...t,coerce:!0}),date:t=>am.create({...t,coerce:!0})},_ie=ws;var Y=Object.freeze({__proto__:null,defaultErrorMap:Wx,setErrorMap:bae,getErrorMap:cb,makeIssue:db,EMPTY_PATH:Nae,addIssueToContext:$t,ParseStatus:gi,INVALID:ws,DIRTY:Kf,OK:Pi,isAborted:XB,isDirty:JB,isValid:nm,isAsync:nv,get util(){return ar},get objectUtil(){return YB},ZodParsedType:es,getParsedType:Ed,ZodType:Qs,datetimeRegex:lQ,ZodString:Jo,ZodNumber:Ch,ZodBigInt:Bh,ZodBoolean:av,ZodDate:am,ZodSymbol:hb,ZodUndefined:iv,ZodNull:lv,ZodAny:Yx,ZodUnknown:HA,ZodNever:Yd,ZodVoid:Ab,ZodArray:ic,ZodObject:pn,ZodUnion:ov,ZodDiscriminatedUnion:H2,ZodIntersection:cv,ZodTuple:ed,ZodRecord:dv,ZodMap:mb,ZodSet:im,ZodFunction:mx,ZodLazy:uv,ZodLiteral:hv,ZodEnum:Sh,ZodNativeEnum:Av,ZodPromise:Xx,ZodEffects:uc,ZodTransformer:uc,ZodOptional:qc,ZodNullable:kh,ZodDefault:mv,ZodCatch:fv,ZodNaN:fb,BRAND:qae,ZodBranded:P3,ZodPipeline:ej,ZodReadonly:xv,custom:cQ,Schema:Qs,ZodSchema:Qs,late:$ae,get ZodFirstPartyTypeKind(){return js},coerce:kie,any:tie,array:aie,bigint:Yae,boolean:hQ,date:Xae,discriminatedUnion:cie,effect:i8,enum:gie,function:fie,instanceof:Gae,intersection:die,lazy:xie,literal:pie,map:Aie,nan:Wae,nativeEnum:vie,never:rie,null:eie,nullable:wie,number:uQ,object:iie,oboolean:Sie,onumber:Bie,optional:yie,ostring:Cie,pipeline:Nie,preprocess:bie,promise:jie,record:hie,set:mie,strictObject:lie,string:dQ,symbol:Jae,transformer:i8,tuple:uie,undefined:Zae,union:oie,unknown:sie,void:nie,NEVER:_ie,ZodIssueCode:Ft,quotelessJson:wae,ZodError:Fl});const AQ=b.createContext(void 0);function Eie({children:t}){const[s,r]=b.useState(null),[n,a]=b.useState(null),[i,l]=b.useState(!0),{toast:o}=ls();b.useEffect(()=>{let A=!0,m;const p=async()=>{try{const{data:{session:x},error:g}=await br.auth.getSession();A&&(g&&(console.error("Failed to get initial session:",g),o({title:"Authentication Error",description:"Failed to initialize authentication",variant:"destructive"})),a(x),r((x==null?void 0:x.user)??null),l(!1))}catch(x){console.error("Auth initialization error:",x),A&&l(!1)}};m=setTimeout(()=>{A&&i&&(console.warn("Auth initialization timeout"),l(!1))},1e4),p();const{data:{subscription:f}}=br.auth.onAuthStateChange((x,g)=>{var v;A&&(console.log("Auth state change:",x,(v=g==null?void 0:g.user)==null?void 0:v.email),clearTimeout(m),a(g),r((g==null?void 0:g.user)??null),l(!1))});return()=>{A=!1,clearTimeout(m),f.unsubscribe()}},[o,i]);const h={user:s,session:n,loading:i,signUp:async(A,m,p)=>{try{console.log("Attempting registration via backend API:",{email:A,userData:p});const f=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:A,password:m,userData:p})}),x=await f.json();if(console.log("Backend registration response:",x),!f.ok)throw new Error(x.error||"Registration failed");return o({title:"Registration Successful!",description:x.message,variant:(x.needsConfirmation,"default")}),x}catch(f){throw console.error("Registration error:",f),o({title:" ",description:f.message||"    ",variant:"destructive"}),f}},signIn:async(A,m)=>{try{console.log("Attempting Supabase signin with email:",A);const p=new Promise((v,j)=>setTimeout(()=>j(new Error("Connection timeout")),8e3)),f=br.auth.signInWithPassword({email:A,password:m}),{data:x,error:g}=await Promise.race([f,p]);if(console.log("Supabase signin response:",{data:x,error:g}),g)throw console.error("Supabase signin error:",g),g.name==="AuthRetryableFetchError"||g.status===0?o({title:" ",description:"       ",variant:"destructive"}):o({title:" ",description:g.message,variant:"destructive"}),g;return x!=null&&x.user&&o({title:" !",description:""}),x}catch(p){throw console.error("Login error:",p),p.message==="Connection timeout"?o({title:" ",description:"     ",variant:"destructive"}):o({title:" ",description:p.message||"    ",variant:"destructive"}),p}},signOut:async()=>{try{l(!0);const{error:A}=await br.auth.signOut();if(A){console.error("Logout error:",A),o({title:"Logout failed",description:A.message,variant:"destructive"});return}r(null),a(null),o({title:"Logged out successfully",description:"You have been signed out"})}catch(A){console.error("Logout error:",A),o({title:"Logout error",description:"Please try again",variant:"destructive"})}finally{l(!1)}}};return e.jsx(AQ.Provider,{value:h,children:t})}function vo(){const t=b.useContext(AQ);if(t===void 0)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return t}var Fie="Label",mQ=b.forwardRef((t,s)=>e.jsx(os.label,{...t,ref:s,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));mQ.displayName=Fie;var fQ=mQ;const Tie=Wv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ke=b.forwardRef(({className:t,...s},r)=>e.jsx(fQ,{ref:r,className:at(Tie(),t),...s}));ke.displayName=fQ.displayName;const Ms=tae,xQ=b.createContext({}),Se=({...t})=>e.jsx(xQ.Provider,{value:{name:t.name},children:e.jsx(aae,{...t})}),V2=()=>{const t=b.useContext(xQ),s=b.useContext(pQ);let r=null;try{r=Q2()}catch{return{id:(s==null?void 0:s.id)||"fallback-id",name:(t==null?void 0:t.name)||"fallback-name",formItemId:"fallback-form-item",formDescriptionId:"fallback-form-item-description",formMessageId:"fallback-form-item-message"}}if(r){const{getFieldState:n,formState:a}=r;if(!t)return console.warn("useFormField should be used within <FormField>"),{id:(s==null?void 0:s.id)||"missing-id",name:"missing-name",formItemId:"missing-form-item",formDescriptionId:"missing-form-item-description",formMessageId:"missing-form-item-message"};const i=n(t.name,a),{id:l}=s||{id:"missing-item-id"};return{id:l,name:t.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...i}}return{id:"error-id",name:"error-name",formItemId:"error-form-item",formDescriptionId:"error-form-item-description",formMessageId:"error-form-item-message"}},pQ=b.createContext({}),Ne=b.forwardRef(({className:t,...s},r)=>{const n=b.useId();return e.jsx(pQ.Provider,{value:{id:n},children:e.jsx("div",{ref:r,className:at("space-y-2",t),...s})})});Ne.displayName="FormItem";const Ce=b.forwardRef(({className:t,...s},r)=>{const n=V2(),a="error"in n&&n.error,i=n.formItemId;return e.jsx(ke,{ref:r,className:at(a&&"text-destructive",t),htmlFor:i,...s})});Ce.displayName="FormLabel";const Be=b.forwardRef(({...t},s)=>{const r=V2(),n="error"in r&&r.error,a=r.formItemId,i=r.formDescriptionId,l=r.formMessageId;return e.jsx(jR,{ref:s,id:a,"aria-describedby":n?`${i} ${l}`:`${i}`,"aria-invalid":!!n,...t})});Be.displayName="FormControl";const D3=b.forwardRef(({className:t,...s},r)=>{const{formDescriptionId:n}=V2();return e.jsx("p",{ref:r,id:n,className:at("text-sm text-muted-foreground",t),...s})});D3.displayName="FormDescription";const _e=b.forwardRef(({className:t,children:s,...r},n)=>{var c;const a=V2(),i="error"in a&&a.error?String((c=a.error)==null?void 0:c.message):null,l=a.formMessageId,o=i||s;return o?e.jsx("p",{ref:n,id:l,className:at("text-sm font-medium text-destructive",t),...r,children:o}):null});_e.displayName="FormMessage";const de=b.forwardRef(({className:t,type:s,...r},n)=>e.jsx("input",{type:s,className:at("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));de.displayName="Input";const Lie=Wv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),lm=b.forwardRef(({className:t,variant:s,...r},n)=>e.jsx("div",{ref:n,role:"alert",className:at(Lie({variant:s}),t),...r}));lm.displayName="Alert";const Iie=b.forwardRef(({className:t,...s},r)=>e.jsx("h5",{ref:r,className:at("mb-1 font-medium leading-none tracking-tight",t),...s}));Iie.displayName="AlertTitle";const om=b.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:at("text-sm [&_p]:leading-relaxed",t),...s}));om.displayName="AlertDescription";var Pie=vD[" useId ".trim().toString()]||(()=>{}),Die=0;function ho(t){const[s,r]=b.useState(Pie());return la(()=>{r(n=>n??String(Die++))},[t]),s?`radix-${s}`:""}var Uie=b.createContext(void 0);function tj(t){const s=b.useContext(Uie);return t||s||"ltr"}var u5="rovingFocusGroup.onEntryFocus",Oie={bubbles:!1,cancelable:!0},K2="RovingFocusGroup",[eS,gQ,Rie]=_2(K2),[Mie,x0]=Ga(K2,[Rie]),[Qie,Hie]=Mie(K2),vQ=b.forwardRef((t,s)=>e.jsx(eS.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(eS.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Vie,{...t,ref:s})})}));vQ.displayName=K2;var Vie=b.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,A=b.useRef(null),m=sr(s,A),p=tj(i),[f=null,x]=go({prop:l,defaultProp:o,onChange:c}),[g,v]=b.useState(!1),j=za(d),B=gQ(r),F=b.useRef(!1),[P,E]=b.useState(0);return b.useEffect(()=>{const N=A.current;if(N)return N.addEventListener(u5,j),()=>N.removeEventListener(u5,j)},[j]),e.jsx(Qie,{scope:r,orientation:n,dir:p,loop:a,currentTabStopId:f,onItemFocus:b.useCallback(N=>x(N),[x]),onItemShiftTab:b.useCallback(()=>v(!0),[]),onFocusableItemAdd:b.useCallback(()=>E(N=>N+1),[]),onFocusableItemRemove:b.useCallback(()=>E(N=>N-1),[]),children:e.jsx(os.div,{tabIndex:g||P===0?-1:0,"data-orientation":n,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:Qt(t.onMouseDown,()=>{F.current=!0}),onFocus:Qt(t.onFocus,N=>{const C=!F.current;if(N.target===N.currentTarget&&C&&!g){const _=new CustomEvent(u5,Oie);if(N.currentTarget.dispatchEvent(_),!_.defaultPrevented){const k=B().filter(W=>W.focusable),D=k.find(W=>W.active),z=k.find(W=>W.id===f),xe=[D,z,...k].filter(Boolean).map(W=>W.ref.current);wQ(xe,u)}}F.current=!1}),onBlur:Qt(t.onBlur,()=>v(!1))})})}),jQ="RovingFocusGroupItem",yQ=b.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,...l}=t,o=ho(),c=i||o,d=Hie(jQ,r),u=d.currentTabStopId===c,h=gQ(r),{onFocusableItemAdd:A,onFocusableItemRemove:m}=d;return b.useEffect(()=>{if(n)return A(),()=>m()},[n,A,m]),e.jsx(eS.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:e.jsx(os.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...l,ref:s,onMouseDown:Qt(t.onMouseDown,p=>{n?d.onItemFocus(c):p.preventDefault()}),onFocus:Qt(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:Qt(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){d.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const f=qie(p,d.orientation,d.dir);if(f!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let g=h().filter(v=>v.focusable).map(v=>v.ref.current);if(f==="last")g.reverse();else if(f==="prev"||f==="next"){f==="prev"&&g.reverse();const v=g.indexOf(p.currentTarget);g=d.loop?$ie(g,v+1):g.slice(v+1)}setTimeout(()=>wQ(g))}})})})});yQ.displayName=jQ;var Kie={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zie(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function qie(t,s,r){const n=zie(t.key,r);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Kie[n]}function wQ(t,s=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:s}),document.activeElement!==r))return}function $ie(t,s){return t.map((r,n)=>t[(s+n)%t.length])}var U3=vQ,O3=yQ,R3="Tabs",[Gie,G3e]=Ga(R3,[x0]),bQ=x0(),[Wie,M3]=Gie(R3),NQ=b.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:c="automatic",...d}=t,u=tj(o),[h,A]=go({prop:n,onChange:a,defaultProp:i});return e.jsx(Wie,{scope:r,baseId:ho(),value:h,onValueChange:A,orientation:l,dir:u,activationMode:c,children:e.jsx(os.div,{dir:u,"data-orientation":l,...d,ref:s})})});NQ.displayName=R3;var CQ="TabsList",BQ=b.forwardRef((t,s)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=M3(CQ,r),l=bQ(r);return e.jsx(U3,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:n,children:e.jsx(os.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:s})})});BQ.displayName=CQ;var SQ="TabsTrigger",kQ=b.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,l=M3(SQ,r),o=bQ(r),c=FQ(l.baseId,n),d=TQ(l.baseId,n),u=n===l.value;return e.jsx(O3,{asChild:!0,...o,focusable:!a,active:u,children:e.jsx(os.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:s,onMouseDown:Qt(t.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?l.onValueChange(n):h.preventDefault()}),onKeyDown:Qt(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&l.onValueChange(n)}),onFocus:Qt(t.onFocus,()=>{const h=l.activationMode!=="manual";!u&&!a&&h&&l.onValueChange(n)})})})});kQ.displayName=SQ;var _Q="TabsContent",EQ=b.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...l}=t,o=M3(_Q,r),c=FQ(o.baseId,n),d=TQ(o.baseId,n),u=n===o.value,h=b.useRef(u);return b.useEffect(()=>{const A=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(A)},[]),e.jsx(Ri,{present:a||u,children:({present:A})=>e.jsx(os.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!A,id:d,tabIndex:0,...l,ref:s,style:{...t.style,animationDuration:h.current?"0s":void 0},children:A&&i})})});EQ.displayName=_Q;function FQ(t,s){return`${t}-trigger-${s}`}function TQ(t,s){return`${t}-content-${s}`}var Yie=NQ,LQ=BQ,IQ=kQ,PQ=EQ;const Ar=Yie,ir=b.forwardRef(({className:t,...s},r)=>e.jsx(LQ,{ref:r,className:at("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));ir.displayName=LQ.displayName;const lt=b.forwardRef(({className:t,...s},r)=>e.jsx(IQ,{ref:r,className:at("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));lt.displayName=IQ.displayName;const bt=b.forwardRef(({className:t,...s},r)=>e.jsx(PQ,{ref:r,className:at("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));bt.displayName=PQ.displayName;const Xie=Y.object({email:Y.string().email("   "),password:Y.string().min(6,"     ")}),Jie=Y.object({email:Y.string().email("   "),password:Y.string().min(6,"     "),confirmPassword:Y.string().min(6,"  "),full_name:Y.string().min(2,"      "),phone:Y.string().optional()}).refine(t=>t.password===t.confirmPassword,{message:"  ",path:["confirmPassword"]});function Zie(){const{user:t,loading:s,signIn:r,signUp:n}=vo(),[a,i]=Oi(),[l,o]=b.useState(!1),{toast:c}=ls(),d=zs({resolver:qs(Xie),defaultValues:{email:"",password:""}}),u=zs({resolver:qs(Jie),defaultValues:{email:"",password:"",confirmPassword:"",full_name:"",phone:""}});b.useEffect(()=>{t&&i("/")},[t,i]);const h=async p=>{try{await r(p.email,p.password),c({title:"!",description:"  "}),i("/")}catch(f){c({title:" ",description:f.message||"    ",variant:"destructive"})}},A=async p=>{try{const f=`USER_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;await n(p.email,p.password,{full_name:p.full_name,phone:p.phone,role:"user",user_tracking_id:f,status:"active",registration_date:new Date().toISOString(),language:"bn"}),c({title:" !",description:"   "})}catch(f){c({title:" ",description:f.message||"    ",variant:"destructive"})}},m=s;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-slate-900/[0.04] dark:bg-grid-slate-100/[0.03]"}),e.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-bl from-blue-400/20 to-emerald-400/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-emerald-400/20 to-blue-400/20 rounded-full blur-3xl"}),e.jsx("div",{className:"relative flex items-center justify-center min-h-screen p-4",children:e.jsxs("div",{className:"w-full max-w-6xl grid lg:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{className:"hidden lg:block space-y-8",children:[e.jsx("div",{className:"text-center space-y-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-blue-600 p-4 rounded-2xl shadow-xl",children:e.jsx(Jc,{className:"h-10 w-10 text-white"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 h-4 w-4 bg-green-500 rounded-full border-2 border-white animate-pulse"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-emerald-600 to-blue-600 bg-clip-text text-transparent",children:" "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg",children:"    "})]})]})}),e.jsx("div",{className:"grid gap-4",children:[{icon:ss,title:" ",description:" ,    ",color:"from-blue-500 to-blue-600"},{icon:Ks,title:" ",description:",    ",color:"from-emerald-500 to-emerald-600"},{icon:bs,title:" ",description:" ,   ",color:"from-purple-500 to-purple-600"}].map((p,f)=>e.jsx("div",{className:"group",children:e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm rounded-xl shadow-lg border border-slate-200/50 dark:border-slate-700/50 hover:shadow-xl transition-all duration-300 group-hover:scale-[1.02]",children:[e.jsx("div",{className:`p-3 bg-gradient-to-br ${p.color} rounded-lg shadow-lg`,children:e.jsx(p.icon,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-1",children:p.title}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:p.description})]})]})},f))}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-100 to-blue-100 dark:from-emerald-900/30 dark:to-blue-900/30 rounded-full",children:[e.jsx(ks,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"   "})]})})]}),e.jsx("div",{className:"w-full max-w-md mx-auto",children:e.jsxs(H,{className:"shadow-2xl border-0 bg-white/95 dark:bg-slate-900/95 backdrop-blur-md",children:[e.jsxs(oe,{className:"space-y-6 text-center pb-6",children:[e.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-3 mb-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-blue-600 p-3 rounded-xl shadow-lg",children:e.jsx(Jc,{className:"h-8 w-8 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-blue-600 bg-clip-text text-transparent",children:" "})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-gradient-to-r from-emerald-100 to-blue-100 dark:from-emerald-900/30 dark:to-blue-900/30 rounded-full text-xs font-medium text-emerald-700 dark:text-emerald-300",children:[e.jsx(ks,{className:"h-3 w-3"}),"  "]})})]}),e.jsxs(M,{className:"px-6 pb-6",children:[e.jsxs(Ar,{defaultValue:"login",className:"space-y-6",children:[e.jsxs(ir,{className:"grid w-full grid-cols-2 mb-6 bg-slate-100 dark:bg-slate-800",children:[e.jsx(lt,{value:"login",className:"data-[state=active]:bg-white data-[state=active]:text-emerald-600 dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-emerald-400",children:""}),e.jsx(lt,{value:"register",className:"data-[state=active]:bg-white data-[state=active]:text-emerald-600 dark:data-[state=active]:bg-slate-700 dark:data-[state=active]:text-emerald-400",children:""})]}),e.jsxs(bt,{value:"login",className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(ce,{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:" !"}),e.jsx(ct,{className:"text-slate-600 dark:text-slate-400",children:"   "})]}),e.jsx(Ms,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-5",children:[e.jsx(Se,{control:d.control,name:"email",render:({field:p})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:" "}),e.jsx(Be,{children:e.jsxs("div",{className:"relative group",children:[e.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400 group-focus-within:text-emerald-500 transition-colors"}),e.jsx(de,{...p,type:"email",placeholder:"your@email.com",className:"pl-10 h-12 border-slate-200 dark:border-slate-700 focus:border-emerald-500 dark:focus:border-emerald-400 focus:ring-emerald-500/20 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm"})]})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:d.control,name:"password",render:({field:p})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:""}),e.jsx(Be,{children:e.jsxs("div",{className:"relative group",children:[e.jsx(Yv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400 group-focus-within:text-emerald-500 transition-colors"}),e.jsx(de,{...p,type:l?"text":"password",placeholder:" ",className:"pl-10 pr-10 h-12 border-slate-200 dark:border-slate-700 focus:border-emerald-500 dark:focus:border-emerald-400 focus:ring-emerald-500/20 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm"}),e.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-12 px-3 hover:bg-transparent",onClick:()=>o(!l),children:l?e.jsx(P2,{className:"h-4 w-4 text-slate-400"}):e.jsx(cn,{className:"h-4 w-4 text-slate-400"})})]})}),e.jsx(_e,{})]})}),e.jsx(V,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(Kn,{className:"mr-2 h-5 w-5 animate-spin"})," ..."]}):" "})]})}),e.jsxs(lm,{className:"border-blue-200 bg-blue-50 dark:bg-blue-900/20",children:[e.jsx(uo,{className:"h-4 w-4 text-blue-600"}),e.jsxs(om,{className:"text-blue-800 dark:text-blue-300",children:[e.jsx("strong",{children:"  :"}),e.jsx("br",{}),"      "]})]})]}),e.jsxs(bt,{value:"register",className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(ce,{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:" "}),e.jsx(ct,{className:"text-slate-600 dark:text-slate-400",children:"    "})]}),e.jsx(Ms,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(A),className:"space-y-4",children:[e.jsx(Se,{control:u.control,name:"full_name",render:({field:p})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:" "}),e.jsx(Be,{children:e.jsxs("div",{className:"relative group",children:[e.jsx(ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400 group-focus-within:text-emerald-500 transition-colors"}),e.jsx(de,{...p,placeholder:"  ",className:"pl-10 h-11 border-slate-200 dark:border-slate-700 focus:border-emerald-500 dark:focus:border-emerald-400 bg-white/50 dark:bg-slate-800/50"})]})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"email",render:({field:p})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:" "}),e.jsx(Be,{children:e.jsxs("div",{className:"relative group",children:[e.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400 group-focus-within:text-emerald-500 transition-colors"}),e.jsx(de,{...p,type:"email",placeholder:"your@email.com",className:"pl-10 h-11 border-slate-200 dark:border-slate-700 focus:border-emerald-500 dark:focus:border-emerald-400 bg-white/50 dark:bg-slate-800/50"})]})}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Se,{control:u.control,name:"password",render:({field:p})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:""}),e.jsx(Be,{children:e.jsx(de,{...p,type:"password",placeholder:"",className:"h-11 border-slate-200 dark:border-slate-700 focus:border-emerald-500 bg-white/50 dark:bg-slate-800/50"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"confirmPassword",render:({field:p})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:" "}),e.jsx(Be,{children:e.jsx(de,{...p,type:"password",placeholder:" ",className:"h-11 border-slate-200 dark:border-slate-700 focus:border-emerald-500 bg-white/50 dark:bg-slate-800/50"})}),e.jsx(_e,{})]})})]}),e.jsx(Se,{control:u.control,name:"phone",render:({field:p})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"  ()"}),e.jsx(Be,{children:e.jsxs("div",{className:"relative group",children:[e.jsx($o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400 group-focus-within:text-emerald-500 transition-colors"}),e.jsx(de,{...p,placeholder:"+880 1XXX XXXXXX",className:"pl-10 h-11 border-slate-200 dark:border-slate-700 focus:border-emerald-500 bg-white/50 dark:bg-slate-800/50"})]})}),e.jsx(_e,{})]})}),e.jsx(V,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(Kn,{className:"mr-2 h-5 w-5 animate-spin"})," ..."]}):" "})]})})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:""})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:""})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),e.jsx("span",{children:""})]})]})})]})]})})]})})]})}const ele=Y.object({email:Y.string().email("Please enter a valid email"),password:Y.string().min(6,"Password must be at least 6 characters")});function l8(){const[t,s]=Oi(),[r,n]=b.useState(!1),[a,i]=b.useState(!1),[l,o]=b.useState(""),{toast:c}=ls(),d=zs({resolver:qs(ele),defaultValues:{email:"",password:""}}),u=async A=>{i(!0),o("");try{const m=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:A.email,password:A.password})}),p=await m.json();if(m.ok&&p.success)c({title:"Login Successful",description:"Welcome back!"}),localStorage.setItem("auth_user",JSON.stringify(p.user)),s("/");else throw new Error(p.error||"Invalid credentials")}catch(m){o(m.message||"Login failed. Please try again."),c({title:"Login Failed",description:m.message||"Please check your credentials and try again.",variant:"destructive"})}finally{i(!1)}},h=()=>{const A="admin@school.com",m="admin123";d.setValue("email",A),d.setValue("password",m),c({title:"Admin Credentials Loaded",description:"Click Login to continue with admin account"})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:e.jsxs(H,{className:"w-full max-w-md shadow-xl",children:[e.jsxs(oe,{className:"space-y-1 text-center",children:[e.jsx(ce,{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"School Management Login"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Enter your credentials to access the system"})]}),e.jsxs(M,{className:"space-y-4",children:[l&&e.jsx(lm,{variant:"destructive",children:e.jsx(om,{children:l})}),e.jsxs("form",{onSubmit:d.handleSubmit(u),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),e.jsx(de,{...d.register("email"),type:"email",placeholder:"Enter your email",className:"pl-10",disabled:a})]}),d.formState.errors.email&&e.jsx("p",{className:"text-sm text-red-600",children:d.formState.errors.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Yv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),e.jsx(de,{...d.register("password"),type:r?"text":"password",placeholder:"Enter your password",className:"pl-10 pr-10",disabled:a}),e.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:r?e.jsx(P2,{className:"h-4 w-4"}):e.jsx(cn,{className:"h-4 w-4"})})]}),d.formState.errors.password&&e.jsx("p",{className:"text-sm text-red-600",children:d.formState.errors.password.message})]}),e.jsx(V,{type:"submit",className:"w-full",disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx(Kn,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]}),e.jsxs("div",{className:"text-center pt-4 border-t",children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"Need a test account?"}),e.jsx(V,{variant:"outline",onClick:h,className:"text-sm",children:"Load Admin Credentials"})]}),e.jsx("div",{className:"text-center text-xs text-slate-500",children:e.jsx("p",{children:"Admin: admin@school.com / admin123"})})]})]})})}function o8(t,[s,r]){return Math.min(r,Math.max(s,t))}var h5=0;function z2(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??c8()),document.body.insertAdjacentElement("beforeend",t[1]??c8()),h5++,()=>{h5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),h5--}},[])}function c8(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var A5="focusScope.autoFocusOnMount",m5="focusScope.autoFocusOnUnmount",d8={bubbles:!1,cancelable:!0},tle="FocusScope",sj=b.forwardRef((t,s)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=t,[o,c]=b.useState(null),d=za(a),u=za(i),h=b.useRef(null),A=sr(s,f=>c(f)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let f=function(j){if(m.paused||!o)return;const B=j.target;o.contains(B)?h.current=B:_u(h.current,{select:!0})},x=function(j){if(m.paused||!o)return;const B=j.relatedTarget;B!==null&&(o.contains(B)||_u(h.current,{select:!0}))},g=function(j){if(document.activeElement===document.body)for(const F of j)F.removedNodes.length>0&&_u(o)};document.addEventListener("focusin",f),document.addEventListener("focusout",x);const v=new MutationObserver(g);return o&&v.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",x),v.disconnect()}}},[n,o,m.paused]),b.useEffect(()=>{if(o){h8.add(m);const f=document.activeElement;if(!o.contains(f)){const g=new CustomEvent(A5,d8);o.addEventListener(A5,d),o.dispatchEvent(g),g.defaultPrevented||(sle(lle(DQ(o)),{select:!0}),document.activeElement===f&&_u(o))}return()=>{o.removeEventListener(A5,d),setTimeout(()=>{const g=new CustomEvent(m5,d8);o.addEventListener(m5,u),o.dispatchEvent(g),g.defaultPrevented||_u(f??document.body,{select:!0}),o.removeEventListener(m5,u),h8.remove(m)},0)}}},[o,d,u,m]);const p=b.useCallback(f=>{if(!r&&!n||m.paused)return;const x=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,g=document.activeElement;if(x&&g){const v=f.currentTarget,[j,B]=rle(v);j&&B?!f.shiftKey&&g===B?(f.preventDefault(),r&&_u(j,{select:!0})):f.shiftKey&&g===j&&(f.preventDefault(),r&&_u(B,{select:!0})):g===v&&f.preventDefault()}},[r,n,m.paused]);return e.jsx(os.div,{tabIndex:-1,...l,ref:A,onKeyDown:p})});sj.displayName=tle;function sle(t,{select:s=!1}={}){const r=document.activeElement;for(const n of t)if(_u(n,{select:s}),document.activeElement!==r)return}function rle(t){const s=DQ(t),r=u8(s,t),n=u8(s.reverse(),t);return[r,n]}function DQ(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function u8(t,s){for(const r of t)if(!nle(r,{upTo:s}))return r}function nle(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ale(t){return t instanceof HTMLInputElement&&"select"in t}function _u(t,{select:s=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&ale(t)&&s&&t.select()}}var h8=ile();function ile(){let t=[];return{add(s){const r=t[0];s!==r&&(r==null||r.pause()),t=A8(t,s),t.unshift(s)},remove(s){var r;t=A8(t,s),(r=t[0])==null||r.resume()}}}function A8(t,s){const r=[...t],n=r.indexOf(s);return n!==-1&&r.splice(n,1),r}function lle(t){return t.filter(s=>s.tagName!=="A")}const ole=["top","right","bottom","left"],_h=Math.min,Nl=Math.max,xb=Math.round,Hy=Math.floor,$c=t=>({x:t,y:t}),cle={left:"right",right:"left",bottom:"top",top:"bottom"},dle={start:"end",end:"start"};function tS(t,s,r){return Nl(t,_h(s,r))}function Xd(t,s){return typeof t=="function"?t(s):t}function Jd(t){return t.split("-")[0]}function p0(t){return t.split("-")[1]}function Q3(t){return t==="x"?"y":"x"}function H3(t){return t==="y"?"height":"width"}function Eh(t){return["top","bottom"].includes(Jd(t))?"y":"x"}function V3(t){return Q3(Eh(t))}function ule(t,s,r){r===void 0&&(r=!1);const n=p0(t),a=V3(t),i=H3(a);let l=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return s.reference[i]>s.floating[i]&&(l=pb(l)),[l,pb(l)]}function hle(t){const s=pb(t);return[sS(t),s,sS(s)]}function sS(t){return t.replace(/start|end/g,s=>dle[s])}function Ale(t,s,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return r?s?a:n:s?n:a;case"left":case"right":return s?i:l;default:return[]}}function mle(t,s,r,n){const a=p0(t);let i=Ale(Jd(t),r==="start",n);return a&&(i=i.map(l=>l+"-"+a),s&&(i=i.concat(i.map(sS)))),i}function pb(t){return t.replace(/left|right|bottom|top/g,s=>cle[s])}function fle(t){return{top:0,right:0,bottom:0,left:0,...t}}function UQ(t){return typeof t!="number"?fle(t):{top:t,right:t,bottom:t,left:t}}function gb(t){const{x:s,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:s,right:s+n,bottom:r+a,x:s,y:r}}function m8(t,s,r){let{reference:n,floating:a}=t;const i=Eh(s),l=V3(s),o=H3(l),c=Jd(s),d=i==="y",u=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,A=n[o]/2-a[o]/2;let m;switch(c){case"top":m={x:u,y:n.y-a.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-a.width,y:h};break;default:m={x:n.x,y:n.y}}switch(p0(s)){case"start":m[l]-=A*(r&&d?-1:1);break;case"end":m[l]+=A*(r&&d?-1:1);break}return m}const xle=async(t,s,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:l}=r,o=i.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(s));let d=await l.getElementRects({reference:t,floating:s,strategy:a}),{x:u,y:h}=m8(d,n,c),A=n,m={},p=0;for(let f=0;f<o.length;f++){const{name:x,fn:g}=o[f],{x:v,y:j,data:B,reset:F}=await g({x:u,y:h,initialPlacement:n,placement:A,strategy:a,middlewareData:m,rects:d,platform:l,elements:{reference:t,floating:s}});u=v??u,h=j??h,m={...m,[x]:{...m[x],...B}},F&&p<=50&&(p++,typeof F=="object"&&(F.placement&&(A=F.placement),F.rects&&(d=F.rects===!0?await l.getElementRects({reference:t,floating:s,strategy:a}):F.rects),{x:u,y:h}=m8(d,A,c)),f=-1)}return{x:u,y:h,placement:A,strategy:a,middlewareData:m}};async function pv(t,s){var r;s===void 0&&(s={});const{x:n,y:a,platform:i,rects:l,elements:o,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:A=!1,padding:m=0}=Xd(s,t),p=UQ(m),x=o[A?h==="floating"?"reference":"floating":h],g=gb(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:d,rootBoundary:u,strategy:c})),v=h==="floating"?{x:n,y:a,width:l.floating.width,height:l.floating.height}:l.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),B=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},F=gb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:j,strategy:c}):v);return{top:(g.top-F.top+p.top)/B.y,bottom:(F.bottom-g.bottom+p.bottom)/B.y,left:(g.left-F.left+p.left)/B.x,right:(F.right-g.right+p.right)/B.x}}const ple=t=>({name:"arrow",options:t,async fn(s){const{x:r,y:n,placement:a,rects:i,platform:l,elements:o,middlewareData:c}=s,{element:d,padding:u=0}=Xd(t,s)||{};if(d==null)return{};const h=UQ(u),A={x:r,y:n},m=V3(a),p=H3(m),f=await l.getDimensions(d),x=m==="y",g=x?"top":"left",v=x?"bottom":"right",j=x?"clientHeight":"clientWidth",B=i.reference[p]+i.reference[m]-A[m]-i.floating[p],F=A[m]-i.reference[m],P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let E=P?P[j]:0;(!E||!await(l.isElement==null?void 0:l.isElement(P)))&&(E=o.floating[j]||i.floating[p]);const N=B/2-F/2,C=E/2-f[p]/2-1,_=_h(h[g],C),k=_h(h[v],C),D=_,z=E-f[p]-k,K=E/2-f[p]/2+N,xe=tS(D,K,z),W=!c.arrow&&p0(a)!=null&&K!==xe&&i.reference[p]/2-(K<D?_:k)-f[p]/2<0,re=W?K<D?K-D:K-z:0;return{[m]:A[m]+re,data:{[m]:xe,centerOffset:K-xe-re,...W&&{alignmentOffset:re}},reset:W}}}),gle=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var r,n;const{placement:a,middlewareData:i,rects:l,initialPlacement:o,platform:c,elements:d}=s,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:A,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:f=!0,...x}=Xd(t,s);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=Jd(a),v=Eh(o),j=Jd(o)===o,B=await(c.isRTL==null?void 0:c.isRTL(d.floating)),F=A||(j||!f?[pb(o)]:hle(o)),P=p!=="none";!A&&P&&F.push(...mle(o,f,p,B));const E=[o,...F],N=await pv(s,x),C=[];let _=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&C.push(N[g]),h){const K=ule(a,l,B);C.push(N[K[0]],N[K[1]])}if(_=[..._,{placement:a,overflows:C}],!C.every(K=>K<=0)){var k,D;const K=(((k=i.flip)==null?void 0:k.index)||0)+1,xe=E[K];if(xe)return{data:{index:K,overflows:_},reset:{placement:xe}};let W=(D=_.filter(re=>re.overflows[0]<=0).sort((re,I)=>re.overflows[1]-I.overflows[1])[0])==null?void 0:D.placement;if(!W)switch(m){case"bestFit":{var z;const re=(z=_.filter(I=>{if(P){const ie=Eh(I.placement);return ie===v||ie==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(ie=>ie>0).reduce((ie,ve)=>ie+ve,0)]).sort((I,ie)=>I[1]-ie[1])[0])==null?void 0:z[0];re&&(W=re);break}case"initialPlacement":W=o;break}if(a!==W)return{reset:{placement:W}}}return{}}}};function f8(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function x8(t){return ole.some(s=>t[s]>=0)}const vle=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:r}=s,{strategy:n="referenceHidden",...a}=Xd(t,s);switch(n){case"referenceHidden":{const i=await pv(s,{...a,elementContext:"reference"}),l=f8(i,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:x8(l)}}}case"escaped":{const i=await pv(s,{...a,altBoundary:!0}),l=f8(i,r.floating);return{data:{escapedOffsets:l,escaped:x8(l)}}}default:return{}}}}};async function jle(t,s){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),l=Jd(r),o=p0(r),c=Eh(r)==="y",d=["left","top"].includes(l)?-1:1,u=i&&c?-1:1,h=Xd(s,t);let{mainAxis:A,crossAxis:m,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof p=="number"&&(m=o==="end"?p*-1:p),c?{x:m*u,y:A*d}:{x:A*d,y:m*u}}const yle=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var r,n;const{x:a,y:i,placement:l,middlewareData:o}=s,c=await jle(s,t);return l===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:l}}}}},wle=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:r,y:n,placement:a}=s,{mainAxis:i=!0,crossAxis:l=!1,limiter:o={fn:x=>{let{x:g,y:v}=x;return{x:g,y:v}}},...c}=Xd(t,s),d={x:r,y:n},u=await pv(s,c),h=Eh(Jd(a)),A=Q3(h);let m=d[A],p=d[h];if(i){const x=A==="y"?"top":"left",g=A==="y"?"bottom":"right",v=m+u[x],j=m-u[g];m=tS(v,m,j)}if(l){const x=h==="y"?"top":"left",g=h==="y"?"bottom":"right",v=p+u[x],j=p-u[g];p=tS(v,p,j)}const f=o.fn({...s,[A]:m,[h]:p});return{...f,data:{x:f.x-r,y:f.y-n,enabled:{[A]:i,[h]:l}}}}}},ble=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:r,y:n,placement:a,rects:i,middlewareData:l}=s,{offset:o=0,mainAxis:c=!0,crossAxis:d=!0}=Xd(t,s),u={x:r,y:n},h=Eh(a),A=Q3(h);let m=u[A],p=u[h];const f=Xd(o,s),x=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(c){const j=A==="y"?"height":"width",B=i.reference[A]-i.floating[j]+x.mainAxis,F=i.reference[A]+i.reference[j]-x.mainAxis;m<B?m=B:m>F&&(m=F)}if(d){var g,v;const j=A==="y"?"width":"height",B=["top","left"].includes(Jd(a)),F=i.reference[h]-i.floating[j]+(B&&((g=l.offset)==null?void 0:g[h])||0)+(B?0:x.crossAxis),P=i.reference[h]+i.reference[j]+(B?0:((v=l.offset)==null?void 0:v[h])||0)-(B?x.crossAxis:0);p<F?p=F:p>P&&(p=P)}return{[A]:m,[h]:p}}}},Nle=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var r,n;const{placement:a,rects:i,platform:l,elements:o}=s,{apply:c=()=>{},...d}=Xd(t,s),u=await pv(s,d),h=Jd(a),A=p0(a),m=Eh(a)==="y",{width:p,height:f}=i.floating;let x,g;h==="top"||h==="bottom"?(x=h,g=A===(await(l.isRTL==null?void 0:l.isRTL(o.floating))?"start":"end")?"left":"right"):(g=h,x=A==="end"?"top":"bottom");const v=f-u.top-u.bottom,j=p-u.left-u.right,B=_h(f-u[x],v),F=_h(p-u[g],j),P=!s.middlewareData.shift;let E=B,N=F;if((r=s.middlewareData.shift)!=null&&r.enabled.x&&(N=j),(n=s.middlewareData.shift)!=null&&n.enabled.y&&(E=v),P&&!A){const _=Nl(u.left,0),k=Nl(u.right,0),D=Nl(u.top,0),z=Nl(u.bottom,0);m?N=p-2*(_!==0||k!==0?_+k:Nl(u.left,u.right)):E=f-2*(D!==0||z!==0?D+z:Nl(u.top,u.bottom))}await c({...s,availableWidth:N,availableHeight:E});const C=await l.getDimensions(o.floating);return p!==C.width||f!==C.height?{reset:{rects:!0}}:{}}}};function q2(){return typeof window<"u"}function g0(t){return OQ(t)?(t.nodeName||"").toLowerCase():"#document"}function Tl(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function nd(t){var s;return(s=(OQ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function OQ(t){return q2()?t instanceof Node||t instanceof Tl(t).Node:!1}function hc(t){return q2()?t instanceof Element||t instanceof Tl(t).Element:!1}function td(t){return q2()?t instanceof HTMLElement||t instanceof Tl(t).HTMLElement:!1}function p8(t){return!q2()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tl(t).ShadowRoot}function rj(t){const{overflow:s,overflowX:r,overflowY:n,display:a}=Ac(t);return/auto|scroll|overlay|hidden|clip/.test(s+n+r)&&!["inline","contents"].includes(a)}function Cle(t){return["table","td","th"].includes(g0(t))}function $2(t){return[":popover-open",":modal"].some(s=>{try{return t.matches(s)}catch{return!1}})}function K3(t){const s=z3(),r=hc(t)?Ac(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!s&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!s&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Ble(t){let s=Fh(t);for(;td(s)&&!Jx(s);){if(K3(s))return s;if($2(s))return null;s=Fh(s)}return null}function z3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Jx(t){return["html","body","#document"].includes(g0(t))}function Ac(t){return Tl(t).getComputedStyle(t)}function G2(t){return hc(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fh(t){if(g0(t)==="html")return t;const s=t.assignedSlot||t.parentNode||p8(t)&&t.host||nd(t);return p8(s)?s.host:s}function RQ(t){const s=Fh(t);return Jx(s)?t.ownerDocument?t.ownerDocument.body:t.body:td(s)&&rj(s)?s:RQ(s)}function gv(t,s,r){var n;s===void 0&&(s=[]),r===void 0&&(r=!0);const a=RQ(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),l=Tl(a);if(i){const o=rS(l);return s.concat(l,l.visualViewport||[],rj(a)?a:[],o&&r?gv(o):[])}return s.concat(a,gv(a,[],r))}function rS(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function MQ(t){const s=Ac(t);let r=parseFloat(s.width)||0,n=parseFloat(s.height)||0;const a=td(t),i=a?t.offsetWidth:r,l=a?t.offsetHeight:n,o=xb(r)!==i||xb(n)!==l;return o&&(r=i,n=l),{width:r,height:n,$:o}}function q3(t){return hc(t)?t:t.contextElement}function fx(t){const s=q3(t);if(!td(s))return $c(1);const r=s.getBoundingClientRect(),{width:n,height:a,$:i}=MQ(s);let l=(i?xb(r.width):r.width)/n,o=(i?xb(r.height):r.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!o||!Number.isFinite(o))&&(o=1),{x:l,y:o}}const Sle=$c(0);function QQ(t){const s=Tl(t);return!z3()||!s.visualViewport?Sle:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function kle(t,s,r){return s===void 0&&(s=!1),!r||s&&r!==Tl(t)?!1:s}function cm(t,s,r,n){s===void 0&&(s=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=q3(t);let l=$c(1);s&&(n?hc(n)&&(l=fx(n)):l=fx(t));const o=kle(i,r,n)?QQ(i):$c(0);let c=(a.left+o.x)/l.x,d=(a.top+o.y)/l.y,u=a.width/l.x,h=a.height/l.y;if(i){const A=Tl(i),m=n&&hc(n)?Tl(n):n;let p=A,f=rS(p);for(;f&&n&&m!==p;){const x=fx(f),g=f.getBoundingClientRect(),v=Ac(f),j=g.left+(f.clientLeft+parseFloat(v.paddingLeft))*x.x,B=g.top+(f.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,d*=x.y,u*=x.x,h*=x.y,c+=j,d+=B,p=Tl(f),f=rS(p)}}return gb({width:u,height:h,x:c,y:d})}function $3(t,s){const r=G2(t).scrollLeft;return s?s.left+r:cm(nd(t)).left+r}function HQ(t,s,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),a=n.left+s.scrollLeft-(r?0:$3(t,n)),i=n.top+s.scrollTop;return{x:a,y:i}}function _le(t){let{elements:s,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",l=nd(n),o=s?$2(s.floating):!1;if(n===l||o&&i)return r;let c={scrollLeft:0,scrollTop:0},d=$c(1);const u=$c(0),h=td(n);if((h||!h&&!i)&&((g0(n)!=="body"||rj(l))&&(c=G2(n)),td(n))){const m=cm(n);d=fx(n),u.x=m.x+n.clientLeft,u.y=m.y+n.clientTop}const A=l&&!h&&!i?HQ(l,c,!0):$c(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+A.x,y:r.y*d.y-c.scrollTop*d.y+u.y+A.y}}function Ele(t){return Array.from(t.getClientRects())}function Fle(t){const s=nd(t),r=G2(t),n=t.ownerDocument.body,a=Nl(s.scrollWidth,s.clientWidth,n.scrollWidth,n.clientWidth),i=Nl(s.scrollHeight,s.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+$3(t);const o=-r.scrollTop;return Ac(n).direction==="rtl"&&(l+=Nl(s.clientWidth,n.clientWidth)-a),{width:a,height:i,x:l,y:o}}function Tle(t,s){const r=Tl(t),n=nd(t),a=r.visualViewport;let i=n.clientWidth,l=n.clientHeight,o=0,c=0;if(a){i=a.width,l=a.height;const d=z3();(!d||d&&s==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}return{width:i,height:l,x:o,y:c}}function Lle(t,s){const r=cm(t,!0,s==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=td(t)?fx(t):$c(1),l=t.clientWidth*i.x,o=t.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:l,height:o,x:c,y:d}}function g8(t,s,r){let n;if(s==="viewport")n=Tle(t,r);else if(s==="document")n=Fle(nd(t));else if(hc(s))n=Lle(s,r);else{const a=QQ(t);n={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return gb(n)}function VQ(t,s){const r=Fh(t);return r===s||!hc(r)||Jx(r)?!1:Ac(r).position==="fixed"||VQ(r,s)}function Ile(t,s){const r=s.get(t);if(r)return r;let n=gv(t,[],!1).filter(o=>hc(o)&&g0(o)!=="body"),a=null;const i=Ac(t).position==="fixed";let l=i?Fh(t):t;for(;hc(l)&&!Jx(l);){const o=Ac(l),c=K3(l);!c&&o.position==="fixed"&&(a=null),(i?!c&&!a:!c&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||rj(l)&&!c&&VQ(t,l))?n=n.filter(u=>u!==l):a=o,l=Fh(l)}return s.set(t,n),n}function Ple(t){let{element:s,boundary:r,rootBoundary:n,strategy:a}=t;const l=[...r==="clippingAncestors"?$2(s)?[]:Ile(s,this._c):[].concat(r),n],o=l[0],c=l.reduce((d,u)=>{const h=g8(s,u,a);return d.top=Nl(h.top,d.top),d.right=_h(h.right,d.right),d.bottom=_h(h.bottom,d.bottom),d.left=Nl(h.left,d.left),d},g8(s,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Dle(t){const{width:s,height:r}=MQ(t);return{width:s,height:r}}function Ule(t,s,r){const n=td(s),a=nd(s),i=r==="fixed",l=cm(t,!0,i,s);let o={scrollLeft:0,scrollTop:0};const c=$c(0);if(n||!n&&!i)if((g0(s)!=="body"||rj(a))&&(o=G2(s)),n){const A=cm(s,!0,i,s);c.x=A.x+s.clientLeft,c.y=A.y+s.clientTop}else a&&(c.x=$3(a));const d=a&&!n&&!i?HQ(a,o):$c(0),u=l.left+o.scrollLeft-c.x-d.x,h=l.top+o.scrollTop-c.y-d.y;return{x:u,y:h,width:l.width,height:l.height}}function f5(t){return Ac(t).position==="static"}function v8(t,s){if(!td(t)||Ac(t).position==="fixed")return null;if(s)return s(t);let r=t.offsetParent;return nd(t)===r&&(r=r.ownerDocument.body),r}function KQ(t,s){const r=Tl(t);if($2(t))return r;if(!td(t)){let a=Fh(t);for(;a&&!Jx(a);){if(hc(a)&&!f5(a))return a;a=Fh(a)}return r}let n=v8(t,s);for(;n&&Cle(n)&&f5(n);)n=v8(n,s);return n&&Jx(n)&&f5(n)&&!K3(n)?r:n||Ble(t)||r}const Ole=async function(t){const s=this.getOffsetParent||KQ,r=this.getDimensions,n=await r(t.floating);return{reference:Ule(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Rle(t){return Ac(t).direction==="rtl"}const Mle={convertOffsetParentRelativeRectToViewportRelativeRect:_le,getDocumentElement:nd,getClippingRect:Ple,getOffsetParent:KQ,getElementRects:Ole,getClientRects:Ele,getDimensions:Dle,getScale:fx,isElement:hc,isRTL:Rle};function zQ(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function Qle(t,s){let r=null,n;const a=nd(t);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function l(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:u,top:h,width:A,height:m}=d;if(o||s(),!A||!m)return;const p=Hy(h),f=Hy(a.clientWidth-(u+A)),x=Hy(a.clientHeight-(h+m)),g=Hy(u),j={rootMargin:-p+"px "+-f+"px "+-x+"px "+-g+"px",threshold:Nl(0,_h(1,c))||1};let B=!0;function F(P){const E=P[0].intersectionRatio;if(E!==c){if(!B)return l();E?l(!1,E):n=setTimeout(()=>{l(!1,1e-7)},1e3)}E===1&&!zQ(d,t.getBoundingClientRect())&&l(),B=!1}try{r=new IntersectionObserver(F,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(F,j)}r.observe(t)}return l(!0),i}function Hle(t,s,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=q3(t),u=a||i?[...d?gv(d):[],...gv(s)]:[];u.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const h=d&&o?Qle(d,r):null;let A=-1,m=null;l&&(m=new ResizeObserver(g=>{let[v]=g;v&&v.target===d&&m&&(m.unobserve(s),cancelAnimationFrame(A),A=requestAnimationFrame(()=>{var j;(j=m)==null||j.observe(s)})),r()}),d&&!c&&m.observe(d),m.observe(s));let p,f=c?cm(t):null;c&&x();function x(){const g=cm(t);f&&!zQ(f,g)&&r(),f=g,p=requestAnimationFrame(x)}return r(),()=>{var g;u.forEach(v=>{a&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,c&&cancelAnimationFrame(p)}}const Vle=yle,Kle=wle,zle=gle,qle=Nle,$le=vle,j8=ple,Gle=ble,Wle=(t,s,r)=>{const n=new Map,a={platform:Mle,...r},i={...a.platform,_c:n};return xle(t,s,{...a,platform:i})};var tw=typeof document<"u"?b.useLayoutEffect:b.useEffect;function vb(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let r,n,a;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==s.length)return!1;for(n=r;n--!==0;)if(!vb(t[n],s[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(s).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(s,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!vb(t[i],s[i]))return!1}return!0}return t!==t&&s!==s}function qQ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function y8(t,s){const r=qQ(t);return Math.round(s*r)/r}function x5(t){const s=b.useRef(t);return tw(()=>{s.current=t}),s}function Yle(t){t===void 0&&(t={});const{placement:s="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:l}={},transform:o=!0,whileElementsMounted:c,open:d}=t,[u,h]=b.useState({x:0,y:0,strategy:r,placement:s,middlewareData:{},isPositioned:!1}),[A,m]=b.useState(n);vb(A,n)||m(n);const[p,f]=b.useState(null),[x,g]=b.useState(null),v=b.useCallback(I=>{I!==P.current&&(P.current=I,f(I))},[]),j=b.useCallback(I=>{I!==E.current&&(E.current=I,g(I))},[]),B=i||p,F=l||x,P=b.useRef(null),E=b.useRef(null),N=b.useRef(u),C=c!=null,_=x5(c),k=x5(a),D=x5(d),z=b.useCallback(()=>{if(!P.current||!E.current)return;const I={placement:s,strategy:r,middleware:A};k.current&&(I.platform=k.current),Wle(P.current,E.current,I).then(ie=>{const ve={...ie,isPositioned:D.current!==!1};K.current&&!vb(N.current,ve)&&(N.current=ve,gm.flushSync(()=>{h(ve)}))})},[A,s,r,k,D]);tw(()=>{d===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[d]);const K=b.useRef(!1);tw(()=>(K.current=!0,()=>{K.current=!1}),[]),tw(()=>{if(B&&(P.current=B),F&&(E.current=F),B&&F){if(_.current)return _.current(B,F,z);z()}},[B,F,z,_,C]);const xe=b.useMemo(()=>({reference:P,floating:E,setReference:v,setFloating:j}),[v,j]),W=b.useMemo(()=>({reference:B,floating:F}),[B,F]),re=b.useMemo(()=>{const I={position:r,left:0,top:0};if(!W.floating)return I;const ie=y8(W.floating,u.x),ve=y8(W.floating,u.y);return o?{...I,transform:"translate("+ie+"px, "+ve+"px)",...qQ(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ie,top:ve}},[r,o,W.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:z,refs:xe,elements:W,floatingStyles:re}),[u,z,xe,W,re])}const Xle=t=>{function s(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&s(n)?n.current!=null?j8({element:n.current,padding:a}).fn(r):{}:n?j8({element:n,padding:a}).fn(r):{}}}},Jle=(t,s)=>({...Vle(t),options:[t,s]}),Zle=(t,s)=>({...Kle(t),options:[t,s]}),eoe=(t,s)=>({...Gle(t),options:[t,s]}),toe=(t,s)=>({...zle(t),options:[t,s]}),soe=(t,s)=>({...qle(t),options:[t,s]}),roe=(t,s)=>({...$le(t),options:[t,s]}),noe=(t,s)=>({...Xle(t),options:[t,s]});var aoe="Arrow",$Q=b.forwardRef((t,s)=>{const{children:r,width:n=10,height:a=5,...i}=t;return e.jsx(os.svg,{...i,ref:s,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});$Q.displayName=aoe;var ioe=$Q;function W2(t){const[s,r]=b.useState(void 0);return la(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let l,o;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;l=d.inlineSize,o=d.blockSize}else l=t.offsetWidth,o=t.offsetHeight;r({width:l,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),s}var G3="Popper",[GQ,v0]=Ga(G3),[loe,WQ]=GQ(G3),YQ=t=>{const{__scopePopper:s,children:r}=t,[n,a]=b.useState(null);return e.jsx(loe,{scope:s,anchor:n,onAnchorChange:a,children:r})};YQ.displayName=G3;var XQ="PopperAnchor",JQ=b.forwardRef((t,s)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=WQ(XQ,r),l=b.useRef(null),o=sr(s,l);return b.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:e.jsx(os.div,{...a,ref:o})});JQ.displayName=XQ;var W3="PopperContent",[ooe,coe]=GQ(W3),ZQ=b.forwardRef((t,s)=>{var Ae,G,O,ee,Le,Re;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:l=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:A=!1,updatePositionStrategy:m="optimized",onPlaced:p,...f}=t,x=WQ(W3,r),[g,v]=b.useState(null),j=sr(s,Ke=>v(Ke)),[B,F]=b.useState(null),P=W2(B),E=(P==null?void 0:P.width)??0,N=(P==null?void 0:P.height)??0,C=n+(i!=="center"?"-"+i:""),_=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(d)?d:[d],D=k.length>0,z={padding:_,boundary:k.filter(uoe),altBoundary:D},{refs:K,floatingStyles:xe,placement:W,isPositioned:re,middlewareData:I}=Yle({strategy:"fixed",placement:C,whileElementsMounted:(...Ke)=>Hle(...Ke,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[Jle({mainAxis:a+N,alignmentAxis:l}),c&&Zle({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?eoe():void 0,...z}),c&&toe({...z}),soe({...z,apply:({elements:Ke,rects:Me,availableWidth:$e,availableHeight:ge})=>{const{width:mt,height:Ot}=Me.reference,Ye=Ke.floating.style;Ye.setProperty("--radix-popper-available-width",`${$e}px`),Ye.setProperty("--radix-popper-available-height",`${ge}px`),Ye.setProperty("--radix-popper-anchor-width",`${mt}px`),Ye.setProperty("--radix-popper-anchor-height",`${Ot}px`)}}),B&&noe({element:B,padding:o}),hoe({arrowWidth:E,arrowHeight:N}),A&&roe({strategy:"referenceHidden",...z})]}),[ie,ve]=s7(W),De=za(p);la(()=>{re&&(De==null||De())},[re,De]);const L=(Ae=I.arrow)==null?void 0:Ae.x,U=(G=I.arrow)==null?void 0:G.y,R=((O=I.arrow)==null?void 0:O.centerOffset)!==0,[q,ae]=b.useState();return la(()=>{g&&ae(window.getComputedStyle(g).zIndex)},[g]),e.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...xe,transform:re?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(ee=I.transformOrigin)==null?void 0:ee.x,(Le=I.transformOrigin)==null?void 0:Le.y].join(" "),...((Re=I.hide)==null?void 0:Re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(ooe,{scope:r,placedSide:ie,onArrowChange:F,arrowX:L,arrowY:U,shouldHideArrow:R,children:e.jsx(os.div,{"data-side":ie,"data-align":ve,...f,ref:j,style:{...f.style,animation:re?void 0:"none"}})})})});ZQ.displayName=W3;var e7="PopperArrow",doe={top:"bottom",right:"left",bottom:"top",left:"right"},t7=b.forwardRef(function(s,r){const{__scopePopper:n,...a}=s,i=coe(e7,n),l=doe[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(ioe,{...a,ref:r,style:{...a.style,display:"block"}})})});t7.displayName=e7;function uoe(t){return t!==null}var hoe=t=>({name:"transformOrigin",options:t,fn(s){var x,g,v;const{placement:r,rects:n,middlewareData:a}=s,l=((x=a.arrow)==null?void 0:x.centerOffset)!==0,o=l?0:t.arrowWidth,c=l?0:t.arrowHeight,[d,u]=s7(r),h={start:"0%",center:"50%",end:"100%"}[u],A=(((g=a.arrow)==null?void 0:g.x)??0)+o/2,m=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let p="",f="";return d==="bottom"?(p=l?h:`${A}px`,f=`${-c}px`):d==="top"?(p=l?h:`${A}px`,f=`${n.floating.height+c}px`):d==="right"?(p=`${-c}px`,f=l?h:`${m}px`):d==="left"&&(p=`${n.floating.width+c}px`,f=l?h:`${m}px`),{data:{x:p,y:f}}}});function s7(t){const[s,r="center"]=t.split("-");return[s,r]}var Y3=YQ,Y2=JQ,X3=ZQ,J3=t7;function X2(t){const s=b.useRef({value:t,previous:t});return b.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var Aoe=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},cf=new WeakMap,Vy=new WeakMap,Ky={},p5=0,r7=function(t){return t&&(t.host||r7(t.parentNode))},moe=function(t,s){return s.map(function(r){if(t.contains(r))return r;var n=r7(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},foe=function(t,s,r,n){var a=moe(s,Array.isArray(t)?t:[t]);Ky[r]||(Ky[r]=new WeakMap);var i=Ky[r],l=[],o=new Set,c=new Set(a),d=function(h){!h||o.has(h)||(o.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(A){if(o.has(A))u(A);else try{var m=A.getAttribute(n),p=m!==null&&m!=="false",f=(cf.get(A)||0)+1,x=(i.get(A)||0)+1;cf.set(A,f),i.set(A,x),l.push(A),f===1&&p&&Vy.set(A,!0),x===1&&A.setAttribute(r,"true"),p||A.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",A,g)}})};return u(s),o.clear(),p5++,function(){l.forEach(function(h){var A=cf.get(h)-1,m=i.get(h)-1;cf.set(h,A),i.set(h,m),A||(Vy.has(h)||h.removeAttribute(n),Vy.delete(h)),m||h.removeAttribute(r)}),p5--,p5||(cf=new WeakMap,cf=new WeakMap,Vy=new WeakMap,Ky={})}},J2=function(t,s,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=Aoe(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),foe(n,a,r,"aria-hidden")):function(){return null}},Rc=function(){return Rc=Object.assign||function(s){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])}return s},Rc.apply(this,arguments)};function n7(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function xoe(t,s,r){if(r||arguments.length===2)for(var n=0,a=s.length,i;n<a;n++)(i||!(n in s))&&(i||(i=Array.prototype.slice.call(s,0,n)),i[n]=s[n]);return t.concat(i||Array.prototype.slice.call(s))}var sw="right-scroll-bar-position",rw="width-before-scroll-bar",poe="with-scroll-bars-hidden",goe="--removed-body-scroll-bar-size";function g5(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function voe(t,s){var r=b.useState(function(){return{value:t,callback:s,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=s,r.facade}var joe=typeof window<"u"?b.useLayoutEffect:b.useEffect,w8=new WeakMap;function yoe(t,s){var r=voe(null,function(n){return t.forEach(function(a){return g5(a,n)})});return joe(function(){var n=w8.get(r);if(n){var a=new Set(n),i=new Set(t),l=r.current;a.forEach(function(o){i.has(o)||g5(o,null)}),i.forEach(function(o){a.has(o)||g5(o,l)})}w8.set(r,t)},[t]),r}function woe(t){return t}function boe(t,s){s===void 0&&(s=woe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var l=s(i,n);return r.push(l),function(){r=r.filter(function(o){return o!==l})}},assignSyncMedium:function(i){for(n=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var l=[];if(r.length){var o=r;r=[],o.forEach(i),l=r}var c=function(){var u=l;l=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){l.push(u),d()},filter:function(u){return l=l.filter(u),r}}}};return a}function Noe(t){t===void 0&&(t={});var s=boe(null);return s.options=Rc({async:!0,ssr:!1},t),s}var a7=function(t){var s=t.sideCar,r=n7(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=s.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,Rc({},r))};a7.isSideCarExport=!0;function Coe(t,s){return t.useMedium(s),a7}var i7=Noe(),v5=function(){},Z2=b.forwardRef(function(t,s){var r=b.useRef(null),n=b.useState({onScrollCapture:v5,onWheelCapture:v5,onTouchMoveCapture:v5}),a=n[0],i=n[1],l=t.forwardProps,o=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,A=t.sideCar,m=t.noIsolation,p=t.inert,f=t.allowPinchZoom,x=t.as,g=x===void 0?"div":x,v=t.gapMode,j=n7(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=A,F=yoe([r,s]),P=Rc(Rc({},j),a);return b.createElement(b.Fragment,null,u&&b.createElement(B,{sideCar:i7,removeScrollBar:d,shards:h,noIsolation:m,inert:p,setCallbacks:i,allowPinchZoom:!!f,lockRef:r,gapMode:v}),l?b.cloneElement(b.Children.only(o),Rc(Rc({},P),{ref:F})):b.createElement(g,Rc({},P,{className:c,ref:F}),o))});Z2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Z2.classNames={fullWidth:rw,zeroRight:sw};var Boe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Soe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=Boe();return s&&t.setAttribute("nonce",s),t}function koe(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function _oe(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var Eoe=function(){var t=0,s=null;return{add:function(r){t==0&&(s=Soe())&&(koe(s,r),_oe(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},Foe=function(){var t=Eoe();return function(s,r){b.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&r])}},l7=function(){var t=Foe(),s=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return s},Toe={left:0,top:0,right:0,gap:0},j5=function(t){return parseInt(t||"",10)||0},Loe=function(t){var s=window.getComputedStyle(document.body),r=s[t==="padding"?"paddingLeft":"marginLeft"],n=s[t==="padding"?"paddingTop":"marginTop"],a=s[t==="padding"?"paddingRight":"marginRight"];return[j5(r),j5(n),j5(a)]},Ioe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Toe;var s=Loe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,n-r+s[2]-s[0])}},Poe=l7(),xx="data-scroll-locked",Doe=function(t,s,r,n){var a=t.left,i=t.top,l=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(poe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(xx,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sw,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(rw,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(sw," .").concat(sw,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(rw," .").concat(rw,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(xx,`] {
    `).concat(goe,": ").concat(o,`px;
  }
`)},b8=function(){var t=parseInt(document.body.getAttribute(xx)||"0",10);return isFinite(t)?t:0},Uoe=function(){b.useEffect(function(){return document.body.setAttribute(xx,(b8()+1).toString()),function(){var t=b8()-1;t<=0?document.body.removeAttribute(xx):document.body.setAttribute(xx,t.toString())}},[])},Ooe=function(t){var s=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;Uoe();var i=b.useMemo(function(){return Ioe(a)},[a]);return b.createElement(Poe,{styles:Doe(i,!s,a,r?"":"!important")})},nS=!1;if(typeof window<"u")try{var zy=Object.defineProperty({},"passive",{get:function(){return nS=!0,!0}});window.addEventListener("test",zy,zy),window.removeEventListener("test",zy,zy)}catch{nS=!1}var df=nS?{passive:!1}:!1,Roe=function(t){return t.tagName==="TEXTAREA"},o7=function(t,s){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[s]!=="hidden"&&!(r.overflowY===r.overflowX&&!Roe(t)&&r[s]==="visible")},Moe=function(t){return o7(t,"overflowY")},Qoe=function(t){return o7(t,"overflowX")},N8=function(t,s){var r=s.ownerDocument,n=s;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=c7(t,n);if(a){var i=d7(t,n),l=i[1],o=i[2];if(l>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Hoe=function(t){var s=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[s,r,n]},Voe=function(t){var s=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[s,r,n]},c7=function(t,s){return t==="v"?Moe(s):Qoe(s)},d7=function(t,s){return t==="v"?Hoe(s):Voe(s)},Koe=function(t,s){return t==="h"&&s==="rtl"?-1:1},zoe=function(t,s,r,n,a){var i=Koe(t,window.getComputedStyle(s).direction),l=i*n,o=r.target,c=s.contains(o),d=!1,u=l>0,h=0,A=0;do{var m=d7(t,o),p=m[0],f=m[1],x=m[2],g=f-x-i*p;(p||g)&&c7(t,o)&&(h+=g,A+=p),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(s.contains(o)||s===o));return(u&&Math.abs(h)<1||!u&&Math.abs(A)<1)&&(d=!0),d},qy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},C8=function(t){return[t.deltaX,t.deltaY]},B8=function(t){return t&&"current"in t?t.current:t},qoe=function(t,s){return t[0]===s[0]&&t[1]===s[1]},$oe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Goe=0,uf=[];function Woe(t){var s=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),a=b.useState(Goe++)[0],i=b.useState(l7)[0],l=b.useRef(t);b.useEffect(function(){l.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var f=xoe([t.lockRef.current],(t.shards||[]).map(B8),!0).filter(Boolean);return f.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),f.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var o=b.useCallback(function(f,x){if("touches"in f&&f.touches.length===2||f.type==="wheel"&&f.ctrlKey)return!l.current.allowPinchZoom;var g=qy(f),v=r.current,j="deltaX"in f?f.deltaX:v[0]-g[0],B="deltaY"in f?f.deltaY:v[1]-g[1],F,P=f.target,E=Math.abs(j)>Math.abs(B)?"h":"v";if("touches"in f&&E==="h"&&P.type==="range")return!1;var N=N8(E,P);if(!N)return!0;if(N?F=E:(F=E==="v"?"h":"v",N=N8(E,P)),!N)return!1;if(!n.current&&"changedTouches"in f&&(j||B)&&(n.current=F),!F)return!0;var C=n.current||F;return zoe(C,x,f,C==="h"?j:B)},[]),c=b.useCallback(function(f){var x=f;if(!(!uf.length||uf[uf.length-1]!==i)){var g="deltaY"in x?C8(x):qy(x),v=s.current.filter(function(F){return F.name===x.type&&(F.target===x.target||x.target===F.shadowParent)&&qoe(F.delta,g)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var j=(l.current.shards||[]).map(B8).filter(Boolean).filter(function(F){return F.contains(x.target)}),B=j.length>0?o(x,j[0]):!l.current.noIsolation;B&&x.cancelable&&x.preventDefault()}}},[]),d=b.useCallback(function(f,x,g,v){var j={name:f,delta:x,target:g,should:v,shadowParent:Yoe(g)};s.current.push(j),setTimeout(function(){s.current=s.current.filter(function(B){return B!==j})},1)},[]),u=b.useCallback(function(f){r.current=qy(f),n.current=void 0},[]),h=b.useCallback(function(f){d(f.type,C8(f),f.target,o(f,t.lockRef.current))},[]),A=b.useCallback(function(f){d(f.type,qy(f),f.target,o(f,t.lockRef.current))},[]);b.useEffect(function(){return uf.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:A}),document.addEventListener("wheel",c,df),document.addEventListener("touchmove",c,df),document.addEventListener("touchstart",u,df),function(){uf=uf.filter(function(f){return f!==i}),document.removeEventListener("wheel",c,df),document.removeEventListener("touchmove",c,df),document.removeEventListener("touchstart",u,df)}},[]);var m=t.removeScrollBar,p=t.inert;return b.createElement(b.Fragment,null,p?b.createElement(i,{styles:$oe(a)}):null,m?b.createElement(Ooe,{gapMode:t.gapMode}):null)}function Yoe(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const Xoe=Coe(i7,Woe);var nj=b.forwardRef(function(t,s){return b.createElement(Z2,Rc({},t,{ref:s,sideCar:Xoe}))});nj.classNames=Z2.classNames;var Joe=[" ","Enter","ArrowUp","ArrowDown"],Zoe=[" ","Enter"],aj="Select",[eN,tN,ece]=_2(aj),[j0,W3e]=Ga(aj,[ece,v0]),sN=v0(),[tce,Hh]=j0(aj),[sce,rce]=j0(aj),u7=t=>{const{__scopeSelect:s,children:r,open:n,defaultOpen:a,onOpenChange:i,value:l,defaultValue:o,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:A,required:m,form:p}=t,f=sN(s),[x,g]=b.useState(null),[v,j]=b.useState(null),[B,F]=b.useState(!1),P=tj(d),[E=!1,N]=go({prop:n,defaultProp:a,onChange:i}),[C,_]=go({prop:l,defaultProp:o,onChange:c}),k=b.useRef(null),D=x?p||!!x.closest("form"):!0,[z,K]=b.useState(new Set),xe=Array.from(z).map(W=>W.props.value).join(";");return e.jsx(Y3,{...f,children:e.jsxs(tce,{required:m,scope:s,trigger:x,onTriggerChange:g,valueNode:v,onValueNodeChange:j,valueNodeHasChildren:B,onValueNodeHasChildrenChange:F,contentId:ho(),value:C,onValueChange:_,open:E,onOpenChange:N,dir:P,triggerPointerDownPosRef:k,disabled:A,children:[e.jsx(eN.Provider,{scope:s,children:e.jsx(sce,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(W=>{K(re=>new Set(re).add(W))},[]),onNativeOptionRemove:b.useCallback(W=>{K(re=>{const I=new Set(re);return I.delete(W),I})},[]),children:r})}),D?e.jsxs(D7,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:h,value:C,onChange:W=>_(W.target.value),disabled:A,form:p,children:[C===void 0?e.jsx("option",{value:""}):null,Array.from(z)]},xe):null]})})};u7.displayName=aj;var h7="SelectTrigger",A7=b.forwardRef((t,s)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=sN(r),l=Hh(h7,r),o=l.disabled||n,c=sr(s,l.onTriggerChange),d=tN(r),u=b.useRef("touch"),[h,A,m]=U7(f=>{const x=d().filter(j=>!j.disabled),g=x.find(j=>j.value===l.value),v=O7(x,f,g);v!==void 0&&l.onValueChange(v.value)}),p=f=>{o||(l.onOpenChange(!0),m()),f&&(l.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return e.jsx(Y2,{asChild:!0,...i,children:e.jsx(os.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":P7(l.value)?"":void 0,...a,ref:c,onClick:Qt(a.onClick,f=>{f.currentTarget.focus(),u.current!=="mouse"&&p(f)}),onPointerDown:Qt(a.onPointerDown,f=>{u.current=f.pointerType;const x=f.target;x.hasPointerCapture(f.pointerId)&&x.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(p(f),f.preventDefault())}),onKeyDown:Qt(a.onKeyDown,f=>{const x=h.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&A(f.key),!(x&&f.key===" ")&&Joe.includes(f.key)&&(p(),f.preventDefault())})})})});A7.displayName=h7;var m7="SelectValue",f7=b.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:l="",...o}=t,c=Hh(m7,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=sr(s,c.onValueNodeChange);return la(()=>{d(u)},[d,u]),e.jsx(os.span,{...o,ref:h,style:{pointerEvents:"none"},children:P7(c.value)?e.jsx(e.Fragment,{children:l}):i})});f7.displayName=m7;var nce="SelectIcon",x7=b.forwardRef((t,s)=>{const{__scopeSelect:r,children:n,...a}=t;return e.jsx(os.span,{"aria-hidden":!0,...a,ref:s,children:n||""})});x7.displayName=nce;var ace="SelectPortal",p7=t=>e.jsx(h0,{asChild:!0,...t});p7.displayName=ace;var dm="SelectContent",g7=b.forwardRef((t,s)=>{const r=Hh(dm,t.__scopeSelect),[n,a]=b.useState();if(la(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?gm.createPortal(e.jsx(v7,{scope:t.__scopeSelect,children:e.jsx(eN.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(j7,{...t,ref:s})});g7.displayName=dm;var Do=10,[v7,Vh]=j0(dm),ice="SelectContentImpl",lce=yh("SelectContent.RemoveScroll"),j7=b.forwardRef((t,s)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:l,side:o,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:A,collisionPadding:m,sticky:p,hideWhenDetached:f,avoidCollisions:x,...g}=t,v=Hh(dm,r),[j,B]=b.useState(null),[F,P]=b.useState(null),E=sr(s,Ae=>B(Ae)),[N,C]=b.useState(null),[_,k]=b.useState(null),D=tN(r),[z,K]=b.useState(!1),xe=b.useRef(!1);b.useEffect(()=>{if(j)return J2(j)},[j]),z2();const W=b.useCallback(Ae=>{const[G,...O]=D().map(Re=>Re.ref.current),[ee]=O.slice(-1),Le=document.activeElement;for(const Re of Ae)if(Re===Le||(Re==null||Re.scrollIntoView({block:"nearest"}),Re===G&&F&&(F.scrollTop=0),Re===ee&&F&&(F.scrollTop=F.scrollHeight),Re==null||Re.focus(),document.activeElement!==Le))return},[D,F]),re=b.useCallback(()=>W([N,j]),[W,N,j]);b.useEffect(()=>{z&&re()},[z,re]);const{onOpenChange:I,triggerPointerDownPosRef:ie}=v;b.useEffect(()=>{if(j){let Ae={x:0,y:0};const G=ee=>{var Le,Re;Ae={x:Math.abs(Math.round(ee.pageX)-(((Le=ie.current)==null?void 0:Le.x)??0)),y:Math.abs(Math.round(ee.pageY)-(((Re=ie.current)==null?void 0:Re.y)??0))}},O=ee=>{Ae.x<=10&&Ae.y<=10?ee.preventDefault():j.contains(ee.target)||I(!1),document.removeEventListener("pointermove",G),ie.current=null};return ie.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",O,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",O,{capture:!0})}}},[j,I,ie]),b.useEffect(()=>{const Ae=()=>I(!1);return window.addEventListener("blur",Ae),window.addEventListener("resize",Ae),()=>{window.removeEventListener("blur",Ae),window.removeEventListener("resize",Ae)}},[I]);const[ve,De]=U7(Ae=>{const G=D().filter(Le=>!Le.disabled),O=G.find(Le=>Le.ref.current===document.activeElement),ee=O7(G,Ae,O);ee&&setTimeout(()=>ee.ref.current.focus())}),L=b.useCallback((Ae,G,O)=>{const ee=!xe.current&&!O;(v.value!==void 0&&v.value===G||ee)&&(C(Ae),ee&&(xe.current=!0))},[v.value]),U=b.useCallback(()=>j==null?void 0:j.focus(),[j]),R=b.useCallback((Ae,G,O)=>{const ee=!xe.current&&!O;(v.value!==void 0&&v.value===G||ee)&&k(Ae)},[v.value]),q=n==="popper"?aS:y7,ae=q===aS?{side:o,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:A,collisionPadding:m,sticky:p,hideWhenDetached:f,avoidCollisions:x}:{};return e.jsx(v7,{scope:r,content:j,viewport:F,onViewportChange:P,itemRefCallback:L,selectedItem:N,onItemLeave:U,itemTextRefCallback:R,focusSelectedItem:re,selectedItemText:_,position:n,isPositioned:z,searchRef:ve,children:e.jsx(nj,{as:lce,allowPinchZoom:!0,children:e.jsx(sj,{asChild:!0,trapped:v.open,onMountAutoFocus:Ae=>{Ae.preventDefault()},onUnmountAutoFocus:Qt(a,Ae=>{var G;(G=v.trigger)==null||G.focus({preventScroll:!0}),Ae.preventDefault()}),children:e.jsx(u0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:Ae=>Ae.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:e.jsx(q,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Ae=>Ae.preventDefault(),...g,...ae,onPlaced:()=>K(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Qt(g.onKeyDown,Ae=>{const G=Ae.ctrlKey||Ae.altKey||Ae.metaKey;if(Ae.key==="Tab"&&Ae.preventDefault(),!G&&Ae.key.length===1&&De(Ae.key),["ArrowUp","ArrowDown","Home","End"].includes(Ae.key)){let ee=D().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(Ae.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ae.key)){const Le=Ae.target,Re=ee.indexOf(Le);ee=ee.slice(Re+1)}setTimeout(()=>W(ee)),Ae.preventDefault()}})})})})})})});j7.displayName=ice;var oce="SelectItemAlignedPosition",y7=b.forwardRef((t,s)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=Hh(dm,r),l=Vh(dm,r),[o,c]=b.useState(null),[d,u]=b.useState(null),h=sr(s,E=>u(E)),A=tN(r),m=b.useRef(!1),p=b.useRef(!0),{viewport:f,selectedItem:x,selectedItemText:g,focusSelectedItem:v}=l,j=b.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&d&&f&&x&&g){const E=i.trigger.getBoundingClientRect(),N=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),_=g.getBoundingClientRect();if(i.dir!=="rtl"){const Le=_.left-N.left,Re=C.left-Le,Ke=E.left-Re,Me=E.width+Ke,$e=Math.max(Me,N.width),ge=window.innerWidth-Do,mt=o8(Re,[Do,Math.max(Do,ge-$e)]);o.style.minWidth=Me+"px",o.style.left=mt+"px"}else{const Le=N.right-_.right,Re=window.innerWidth-C.right-Le,Ke=window.innerWidth-E.right-Re,Me=E.width+Ke,$e=Math.max(Me,N.width),ge=window.innerWidth-Do,mt=o8(Re,[Do,Math.max(Do,ge-$e)]);o.style.minWidth=Me+"px",o.style.right=mt+"px"}const k=A(),D=window.innerHeight-Do*2,z=f.scrollHeight,K=window.getComputedStyle(d),xe=parseInt(K.borderTopWidth,10),W=parseInt(K.paddingTop,10),re=parseInt(K.borderBottomWidth,10),I=parseInt(K.paddingBottom,10),ie=xe+W+z+I+re,ve=Math.min(x.offsetHeight*5,ie),De=window.getComputedStyle(f),L=parseInt(De.paddingTop,10),U=parseInt(De.paddingBottom,10),R=E.top+E.height/2-Do,q=D-R,ae=x.offsetHeight/2,Ae=x.offsetTop+ae,G=xe+W+Ae,O=ie-G;if(G<=R){const Le=k.length>0&&x===k[k.length-1].ref.current;o.style.bottom="0px";const Re=d.clientHeight-f.offsetTop-f.offsetHeight,Ke=Math.max(q,ae+(Le?U:0)+Re+re),Me=G+Ke;o.style.height=Me+"px"}else{const Le=k.length>0&&x===k[0].ref.current;o.style.top="0px";const Ke=Math.max(R,xe+f.offsetTop+(Le?L:0)+ae)+O;o.style.height=Ke+"px",f.scrollTop=G-R+f.offsetTop}o.style.margin=`${Do}px 0`,o.style.minHeight=ve+"px",o.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[A,i.trigger,i.valueNode,o,d,f,x,g,i.dir,n]);la(()=>j(),[j]);const[B,F]=b.useState();la(()=>{d&&F(window.getComputedStyle(d).zIndex)},[d]);const P=b.useCallback(E=>{E&&p.current===!0&&(j(),v==null||v(),p.current=!1)},[j,v]);return e.jsx(dce,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:P,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:e.jsx(os.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});y7.displayName=oce;var cce="SelectPopperPosition",aS=b.forwardRef((t,s)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Do,...i}=t,l=sN(r);return e.jsx(X3,{...l,...i,ref:s,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});aS.displayName=cce;var[dce,Z3]=j0(dm,{}),iS="SelectViewport",w7=b.forwardRef((t,s)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=Vh(iS,r),l=Z3(iS,r),o=sr(s,i.onViewportChange),c=b.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(eN.Slot,{scope:r,children:e.jsx(os.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Qt(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:A}=l;if(A!=null&&A.current&&h){const m=Math.abs(c.current-u.scrollTop);if(m>0){const p=window.innerHeight-Do*2,f=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),g=Math.max(f,x);if(g<p){const v=g+m,j=Math.min(p,v),B=v-j;h.style.height=j+"px",h.style.bottom==="0px"&&(u.scrollTop=B>0?B:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});w7.displayName=iS;var b7="SelectGroup",[uce,hce]=j0(b7),Ace=b.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=ho();return e.jsx(uce,{scope:r,id:a,children:e.jsx(os.div,{role:"group","aria-labelledby":a,...n,ref:s})})});Ace.displayName=b7;var N7="SelectLabel",C7=b.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=hce(N7,r);return e.jsx(os.div,{id:a.id,...n,ref:s})});C7.displayName=N7;var jb="SelectItem",[mce,B7]=j0(jb),S7=b.forwardRef((t,s)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...l}=t,o=Hh(jb,r),c=Vh(jb,r),d=o.value===n,[u,h]=b.useState(i??""),[A,m]=b.useState(!1),p=sr(s,v=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,v,n,a)}),f=ho(),x=b.useRef("touch"),g=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(mce,{scope:r,value:n,disabled:a,textId:f,isSelected:d,onItemTextChange:b.useCallback(v=>{h(j=>j||((v==null?void 0:v.textContent)??"").trim())},[]),children:e.jsx(eN.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:e.jsx(os.div,{role:"option","aria-labelledby":f,"data-highlighted":A?"":void 0,"aria-selected":d&&A,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:p,onFocus:Qt(l.onFocus,()=>m(!0)),onBlur:Qt(l.onBlur,()=>m(!1)),onClick:Qt(l.onClick,()=>{x.current!=="mouse"&&g()}),onPointerUp:Qt(l.onPointerUp,()=>{x.current==="mouse"&&g()}),onPointerDown:Qt(l.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:Qt(l.onPointerMove,v=>{var j;x.current=v.pointerType,a?(j=c.onItemLeave)==null||j.call(c):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Qt(l.onPointerLeave,v=>{var j;v.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:Qt(l.onKeyDown,v=>{var B;((B=c.searchRef)==null?void 0:B.current)!==""&&v.key===" "||(Zoe.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});S7.displayName=jb;var Op="SelectItemText",k7=b.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,l=Hh(Op,r),o=Vh(Op,r),c=B7(Op,r),d=rce(Op,r),[u,h]=b.useState(null),A=sr(s,g=>h(g),c.onItemTextChange,g=>{var v;return(v=o.itemTextRefCallback)==null?void 0:v.call(o,g,c.value,c.disabled)}),m=u==null?void 0:u.textContent,p=b.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:f,onNativeOptionRemove:x}=d;return la(()=>(f(p),()=>x(p)),[f,x,p]),e.jsxs(e.Fragment,{children:[e.jsx(os.span,{id:c.textId,...i,ref:A}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?gm.createPortal(i.children,l.valueNode):null]})});k7.displayName=Op;var _7="SelectItemIndicator",E7=b.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return B7(_7,r).isSelected?e.jsx(os.span,{"aria-hidden":!0,...n,ref:s}):null});E7.displayName=_7;var lS="SelectScrollUpButton",F7=b.forwardRef((t,s)=>{const r=Vh(lS,t.__scopeSelect),n=Z3(lS,t.__scopeSelect),[a,i]=b.useState(!1),l=sr(s,n.onScrollButtonChange);return la(()=>{if(r.viewport&&r.isPositioned){let o=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?e.jsx(L7,{...t,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});F7.displayName=lS;var oS="SelectScrollDownButton",T7=b.forwardRef((t,s)=>{const r=Vh(oS,t.__scopeSelect),n=Z3(oS,t.__scopeSelect),[a,i]=b.useState(!1),l=sr(s,n.onScrollButtonChange);return la(()=>{if(r.viewport&&r.isPositioned){let o=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?e.jsx(L7,{...t,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});T7.displayName=oS;var L7=b.forwardRef((t,s)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=Vh("SelectScrollButton",r),l=b.useRef(null),o=tN(r),c=b.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),la(()=>{var u;const d=o().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),e.jsx(os.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:Qt(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:Qt(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:Qt(a.onPointerLeave,()=>{c()})})}),fce="SelectSeparator",I7=b.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return e.jsx(os.div,{"aria-hidden":!0,...n,ref:s})});I7.displayName=fce;var cS="SelectArrow",xce=b.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=sN(r),i=Hh(cS,r),l=Vh(cS,r);return i.open&&l.position==="popper"?e.jsx(J3,{...a,...n,ref:s}):null});xce.displayName=cS;function P7(t){return t===""||t===void 0}var D7=b.forwardRef((t,s)=>{const{value:r,...n}=t,a=b.useRef(null),i=sr(s,a),l=X2(r);return b.useEffect(()=>{const o=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==r&&u){const h=new Event("change",{bubbles:!0});u.call(o,r),o.dispatchEvent(h)}},[l,r]),e.jsx(E2,{asChild:!0,children:e.jsx("select",{...n,ref:i,defaultValue:r})})});D7.displayName="BubbleSelect";function U7(t){const s=za(t),r=b.useRef(""),n=b.useRef(0),a=b.useCallback(l=>{const o=r.current+l;s(o),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[s]),i=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function O7(t,s,r){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,i=r?t.indexOf(r):-1;let l=pce(t,Math.max(i,0));a.length===1&&(l=l.filter(d=>d!==r));const c=l.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function pce(t,s){return t.map((r,n)=>t[(s+n)%t.length])}var gce=u7,R7=A7,vce=f7,jce=x7,yce=p7,M7=g7,wce=w7,Q7=C7,H7=S7,bce=k7,Nce=E7,V7=F7,K7=T7,z7=I7;const xt=gce,pt=vce,ht=b.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(R7,{ref:n,className:at("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[s,e.jsx(jce,{asChild:!0,children:e.jsx(v3,{className:"h-4 w-4 opacity-50"})})]}));ht.displayName=R7.displayName;const q7=b.forwardRef(({className:t,...s},r)=>e.jsx(V7,{ref:r,className:at("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(yte,{className:"h-4 w-4"})}));q7.displayName=V7.displayName;const $7=b.forwardRef(({className:t,...s},r)=>e.jsx(K7,{ref:r,className:at("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(v3,{className:"h-4 w-4"})}));$7.displayName=K7.displayName;const At=b.forwardRef(({className:t,children:s,position:r="popper",...n},a)=>e.jsx(yce,{children:e.jsxs(M7,{ref:a,className:at("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[e.jsx(q7,{}),e.jsx(wce,{className:at("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx($7,{})]})}));At.displayName=M7.displayName;const Cce=b.forwardRef(({className:t,...s},r)=>e.jsx(Q7,{ref:r,className:at("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));Cce.displayName=Q7.displayName;const X=b.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(H7,{ref:n,className:at("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Nce,{children:e.jsx(L2,{className:"h-4 w-4"})})}),e.jsx(bce,{children:s})]}));X.displayName=H7.displayName;const Bce=b.forwardRef(({className:t,...s},r)=>e.jsx(z7,{ref:r,className:at("-mx-1 my-1 h-px bg-muted",t),...s}));Bce.displayName=z7.displayName;function Sce(){const[,t]=Oi(),{toast:s}=ls(),[r,n]=b.useState({username:"",name:"",email:"",password:"",confirmPassword:"",role:"admin",phoneNumber:""}),a=Bt({mutationFn:async o=>await Vt("/api/register",{method:"POST",body:{username:o.username,name:o.name,email:o.email,password:o.password,role:o.role,phoneNumber:o.phoneNumber}}),onSuccess:o=>{s({title:"Registration Successful",description:"Admin user has been created successfully."}),t("/admin-portal")},onError:o=>{s({title:"Registration Failed",description:o.message||"Failed to create admin user",variant:"destructive"})}}),i=async o=>{if(o.preventDefault(),r.password!==r.confirmPassword){s({title:"Password Mismatch",description:"Passwords do not match",variant:"destructive"});return}if(r.password.length<6){s({title:"Weak Password",description:"Password must be at least 6 characters long",variant:"destructive"});return}a.mutate(r)},l=(o,c)=>{n(d=>({...d,[o]:c}))};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:e.jsxs(H,{className:"w-full max-w-md",children:[e.jsxs(oe,{className:"text-center",children:[e.jsx(ce,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create Admin Account"}),e.jsx(ct,{className:"text-gray-600 dark:text-gray-300",children:"Register the first admin user for your school management system"})]}),e.jsx(M,{children:e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"username",children:"Username"}),e.jsx(de,{id:"username",type:"text",value:r.username,onChange:o=>l("username",o.target.value),placeholder:"Enter username",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"name",children:"Full Name"}),e.jsx(de,{id:"name",type:"text",value:r.name,onChange:o=>l("name",o.target.value),placeholder:"Enter full name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"email",children:"Email"}),e.jsx(de,{id:"email",type:"email",value:r.email,onChange:o=>l("email",o.target.value),placeholder:"Enter email address",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"phoneNumber",children:"Phone Number"}),e.jsx(de,{id:"phoneNumber",type:"tel",value:r.phoneNumber,onChange:o=>l("phoneNumber",o.target.value),placeholder:"Enter phone number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"role",children:"Role"}),e.jsxs(xt,{value:r.role,onValueChange:o=>l("role",o),children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"Select role"})}),e.jsxs(At,{children:[e.jsx(X,{value:"admin",children:"Administrator"}),e.jsx(X,{value:"super_admin",children:"Super Administrator"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"password",children:"Password"}),e.jsx(de,{id:"password",type:"password",value:r.password,onChange:o=>l("password",o.target.value),placeholder:"Enter password",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx(de,{id:"confirmPassword",type:"password",value:r.confirmPassword,onChange:o=>l("confirmPassword",o.target.value),placeholder:"Confirm password",required:!0})]}),e.jsx(V,{type:"submit",className:"w-full",disabled:a.isPending,children:a.isPending?"Creating Account...":"Create Admin Account"}),e.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",e.jsx("button",{type:"button",onClick:()=>t("/login"),className:"text-blue-600 hover:text-blue-500 dark:text-blue-400",children:"Sign in here"})]})]})})]})})}const kce=Wv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Oe({className:t,variant:s,...r}){return e.jsx("div",{className:at(kce({variant:s}),t),...r})}function _ce(){const{data:t,isLoading:s}=st({queryKey:["/api/auth/user"]}),r=async()=>{await fetch("/api/auth/logout",{method:"POST"}),window.location.href="/"};if(s)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});const n=[{title:"Student Management",description:"Manage student records, admissions, and profiles",icon:ss,link:"/students",color:"bg-blue-500"},{title:"Teacher Management",description:"Handle teacher profiles, assignments, and schedules",icon:dn,link:"/teachers",color:"bg-green-500"},{title:"Academic Management",description:"Classes, subjects, exams, and results",icon:Ks,link:"/academic",color:"bg-purple-500"},{title:"Financial Management",description:"Fee collection, payments, and financial reports",icon:pa,link:"/financial",color:"bg-yellow-500"},{title:"Library System",description:"Book inventory, issue/return tracking",icon:xs,link:"/library",color:"bg-indigo-500"},{title:"Transport Management",description:"Vehicle tracking, route management",icon:bs,link:"/transport",color:"bg-red-500"},{title:"Notifications",description:"Send announcements and alerts",icon:qr,link:"/notifications",color:"bg-pink-500"},{title:"System Settings",description:"School configuration and user management",icon:Ys,link:"/settings",color:"bg-gray-500"},{title:"Supabase Admin",description:"Manage separate Supabase instances for schools",icon:rc,link:"/standalone-admin",color:"bg-orange-500"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:e.jsx(Ys,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Admin Portal"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"School Management System"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t==null?void 0:t.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t==null?void 0:t.email})]}),e.jsx(Oe,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:t==null?void 0:t.role}),e.jsxs(V,{variant:"outline",size:"sm",onClick:r,children:[e.jsx(D2,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:["Welcome back, ",t==null?void 0:t.name]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your school's operations from this central dashboard"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map((a,i)=>{const l=a.icon;return e.jsx(tt,{href:a.link,children:e.jsxs(H,{className:"cursor-pointer hover:shadow-lg transition-shadow duration-200",children:[e.jsx(oe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`${a.color} p-2 rounded-lg`,children:e.jsx(l,{className:"h-6 w-6 text-white"})}),e.jsx(ce,{className:"text-lg",children:a.title})]})}),e.jsx(M,{children:e.jsx(ct,{className:"text-sm",children:a.description})})]})},i)})})]})]})}function Ece(){const{data:t,isLoading:s}=st({queryKey:["/api/auth/user"]}),r=async()=>{await fetch("/api/auth/logout",{method:"POST"}),window.location.href="/"};if(s)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-orange-600"})});const n=[{title:"Child's Profile",description:"View your child's academic information and progress",icon:ui,link:"/child-profile",color:"bg-blue-500"},{title:"Academic Progress",description:"Track grades, assignments, and exam results",icon:Ks,link:"/academic-progress",color:"bg-green-500"},{title:"Attendance",description:"Monitor daily attendance and leave applications",icon:bs,link:"/attendance",color:"bg-purple-500"},{title:"Fee Management",description:"View fee structure, payments, and outstanding dues",icon:Wd,link:"/fees",color:"bg-yellow-500"},{title:"Teacher Communication",description:"Message teachers and view announcements",icon:Zg,link:"/communication",color:"bg-indigo-500"},{title:"Reports & Certificates",description:"Download progress reports and certificates",icon:xs,link:"/reports",color:"bg-red-500"},{title:"Transport Tracking",description:"Track school bus and transport information",icon:zx,link:"/transport",color:"bg-pink-500"},{title:"Notifications",description:"View school announcements and alerts",icon:qr,link:"/notifications",color:"bg-gray-500"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-orange-600 p-2 rounded-lg",children:e.jsx(ui,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Parent Portal"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Monitor Your Child's Education"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t==null?void 0:t.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t==null?void 0:t.email})]}),e.jsx(Oe,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:t==null?void 0:t.role}),e.jsxs(V,{variant:"outline",size:"sm",onClick:r,children:[e.jsx(D2,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:["Welcome, ",t==null?void 0:t.name]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Stay connected with your child's educational journey"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ks,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold",children:"85%"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Overall Performance"})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(bs,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold",children:"95%"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Attendance Rate"})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Wd,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-2xl font-bold",children:"0"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Outstanding Fees"})]})]})})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map((a,i)=>{const l=a.icon;return e.jsxs(H,{className:"cursor-pointer hover:shadow-lg transition-shadow duration-200",children:[e.jsx(oe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`${a.color} p-2 rounded-lg`,children:e.jsx(l,{className:"h-6 w-6 text-white"})}),e.jsx(ce,{className:"text-lg",children:a.title})]})}),e.jsx(M,{children:e.jsx(ct,{className:"text-sm",children:a.description})})]},i)})})]})]})}var e_="Avatar",[Fce,Y3e]=Ga(e_),[Tce,G7]=Fce(e_),W7=b.forwardRef((t,s)=>{const{__scopeAvatar:r,...n}=t,[a,i]=b.useState("idle");return e.jsx(Tce,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:e.jsx(os.span,{...n,ref:s})})});W7.displayName=e_;var Y7="AvatarImage",X7=b.forwardRef((t,s)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=t,l=G7(Y7,r),o=Lce(n,i),c=za(d=>{a(d),l.onImageLoadingStatusChange(d)});return la(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?e.jsx(os.img,{...i,ref:s,src:n}):null});X7.displayName=Y7;var J7="AvatarFallback",Z7=b.forwardRef((t,s)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,i=G7(J7,r),[l,o]=b.useState(n===void 0);return b.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(c)}},[n]),l&&i.imageLoadingStatus!=="loaded"?e.jsx(os.span,{...a,ref:s}):null});Z7.displayName=J7;function S8(t,s){return t?s?(t.src!==s&&(t.src=s),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Lce(t,{referrerPolicy:s,crossOrigin:r}){const n=Pce(),a=b.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[l,o]=b.useState(()=>S8(i,t));return la(()=>{o(S8(i,t))},[i,t]),la(()=>{const c=h=>()=>{o(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),s&&(i.referrerPolicy=s),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,s]),l}function Ice(){return()=>{}}function Pce(){return b.useSyncExternalStore(Ice,()=>!0,()=>!1)}var e9=W7,t9=X7,s9=Z7;const wm=b.forwardRef(({className:t,...s},r)=>e.jsx(e9,{ref:r,className:at("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));wm.displayName=e9.displayName;const y0=b.forwardRef(({className:t,...s},r)=>e.jsx(t9,{ref:r,className:at("aspect-square h-full w-full",t),...s}));y0.displayName=t9.displayName;const bm=b.forwardRef(({className:t,...s},r)=>e.jsx(s9,{ref:r,className:at("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));bm.displayName=s9.displayName;var t_="Progress",s_=100,[Dce,X3e]=Ga(t_),[Uce,Oce]=Dce(t_),r9=b.forwardRef((t,s)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=Rce,...l}=t;(a||a===0)&&!k8(a)&&console.error(Mce(`${a}`,"Progress"));const o=k8(a)?a:s_;n!==null&&!_8(n,o)&&console.error(Qce(`${n}`,"Progress"));const c=_8(n,o)?n:null,d=yb(c)?i(c,o):void 0;return e.jsx(Uce,{scope:r,value:c,max:o,children:e.jsx(os.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":yb(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":i9(c,o),"data-value":c??void 0,"data-max":o,...l,ref:s})})});r9.displayName=t_;var n9="ProgressIndicator",a9=b.forwardRef((t,s)=>{const{__scopeProgress:r,...n}=t,a=Oce(n9,r);return e.jsx(os.div,{"data-state":i9(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:s})});a9.displayName=n9;function Rce(t,s){return`${Math.round(t/s*100)}%`}function i9(t,s){return t==null?"indeterminate":t===s?"complete":"loading"}function yb(t){return typeof t=="number"}function k8(t){return yb(t)&&!isNaN(t)&&t>0}function _8(t,s){return yb(t)&&!isNaN(t)&&t<=s&&t>=0}function Mce(t,s){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${s_}\`.`}function Qce(t,s){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${s_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var l9=r9,Hce=a9;const Ao=b.forwardRef(({className:t,value:s,...r},n)=>e.jsx(l9,{ref:n,className:at("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:e.jsx(Hce,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));Ao.displayName=l9.displayName;const E8={container:"space-y-1",item:"flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 min-h-[44px] group",active:"bg-blue-50 text-blue-700 border border-blue-200/60 shadow-sm font-semibold",inactive:"text-slate-700 hover:bg-slate-100/70 hover:text-slate-900 font-medium",icon:"w-5 h-5 shrink-0 transition-colors duration-200",text:"font-medium truncate group-hover:text-slate-900"};function Vce(t="inactive",s){return at(E8.item,E8[t],s)}function Kce(){const t=b.useRef(null);return b.useEffect(()=>{const s=t.current;if(!s)return;s.querySelectorAll("a, button").forEach(n=>{if(n instanceof HTMLElement){const a=n.getAttribute("aria-current")==="page"||n.classList.contains("active");n.className=Vce(a?"active":"inactive",n.className),n.style.minHeight="44px",n.getAttribute("role")||n.setAttribute("role","menuitem")}}),s.setAttribute("role","navigation"),s.getAttribute("aria-label")||s.setAttribute("aria-label","Main navigation")},[]),t}const vv={button:{primary:"bg-primary text-white hover:bg-primary/90 shadow-sm hover:shadow-md transition-all duration-200 font-medium rounded-lg px-4 py-2.5 min-h-[44px] flex items-center justify-center gap-2",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 hover:border-slate-400 shadow-sm hover:shadow-md transition-all duration-200 font-medium rounded-lg px-4 py-2.5 min-h-[44px] flex items-center justify-center gap-2",ghost:"text-slate-700 hover:bg-slate-100 hover:text-slate-900 transition-all duration-200 font-medium rounded-lg px-4 py-2.5 min-h-[44px] flex items-center justify-center gap-2",destructive:"bg-red-600 text-white hover:bg-red-700 shadow-sm hover:shadow-md transition-all duration-200 font-medium rounded-lg px-4 py-2.5 min-h-[44px] flex items-center justify-center gap-2"}};function F8(){const{data:t,isLoading:s}=st({queryKey:["/api/user"]}),{data:r,isLoading:n}=st({queryKey:["/api/students/me"],enabled:!!(t!=null&&t.studentId)}),{data:a}=st({queryKey:["/api/students/attendance/stats"],enabled:!!(t!=null&&t.studentId)}),{data:i}=st({queryKey:["/api/students/academic/stats"],enabled:!!(t!=null&&t.studentId)}),{data:l}=st({queryKey:["/api/students/activities/recent"],enabled:!!(t!=null&&t.studentId)}),{data:o}=st({queryKey:["/api/students/events/upcoming"],enabled:!!(t!=null&&t.studentId)}),{data:c}=st({queryKey:["/api/fee-receipts"],enabled:!!(t!=null&&t.studentId)}),{data:d}=st({queryKey:["/api/library/borrowed"],enabled:!!(t!=null&&t.studentId)}),u=async()=>{await fetch("/api/auth/logout",{method:"POST"}),window.location.href="/"};if(s||n)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});const h=[{title:"My Profile",titleBn:" ",description:"View and update your personal information",descriptionBn:"     ",icon:ui,link:"/student/profile",color:"bg-blue-500",available:!0},{title:"Attendance",titleBn:"",description:"Track your attendance record and apply for leave",descriptionBn:"    ",icon:hr,link:"/student/attendance",color:"bg-green-500",available:!0},{title:"Academic Results",titleBn:" ",description:"View exam results and academic progress",descriptionBn:"    ",icon:ev,link:"/student/results",color:"bg-yellow-500",available:!0},{title:"Fee Payments",titleBn:" ",description:"View fee receipts and payment history",descriptionBn:"    ",icon:zr,link:"/student/fees",color:"bg-purple-500",available:!0},{title:"Library",titleBn:"",description:"Browse books and track borrowed items",descriptionBn:"        ",icon:Hf,link:"/student/library",color:"bg-indigo-500",available:!0},{title:"Class Schedule",titleBn:" ",description:"View your daily class schedule and timetable",descriptionBn:"   ",icon:bs,link:"/student/schedule",color:"bg-red-500",available:!0},{title:"Assignments",titleBn:"",description:"View and submit assignments",descriptionBn:"    ",icon:xs,link:"/student/assignments",color:"bg-pink-500",available:!1},{title:"Notifications",titleBn:"",description:"Stay updated with school announcements",descriptionBn:"    ",icon:qr,link:"/student/notifications",color:"bg-gray-500",available:!0}],A=a||{percentage:94.7},m=i||{currentGrade:"A",gpa:4.2,position:3,totalStudents:45},p=l||[{id:1,type:"exam",title:"Math Exam Result",description:"Scored 89% in Mathematics",date:"2 days ago",status:"success"},{id:2,type:"fee",title:"Fee Payment",description:"February fee payment received",date:"1 week ago",status:"success"},{id:3,type:"library",title:"Book Borrowed",description:"Borrowed Physics Textbook",date:"3 days ago",status:"info"}],f=o||[{id:1,title:"Science Exam",date:"March 15",type:"exam",subject:"Physics"},{id:2,title:"Sports Day",date:"March 20",type:"event"},{id:3,title:"Math Quiz",date:"March 18",type:"exam",subject:"Mathematics"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-lg border-b border-blue-200/20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-20",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-3 rounded-xl shadow-lg",children:e.jsx(dn,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Student Portal"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium",children:"   Your Academic Journey"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[r&&e.jsxs("div",{className:"hidden md:flex items-center space-x-3 bg-white dark:bg-gray-700 rounded-xl p-3 shadow-md border border-gray-200 dark:border-gray-600",children:[e.jsxs(wm,{className:"h-10 w-10",children:[e.jsx(y0,{src:r.photo}),e.jsx(bm,{className:"bg-blue-100 text-blue-600 font-semibold",children:r.name.charAt(0)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:r.name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Class ",r.class,"-",r.section,"  Roll: ",r.rollNumber]})]})]}),e.jsxs(Oe,{variant:"secondary",className:"bg-blue-100 text-blue-800 border-blue-200 font-medium px-3 py-1",children:[e.jsx(Ln,{className:"h-3 w-3 mr-1"}),t==null?void 0:t.role]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:u,className:at(vv.button.secondary,"border-red-200 text-red-600 hover:bg-red-50"),children:[e.jsx(D2,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white shadow-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",t==null?void 0:t.name,"! "]}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Continue your learning journey with easy access to all your academic resources"})]}),e.jsx("div",{className:"hidden lg:block",children:e.jsx("div",{className:"bg-white/20 rounded-xl p-4 backdrop-blur-sm",children:e.jsx(wh,{className:"h-12 w-12 text-white"})})})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(H,{className:"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-200 shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:m.currentGrade}),e.jsx("p",{className:"text-sm text-yellow-600 font-medium",children:"Current Grade"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["GPA: ",m.gpa]})]}),e.jsx("div",{className:"bg-yellow-500 p-3 rounded-xl",children:e.jsx(ev,{className:"h-6 w-6 text-white"})})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[A.percentage,"%"]}),e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Attendance"}),e.jsx(Ao,{value:A.percentage,className:"mt-2 h-2"})]}),e.jsx("div",{className:"bg-green-500 p-3 rounded-xl",children:e.jsx(Yc,{className:"h-6 w-6 text-white"})})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:(d==null?void 0:d.length)||2}),e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Borrowed Books"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Library active"})]}),e.jsx("div",{className:"bg-blue-500 p-3 rounded-xl",children:e.jsx(Hf,{className:"h-6 w-6 text-white"})})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200 shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-purple-700",children:f.length}),e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Upcoming Events"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This month"})]}),e.jsx("div",{className:"bg-purple-500 p-3 rounded-xl",children:e.jsx(bs,{className:"h-6 w-6 text-white"})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Academic Modules"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map((x,g)=>{const v=x.icon;return e.jsx(tt,{href:x.available?x.link:"#",children:e.jsxs(H,{className:at("cursor-pointer transition-all duration-300 hover:shadow-xl hover:-translate-y-1 border-2",x.available?"hover:border-blue-300 bg-white dark:bg-gray-800":"opacity-60 cursor-not-allowed bg-gray-50 dark:bg-gray-900"),children:[e.jsx(oe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:at(x.color,"p-3 rounded-xl shadow-md"),children:e.jsx(v,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx(ce,{className:"text-lg font-semibold",children:x.title}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:x.titleBn})]})]}),!x.available&&e.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Coming Soon"})]})}),e.jsxs(M,{children:[e.jsx(ct,{className:"text-sm text-gray-600 dark:text-gray-300",children:x.description}),e.jsx(ct,{className:"text-xs text-gray-500 mt-1",children:x.descriptionBn})]})]})},g)})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(bn,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Recent Activities"})]})}),e.jsx(M,{className:"space-y-4",children:p.map(x=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-700",children:[e.jsx("div",{className:at("p-2 rounded-full",x.status==="success"?"bg-green-100 text-green-600":x.status==="warning"?"bg-yellow-100 text-yellow-600":"bg-blue-100 text-blue-600"),children:x.status==="success"?e.jsx(Yc,{className:"h-4 w-4"}):x.status==="warning"?e.jsx(aa,{className:"h-4 w-4"}):e.jsx(qr,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:x.title}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:x.description}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.date})]})]},x.id))})]}),e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(bs,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{children:"Upcoming Events"})]})}),e.jsx(M,{className:"space-y-3",children:f.map(x=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-2 rounded-lg",children:e.jsx(bs,{className:"h-4 w-4 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:x.title}),x.subject&&e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:x.subject}),e.jsx("p",{className:"text-xs text-gray-500",children:x.date})]}),e.jsx(Oe,{variant:x.type==="exam"?"destructive":"secondary",className:"text-xs",children:x.type})]},x.id))})]}),e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(El,{className:"h-5 w-5 text-yellow-600"}),e.jsx("span",{children:"Academic Standing"})]})}),e.jsx(M,{children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-xl p-4 text-white",children:[e.jsx("p",{className:"text-2xl font-bold",children:m.position}),e.jsx("p",{className:"text-sm opacity-90",children:"Class Position"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:m.gpa}),e.jsx("p",{className:"text-xs text-gray-500",children:"GPA"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:m.totalStudents}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total Students"})]})]})]})})]})]})]})]})]})}const $r=b.forwardRef(({className:t,...s},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:at("w-full caption-bottom text-sm",t),...s})}));$r.displayName="Table";const Gr=b.forwardRef(({className:t,...s},r)=>e.jsx("thead",{ref:r,className:at("[&_tr]:border-b",t),...s}));Gr.displayName="TableHeader";const Wr=b.forwardRef(({className:t,...s},r)=>e.jsx("tbody",{ref:r,className:at("[&_tr:last-child]:border-0",t),...s}));Wr.displayName="TableBody";const zce=b.forwardRef(({className:t,...s},r)=>e.jsx("tfoot",{ref:r,className:at("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));zce.displayName="TableFooter";const ns=b.forwardRef(({className:t,...s},r)=>e.jsx("tr",{ref:r,className:at("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));ns.displayName="TableRow";const We=b.forwardRef(({className:t,...s},r)=>e.jsx("th",{ref:r,className:at("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));We.displayName="TableHead";const Ve=b.forwardRef(({className:t,...s},r)=>e.jsx("td",{ref:r,className:at("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));Ve.displayName="TableCell";const qce=b.forwardRef(({className:t,...s},r)=>e.jsx("caption",{ref:r,className:at("mt-4 text-sm text-muted-foreground",t),...s}));qce.displayName="TableCaption";var r_="Dialog",[o9,J3e]=Ga(r_),[$ce,pc]=o9(r_),c9=t=>{const{__scopeDialog:s,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:l=!0}=t,o=b.useRef(null),c=b.useRef(null),[d=!1,u]=go({prop:n,defaultProp:a,onChange:i});return e.jsx($ce,{scope:s,triggerRef:o,contentRef:c,contentId:ho(),titleId:ho(),descriptionId:ho(),open:d,onOpenChange:u,onOpenToggle:b.useCallback(()=>u(h=>!h),[u]),modal:l,children:r})};c9.displayName=r_;var d9="DialogTrigger",u9=b.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=pc(d9,r),i=sr(s,a.triggerRef);return e.jsx(os.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":i_(a.open),...n,ref:i,onClick:Qt(t.onClick,a.onOpenToggle)})});u9.displayName=d9;var n_="DialogPortal",[Gce,h9]=o9(n_,{forceMount:void 0}),A9=t=>{const{__scopeDialog:s,forceMount:r,children:n,container:a}=t,i=pc(n_,s);return e.jsx(Gce,{scope:s,forceMount:r,children:b.Children.map(n,l=>e.jsx(Ri,{present:r||i.open,children:e.jsx(h0,{asChild:!0,container:a,children:l})}))})};A9.displayName=n_;var wb="DialogOverlay",m9=b.forwardRef((t,s)=>{const r=h9(wb,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=pc(wb,t.__scopeDialog);return i.modal?e.jsx(Ri,{present:n||i.open,children:e.jsx(Yce,{...a,ref:s})}):null});m9.displayName=wb;var Wce=yh("DialogOverlay.RemoveScroll"),Yce=b.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=pc(wb,r);return e.jsx(nj,{as:Wce,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(os.div,{"data-state":i_(a.open),...n,ref:s,style:{pointerEvents:"auto",...n.style}})})}),um="DialogContent",f9=b.forwardRef((t,s)=>{const r=h9(um,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=pc(um,t.__scopeDialog);return e.jsx(Ri,{present:n||i.open,children:i.modal?e.jsx(Xce,{...a,ref:s}):e.jsx(Jce,{...a,ref:s})})});f9.displayName=um;var Xce=b.forwardRef((t,s)=>{const r=pc(um,t.__scopeDialog),n=b.useRef(null),a=sr(s,r.contentRef,n);return b.useEffect(()=>{const i=n.current;if(i)return J2(i)},[]),e.jsx(x9,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qt(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Qt(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,o=l.button===0&&l.ctrlKey===!0;(l.button===2||o)&&i.preventDefault()}),onFocusOutside:Qt(t.onFocusOutside,i=>i.preventDefault())})}),Jce=b.forwardRef((t,s)=>{const r=pc(um,t.__scopeDialog),n=b.useRef(!1),a=b.useRef(!1);return e.jsx(x9,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,o;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),x9=b.forwardRef((t,s)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=t,o=pc(um,r),c=b.useRef(null),d=sr(s,c);return z2(),e.jsxs(e.Fragment,{children:[e.jsx(sj,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(u0,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":i_(o.open),...l,ref:d,onDismiss:()=>o.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Zce,{titleId:o.titleId}),e.jsx(tde,{contentRef:c,descriptionId:o.descriptionId})]})]})}),a_="DialogTitle",p9=b.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=pc(a_,r);return e.jsx(os.h2,{id:a.titleId,...n,ref:s})});p9.displayName=a_;var g9="DialogDescription",v9=b.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=pc(g9,r);return e.jsx(os.p,{id:a.descriptionId,...n,ref:s})});v9.displayName=g9;var j9="DialogClose",y9=b.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=pc(j9,r);return e.jsx(os.button,{type:"button",...n,ref:s,onClick:Qt(t.onClick,()=>a.onOpenChange(!1))})});y9.displayName=j9;function i_(t){return t?"open":"closed"}var w9="DialogTitleWarning",[Z3e,b9]=See(w9,{contentName:um,titleName:a_,docsSlug:"dialog"}),Zce=({titleId:t})=>{const s=b9(w9),r=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},ede="DialogDescriptionWarning",tde=({contentRef:t,descriptionId:s})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${b9(ede).contentName}}.`;return b.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(n))},[n,t,s]),null},sde=c9,rde=u9,nde=A9,N9=m9,C9=f9,B9=p9,S9=v9,ade=y9;const pr=sde,fn=rde,ide=nde,k9=b.forwardRef(({className:t,...s},r)=>e.jsx(N9,{ref:r,className:at("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));k9.displayName=N9.displayName;const or=b.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(ide,{children:[e.jsx(k9,{}),e.jsxs(C9,{ref:n,className:at("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[s,e.jsxs(ade,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(sm,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));or.displayName=C9.displayName;const cr=({className:t,...s})=>e.jsx("div",{className:at("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});cr.displayName="DialogHeader";const Pl=({className:t,...s})=>e.jsx("div",{className:at("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Pl.displayName="DialogFooter";const dr=b.forwardRef(({className:t,...s},r)=>e.jsx(B9,{ref:r,className:at("text-lg font-semibold leading-none tracking-tight",t),...s}));dr.displayName=B9.displayName;const Nr=b.forwardRef(({className:t,...s},r)=>e.jsx(S9,{ref:r,className:at("text-sm text-muted-foreground",t),...s}));Nr.displayName=S9.displayName;const Gs=b.forwardRef(({className:t,...s},r)=>e.jsx("textarea",{className:at("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s}));Gs.displayName="Textarea";const lde=Y.object({email:Y.string().email("Invalid email format"),name:Y.string().min(2,"Name must be at least 2 characters"),role:Y.enum(["admin","teacher","student","parent"]),phone:Y.string().optional(),address:Y.string().optional()}),ode=Y.object({schoolName:Y.string().min(2,"School name is required"),schoolNameBangla:Y.string().optional(),address:Y.string().min(5,"School address is required"),phone:Y.string().min(10,"Valid phone number is required"),email:Y.string().email("Valid school email is required"),establishedYear:Y.number().min(1800).max(new Date().getFullYear()),principalName:Y.string().min(2,"Principal name is required"),adminName:Y.string().min(2,"Admin name is required"),adminEmail:Y.string().email("Valid admin email is required"),schoolType:Y.enum(["primary","secondary","higher_secondary","college","university"]),totalStudents:Y.number().min(1).optional(),totalTeachers:Y.number().min(1).optional()});function cde(){var F,P,E;const[t,s]=b.useState("overview"),[r,n]=b.useState(null),[a,i]=b.useState(!1),[l,o]=b.useState(!1),{toast:c}=ls(),d=Cs(),u=zs({resolver:qs(lde),defaultValues:{email:"",name:"",role:"teacher",phone:"",address:""}}),h=zs({resolver:qs(ode),defaultValues:{schoolName:"",schoolNameBangla:"",address:"",phone:"",email:"",establishedYear:new Date().getFullYear(),principalName:"",adminName:"",adminEmail:"",schoolType:"secondary",totalStudents:100,totalTeachers:10}}),{data:A}=st({queryKey:["/api/users/stats"],queryFn:async()=>{const N=await fetch("/api/users/stats",{credentials:"include"});if(!N.ok)throw new Error("Failed to fetch user stats");return N.json()}}),{data:m,isLoading:p}=st({queryKey:["/api/users"],queryFn:async()=>{const N=await fetch("/api/users",{credentials:"include"});if(!N.ok)throw new Error("Failed to fetch users");return N.json()}}),{data:f}=st({queryKey:["/api/setup/status"],queryFn:async()=>{const N=await fetch("/api/setup/status",{credentials:"include"});if(!N.ok)throw new Error("Failed to fetch setup status");return N.json()}}),x=Bt({mutationFn:async N=>{const C=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(N)});if(!C.ok){const _=await C.json();throw new Error(_.error||"Failed to create user")}return C.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/users"]}),d.invalidateQueries({queryKey:["/api/users/stats"]}),i(!1),u.reset(),c({title:"User Created",description:"User has been created successfully and welcome email sent."})},onError:N=>{c({title:"Error",description:N.message,variant:"destructive"})}}),g=Bt({mutationFn:async N=>{const C=await fetch("/api/setup/create-school",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(N)});if(!C.ok){const _=await C.json();throw new Error(_.error||"Failed to create school")}return C.json()},onSuccess:N=>{d.invalidateQueries({queryKey:["/api/setup/status"]}),o(!1),h.reset(),c({title:"School Created",description:`${N.data.school.name} has been set up successfully! Admin credentials sent to ${N.data.admin.email}`})},onError:N=>{c({title:"Error",description:N.message,variant:"destructive"})}}),v=N=>{x.mutate(N)},j=N=>{g.mutate(N)},B=N=>{switch(N){case"admin":return"bg-red-100 text-red-800";case"teacher":return"bg-blue-100 text-blue-800";case"student":return"bg-green-100 text-green-800";case"parent":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"container mx-auto py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"System Administration"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage users, schools, and system settings for EduBD Pro"})]}),e.jsxs(Ar,{value:t,onValueChange:s,className:"space-y-6",children:[e.jsxs(ir,{className:"grid w-full grid-cols-4",children:[e.jsxs(lt,{value:"overview",className:"flex items-center gap-2",children:[e.jsx(Ys,{className:"h-4 w-4"}),"Overview"]}),e.jsxs(lt,{value:"users",className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-4 w-4"}),"Users"]}),e.jsxs(lt,{value:"schools",className:"flex items-center gap-2",children:[e.jsx(Jc,{className:"h-4 w-4"}),"Schools"]}),e.jsxs(lt,{value:"system",className:"flex items-center gap-2",children:[e.jsx(jn,{className:"h-4 w-4"}),"System"]})]}),e.jsxs(bt,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(A==null?void 0:A.totalUsers)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(A==null?void 0:A.activeUsers)||0," active users"]})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Admins"}),e.jsx(jn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:((F=A==null?void 0:A.usersByRole)==null?void 0:F.admin)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"System administrators"})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Teachers"}),e.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:((P=A==null?void 0:A.usersByRole)==null?void 0:P.teacher)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active teachers"})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Students"}),e.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:((E=A==null?void 0:A.usersByRole)==null?void 0:E.student)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enrolled students"})]})]})]}),(f==null?void 0:f.setupNeeded)&&e.jsxs(H,{className:"border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-950",children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2 text-orange-800 dark:text-orange-200",children:[e.jsx(yn,{className:"h-5 w-5"}),"Setup Required"]}),e.jsx(ct,{className:"text-orange-700 dark:text-orange-300",children:"Your system requires initial setup to get started."})]}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Setup Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[f.hasSchools?e.jsx(Yc,{className:"h-4 w-4 text-green-600"}):e.jsx(yn,{className:"h-4 w-4 text-orange-600"}),e.jsxs("span",{children:["Schools: ",f.schoolCount]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[f.hasAdmins?e.jsx(Yc,{className:"h-4 w-4 text-green-600"}):e.jsx(yn,{className:"h-4 w-4 text-orange-600"}),e.jsxs("span",{children:["Admins: ",f.adminCount]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Next Steps"}),!f.hasSchools&&e.jsx(V,{onClick:()=>o(!0),className:"w-full",children:"Create First School"})]})]})})})]})]}),e.jsxs(bt,{value:"users",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"User Management"}),e.jsxs(pr,{open:a,onOpenChange:i,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Add User"]})}),e.jsxs(or,{className:"sm:max-w-[425px]",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"Create New User"}),e.jsx(Nr,{children:"Add a new user to the system. They will receive login credentials via email."})]}),e.jsx(Ms,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(v),className:"space-y-4",children:[e.jsx(Se,{control:u.control,name:"name",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"Full Name"}),e.jsx(Be,{children:e.jsx(de,{...N,placeholder:"Enter full name"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"email",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"Email"}),e.jsx(Be,{children:e.jsx(de,{...N,type:"email",placeholder:"Enter email address"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"role",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"Role"}),e.jsxs(xt,{onValueChange:N.onChange,defaultValue:N.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"Select user role"})})}),e.jsxs(At,{children:[e.jsx(X,{value:"admin",children:"Administrator"}),e.jsx(X,{value:"teacher",children:"Teacher"}),e.jsx(X,{value:"student",children:"Student"}),e.jsx(X,{value:"parent",children:"Parent"})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"phone",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"Phone (Optional)"}),e.jsx(Be,{children:e.jsx(de,{...N,placeholder:"Enter phone number"})}),e.jsx(_e,{})]})}),e.jsx(Pl,{children:e.jsx(V,{type:"submit",disabled:x.isPending,children:x.isPending?"Creating...":"Create User"})})]})})]})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Users List"}),e.jsx(ct,{children:"Manage all system users"})]}),e.jsx(M,{children:p?e.jsx("div",{className:"text-center py-8",children:"Loading users..."}):e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:"Name"}),e.jsx(We,{children:"Email"}),e.jsx(We,{children:"Role"}),e.jsx(We,{children:"Status"}),e.jsx(We,{children:"Last Login"}),e.jsx(We,{children:"Actions"})]})}),e.jsx(Wr,{children:m==null?void 0:m.map(N=>e.jsxs(ns,{children:[e.jsx(Ve,{className:"font-medium",children:N.name}),e.jsx(Ve,{children:N.email}),e.jsx(Ve,{children:e.jsx(Oe,{className:B(N.role),children:N.role})}),e.jsx(Ve,{children:e.jsx(Oe,{variant:N.isActive?"default":"secondary",children:N.isActive?"Active":"Inactive"})}),e.jsx(Ve,{children:N.lastLogin?new Date(N.lastLogin).toLocaleDateString():"Never"}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"outline",size:"sm",children:e.jsx(cn,{className:"h-4 w-4"})}),e.jsx(V,{variant:"outline",size:"sm",children:e.jsx(Yn,{className:"h-4 w-4"})})]})})]},N.id))})]})})]})]}),e.jsxs(bt,{value:"schools",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"School Management"}),e.jsxs(pr,{open:l,onOpenChange:o,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Add School"]})}),e.jsxs(or,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"Create New School"}),e.jsx(Nr,{children:"Set up a new school with admin account. Admin credentials will be sent via email."})]}),e.jsx(Ms,{...h,children:e.jsxs("form",{onSubmit:h.handleSubmit(j),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:h.control,name:"schoolName",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"School Name"}),e.jsx(Be,{children:e.jsx(de,{...N,placeholder:"Enter school name"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:h.control,name:"schoolNameBangla",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"School Name (Bangla)"}),e.jsx(Be,{children:e.jsx(de,{...N,placeholder:" "})}),e.jsx(_e,{})]})})]}),e.jsx(Se,{control:h.control,name:"address",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"Address"}),e.jsx(Be,{children:e.jsx(Gs,{...N,placeholder:"Enter complete school address"})}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:h.control,name:"phone",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"Phone"}),e.jsx(Be,{children:e.jsx(de,{...N,placeholder:"School phone number"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:h.control,name:"email",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"School Email"}),e.jsx(Be,{children:e.jsx(de,{...N,type:"email",placeholder:"School email address"})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(Se,{control:h.control,name:"establishedYear",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"Established Year"}),e.jsx(Be,{children:e.jsx(de,{...N,type:"number",onChange:C=>N.onChange(parseInt(C.target.value))})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:h.control,name:"schoolType",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"School Type"}),e.jsxs(xt,{onValueChange:N.onChange,defaultValue:N.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{})})}),e.jsxs(At,{children:[e.jsx(X,{value:"primary",children:"Primary"}),e.jsx(X,{value:"secondary",children:"Secondary"}),e.jsx(X,{value:"higher_secondary",children:"Higher Secondary"}),e.jsx(X,{value:"college",children:"College"}),e.jsx(X,{value:"university",children:"University"})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:h.control,name:"principalName",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"Principal Name"}),e.jsx(Be,{children:e.jsx(de,{...N,placeholder:"Principal's name"})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Admin Account"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:h.control,name:"adminName",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"Admin Name"}),e.jsx(Be,{children:e.jsx(de,{...N,placeholder:"Administrator name"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:h.control,name:"adminEmail",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"Admin Email"}),e.jsx(Be,{children:e.jsx(de,{...N,type:"email",placeholder:"Admin email address"})}),e.jsx(_e,{})]})})]})]}),e.jsx(Pl,{children:e.jsx(V,{type:"submit",disabled:g.isPending,children:g.isPending?"Creating...":"Create School"})})]})})]})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Schools Overview"}),e.jsx(ct,{children:"Manage educational institutions"})]}),e.jsx(M,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"School management interface will display here"})})]})]}),e.jsx(bt,{value:"system",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"System Settings"}),e.jsx(ct,{children:"Configure system-wide settings and preferences"})]}),e.jsx(M,{children:e.jsx("div",{className:"text-center py-8 text-gray-500",children:"System configuration interface will display here"})})]})})]})]})}var dde="Separator",T8="horizontal",ude=["horizontal","vertical"],_9=b.forwardRef((t,s)=>{const{decorative:r,orientation:n=T8,...a}=t,i=hde(n)?n:T8,o=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(os.div,{"data-orientation":i,...o,...a,ref:s})});_9.displayName=dde;function hde(t){return ude.includes(t)}var E9=_9;const il=b.forwardRef(({className:t,orientation:s="horizontal",decorative:r=!0,...n},a)=>e.jsx(E9,{ref:a,decorative:r,orientation:s,className:at("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));il.displayName=E9.displayName;function Ade(){const{data:t,isLoading:s}=st({queryKey:["/api/students/me"]}),{data:r}=st({queryKey:["/api/user"]});return s?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):t?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-lg border-b border-blue-200/20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(tt,{href:"/student",children:e.jsxs(V,{variant:"ghost",size:"sm",children:[e.jsx(qa,{className:"h-4 w-4 mr-2"}),"Back to Portal"]})}),e.jsx(il,{orientation:"vertical",className:"h-6"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"My Profile"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"   Personal Information"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Yn,{className:"h-4 w-4 mr-2"}),"Edit Profile"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Download Profile"]})]})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(H,{className:"shadow-xl",children:e.jsxs(M,{className:"p-8 text-center",children:[e.jsxs("div",{className:"relative inline-block mb-6",children:[e.jsxs(wm,{className:"h-32 w-32 mx-auto border-4 border-white shadow-lg",children:[e.jsx(y0,{src:t.photo}),e.jsx(bm,{className:"bg-blue-100 text-blue-600 text-3xl font-bold",children:t.name.charAt(0)})]}),e.jsx(V,{size:"sm",className:"absolute bottom-0 right-0 rounded-full h-8 w-8 p-0 shadow-lg",children:e.jsx(Jg,{className:"h-4 w-4"})})]}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:t.name}),t.nameInBangla&&e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-4",children:t.nameInBangla}),e.jsxs("div",{className:"flex justify-center space-x-2 mb-6",children:[e.jsxs(Oe,{variant:"default",className:"bg-blue-100 text-blue-800 border-blue-200",children:[e.jsx(dn,{className:"h-3 w-3 mr-1"}),"Student"]}),e.jsx(Oe,{variant:"outline",className:t.status==="active"?"border-green-500 text-green-600":"border-red-500 text-red-600",children:t.status})]}),e.jsxs("div",{className:"space-y-3 text-left",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx(mT,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Student ID"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t.studentId})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx(Jc,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Class & Section"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Class ",t.class,"-",t.section,"  Roll: ",t.rollNumber]})]})]}),t.bloodGroup&&e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx($w,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Blood Group"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t.bloodGroup})]})]})]})]})})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(ui,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Personal Information"}),e.jsx("span",{className:"text-sm text-gray-500",children:"  "})]})}),e.jsx(M,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:t.name}),t.nameInBangla&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.nameInBangla})]}),t.dateOfBirth&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date of Birth"}),e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:t.dateOfBirth})]}),t.gender&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Gender"}),e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:t.gender})]}),t.email&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:t.email})]}),t.phone&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone"}),e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:t.phone})]})]})})]}),e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(ss,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:"Family Information"}),e.jsx("span",{className:"text-sm text-gray-500",children:"  "})]})}),e.jsx(M,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.fatherName&&e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-300 mb-2",children:"Father's Information"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.fatherName}),t.fatherNameInBangla&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.fatherNameInBangla})]}),t.motherName&&e.jsxs("div",{className:"p-4 bg-pink-50 dark:bg-pink-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-pink-900 dark:text-pink-300 mb-2",children:"Mother's Information"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.motherName}),t.motherNameInBangla&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.motherNameInBangla})]}),t.guardianName&&e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-300 mb-2",children:"Guardian Information"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.guardianName}),t.guardianRelation&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Relation: ",t.guardianRelation]}),t.guardianPhone&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Phone: ",t.guardianPhone]})]}),t.emergencyContactName&&e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-900 dark:text-red-300 mb-2",children:"Emergency Contact"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.emergencyContactName}),t.emergencyContactRelation&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Relation: ",t.emergencyContactRelation]}),t.emergencyContactPhone&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Phone: ",t.emergencyContactPhone]})]})]})})]}),e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(em,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{children:"Address Information"}),e.jsx("span",{className:"text-sm text-gray-500",children:" "})]})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.presentAddress&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Present Address"}),e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:e.jsx("p",{className:"text-gray-900 dark:text-white",children:t.presentAddress})})]}),t.permanentAddress&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Permanent Address"}),e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:e.jsx("p",{className:"text-gray-900 dark:text-white",children:t.permanentAddress})})]})]}),(t.village||t.postOffice||t.thana||t.district||t.division)&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Location Details"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[t.village&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Village"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.village})]}),t.postOffice&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Post Office"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.postOffice})]}),t.thana&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Thana"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.thana})]}),t.district&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"District"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.district})]}),t.division&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Division"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.division})]})]})]})]})]}),(t.idCardIssueDate||t.idCardValidUntil)&&e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(mT,{className:"h-5 w-5 text-orange-600"}),e.jsx("span",{children:"ID Card Information"}),e.jsx("span",{className:"text-sm text-gray-500",children:" "})]})}),e.jsx(M,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.idCardIssueDate&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Issue Date"}),e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:t.idCardIssueDate})]}),t.idCardValidUntil&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Valid Until"}),e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:t.idCardValidUntil})]})]})})]})]})]})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx(H,{className:"max-w-md",children:e.jsxs(M,{className:"text-center p-8",children:[e.jsx(ui,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Student Profile Not Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Your student profile information is not available. Please contact the administration."}),e.jsx(tt,{href:"/student",children:e.jsx(V,{children:"Back to Portal"})})]})})})}function mde(){const[t,s]=b.useState(new Date),[r,n]=b.useState("calendar"),{data:a,isLoading:i}=st({queryKey:["/api/students/attendance"]}),{data:l}=st({queryKey:["/api/students/attendance/stats"]}),o=(a==null?void 0:a.filter(m=>{const p=ac(m.date),f=mi(t),x=rv(t);return p>=f&&p<=x}))||[],c={totalDays:o.length,presentDays:o.filter(m=>m.status==="present").length,absentDays:o.filter(m=>m.status==="absent").length,lateDays:o.filter(m=>m.status==="late").length,percentage:o.length>0?Math.round(o.filter(m=>m.status==="present"||m.status==="late").length/o.length*100):0},d=_re({start:mi(t),end:rv(t)}),u=m=>a==null?void 0:a.find(p=>Vs(ac(p.date),"yyyy-MM-dd")===Vs(m,"yyyy-MM-dd")),h=m=>{switch(m){case"present":return"bg-green-500";case"absent":return"bg-red-500";case"late":return"bg-yellow-500";default:return"bg-gray-300"}},A=m=>{switch(m){case"present":return e.jsx(Yc,{className:"h-4 w-4 text-green-600"});case"absent":return e.jsx(Xc,{className:"h-4 w-4 text-red-600"});case"late":return e.jsx(aa,{className:"h-4 w-4 text-yellow-600"});default:return null}};return i?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-lg border-b border-green-200/20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(tt,{href:"/student",children:e.jsxs(V,{variant:"ghost",size:"sm",children:[e.jsx(qa,{className:"h-4 w-4 mr-2"}),"Back to Portal"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"My Attendance"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"  Track your attendance record"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[e.jsxs(V,{variant:r==="calendar"?"default":"ghost",size:"sm",onClick:()=>n("calendar"),children:[e.jsx(zw,{className:"h-4 w-4 mr-2"}),"Calendar"]}),e.jsxs(V,{variant:r==="list"?"default":"ghost",size:"sm",onClick:()=>n("list"),children:[e.jsx(pa,{className:"h-4 w-4 mr-2"}),"List"]})]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(H,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 shadow-lg",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[(l==null?void 0:l.percentage)||c.percentage,"%"]}),e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Overall Attendance"}),e.jsx(Ao,{value:(l==null?void 0:l.percentage)||c.percentage,className:"mt-2 h-2"})]}),e.jsx("div",{className:"bg-green-500 p-3 rounded-xl",children:e.jsx(bn,{className:"h-6 w-6 text-white"})})]})})}),e.jsx(H,{className:"shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(l==null?void 0:l.presentDays)||c.presentDays}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Present Days"})]}),e.jsx(Yc,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(H,{className:"shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(l==null?void 0:l.absentDays)||c.absentDays}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Absent Days"})]}),e.jsx(Xc,{className:"h-8 w-8 text-red-600"})]})})}),e.jsx(H,{className:"shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(l==null?void 0:l.lateDays)||c.lateDays}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Late Days"})]}),e.jsx(aa,{className:"h-8 w-8 text-yellow-600"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:r==="calendar"?e.jsxs(H,{className:"shadow-xl",children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(zw,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Attendance Calendar"})]}),e.jsxs(ct,{children:[Vs(t,"MMMM yyyy"),"  Click on dates to see details"]})]}),e.jsxs(M,{children:[e.jsxs("div",{className:"grid grid-cols-7 gap-2 mb-4 text-center text-sm font-medium text-gray-600",children:[e.jsx("div",{children:"Sun"}),e.jsx("div",{children:"Mon"}),e.jsx("div",{children:"Tue"}),e.jsx("div",{children:"Wed"}),e.jsx("div",{children:"Thu"}),e.jsx("div",{children:"Fri"}),e.jsx("div",{children:"Sat"})]}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:d.map((m,p)=>{const f=u(m),x=Vs(m,"yyyy-MM-dd")===Vs(t,"yyyy-MM-dd"),g=tb(m);return e.jsxs("button",{onClick:()=>s(m),className:`
                            relative p-3 rounded-lg border-2 transition-all duration-200 hover:shadow-md
                            ${x?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}
                            ${g?"ring-2 ring-blue-300":""}
                          `,children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:Vs(m,"d")}),f&&e.jsx("div",{className:`absolute top-1 right-1 w-3 h-3 rounded-full ${h(f.status)}`}),g&&e.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-blue-600 rounded-full"})]},p)})}),e.jsxs("div",{className:"flex justify-center space-x-6 mt-6 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{children:"Present"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsx("span",{children:"Late"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{children:"Absent"})]})]})]})]}):e.jsxs(H,{className:"shadow-xl",children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(pa,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Attendance Records"})]}),e.jsx(ct,{children:"Recent attendance history with details"})]}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-3",children:[o.slice(0,10).map(m=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[A(m.status),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Vs(ac(m.date),"EEEE, MMMM d, yyyy")}),m.remarks&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:m.remarks})]})]}),e.jsx(Oe,{variant:m.status==="present"?"default":m.status==="late"?"secondary":"destructive",className:"capitalize",children:m.status})]},m.id)),o.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(hr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Records Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No attendance records available for this month."})]})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg",children:Vs(t,"EEEE, MMMM d")})}),e.jsx(M,{children:(()=>{const m=u(t);return m?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[A(m.status),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white capitalize",children:m.status}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Status for this day"})]})]}),m.remarks&&e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Remarks:"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.remarks})]})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(hr,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No attendance record for this date"})]})})()})]}),e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(pa,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{children:"Monthly Summary"})]})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[c.percentage,"%"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Attendance Rate"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Days"}),e.jsx("span",{className:"font-medium",children:c.totalDays})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-green-600",children:"Present"}),e.jsx("span",{className:"font-medium text-green-600",children:c.presentDays})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-yellow-600",children:"Late"}),e.jsx("span",{className:"font-medium text-yellow-600",children:c.lateDays})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-red-600",children:"Absent"}),e.jsx("span",{className:"font-medium text-red-600",children:c.absentDays})]})]}),e.jsx(Ao,{value:c.percentage,className:"h-3"})]})]})]})]})]})]})}function fde(){var A,m,p;const[t,s]=b.useState(""),[r,n]=b.useState("all"),{data:a,isLoading:i}=st({queryKey:["/api/fee-receipts"]}),{data:l}=st({queryKey:["/api/students/fees/summary"]}),{data:o}=st({queryKey:["/api/fee-items"]}),c=(a==null?void 0:a.filter(f=>{const x=!t||f.receiptNumber.toLowerCase().includes(t.toLowerCase())||f.month.toLowerCase().includes(t.toLowerCase())||f.academicYear.toLowerCase().includes(t.toLowerCase()),g=r==="all"||f.status===r;return x&&g}))||[],d=f=>{switch(f){case"paid":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},u=f=>{switch(f){case"paid":return e.jsx(Yc,{className:"h-4 w-4"});case"pending":return e.jsx(hr,{className:"h-4 w-4"});case"overdue":return e.jsx(aa,{className:"h-4 w-4"});default:return null}},h=f=>(o==null?void 0:o.filter(x=>x.receiptId===f))||[];return i?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-lg border-b border-purple-200/20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(tt,{href:"/student",children:e.jsxs(V,{variant:"ghost",size:"sm",children:[e.jsx(qa,{className:"h-4 w-4 mr-2"}),"Back to Portal"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Fee Payments"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"   Payment history and receipts"})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Export All"]})})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(H,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 shadow-lg",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["",((A=l==null?void 0:l.totalPaid)==null?void 0:A.toLocaleString())||"0"]}),e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Paid"})]}),e.jsx("div",{className:"bg-green-500 p-3 rounded-xl",children:e.jsx(Yc,{className:"h-6 w-6 text-white"})})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-red-50 to-pink-50 border-red-200 shadow-lg",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-red-700",children:["",((m=l==null?void 0:l.totalDue)==null?void 0:m.toLocaleString())||"0"]}),e.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Total Due"})]}),e.jsx("div",{className:"bg-red-500 p-3 rounded-xl",children:e.jsx(aa,{className:"h-6 w-6 text-white"})})]})})}),e.jsx(H,{className:"shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["",((p=l==null?void 0:l.monthlyAverage)==null?void 0:p.toLocaleString())||"0"]}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Monthly Average"})]}),e.jsx(Wd,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(H,{className:"shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:l!=null&&l.lastPaymentDate?Vs(ac(l.lastPaymentDate),"MMM d, yyyy"):"No recent payments"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Last Payment"})]}),e.jsx(bs,{className:"h-8 w-8 text-purple-600"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(H,{className:"shadow-xl",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx($1,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Fee Receipts"})]}),e.jsx(ct,{children:"Complete payment history with downloadable receipts"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(de,{placeholder:"Search receipts...",value:t,onChange:f=>s(f.target.value),className:"pl-10 w-64"})]}),e.jsxs("select",{value:r,onChange:f=>n(f.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"overdue",children:"Overdue"})]})]})]})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[c.map(f=>{const x=h(f.id);return e.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-6 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Receipt #",f.receiptNumber]}),e.jsx(Oe,{className:d(f.status),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[u(f.status),e.jsx("span",{className:"capitalize",children:f.status})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Academic Year"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:f.academicYear})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Month"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:f.month})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Payment Date"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Vs(ac(f.paymentDate),"MMM d, yyyy")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Payment Method"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:f.paymentMethod})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"mb-2",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["",parseFloat(f.totalAmount).toLocaleString()]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total Amount"})]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Download"]})]})]}),x.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Fee Breakdown:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:x.map(g=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:g.itemName}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["",parseFloat(g.amount).toLocaleString()]})]},g.id))})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Paid Amount:"}),e.jsxs("span",{className:"font-medium text-green-600",children:["",parseFloat(f.paidAmount).toLocaleString()]})]}),parseFloat(f.dueAmount)>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Due Amount:"}),e.jsxs("span",{className:"font-medium text-red-600",children:["",parseFloat(f.dueAmount).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Status:"}),e.jsx("span",{className:`font-medium capitalize ${f.status==="paid"?"text-green-600":f.status==="pending"?"text-yellow-600":"text-red-600"}`,children:f.status})]})]}),f.notes&&e.jsx("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[e.jsx("strong",{children:"Note:"})," ",f.notes]})})]},f.id)}),c.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx($1,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Fee Receipts Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t||r!=="all"?"No receipts match your search criteria.":"No fee receipts available yet."})]})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(zr,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:"Quick Actions"})]})}),e.jsxs(M,{className:"space-y-3",children:[e.jsxs(V,{className:"w-full",size:"sm",children:[e.jsx(zr,{className:"h-4 w-4 mr-2"}),"Pay Fees Online"]}),e.jsxs(V,{variant:"outline",className:"w-full",size:"sm",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Download All Receipts"]}),e.jsxs(V,{variant:"outline",className:"w-full",size:"sm",children:[e.jsx($1,{className:"h-4 w-4 mr-2"}),"Fee Structure"]})]})]}),e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg",children:"Payment Methods"})}),e.jsxs(M,{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 dark:text-green-300 mb-1",children:"Online Payment"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-400",children:"Pay securely using bKash, Nagad, or credit card"})]}),e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-300 mb-1",children:"Bank Transfer"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:"Direct bank transfer to school account"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Cash Payment"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Pay directly at the school office"})]})]})]}),e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg",children:"Recent Payments"})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-3",children:c.slice(0,3).map(f=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:[f.month," ",f.academicYear]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:Vs(ac(f.paymentDate),"MMM d")})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:["",parseFloat(f.paidAmount).toLocaleString()]}),e.jsx(Oe,{size:"sm",className:d(f.status),children:f.status})]})]},f.id))})})]})]})]})]})]})}function xde(){const[t,s]=b.useState(""),[r,n]=b.useState("all"),[a,i]=b.useState("all"),{data:l,isLoading:o}=st({queryKey:["/api/library/borrowed"]}),{data:c,isLoading:d}=st({queryKey:["/api/library/books"]}),{data:u}=st({queryKey:["/api/library/stats"]}),h=(l==null?void 0:l.filter(g=>{var B,F,P,E,N,C;const v=!t||((F=(B=g.book)==null?void 0:B.title)==null?void 0:F.toLowerCase().includes(t.toLowerCase()))||((E=(P=g.book)==null?void 0:P.titleBn)==null?void 0:E.toLowerCase().includes(t.toLowerCase()))||((C=(N=g.book)==null?void 0:N.author)==null?void 0:C.toLowerCase().includes(t.toLowerCase())),j=a==="all"||g.status===a;return v&&j}))||[],A=(c==null?void 0:c.filter(g=>{const v=!t||g.title.toLowerCase().includes(t.toLowerCase())||g.titleBn.toLowerCase().includes(t.toLowerCase())||g.author.toLowerCase().includes(t.toLowerCase()),j=r==="all"||g.category===r;return v&&j&&g.availableCopies>0}))||[],m=[...new Set((c==null?void 0:c.map(g=>g.category))||[])],p=g=>{switch(g){case"active":return"bg-blue-100 text-blue-800 border-blue-200";case"returned":return"bg-green-100 text-green-800 border-green-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},f=g=>{switch(g){case"active":return e.jsx(hr,{className:"h-4 w-4"});case"returned":return e.jsx(Yc,{className:"h-4 w-4"});case"overdue":return e.jsx(yn,{className:"h-4 w-4"});default:return null}},x=g=>kre(ac(g),new Date);return o||d?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-lg border-b border-indigo-200/20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(tt,{href:"/student",children:e.jsxs(V,{variant:"ghost",size:"sm",children:[e.jsx(qa,{className:"h-4 w-4 mr-2"}),"Back to Portal"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Library"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"  Browse books and manage borrowed items"})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(de,{placeholder:"Search books...",value:t,onChange:g=>s(g.target.value),className:"pl-10 w-64"})]})})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(H,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 shadow-lg",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:(u==null?void 0:u.activeBorrows)||h.filter(g=>g.status==="active").length}),e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Currently Borrowed"})]}),e.jsx("div",{className:"bg-blue-500 p-3 rounded-xl",children:e.jsx(Hf,{className:"h-6 w-6 text-white"})})]})})}),e.jsx(H,{className:"shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(u==null?void 0:u.totalBorrowed)||(l==null?void 0:l.length)||0}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Borrowed"})]}),e.jsx(Dy,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-red-50 to-pink-50 border-red-200 shadow-lg",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-red-700",children:(u==null?void 0:u.overdueBorrows)||h.filter(g=>g.status==="overdue").length}),e.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Overdue Books"})]}),e.jsx("div",{className:"bg-red-500 p-3 rounded-xl",children:e.jsx(yn,{className:"h-6 w-6 text-white"})})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-200 shadow-lg",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-yellow-700",children:["",(u==null?void 0:u.totalFines)||(l==null?void 0:l.reduce((g,v)=>g+parseFloat(v.fine||"0"),0))||0]}),e.jsx("p",{className:"text-sm text-yellow-600 font-medium",children:"Total Fines"})]}),e.jsx("div",{className:"bg-yellow-500 p-3 rounded-xl",children:e.jsx(bs,{className:"h-6 w-6 text-white"})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs(H,{className:"shadow-xl mb-6",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(Hf,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"My Borrowed Books"})]}),e.jsx(ct,{children:"Track your borrowed books and due dates"})]}),e.jsxs("select",{value:a,onChange:g=>i(g.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"returned",children:"Returned"}),e.jsx("option",{value:"overdue",children:"Overdue"})]})]})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[h.map(g=>{var B,F,P,E;const v=x(g.dueDate),j=v<0;return e.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:((B=g.book)==null?void 0:B.title)||"Unknown Title"}),((F=g.book)==null?void 0:F.titleBn)&&e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-1",children:g.book.titleBn}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:["by ",((P=g.book)==null?void 0:P.author)||"Unknown Author"]})]}),e.jsx(Oe,{className:p(g.status),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[f(g.status),e.jsx("span",{className:"capitalize",children:g.status})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Borrowed Date"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Vs(ac(g.borrowDate),"MMM d, yyyy")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Due Date"}),e.jsx("p",{className:`font-medium ${j?"text-red-600":"text-gray-900 dark:text-white"}`,children:Vs(ac(g.dueDate),"MMM d, yyyy")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Days Remaining"}),e.jsx("p",{className:`font-medium ${j?"text-red-600":v<=3?"text-yellow-600":"text-green-600"}`,children:j?`${Math.abs(v)} days overdue`:`${v} days`})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Fine"}),e.jsxs("p",{className:`font-medium ${parseFloat(g.fine)>0?"text-red-600":"text-gray-900 dark:text-white"}`,children:["",parseFloat(g.fine).toFixed(2)]})]})]}),((E=g.book)==null?void 0:E.location)&&e.jsx("div",{className:"mt-3 p-2 bg-gray-50 dark:bg-gray-700 rounded",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[e.jsx("strong",{children:"Location:"})," ",g.book.location]})}),g.notes&&e.jsx("div",{className:"mt-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:[e.jsx("strong",{children:"Note:"})," ",g.notes]})}),j&&e.jsx("div",{className:"mt-3 p-2 bg-red-50 dark:bg-red-900/20 rounded border-l-4 border-red-500",children:e.jsx("p",{className:"text-sm text-red-800 dark:text-red-300 font-medium",children:"This book is overdue. Please return it as soon as possible to avoid additional fines."})})]},g.id)}),h.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Hf,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Borrowed Books Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t||a!=="all"?"No books match your search criteria.":"You haven't borrowed any books yet."})]})]})})]}),e.jsxs(H,{className:"shadow-xl",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(Dy,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:"Available Books"})]}),e.jsx(ct,{children:"Browse and search available books in the library"})]}),e.jsxs("select",{value:r,onChange:g=>n(g.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"All Categories"}),m.map(g=>e.jsx("option",{value:g,children:g},g))]})]})}),e.jsxs(M,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.slice(0,6).map(g=>e.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:g.title}),e.jsxs(Oe,{variant:"outline",className:"text-xs",children:[g.availableCopies," available"]})]}),g.titleBn&&e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-xs mb-1",children:g.titleBn}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-xs mb-2",children:["by ",g.author]}),e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsx("span",{className:"text-gray-500",children:g.category}),e.jsx("span",{className:"text-gray-500",children:g.location})]}),g.publishYear&&e.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Published: ",g.publishYear]})]},g.id))}),A.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Dy,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No available books found matching your criteria."})]}),A.length>6&&e.jsx("div",{className:"text-center mt-4",children:e.jsxs(V,{variant:"outline",size:"sm",children:["View All Books (",A.length,")"]})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(Hf,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{children:"Quick Actions"})]})}),e.jsxs(M,{className:"space-y-3",children:[e.jsxs(V,{className:"w-full",size:"sm",children:[e.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Search Catalog"]}),e.jsxs(V,{variant:"outline",className:"w-full",size:"sm",children:[e.jsx(Dy,{className:"h-4 w-4 mr-2"}),"Browse by Category"]}),e.jsxs(V,{variant:"outline",className:"w-full",size:"sm",children:[e.jsx(ui,{className:"h-4 w-4 mr-2"}),"Request Book"]})]})]}),e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg",children:"Library Rules"})}),e.jsxs(M,{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-300 mb-1",children:"Borrowing Period"}),e.jsx("p",{className:"text-blue-700 dark:text-blue-400",children:"Books can be borrowed for 14 days and renewed once"})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-yellow-900 dark:text-yellow-300 mb-1",children:"Late Return Fine"}),e.jsx("p",{className:"text-yellow-700 dark:text-yellow-400",children:"2 per day for each overdue book"})]}),e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 dark:text-green-300 mb-1",children:"Maximum Books"}),e.jsx("p",{className:"text-green-700 dark:text-green-400",children:"Students can borrow up to 3 books at a time"})]})]})]}),e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg",children:"Popular Categories"})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-2",children:m.slice(0,5).map(g=>{const v=(c==null?void 0:c.filter(j=>j.category===g).length)||0;return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:g}),e.jsxs(Oe,{variant:"secondary",className:"text-xs",children:[v," books"]})]},g)})})})]})]})]})]})]})}function pde(){var h,A;const[t,s]=b.useState(""),[r,n]=b.useState("all"),{data:a,isLoading:i}=st({queryKey:["/api/students/results"]}),{data:l}=st({queryKey:["/api/students/performance"]}),o=(a==null?void 0:a.filter(m=>{var x,g,v,j,B;const p=!t||((g=(x=m.exam)==null?void 0:x.name)==null?void 0:g.toLowerCase().includes(t.toLowerCase()))||((j=(v=m.subject)==null?void 0:v.name)==null?void 0:j.toLowerCase().includes(t.toLowerCase())),f=r==="all"||((B=m.exam)==null?void 0:B.term)===r;return p&&f}))||[],c=[...new Set((a==null?void 0:a.map(m=>{var p;return(p=m.exam)==null?void 0:p.term}).filter(Boolean))||[])],d=o.reduce((m,p)=>{var x;const f=((x=p.exam)==null?void 0:x.id)||0;return m[f]||(m[f]={exam:p.exam,subjects:[],totalMarks:0,obtainedMarks:0,averageGPA:0}),m[f].subjects.push(p),m[f].totalMarks+=p.totalMarks,m[f].obtainedMarks+=p.marksObtained,m},{});Object.values(d).forEach(m=>{m.averageGPA=m.subjects.reduce((p,f)=>p+f.gpa,0)/m.subjects.length,m.percentage=m.obtainedMarks/m.totalMarks*100});const u=m=>{switch(m.toUpperCase()){case"A+":return"bg-green-100 text-green-800 border-green-200";case"A":return"bg-blue-100 text-blue-800 border-blue-200";case"B":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"C":return"bg-orange-100 text-orange-800 border-orange-200";case"D":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return i?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-teal-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-lg border-b border-emerald-200/20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(tt,{href:"/student",children:e.jsxs(V,{variant:"ghost",size:"sm",children:[e.jsx(qa,{className:"h-4 w-4 mr-2"}),"Back to Portal"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Exam Results"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"   Academic performance and grades"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(de,{placeholder:"Search exams...",value:t,onChange:m=>s(m.target.value),className:"pl-10 w-64"})]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Export Results"]})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(H,{className:"bg-gradient-to-br from-emerald-50 to-green-50 border-emerald-200 shadow-lg",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-emerald-700",children:((h=l==null?void 0:l.overallGPA)==null?void 0:h.toFixed(2))||"0.00"}),e.jsx("p",{className:"text-sm text-emerald-600 font-medium",children:"Overall GPA"})]}),e.jsx("div",{className:"bg-emerald-500 p-3 rounded-xl",children:e.jsx(El,{className:"h-6 w-6 text-white"})})]})})}),e.jsx(H,{className:"shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(l==null?void 0:l.totalExams)||Object.keys(d).length}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Exams"})]}),e.jsx(Ks,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(H,{className:"shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[((A=l==null?void 0:l.averageMarks)==null?void 0:A.toFixed(1))||"0.0","%"]}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Average Marks"})]}),e.jsx(wh,{className:"h-8 w-8 text-purple-600"})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 shadow-lg",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-blue-700",children:(l==null?void 0:l.bestSubject)||"Mathematics"}),e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Best Subject"})]}),e.jsx("div",{className:"bg-blue-500 p-3 rounded-xl",children:e.jsx(bn,{className:"h-6 w-6 text-white"})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(H,{className:"shadow-xl",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(pa,{className:"h-5 w-5 text-emerald-600"}),e.jsx("span",{children:"Exam Results"})]}),e.jsx(ct,{children:"Detailed examination results and grades"})]}),e.jsxs("select",{value:r,onChange:m=>n(m.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"All Terms"}),c.map(m=>e.jsx("option",{value:m,children:m},m))]})]})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-6",children:[Object.values(d).map(m=>{var p,f,x,g,v;return e.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:((p=m.exam)==null?void 0:p.name)||"Unknown Exam"}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("span",{children:["Term: ",(f=m.exam)==null?void 0:f.term]}),e.jsxs("span",{children:["Year: ",(x=m.exam)==null?void 0:x.academicYear]}),e.jsxs("span",{children:["Date: ",(g=m.exam)==null?void 0:g.examDate]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsxs(Oe,{className:"bg-emerald-100 text-emerald-800 border-emerald-200",children:["GPA: ",m.averageGPA.toFixed(2)]}),e.jsxs(Oe,{variant:"outline",children:[m.percentage.toFixed(1),"%"]})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[m.obtainedMarks,"/",m.totalMarks," marks"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.subjects.map(j=>{var B;return e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:((B=j.subject)==null?void 0:B.name)||"Unknown Subject"}),e.jsx(Oe,{className:u(j.grade),children:j.grade})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Marks"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[j.marksObtained,"/",j.totalMarks]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"GPA"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:j.gpa.toFixed(2)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Position"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:j.position})]})]}),j.remarks&&e.jsx("div",{className:"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-sm",children:e.jsx("p",{className:"text-blue-800 dark:text-blue-300",children:j.remarks})})]},j.id)})})]},(v=m.exam)==null?void 0:v.id)}),Object.keys(d).length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(pa,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Results Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t||r!=="all"?"No results match your search criteria.":"No exam results available yet."})]})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(bn,{className:"h-5 w-5 text-emerald-600"}),e.jsx("span",{children:"Performance Insights"})]})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-emerald-900 dark:text-emerald-300 mb-1",children:"Strong Subject"}),e.jsxs("p",{className:"text-sm text-emerald-700 dark:text-emerald-400",children:[(l==null?void 0:l.bestSubject)||"Mathematics"," - Keep up the excellent work!"]})]}),(l==null?void 0:l.improvementNeeded)&&e.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-yellow-900 dark:text-yellow-300 mb-1",children:"Focus Area"}),e.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:[l.improvementNeeded," - Consider extra practice"]})]}),e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-300 mb-1",children:"Overall Progress"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:"Your academic performance is on track. Keep maintaining consistency."})]})]})]}),e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg",children:"Grade Scale"})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 dark:bg-green-900/20 rounded",children:[e.jsx("span",{className:"font-medium",children:"A+"}),e.jsx("span",{className:"text-gray-600",children:"80-100%"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("span",{className:"font-medium",children:"A"}),e.jsx("span",{className:"text-gray-600",children:"70-79%"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded",children:[e.jsx("span",{className:"font-medium",children:"B"}),e.jsx("span",{className:"text-gray-600",children:"60-69%"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-orange-50 dark:bg-orange-900/20 rounded",children:[e.jsx("span",{className:"font-medium",children:"C"}),e.jsx("span",{className:"text-gray-600",children:"50-59%"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 dark:bg-red-900/20 rounded",children:[e.jsx("span",{className:"font-medium",children:"D"}),e.jsx("span",{className:"text-gray-600",children:"40-49%"})]})]})})]}),e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg",children:"Quick Actions"})}),e.jsxs(M,{className:"space-y-3",children:[e.jsxs(V,{className:"w-full",size:"sm",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Download Result Sheet"]}),e.jsxs(V,{variant:"outline",className:"w-full",size:"sm",children:[e.jsx(bs,{className:"h-4 w-4 mr-2"}),"View Exam Schedule"]}),e.jsxs(V,{variant:"outline",className:"w-full",size:"sm",children:[e.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Study Materials"]})]})]})]})]})]})]})}function gde(){var x;const[t,s]=b.useState(new Date),[r,n]=b.useState("classes"),{data:a,isLoading:i}=st({queryKey:["/api/students/class-schedule"]}),{data:l,isLoading:o}=st({queryKey:["/api/students/exam-schedule"]}),c=dc(t,{weekStartsOn:0}),d=Array.from({length:7},(g,v)=>Oa(c,v)),u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A=(a==null?void 0:a.reduce((g,v)=>{const j=u.indexOf(v.dayOfWeek);return j!==-1&&(g[j]||(g[j]=[]),g[j].push(v)),g},{}))||{};Object.keys(A).forEach(g=>{A[parseInt(g)].sort((v,j)=>v.startTime.localeCompare(j.startTime))});const m=(l==null?void 0:l.filter(g=>new Date(g.examDate)>=new Date))||[],p=g=>{s(v=>Oa(v,g==="next"?7:-7))},f=(g,v)=>`${Vs(new Date(`2000-01-01 ${g}`),"h:mm a")} - ${Vs(new Date(`2000-01-01 ${v}`),"h:mm a")}`;return i||o?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-lg border-b border-violet-200/20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(tt,{href:"/student",children:e.jsxs(V,{variant:"ghost",size:"sm",children:[e.jsx(qa,{className:"h-4 w-4 mr-2"}),"Back to Portal"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Class Schedule"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"   Weekly timetable and exam schedule"})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[e.jsxs(V,{variant:r==="classes"?"default":"ghost",size:"sm",onClick:()=>n("classes"),children:[e.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Classes"]}),e.jsxs(V,{variant:r==="exams"?"default":"ghost",size:"sm",onClick:()=>n("exams"),children:[e.jsx(qr,{className:"h-4 w-4 mr-2"}),"Exams"]})]})})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r==="classes"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(V,{variant:"outline",size:"sm",onClick:()=>p("prev"),children:e.jsx(j3,{className:"h-4 w-4"})}),e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Week of ",Vs(c,"MMMM d, yyyy")]}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>p("next"),children:e.jsx(Gd,{className:"h-4 w-4"})})]}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>s(new Date),children:"Today"})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-4",children:d.map((g,v)=>{var j;return e.jsxs(H,{className:`shadow-lg ${tb(g)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":""}`,children:[e.jsx(oe,{className:"pb-3",children:e.jsxs(ce,{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:h[v]}),e.jsx("div",{className:`text-2xl font-bold ${tb(g)?"text-blue-600":"text-gray-600 dark:text-gray-300"}`,children:Vs(g,"d")})]})}),e.jsx(M,{className:"space-y-2",children:((j=A[v])==null?void 0:j.map(B=>{var F,P,E;return e.jsxs("div",{className:"p-3 bg-gradient-to-r from-violet-50 to-purple-50 dark:from-violet-900/20 dark:to-purple-900/20 rounded-lg border border-violet-200 dark:border-violet-700",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-violet-900 dark:text-violet-300 text-sm",children:((F=B.subject)==null?void 0:F.name)||"Unknown Subject"}),e.jsx("p",{className:"text-xs text-violet-700 dark:text-violet-400",children:(P=B.subject)==null?void 0:P.code})]}),e.jsx(Oe,{variant:"outline",className:"text-xs",children:f(B.startTime,B.endTime)})]}),e.jsxs("div",{className:"space-y-1 text-xs text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ui,{className:"h-3 w-3"}),e.jsx("span",{children:((E=B.teacher)==null?void 0:E.name)||"TBA"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(em,{className:"h-3 w-3"}),e.jsx("span",{children:B.room})]})]})]},B.id)}))||e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(Ks,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No classes"})]})})]},v)})})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(H,{className:"shadow-xl",children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(qr,{className:"h-5 w-5 text-orange-600"}),e.jsx("span",{children:"Upcoming Exams"})]}),e.jsx(ct,{children:"Scheduled examinations and important dates"})]}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[m.map(g=>{var v,j;return e.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-6 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:g.examName}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[(v=g.subject)==null?void 0:v.name," (",(j=g.subject)==null?void 0:j.code,")"]})]}),e.jsx(Oe,{className:"bg-orange-100 text-orange-800 border-orange-200",children:Vs(new Date(g.examDate),"MMM d")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bs,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:Vs(new Date(g.examDate),"EEEE, MMMM d, yyyy")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(hr,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:f(g.startTime,g.endTime)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(em,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:g.room})]})]}),g.syllabus&&e.jsxs("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-300 mb-1",children:"Syllabus Coverage"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:g.syllabus})]})]},g.id)}),m.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(qr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Upcoming Exams"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"There are no scheduled exams at this time."})]})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(hr,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Today's Classes"})]})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-3",children:((x=A[new Date().getDay()])==null?void 0:x.slice(0,3).map(g=>{var v,j;return e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:(v=g.subject)==null?void 0:v.name}),e.jsx("span",{className:"text-xs text-gray-500",children:f(g.startTime,g.endTime)})]}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:[(j=g.teacher)==null?void 0:j.name,"  ",g.room]})]},g.id)}))||e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm text-center py-4",children:"No classes today"})})})]}),e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg",children:"Schedule Info"})}),e.jsxs(M,{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-300 mb-1",children:"Class Timings"}),e.jsx("p",{className:"text-blue-700 dark:text-blue-400",children:"Regular classes: 8:00 AM - 3:00 PM"})]}),e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 dark:text-green-300 mb-1",children:"Break Times"}),e.jsx("p",{className:"text-green-700 dark:text-green-400",children:"Lunch: 12:00 PM - 1:00 PM"})]}),e.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-purple-900 dark:text-purple-300 mb-1",children:"Weekly Classes"}),e.jsxs("p",{className:"text-purple-700 dark:text-purple-400",children:[(a==null?void 0:a.length)||0," total classes per week"]})]})]})]})]})]})})]})}function vde(){const[t,s]=b.useState(""),[r,n]=b.useState("all"),[a,i]=b.useState("all"),{data:l,isLoading:o}=st({queryKey:["/api/students/notifications"]}),c=(l==null?void 0:l.filter(f=>{const x=!t||f.title.toLowerCase().includes(t.toLowerCase())||f.message.toLowerCase().includes(t.toLowerCase()),g=r==="all"||f.type===r,v=a==="all"||f.category===a;return x&&g&&v}))||[],d=c.reduce((f,x)=>{const g=ac(x.createdAt);let v;return tb(g)?v="Today":Ene(g)?v="Yesterday":v=Vs(g,"MMMM d, yyyy"),f[v]||(f[v]=[]),f[v].push(x),f},{});Object.keys(d).forEach(f=>{d[f].sort((x,g)=>new Date(g.createdAt).getTime()-new Date(x.createdAt).getTime())});const u=f=>{switch(f){case"success":return e.jsx(Yc,{className:"h-5 w-5 text-green-600"});case"warning":return e.jsx(aa,{className:"h-5 w-5 text-yellow-600"});case"error":return e.jsx(aa,{className:"h-5 w-5 text-red-600"});default:return e.jsx(Gw,{className:"h-5 w-5 text-blue-600"})}},h=f=>{switch(f){case"academic":return e.jsx(Ks,{className:"h-4 w-4"});case"fee":return e.jsx(zr,{className:"h-4 w-4"});case"attendance":return e.jsx(bs,{className:"h-4 w-4"});case"exam":return e.jsx(qr,{className:"h-4 w-4"});case"general":return e.jsx(ss,{className:"h-4 w-4"});default:return e.jsx(Gw,{className:"h-4 w-4"})}},A=f=>{switch(f){case"success":return"bg-green-100 text-green-800 border-green-200";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"error":return"bg-red-100 text-red-800 border-red-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},m=f=>{switch(f){case"high":return"border-l-4 border-l-red-500";case"medium":return"border-l-4 border-l-yellow-500";default:return"border-l-4 border-l-blue-500"}},p=(l==null?void 0:l.filter(f=>!f.isRead).length)||0;return o?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx("header",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-lg border-b border-blue-200/20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(tt,{href:"/student",children:e.jsxs(V,{variant:"ghost",size:"sm",children:[e.jsx(qa,{className:"h-4 w-4 mr-2"}),"Back to Portal"]})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Notifications",p>0&&e.jsxs(Oe,{className:"ml-2 bg-red-500 text-white",children:[p," new"]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"  Stay updated with important announcements"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(de,{placeholder:"Search notifications...",value:t,onChange:f=>s(f.target.value),className:"pl-10 w-64"})]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(H,{className:"shadow-xl",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(qr,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"All Notifications"})]}),e.jsx(ct,{children:"Recent updates and important information"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("select",{value:r,onChange:f=>n(f.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"info",children:"Info"}),e.jsx("option",{value:"success",children:"Success"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"error",children:"Error"})]}),e.jsxs("select",{value:a,onChange:f=>i(f.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"academic",children:"Academic"}),e.jsx("option",{value:"fee",children:"Fee"}),e.jsx("option",{value:"attendance",children:"Attendance"}),e.jsx("option",{value:"exam",children:"Exam"}),e.jsx("option",{value:"general",children:"General"})]})]})]})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-6",children:[Object.entries(d).map(([f,x])=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 sticky top-0 bg-white dark:bg-gray-800 py-2",children:f}),e.jsx("div",{className:"space-y-3",children:x.map(g=>e.jsx("div",{className:`p-4 rounded-lg border border-gray-200 dark:border-gray-600 hover:shadow-md transition-all duration-200 ${m(g.priority)} ${g.isRead?"bg-white dark:bg-gray-800":"bg-blue-50 dark:bg-blue-900/10"}`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:u(g.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`text-lg font-semibold ${g.isRead?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"}`,children:g.title}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(Oe,{className:A(g.type),children:g.type}),e.jsxs(Oe,{variant:"outline",className:"flex items-center space-x-1",children:[h(g.category),e.jsx("span",{className:"capitalize",children:g.category})]}),g.priority==="high"&&e.jsx(Oe,{className:"bg-red-100 text-red-800 border-red-200",children:"High Priority"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:Vs(ac(g.createdAt),"h:mm a")}),!g.isRead&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-1 ml-auto"})]})]}),e.jsx("p",{className:`text-sm ${g.isRead?"text-gray-600 dark:text-gray-400":"text-gray-900 dark:text-gray-100"} mb-3`,children:g.message}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[!g.isRead&&e.jsx(V,{variant:"outline",size:"sm",children:"Mark as Read"}),g.actionUrl&&e.jsx(V,{size:"sm",children:"Take Action"})]})})]})]})},g.id))})]},f)),c.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(qr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Notifications Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t||r!=="all"||a!=="all"?"No notifications match your search criteria.":"You're all caught up! No new notifications."})]})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(qr,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Summary"})]})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:(l==null?void 0:l.length)||0}),e.jsx("p",{className:"text-sm text-blue-600",children:"Total"})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-red-700",children:p}),e.jsx("p",{className:"text-sm text-red-600",children:"Unread"})]})]}),e.jsx(V,{className:"w-full",size:"sm",children:"Mark All as Read"})]})]}),e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg",children:"Categories"})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-2",children:["academic","fee","attendance","exam","general"].map(f=>{const x=(l==null?void 0:l.filter(v=>v.category===f).length)||0,g=(l==null?void 0:l.filter(v=>v.category===f&&!v.isRead).length)||0;return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[h(f),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize",children:f})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{variant:"secondary",className:"text-xs",children:x}),g>0&&e.jsx(Oe,{className:"text-xs bg-red-500 text-white",children:g})]})]},f)})})})]}),e.jsxs(H,{className:"shadow-lg",children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg",children:"Preferences"})}),e.jsxs(M,{className:"space-y-3",children:[e.jsxs(V,{variant:"outline",className:"w-full",size:"sm",children:[e.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Notification Settings"]}),e.jsxs(V,{variant:"outline",className:"w-full",size:"sm",children:[e.jsx(A0,{className:"h-4 w-4 mr-2"}),"Manage Filters"]})]})]})]})]})})]})}const dS={button:{primary:"bg-primary text-white hover:bg-primary/90 shadow-sm hover:shadow-md transition-all duration-200 font-medium rounded-lg px-4 py-2.5 min-h-[44px] flex items-center justify-center gap-2 focus:ring-2 focus:ring-primary/20 focus:outline-none",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 hover:border-slate-400 shadow-sm hover:shadow-md transition-all duration-200 font-medium rounded-lg px-4 py-2.5 min-h-[44px] flex items-center justify-center gap-2 focus:ring-2 focus:ring-primary/20 focus:outline-none",ghost:"text-slate-700 hover:bg-slate-100 hover:text-slate-900 transition-all duration-200 font-medium rounded-lg px-4 py-2.5 min-h-[44px] flex items-center justify-center gap-2 focus:ring-2 focus:ring-primary/20 focus:outline-none",destructive:"bg-red-600 text-white hover:bg-red-700 shadow-sm hover:shadow-md transition-all duration-200 font-medium rounded-lg px-4 py-2.5 min-h-[44px] flex items-center justify-center gap-2 focus:ring-2 focus:ring-red/20 focus:outline-none"},card:{base:"bg-white/80 backdrop-blur-sm rounded-xl border border-slate-200/60 shadow-sm hover:shadow-md transition-all duration-300",interactive:"cursor-pointer hover:scale-[1.02] hover:border-primary/20"}},F9=b.createContext({logPrinciple:()=>{}});function bb({children:t}){const s=(r,n)=>{};return e.jsx(F9.Provider,{value:{logPrinciple:s},children:t})}function T9(){return b.useContext(F9)}function nw({children:t,variant:s="primary",onClick:r,disabled:n,className:a,...i}){const{logPrinciple:l}=T9();return gs.useEffect(()=>{l("Button","Norman: Clear affordances, Walter: Emotional hierarchy")},[]),e.jsx("button",{onClick:r,disabled:n,className:at(dS.button[s],a),type:"button",...i,children:t})}function Eu({children:t,interactive:s=!1,className:r,onClick:n,...a}){const{logPrinciple:i}=T9();return gs.useEffect(()=>{i("Card","Rams: Minimal design, Ive: Purposeful elements")},[]),e.jsx("div",{className:at(dS.card.base,s&&dS.card.interactive,r),onClick:n,...a,children:t})}const jde=Y.object({teacherId:Y.string().min(1,"  "),password:Y.string().min(4,"     ")}),qo={isAuthenticated:!1,teacher:null,login:t=>{localStorage.setItem("teacherAuth",JSON.stringify(t)),qo.isAuthenticated=!0,qo.teacher=t},logout:()=>{localStorage.removeItem("teacherAuth"),qo.isAuthenticated=!1,qo.teacher=null},init:()=>{const t=localStorage.getItem("teacherAuth");if(t){const s=JSON.parse(t);return qo.isAuthenticated=!0,qo.teacher=s,s}return null}};function yde({onAuthenticated:t}){const{toast:s}=ls(),r=zs({resolver:qs(jde),defaultValues:{teacherId:"",password:""}}),n=Bt({mutationFn:async i=>{const l={id:"T001",teacherId:i.teacherId,name:" ",nameInBangla:" ",designation:" ",department:"",subject:"",phone:"01712345678",email:"teacher@school.edu.bd",classes:[" "," "," "],joiningDate:"2020-01-15",isActive:!0};if(i.teacherId==="demo"||i.teacherId.startsWith("T"))return l;throw new Error("Invalid credentials")},onSuccess:i=>{qo.login(i),s({title:" !",description:` ${i.name}`}),t(i)},onError:i=>{s({title:"!",description:"    ",variant:"destructive"})}}),a=i=>{n.mutate(i)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(dn,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:" "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"   "})]}),e.jsxs(Eu,{interactive:!0,children:[e.jsx(oe,{className:"text-center pb-4",children:e.jsx(ce,{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:" "})}),e.jsxs(M,{children:[e.jsx(Ms,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(a),className:"space-y-6",children:[e.jsx(Se,{control:r.control,name:"teacherId",render:({field:i})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-semibold text-slate-800 block",children:" "}),e.jsx(Be,{children:e.jsxs("div",{className:"relative",children:[e.jsx(ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(de,{placeholder:"T001  demo",className:"w-full px-4 py-3 pl-10 rounded-lg border border-slate-300 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-200 min-h-[44px] focus:outline-none",...i})]})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:r.control,name:"password",render:({field:i})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-semibold text-slate-800 block",children:""}),e.jsx(Be,{children:e.jsxs("div",{className:"relative",children:[e.jsx(Yv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(de,{type:"password",placeholder:" ",className:"w-full px-4 py-3 pl-10 rounded-lg border border-slate-300 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-200 min-h-[44px] focus:outline-none",...i})]})}),e.jsx(_e,{})]})}),e.jsx(nw,{type:"submit",variant:"primary",className:"w-full",disabled:n.isPending,children:n.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ks,{className:"w-4 h-4 mr-2"})," "]})})]})}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:" :"}),e.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:" :"})," demo"]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," 1234"]})]})]})]})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"     "})})]})})}const zf=({children:t,interactive:s=!1,...r})=>{const n="bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-sm hover:shadow-md transition-all duration-200",a=s?"hover:scale-[1.02] cursor-pointer hover:border-slate-300 dark:hover:border-slate-600":"";return e.jsx(H,{className:at(n,a),...r,children:t})},wde=({title:t,description:s,icon:r,href:n,color:a,badge:i})=>e.jsx(tt,{href:n,children:e.jsx(zf,{interactive:!0,children:e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:at("w-12 h-12 rounded-lg flex items-center justify-center",a==="blue"&&"bg-blue-100 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400",a==="green"&&"bg-green-100 text-green-600 dark:bg-green-900/20 dark:text-green-400",a==="orange"&&"bg-orange-100 text-orange-600 dark:bg-orange-900/20 dark:text-orange-400",a==="purple"&&"bg-purple-100 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400",a==="red"&&"bg-red-100 text-red-600 dark:bg-red-900/20 dark:text-red-400"),children:e.jsx(r,{className:"w-6 h-6"})}),i&&e.jsx(Oe,{variant:"secondary",className:"text-xs",children:i})]}),e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-2",children:t}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:s})]})})}),bde=({title:t,value:s,subtitle:r,icon:n,color:a})=>e.jsx(zf,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:t}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:s}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:r})]}),e.jsx("div",{className:at("w-12 h-12 rounded-lg flex items-center justify-center",a==="blue"&&"bg-blue-100 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400",a==="green"&&"bg-green-100 text-green-600 dark:bg-green-900/20 dark:text-green-400",a==="orange"&&"bg-orange-100 text-orange-600 dark:bg-orange-900/20 dark:text-orange-400",a==="purple"&&"bg-purple-100 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400"),children:e.jsx(n,{className:"w-6 h-6"})})]})})});function Nde(){const{data:t}=st({queryKey:["/api/teachers/overview"],staleTime:6e4}),s=[{title:"",description:"    ",icon:pa,href:"/teacher/dashboard",color:"blue",badge:""},{title:" ",description:"     ",icon:ss,href:"/teacher/attendance",color:"green"},{title:" ",description:"      ",icon:Ks,href:"/teacher/lesson-plans",color:"purple"},{title:"",description:"      ",icon:sc,href:"/teacher/assignments",color:"orange"},{title:" ",description:"   ",icon:bs,href:"/teacher/schedule",color:"blue"},{title:" ",description:"     ",icon:El,href:"/teacher/marks",color:"red"},{title:"  ",description:"   ",icon:bn,href:"/teacher/reports",color:"purple"},{title:"",description:"     ",icon:Zg,href:"/teacher/communication",color:"green"},{title:" ",description:"    ",icon:xs,href:"/teacher/resources",color:"orange"}],r=[{title:" ",value:"",subtitle:" ,  ",icon:bs,color:"blue"},{title:" ",value:" ",subtitle:" ",icon:ss,color:"green"},{title:" ",value:"",subtitle:"  ",icon:sc,color:"orange"},{title:" ",value:"%",subtitle:" ",icon:ks,color:"purple"}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 dark:from-slate-900 dark:to-slate-800",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-slate-100",children:" "}),e.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto",children:"      "})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((n,a)=>e.jsx(bde,{...n},a))}),e.jsx(zf,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:e.jsx(qr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:" "}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"    "})]})]}),e.jsx(tt,{href:"/teacher/dashboard",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(wh,{className:"w-4 h-4 mr-2"})," "]})})]})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100 mb-6",children:""}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((n,a)=>e.jsx(wde,{...n},a))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(zf,{children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:" "})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 mt-2"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:" ''    "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"  "})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-2"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:"     "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"  "})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500 mt-2"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:"  "}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"  "})]})]})]})})]}),e.jsxs(zf,{children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:" "})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-orange-50 dark:bg-orange-900/20",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-orange-900 dark:text-orange-100",children:"   "}),e.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-300",children:"  - "})]}),e.jsx(Oe,{variant:"outline",className:"text-orange-600 border-orange-600",children:" "})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"  "}),e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"  "})]}),e.jsx(Oe,{variant:"outline",className:"text-blue-600 border-blue-600",children:" "})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50 dark:bg-green-900/20",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:" "}),e.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"  "})]}),e.jsx(Oe,{variant:"outline",className:"text-green-600 border-green-600",children:" "})]})]})})]})]}),e.jsx(zf,{children:e.jsxs(M,{className:"p-8 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:" ?"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"          "}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsxs(V,{variant:"outline",children:[e.jsx(xs,{className:"w-4 h-4 mr-2"})," "]}),e.jsxs(V,{variant:"outline",children:[e.jsx(Zg,{className:"w-4 h-4 mr-2"})," "]})]})]})})]})})}var uS=["Enter"," "],Cde=["ArrowDown","PageUp","Home"],L9=["ArrowUp","PageDown","End"],Bde=[...Cde,...L9],Sde={ltr:[...uS,"ArrowRight"],rtl:[...uS,"ArrowLeft"]},kde={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ij="Menu",[jv,_de,Ede]=_2(ij),[Nm,I9]=Ga(ij,[Ede,v0,x0]),rN=v0(),P9=x0(),[Fde,Cm]=Nm(ij),[Tde,lj]=Nm(ij),D9=t=>{const{__scopeMenu:s,open:r=!1,children:n,dir:a,onOpenChange:i,modal:l=!0}=t,o=rN(s),[c,d]=b.useState(null),u=b.useRef(!1),h=za(i),A=tj(a);return b.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),e.jsx(Y3,{...o,children:e.jsx(Fde,{scope:s,open:r,onOpenChange:h,content:c,onContentChange:d,children:e.jsx(Tde,{scope:s,onClose:b.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:A,modal:l,children:n})})})};D9.displayName=ij;var Lde="MenuAnchor",l_=b.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t,a=rN(r);return e.jsx(Y2,{...a,...n,ref:s})});l_.displayName=Lde;var o_="MenuPortal",[Ide,U9]=Nm(o_,{forceMount:void 0}),O9=t=>{const{__scopeMenu:s,forceMount:r,children:n,container:a}=t,i=Cm(o_,s);return e.jsx(Ide,{scope:s,forceMount:r,children:e.jsx(Ri,{present:r||i.open,children:e.jsx(h0,{asChild:!0,container:a,children:n})})})};O9.displayName=o_;var mo="MenuContent",[Pde,c_]=Nm(mo),R9=b.forwardRef((t,s)=>{const r=U9(mo,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=Cm(mo,t.__scopeMenu),l=lj(mo,t.__scopeMenu);return e.jsx(jv.Provider,{scope:t.__scopeMenu,children:e.jsx(Ri,{present:n||i.open,children:e.jsx(jv.Slot,{scope:t.__scopeMenu,children:l.modal?e.jsx(Dde,{...a,ref:s}):e.jsx(Ude,{...a,ref:s})})})})}),Dde=b.forwardRef((t,s)=>{const r=Cm(mo,t.__scopeMenu),n=b.useRef(null),a=sr(s,n);return b.useEffect(()=>{const i=n.current;if(i)return J2(i)},[]),e.jsx(d_,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Qt(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Ude=b.forwardRef((t,s)=>{const r=Cm(mo,t.__scopeMenu);return e.jsx(d_,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Ode=yh("MenuContent.ScrollLock"),d_=b.forwardRef((t,s)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:A,onDismiss:m,disableOutsideScroll:p,...f}=t,x=Cm(mo,r),g=lj(mo,r),v=rN(r),j=P9(r),B=_de(r),[F,P]=b.useState(null),E=b.useRef(null),N=sr(s,E,x.onContentChange),C=b.useRef(0),_=b.useRef(""),k=b.useRef(0),D=b.useRef(null),z=b.useRef("right"),K=b.useRef(0),xe=p?nj:b.Fragment,W=p?{as:Ode,allowPinchZoom:!0}:void 0,re=ie=>{var Ae,G;const ve=_.current+ie,De=B().filter(O=>!O.disabled),L=document.activeElement,U=(Ae=De.find(O=>O.ref.current===L))==null?void 0:Ae.textValue,R=De.map(O=>O.textValue),q=Yde(R,ve,U),ae=(G=De.find(O=>O.textValue===q))==null?void 0:G.ref.current;(function O(ee){_.current=ee,window.clearTimeout(C.current),ee!==""&&(C.current=window.setTimeout(()=>O(""),1e3))})(ve),ae&&setTimeout(()=>ae.focus())};b.useEffect(()=>()=>window.clearTimeout(C.current),[]),z2();const I=b.useCallback(ie=>{var De,L;return z.current===((De=D.current)==null?void 0:De.side)&&Jde(ie,(L=D.current)==null?void 0:L.area)},[]);return e.jsx(Pde,{scope:r,searchRef:_,onItemEnter:b.useCallback(ie=>{I(ie)&&ie.preventDefault()},[I]),onItemLeave:b.useCallback(ie=>{var ve;I(ie)||((ve=E.current)==null||ve.focus(),P(null))},[I]),onTriggerLeave:b.useCallback(ie=>{I(ie)&&ie.preventDefault()},[I]),pointerGraceTimerRef:k,onPointerGraceIntentChange:b.useCallback(ie=>{D.current=ie},[]),children:e.jsx(xe,{...W,children:e.jsx(sj,{asChild:!0,trapped:a,onMountAutoFocus:Qt(i,ie=>{var ve;ie.preventDefault(),(ve=E.current)==null||ve.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:e.jsx(u0,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:A,onDismiss:m,children:e.jsx(U3,{asChild:!0,...j,dir:g.dir,orientation:"vertical",loop:n,currentTabStopId:F,onCurrentTabStopIdChange:P,onEntryFocus:Qt(c,ie=>{g.isUsingKeyboardRef.current||ie.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(X3,{role:"menu","aria-orientation":"vertical","data-state":tH(x.open),"data-radix-menu-content":"",dir:g.dir,...v,...f,ref:N,style:{outline:"none",...f.style},onKeyDown:Qt(f.onKeyDown,ie=>{const De=ie.target.closest("[data-radix-menu-content]")===ie.currentTarget,L=ie.ctrlKey||ie.altKey||ie.metaKey,U=ie.key.length===1;De&&(ie.key==="Tab"&&ie.preventDefault(),!L&&U&&re(ie.key));const R=E.current;if(ie.target!==R||!Bde.includes(ie.key))return;ie.preventDefault();const ae=B().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);L9.includes(ie.key)&&ae.reverse(),Gde(ae)}),onBlur:Qt(t.onBlur,ie=>{ie.currentTarget.contains(ie.target)||(window.clearTimeout(C.current),_.current="")}),onPointerMove:Qt(t.onPointerMove,yv(ie=>{const ve=ie.target,De=K.current!==ie.clientX;if(ie.currentTarget.contains(ve)&&De){const L=ie.clientX>K.current?"right":"left";z.current=L,K.current=ie.clientX}}))})})})})})})});R9.displayName=mo;var Rde="MenuGroup",u_=b.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(os.div,{role:"group",...n,ref:s})});u_.displayName=Rde;var Mde="MenuLabel",M9=b.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(os.div,{...n,ref:s})});M9.displayName=Mde;var Nb="MenuItem",L8="menu.itemSelect",nN=b.forwardRef((t,s)=>{const{disabled:r=!1,onSelect:n,...a}=t,i=b.useRef(null),l=lj(Nb,t.__scopeMenu),o=c_(Nb,t.__scopeMenu),c=sr(s,i),d=b.useRef(!1),u=()=>{const h=i.current;if(!r&&h){const A=new CustomEvent(L8,{bubbles:!0,cancelable:!0});h.addEventListener(L8,m=>n==null?void 0:n(m),{once:!0}),m3(h,A),A.defaultPrevented?d.current=!1:l.onClose()}};return e.jsx(Q9,{...a,ref:c,disabled:r,onClick:Qt(t.onClick,u),onPointerDown:h=>{var A;(A=t.onPointerDown)==null||A.call(t,h),d.current=!0},onPointerUp:Qt(t.onPointerUp,h=>{var A;d.current||(A=h.currentTarget)==null||A.click()}),onKeyDown:Qt(t.onKeyDown,h=>{const A=o.searchRef.current!=="";r||A&&h.key===" "||uS.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});nN.displayName=Nb;var Q9=b.forwardRef((t,s)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=t,l=c_(Nb,r),o=P9(r),c=b.useRef(null),d=sr(s,c),[u,h]=b.useState(!1),[A,m]=b.useState("");return b.useEffect(()=>{const p=c.current;p&&m((p.textContent??"").trim())},[i.children]),e.jsx(jv.ItemSlot,{scope:r,disabled:n,textValue:a??A,children:e.jsx(O3,{asChild:!0,...o,focusable:!n,children:e.jsx(os.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:Qt(t.onPointerMove,yv(p=>{n?l.onItemLeave(p):(l.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Qt(t.onPointerLeave,yv(p=>l.onItemLeave(p))),onFocus:Qt(t.onFocus,()=>h(!0)),onBlur:Qt(t.onBlur,()=>h(!1))})})})}),Qde="MenuCheckboxItem",H9=b.forwardRef((t,s)=>{const{checked:r=!1,onCheckedChange:n,...a}=t;return e.jsx($9,{scope:t.__scopeMenu,checked:r,children:e.jsx(nN,{role:"menuitemcheckbox","aria-checked":Cb(r)?"mixed":r,...a,ref:s,"data-state":A_(r),onSelect:Qt(a.onSelect,()=>n==null?void 0:n(Cb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});H9.displayName=Qde;var V9="MenuRadioGroup",[Hde,Vde]=Nm(V9,{value:void 0,onValueChange:()=>{}}),K9=b.forwardRef((t,s)=>{const{value:r,onValueChange:n,...a}=t,i=za(n);return e.jsx(Hde,{scope:t.__scopeMenu,value:r,onValueChange:i,children:e.jsx(u_,{...a,ref:s})})});K9.displayName=V9;var z9="MenuRadioItem",q9=b.forwardRef((t,s)=>{const{value:r,...n}=t,a=Vde(z9,t.__scopeMenu),i=r===a.value;return e.jsx($9,{scope:t.__scopeMenu,checked:i,children:e.jsx(nN,{role:"menuitemradio","aria-checked":i,...n,ref:s,"data-state":A_(i),onSelect:Qt(n.onSelect,()=>{var l;return(l=a.onValueChange)==null?void 0:l.call(a,r)},{checkForDefaultPrevented:!1})})})});q9.displayName=z9;var h_="MenuItemIndicator",[$9,Kde]=Nm(h_,{checked:!1}),G9=b.forwardRef((t,s)=>{const{__scopeMenu:r,forceMount:n,...a}=t,i=Kde(h_,r);return e.jsx(Ri,{present:n||Cb(i.checked)||i.checked===!0,children:e.jsx(os.span,{...a,ref:s,"data-state":A_(i.checked)})})});G9.displayName=h_;var zde="MenuSeparator",W9=b.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(os.div,{role:"separator","aria-orientation":"horizontal",...n,ref:s})});W9.displayName=zde;var qde="MenuArrow",Y9=b.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t,a=rN(r);return e.jsx(J3,{...a,...n,ref:s})});Y9.displayName=qde;var $de="MenuSub",[e_e,X9]=Nm($de),Rp="MenuSubTrigger",J9=b.forwardRef((t,s)=>{const r=Cm(Rp,t.__scopeMenu),n=lj(Rp,t.__scopeMenu),a=X9(Rp,t.__scopeMenu),i=c_(Rp,t.__scopeMenu),l=b.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},u=b.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return b.useEffect(()=>u,[u]),b.useEffect(()=>{const h=o.current;return()=>{window.clearTimeout(h),c(null)}},[o,c]),e.jsx(l_,{asChild:!0,...d,children:e.jsx(Q9,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":tH(r.open),...t,ref:k2(s,a.onTriggerChange),onClick:h=>{var A;(A=t.onClick)==null||A.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Qt(t.onPointerMove,yv(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Qt(t.onPointerLeave,yv(h=>{var m,p;u();const A=(m=r.content)==null?void 0:m.getBoundingClientRect();if(A){const f=(p=r.content)==null?void 0:p.dataset.side,x=f==="right",g=x?-5:5,v=A[x?"left":"right"],j=A[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+g,y:h.clientY},{x:v,y:A.top},{x:j,y:A.top},{x:j,y:A.bottom},{x:v,y:A.bottom}],side:f}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Qt(t.onKeyDown,h=>{var m;const A=i.searchRef.current!=="";t.disabled||A&&h.key===" "||Sde[n.dir].includes(h.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),h.preventDefault())})})})});J9.displayName=Rp;var Z9="MenuSubContent",eH=b.forwardRef((t,s)=>{const r=U9(mo,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=Cm(mo,t.__scopeMenu),l=lj(mo,t.__scopeMenu),o=X9(Z9,t.__scopeMenu),c=b.useRef(null),d=sr(s,c);return e.jsx(jv.Provider,{scope:t.__scopeMenu,children:e.jsx(Ri,{present:n||i.open,children:e.jsx(jv.Slot,{scope:t.__scopeMenu,children:e.jsx(d_,{id:o.contentId,"aria-labelledby":o.triggerId,...a,ref:d,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;l.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Qt(t.onFocusOutside,u=>{u.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Qt(t.onEscapeKeyDown,u=>{l.onClose(),u.preventDefault()}),onKeyDown:Qt(t.onKeyDown,u=>{var m;const h=u.currentTarget.contains(u.target),A=kde[l.dir].includes(u.key);h&&A&&(i.onOpenChange(!1),(m=o.trigger)==null||m.focus(),u.preventDefault())})})})})})});eH.displayName=Z9;function tH(t){return t?"open":"closed"}function Cb(t){return t==="indeterminate"}function A_(t){return Cb(t)?"indeterminate":t?"checked":"unchecked"}function Gde(t){const s=document.activeElement;for(const r of t)if(r===s||(r.focus(),document.activeElement!==s))return}function Wde(t,s){return t.map((r,n)=>t[(s+n)%t.length])}function Yde(t,s,r){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,i=r?t.indexOf(r):-1;let l=Wde(t,Math.max(i,0));a.length===1&&(l=l.filter(d=>d!==r));const c=l.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Xde(t,s){const{x:r,y:n}=t;let a=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const o=s[i].x,c=s[i].y,d=s[l].x,u=s[l].y;c>n!=u>n&&r<(d-o)*(n-c)/(u-c)+o&&(a=!a)}return a}function Jde(t,s){if(!s)return!1;const r={x:t.clientX,y:t.clientY};return Xde(r,s)}function yv(t){return s=>s.pointerType==="mouse"?t(s):void 0}var Zde=D9,eue=l_,tue=O9,sue=R9,rue=u_,nue=M9,aue=nN,iue=H9,lue=K9,oue=q9,cue=G9,due=W9,uue=Y9,hue=J9,Aue=eH,m_="DropdownMenu",[mue,t_e]=Ga(m_,[I9]),Mi=I9(),[fue,sH]=mue(m_),rH=t=>{const{__scopeDropdownMenu:s,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:l,modal:o=!0}=t,c=Mi(s),d=b.useRef(null),[u=!1,h]=go({prop:a,defaultProp:i,onChange:l});return e.jsx(fue,{scope:s,triggerId:ho(),triggerRef:d,contentId:ho(),open:u,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(A=>!A),[h]),modal:o,children:e.jsx(Zde,{...c,open:u,onOpenChange:h,dir:n,modal:o,children:r})})};rH.displayName=m_;var nH="DropdownMenuTrigger",aH=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=t,i=sH(nH,r),l=Mi(r);return e.jsx(eue,{asChild:!0,...l,children:e.jsx(os.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:k2(s,i.triggerRef),onPointerDown:Qt(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:Qt(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});aH.displayName=nH;var xue="DropdownMenuPortal",iH=t=>{const{__scopeDropdownMenu:s,...r}=t,n=Mi(s);return e.jsx(tue,{...n,...r})};iH.displayName=xue;var lH="DropdownMenuContent",oH=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=sH(lH,r),i=Mi(r),l=b.useRef(!1);return e.jsx(sue,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:s,onCloseAutoFocus:Qt(t.onCloseAutoFocus,o=>{var c;l.current||(c=a.triggerRef.current)==null||c.focus(),l.current=!1,o.preventDefault()}),onInteractOutside:Qt(t.onInteractOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oH.displayName=lH;var pue="DropdownMenuGroup",gue=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Mi(r);return e.jsx(rue,{...a,...n,ref:s})});gue.displayName=pue;var vue="DropdownMenuLabel",cH=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Mi(r);return e.jsx(nue,{...a,...n,ref:s})});cH.displayName=vue;var jue="DropdownMenuItem",dH=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Mi(r);return e.jsx(aue,{...a,...n,ref:s})});dH.displayName=jue;var yue="DropdownMenuCheckboxItem",uH=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Mi(r);return e.jsx(iue,{...a,...n,ref:s})});uH.displayName=yue;var wue="DropdownMenuRadioGroup",bue=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Mi(r);return e.jsx(lue,{...a,...n,ref:s})});bue.displayName=wue;var Nue="DropdownMenuRadioItem",hH=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Mi(r);return e.jsx(oue,{...a,...n,ref:s})});hH.displayName=Nue;var Cue="DropdownMenuItemIndicator",AH=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Mi(r);return e.jsx(cue,{...a,...n,ref:s})});AH.displayName=Cue;var Bue="DropdownMenuSeparator",mH=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Mi(r);return e.jsx(due,{...a,...n,ref:s})});mH.displayName=Bue;var Sue="DropdownMenuArrow",kue=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Mi(r);return e.jsx(uue,{...a,...n,ref:s})});kue.displayName=Sue;var _ue="DropdownMenuSubTrigger",fH=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Mi(r);return e.jsx(hue,{...a,...n,ref:s})});fH.displayName=_ue;var Eue="DropdownMenuSubContent",xH=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Mi(r);return e.jsx(Aue,{...a,...n,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xH.displayName=Eue;var Fue=rH,Tue=aH,Lue=iH,pH=oH,gH=cH,vH=dH,jH=uH,yH=hH,wH=AH,bH=mH,NH=fH,CH=xH;const aw=Fue,iw=Tue,Iue=b.forwardRef(({className:t,inset:s,children:r,...n},a)=>e.jsxs(NH,{ref:a,className:at("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...n,children:[r,e.jsx(Gd,{className:"ml-auto h-4 w-4"})]}));Iue.displayName=NH.displayName;const Pue=b.forwardRef(({className:t,...s},r)=>e.jsx(CH,{ref:r,className:at("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));Pue.displayName=CH.displayName;const xg=b.forwardRef(({className:t,sideOffset:s=4,...r},n)=>e.jsx(Lue,{children:e.jsx(pH,{ref:n,sideOffset:s,className:at("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));xg.displayName=pH.displayName;const Lc=b.forwardRef(({className:t,inset:s,...r},n)=>e.jsx(vH,{ref:n,className:at("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...r}));Lc.displayName=vH.displayName;const Due=b.forwardRef(({className:t,children:s,checked:r,...n},a)=>e.jsxs(jH,{ref:a,className:at("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(wH,{children:e.jsx(L2,{className:"h-4 w-4"})})}),s]}));Due.displayName=jH.displayName;const Uue=b.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(yH,{ref:n,className:at("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(wH,{children:e.jsx(GR,{className:"h-2 w-2 fill-current"})})}),s]}));Uue.displayName=yH.displayName;const Oue=b.forwardRef(({className:t,inset:s,...r},n)=>e.jsx(gH,{ref:n,className:at("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...r}));Oue.displayName=gH.displayName;const hS=b.forwardRef(({className:t,...s},r)=>e.jsx(bH,{ref:r,className:at("-mx-1 my-1 h-px bg-muted",t),...s}));hS.displayName=bH.displayName;function Rue(){const{language:t,setLanguage:s}=f0(),[r,n]=b.useState(!1),a=[{code:"bn",name:"",flag:""},{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}],i=a.find(o=>o.code===t),l=o=>{s(o),n(!1)};return e.jsxs(aw,{open:r,onOpenChange:n,children:[e.jsx(iw,{asChild:!0,children:e.jsxs(V,{variant:"ghost",size:"sm",className:"flex items-center gap-2 h-9 px-3 text-gray-700 hover:text-gray-900",children:[e.jsx("span",{className:"text-base",children:i==null?void 0:i.flag}),e.jsx("span",{className:"text-sm font-medium",children:i==null?void 0:i.name})]})}),e.jsx(xg,{align:"end",className:"w-[140px]",children:a.map(({code:o,name:c,flag:d})=>e.jsxs(Lc,{onClick:()=>l(o),className:`flex items-center gap-2 cursor-pointer ${t===o?"bg-secondary text-secondary-foreground":""}`,children:[e.jsx("span",{className:"text-base",children:d}),e.jsx("span",{className:"text-sm",children:c})]},o))})]})}const I8=({size:t="md",className:s=""})=>{const r={sm:"w-10 h-10",md:"w-12 h-12",lg:"w-16 h-16"};return e.jsx("img",{src:"https://images.unsplash.com/photo-1546410531-bb4caa6b424d?ixlib=rb-4.0.3&auto=format&fit=crop&w=48&h=48",alt:"School Logo",className:`${r[t]} rounded-full ${s}`})},y5=768;function jo(){const[t,s]=b.useState(void 0);return b.useEffect(()=>{const r=window.matchMedia(`(max-width: ${y5-1}px)`),n=()=>{s(window.innerWidth<y5)};return r.addEventListener("change",n),s(window.innerWidth<y5),()=>r.removeEventListener("change",n)},[]),!!t}function Mue(){const{language:t}=f0(),s=()=>{switch(t){case"en":return"Quick search... (Press Ctrl+K)";case"bn":return" ... (Ctrl+K )";case"ar":return" ... ( Ctrl+K)";default:return" ... (Ctrl+K )"}};return e.jsx(de,{type:"text",placeholder:s(),className:"pl-10 pr-16 py-2.5 bg-slate-50/80 border-slate-200/80 rounded-lg focus:bg-white focus:border-primary/40 transition-all duration-200","aria-label":"Global search"})}function Que(){const{user:t,signOut:s,loading:r}=vo(),n=jo(),a=async()=>{try{await s()}catch(i){console.error("Logout failed:",i)}};return e.jsx("header",{className:"bg-gradient-to-r from-white via-slate-50/50 to-white border-b border-slate-200/80 z-20 sticky top-0 backdrop-blur-sm shadow-sm",role:"banner",children:e.jsxs("div",{className:"px-4 py-3 flex justify-between items-center",children:[n?e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(I8,{size:"sm"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-slate-800 text-lg font-semibold truncate",children:e.jsx(Rt,{en:"EduBD Pro",bn:" ",ar:" "})}),e.jsx("p",{className:"text-xs text-slate-500 font-medium",children:e.jsx(Rt,{en:"Educational Management",bn:" ",ar:" "})})]})]}):e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(I8,{size:"lg"})}),!n&&e.jsxs("div",{className:"flex items-center gap-4 flex-1 max-w-2xl ml-16",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Mue,{}),e.jsx("span",{className:"material-icons absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 pointer-events-none","aria-hidden":"true",children:"search"}),e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:e.jsx("kbd",{className:"px-2 py-0.5 text-xs font-mono bg-slate-200/80 text-slate-600 rounded border",children:"K"})})]}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs(V,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-slate-600 hover:text-primary hover:bg-primary/5 rounded-lg px-3 py-2",title:"Quick document generation",children:[e.jsx("span",{className:"material-icons text-base",children:"add_circle_outline"}),e.jsx("span",{className:"hidden lg:inline text-sm font-medium",children:e.jsx(Rt,{en:"New Document",bn:" ",ar:" "})})]})})]}),n&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"ghost",size:"icon",className:"h-9 w-9",title:"Quick search",children:e.jsx("span",{className:"material-icons text-lg",children:"search"})}),e.jsxs(aw,{children:[e.jsx(iw,{asChild:!0,children:e.jsx(V,{variant:"ghost",size:"icon",className:"h-9 w-9",title:"Quick actions",children:e.jsx("span",{className:"material-icons text-lg",children:"add_circle_outline"})})}),e.jsxs(xg,{align:"end",className:"w-56",children:[e.jsxs(Lc,{children:[e.jsx("span",{className:"material-icons text-base mr-3",children:"description"}),e.jsx(Rt,{en:"New Document",bn:" ",ar:" "})]}),e.jsxs(Lc,{children:[e.jsx("span",{className:"material-icons text-base mr-3",children:"people"}),e.jsx(Rt,{en:"Add Student",bn:" ",ar:" "})]}),e.jsxs(Lc,{children:[e.jsx("span",{className:"material-icons text-base mr-3",children:"school"}),e.jsx(Rt,{en:"Add Teacher",bn:" ",ar:" "})]}),e.jsx(hS,{}),e.jsxs(Lc,{children:[e.jsx("span",{className:"material-icons text-base mr-3",children:"event"}),e.jsx(Rt,{en:"Calendar Event",bn:" ",ar:" "})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",role:"toolbar","aria-label":"User actions",children:[!n&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-50/80 border border-green-200/60 rounded-lg mr-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs font-medium text-green-700",children:e.jsx(Rt,{en:"Online",bn:"",ar:""})})]}),e.jsxs(aw,{children:[e.jsx(iw,{asChild:!0,children:e.jsxs(V,{variant:"ghost",size:"icon",className:"relative rounded-lg h-10 w-10 hover:bg-slate-100/80 border border-transparent hover:border-slate-200/60 transition-all duration-200","aria-label":"Notifications (3 unread)",children:[e.jsx("span",{className:"material-icons text-slate-600","aria-hidden":"true",children:"notifications"}),e.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center border-2 border-white shadow-sm","aria-label":"3 unread notifications",children:"3"})]})}),e.jsxs(xg,{align:"end",className:"w-96 shadow-lg border border-slate-200/80",children:[e.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-slate-200/60 bg-slate-50/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-slate-800",children:e.jsx(Rt,{en:"Notifications",bn:"",ar:""})}),e.jsx("span",{className:"text-xs px-2 py-0.5 bg-primary/10 text-primary rounded-full font-medium",children:"3"})]}),e.jsx(V,{variant:"ghost",size:"sm",className:"text-primary text-xs hover:bg-primary/5",children:e.jsx(Rt,{en:"Mark All Read",bn:"  ",ar:"  "})})]}),e.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[e.jsx("div",{className:"px-4 py-3 hover:bg-slate-50/80 border-l-4 border-l-blue-400 bg-blue-50/30 transition-colors",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"mt-0.5 bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-lg h-10 w-10 flex items-center justify-center flex-shrink-0 shadow-sm",children:e.jsx("span",{className:"material-icons text-sm",children:"assignment"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-800 truncate",children:"-  "}),e.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:"        "}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"  "}),e.jsx("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),e.jsx("span",{className:"text-xs text-blue-600 font-medium",children:""})]})]})]})}),e.jsx("div",{className:"px-4 py-3 hover:bg-slate-50/80 border-l-4 border-l-green-400 bg-green-50/30 transition-colors",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"mt-0.5 bg-gradient-to-br from-green-500 to-green-600 text-white rounded-lg h-10 w-10 flex items-center justify-center flex-shrink-0 shadow-sm",children:e.jsx("span",{className:"material-icons text-sm",children:"receipt"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-800 truncate",children:"  "}),e.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:"      "}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"  "}),e.jsx("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),e.jsx("span",{className:"text-xs text-orange-600 font-medium",children:""})]})]})]})}),e.jsx("div",{className:"px-4 py-3 hover:bg-slate-50/80 transition-colors",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"mt-0.5 bg-slate-100 text-slate-600 rounded-lg h-10 w-10 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"material-icons text-sm",children:"group"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:"  "}),e.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:"      "}),e.jsx("span",{className:"text-xs text-slate-500 font-medium mt-2 inline-block",children:"  "})]})]})})]}),e.jsx("div",{className:"border-t border-slate-200/60 p-3 bg-slate-50/50",children:e.jsxs(V,{variant:"ghost",size:"sm",className:"w-full justify-center text-primary hover:bg-primary/5 font-medium",children:[e.jsx("span",{className:"material-icons text-base mr-2",children:"visibility"}),e.jsx(Rt,{en:"View All Notifications",bn:"  ",ar:"  "})]})})]})]}),e.jsx(Rue,{}),e.jsxs(aw,{children:[e.jsx(iw,{asChild:!0,children:e.jsxs(V,{variant:"ghost",className:"flex items-center gap-3 rounded-lg px-3 py-2 h-12 hover:bg-slate-100/80 border border-transparent hover:border-slate-200/60 transition-all duration-200","aria-label":"User menu",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-primary/90 to-primary flex items-center justify-center shadow-sm ring-2 ring-white/50",children:e.jsx("span",{className:"material-icons text-white text-lg",children:"person"})}),e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white shadow-sm"})]}),!n&&e.jsxs("div",{className:"flex flex-col items-start min-w-0",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-800 truncate max-w-[120px]",title:(t==null?void 0:t.username)||"Admin",children:(t==null?void 0:t.username)||"Admin"}),e.jsx("span",{className:"text-xs text-slate-500 font-medium",children:e.jsx(Rt,{en:"Super Admin",bn:" ",ar:" "})})]}),!n&&e.jsx("span",{className:"material-icons text-slate-400 text-lg ml-1",children:"expand_more"})]})}),e.jsx(xg,{align:"end",className:"w-72 shadow-lg border border-slate-200/80",children:t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-4 py-4 bg-gradient-to-r from-slate-50/50 to-white border-b border-slate-200/60",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary/90 to-primary flex items-center justify-center shadow-md",children:e.jsx("span",{className:"material-icons text-white text-xl",children:"person"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white shadow-sm"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-800 truncate",children:t.username}),e.jsx("p",{className:"text-xs text-slate-600 truncate",children:"admin@edubd.com"}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-xs text-green-600 font-medium",children:e.jsx(Rt,{en:"Active now",bn:" ",ar:" "})})]})]})]})}),e.jsx("div",{className:"px-4 py-3 border-b border-slate-200/60",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[e.jsxs("div",{className:"bg-blue-50/80 rounded-lg py-2 px-3",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:"245"}),e.jsx("div",{className:"text-xs text-blue-700 font-medium",children:e.jsx(Rt,{en:"Students",bn:"",ar:""})})]}),e.jsxs("div",{className:"bg-green-50/80 rounded-lg py-2 px-3",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:"18"}),e.jsx("div",{className:"text-xs text-green-700 font-medium",children:e.jsx(Rt,{en:"Teachers",bn:"",ar:""})})]})]})}),e.jsxs("div",{className:"py-2",children:[e.jsxs(Lc,{className:"flex items-center gap-3 px-4 py-3 hover:bg-slate-50/80 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center",children:e.jsx("span",{className:"material-icons text-slate-600 text-base",children:"account_circle"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800",children:e.jsx(Rt,{en:"Profile Settings",bn:" ",ar:"  "})}),e.jsx("div",{className:"text-xs text-slate-500",children:e.jsx(Rt,{en:"Manage your account",bn:"   ",ar:" "})})]})]}),e.jsxs(Lc,{className:"flex items-center gap-3 px-4 py-3 hover:bg-slate-50/80 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center",children:e.jsx("span",{className:"material-icons text-slate-600 text-base",children:"tune"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800",children:e.jsx(Rt,{en:"System Settings",bn:" ",ar:" "})}),e.jsx("div",{className:"text-xs text-slate-500",children:e.jsx(Rt,{en:"Configure application",bn:"  ",ar:" "})})]})]}),e.jsxs(Lc,{className:"flex items-center gap-3 px-4 py-3 hover:bg-slate-50/80 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center",children:e.jsx("span",{className:"material-icons text-slate-600 text-base",children:"help_outline"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800",children:e.jsx(Rt,{en:"Help & Support",bn:"  ",ar:" "})}),e.jsx("div",{className:"text-xs text-slate-500",children:e.jsx(Rt,{en:"Get assistance",bn:" ",ar:"  "})})]})]})]}),e.jsx(hS,{}),e.jsx("div",{className:"p-2",children:e.jsxs(Lc,{className:"flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50/80 hover:text-red-700 rounded-lg transition-all duration-200",onClick:a,children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-100 flex items-center justify-center",children:e.jsx("span",{className:"material-icons text-red-600 text-base",children:"logout"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-semibold",children:e.jsx(Rt,{en:"Sign Out",bn:"",ar:" "})}),e.jsx("div",{className:"text-xs opacity-80",children:e.jsx(Rt,{en:"End current session",bn:"   ",ar:"  "})})]})]})})]})})]})]})]})})}var f_="Collapsible",[Hue,s_e]=Ga(f_),[Vue,x_]=Hue(f_),BH=b.forwardRef((t,s)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:l,...o}=t,[c=!1,d]=go({prop:n,defaultProp:a,onChange:l});return e.jsx(Vue,{scope:r,disabled:i,contentId:ho(),open:c,onOpenToggle:b.useCallback(()=>d(u=>!u),[d]),children:e.jsx(os.div,{"data-state":g_(c),"data-disabled":i?"":void 0,...o,ref:s})})});BH.displayName=f_;var SH="CollapsibleTrigger",kH=b.forwardRef((t,s)=>{const{__scopeCollapsible:r,...n}=t,a=x_(SH,r);return e.jsx(os.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":g_(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:s,onClick:Qt(t.onClick,a.onOpenToggle)})});kH.displayName=SH;var p_="CollapsibleContent",_H=b.forwardRef((t,s)=>{const{forceMount:r,...n}=t,a=x_(p_,t.__scopeCollapsible);return e.jsx(Ri,{present:r||a.open,children:({present:i})=>e.jsx(Kue,{...n,ref:s,present:i})})});_H.displayName=p_;var Kue=b.forwardRef((t,s)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=t,l=x_(p_,r),[o,c]=b.useState(n),d=b.useRef(null),u=sr(s,d),h=b.useRef(0),A=h.current,m=b.useRef(0),p=m.current,f=l.open||o,x=b.useRef(f),g=b.useRef(void 0);return b.useEffect(()=>{const v=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(v)},[]),la(()=>{const v=d.current;if(v){g.current=g.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const j=v.getBoundingClientRect();h.current=j.height,m.current=j.width,x.current||(v.style.transitionDuration=g.current.transitionDuration,v.style.animationName=g.current.animationName),c(n)}},[l.open,n]),e.jsx(os.div,{"data-state":g_(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!f,...i,ref:u,style:{"--radix-collapsible-content-height":A?`${A}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...t.style},children:f&&a})});function g_(t){return t?"open":"closed"}var zue=BH;const que=zue,$ue=kH,Gue=_H;function Wue(){var f;const[t]=Oi(),{user:s}=vo(),r=Kce(),[n,a]=b.useState(new Set(["dashboard","people"])),[i,l]=b.useState(""),[o,c]=b.useState([]),d=b.useRef(null);b.useEffect(()=>{if(t!=="/"){const x=[t,...o.filter(g=>g!==t)].slice(0,3);c(x)}},[t]),b.useEffect(()=>{const x=g=>{var v;if(g.ctrlKey||g.metaKey)switch(g.key){case"k":g.preventDefault(),(v=d.current)==null||v.focus();break;case"1":g.preventDefault(),window.location.href="/";break;case"2":g.preventDefault(),window.location.href="/documents";break}};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[]);const u=x=>!!(x==="/"&&t==="/"||x!=="/"&&t.startsWith(x)),h=x=>{const g=new Set(n);g.has(x)?g.delete(x):g.add(x),a(g)},A=[{id:"dashboard",titleEn:"Overview",titleBn:" ",titleAr:" ",icon:nc,priority:"high",color:"blue",items:[{path:"/",icon:nc,textEn:"Dashboard",textBn:"",textAr:" ",badge:null,shortcut:"1"},{path:"/calendar",icon:bs,textEn:"Calendar",textBn:"",textAr:"",badge:null},{path:"/notifications",icon:qr,textEn:"Notifications",textBn:"",textAr:"",badge:3}]},{id:"people",titleEn:"People Management",titleBn:" ",titleAr:" ",icon:ss,priority:"high",color:"green",items:[{path:"/management/students",icon:dn,textEn:"Students",textBn:"",textAr:"",badge:245},{path:"/management/teachers",icon:Kc,textEn:"Teachers",textBn:"",textAr:"",badge:18},{path:"/management/staff",icon:Kw,textEn:"Staff",textBn:"",textAr:"",badge:12},{path:"/management/parents",icon:YR,textEn:"Parents",textBn:"",textAr:" ",badge:null}]},{id:"documents",titleEn:"Documents & Reports",titleBn:"  ",titleAr:" ",icon:xs,priority:"high",color:"purple",directLink:"/documents",items:[]},{id:"financial",titleEn:"Finance & Payments",titleBn:"  ",titleAr:" ",icon:zr,priority:"high",color:"orange",directLink:"/management/finances",items:[]},{id:"resources",titleEn:"School Resources",titleBn:" ",titleAr:" ",icon:tm,priority:"medium",color:"teal",items:[{path:"/management/library",icon:Ks,textEn:"Library",textBn:"",textAr:"",badge:5},{path:"/management/inventory",icon:tm,textEn:"Inventory",textBn:"",textAr:"",badge:8},{path:"/management/transport",icon:zx,textEn:"Transport",textBn:"",textAr:"",badge:null}]},{id:"tools",titleEn:"Digital Tools",titleBn:" ",titleAr:" ",icon:hg,priority:"low",color:"slate",directLink:"/tools",items:[]},{id:"credits",titleEn:"Credits & Billing",titleBn:"  ",titleAr:" ",icon:zr,priority:"medium",color:"emerald",directLink:"/credits",items:[]},{id:"settings",titleEn:"System Settings",titleBn:" ",titleAr:" ",icon:Ys,priority:"low",color:"gray",items:[{path:"/settings/templates",icon:Ln,textEn:"Templates",textBn:"",textAr:"",badge:null},{path:"/settings/academic-years",icon:bs,textEn:"Academic Years",textBn:"",textAr:" ",badge:null},{path:"/settings/school",icon:Ys,textEn:"School Settings",textBn:" ",textAr:" ",badge:null},{path:"/settings/admin",icon:jn,textEn:"Admin Settings",textBn:" ",textAr:" ",badge:null}]}],m=(x,g=!1)=>{const v={blue:g?"bg-blue-50 text-blue-700 border-blue-200":"hover:bg-blue-50 hover:text-blue-700",green:g?"bg-green-50 text-green-700 border-green-200":"hover:bg-green-50 hover:text-green-700",purple:g?"bg-purple-50 text-purple-700 border-purple-200":"hover:bg-purple-50 hover:text-purple-700",orange:g?"bg-orange-50 text-orange-700 border-orange-200":"hover:bg-orange-50 hover:text-orange-700",teal:g?"bg-teal-50 text-teal-700 border-teal-200":"hover:bg-teal-50 hover:text-teal-700",slate:g?"bg-slate-50 text-slate-700 border-slate-200":"hover:bg-slate-50 hover:text-slate-700",gray:g?"bg-gray-50 text-gray-700 border-gray-200":"hover:bg-gray-50 hover:text-gray-700",emerald:g?"bg-emerald-50 text-emerald-700 border-emerald-200":"hover:bg-emerald-50 hover:text-emerald-700"};return v[x]||v.blue},p=A.filter(x=>i?x.items.some(g=>g.textEn.toLowerCase().includes(i.toLowerCase())||g.textBn.includes(i)||g.textAr.includes(i)):!0);return e.jsxs("aside",{ref:r,className:"w-72 bg-white border-r border-gray-200 hidden lg:block overflow-y-auto h-screen",role:"navigation","aria-label":"Main navigation",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-sm",children:((f=s==null?void 0:s.email)==null?void 0:f.charAt(0).toUpperCase())||"A"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:(s==null?void 0:s.email)||"Admin User"}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.jsx(Rt,{en:"Super Admin",bn:" ",ar:" "})})]}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})]})}),e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:d,type:"text",placeholder:"Search navigation...",value:i,onChange:x=>l(x.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("div",{className:"absolute left-3 top-2.5 text-gray-400",children:e.jsx(Dr,{className:"w-4 h-4"})}),e.jsx("div",{className:"absolute right-3 top-2.5 text-xs text-gray-400",children:"K"})]})}),e.jsxs("div",{className:"p-4 border-b border-gray-100",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:e.jsx(Rt,{en:"Quick Actions",bn:" ",ar:" "})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(tt,{href:"/",className:at("flex flex-col items-center p-3 rounded-lg border-2 transition-all duration-200 group",u("/")?"bg-blue-50 border-blue-200 text-blue-700":"bg-gray-50 border-gray-200 hover:bg-blue-50 hover:border-blue-200 hover:text-blue-700"),children:[e.jsx(nc,{className:"w-5 h-5 mb-1"}),e.jsx("span",{className:"text-xs font-medium",children:e.jsx(Rt,{en:"Dashboard",bn:"",ar:" "})})]}),e.jsxs(tt,{href:"/documents",className:at("flex flex-col items-center p-3 rounded-lg border-2 transition-all duration-200 group",u("/documents")?"bg-purple-50 border-purple-200 text-purple-700":"bg-gray-50 border-gray-200 hover:bg-purple-50 hover:border-purple-200 hover:text-purple-700"),children:[e.jsx(xs,{className:"w-5 h-5 mb-1"}),e.jsx("span",{className:"text-xs font-medium",children:e.jsx(Rt,{en:"Documents",bn:"",ar:""})})]})]})]}),o.length>0&&e.jsxs("div",{className:"p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:e.jsx(Rt,{en:"Recently Used",bn:" ",ar:" "})}),e.jsx(hr,{className:"w-4 h-4 text-gray-400"})]}),e.jsx("div",{className:"space-y-1",children:o.slice(0,3).map((x,g)=>{const v=A.flatMap(B=>B.items).find(B=>B.path===x);if(!v)return null;const j=v.icon;return e.jsxs(tt,{href:x,className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(j,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-700 flex-1 truncate",children:e.jsx(Rt,{en:v.textEn,bn:v.textBn,ar:v.textAr})})]},g)})})]}),e.jsx("nav",{className:"p-4 space-y-2",children:p.map(x=>e.jsx("div",{className:"space-y-1",children:x.directLink?e.jsxs(tt,{href:x.directLink,className:at("w-full flex items-center gap-3 p-3 rounded-lg border-2 transition-all duration-200 group",u(x.directLink)?m(x.color,!0):`bg-white border-gray-200 ${m(x.color)}`),children:[e.jsx(x.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"flex-1 font-medium text-sm",children:e.jsx(Rt,{en:x.titleEn,bn:x.titleBn,ar:x.titleAr})}),x.priority==="high"&&e.jsx(Ti,{className:"w-3 h-3 text-orange-500"})]}):e.jsxs(que,{open:n.has(x.id),onOpenChange:()=>h(x.id),children:[e.jsx($ue,{asChild:!0,children:e.jsxs("button",{className:at("w-full flex items-center justify-between p-3 rounded-lg border-2 transition-all duration-200 group",n.has(x.id)?m(x.color,!0):`bg-white border-gray-200 ${m(x.color)}`),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium text-sm",children:e.jsx(Rt,{en:x.titleEn,bn:x.titleBn,ar:x.titleAr})}),x.priority==="high"&&e.jsx(Ti,{className:"w-3 h-3 text-orange-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oe,{variant:"secondary",className:"text-xs",children:x.items.length}),n.has(x.id)?e.jsx(v3,{className:"w-4 h-4"}):e.jsx(Gd,{className:"w-4 h-4"})]})]})}),e.jsx(Gue,{children:e.jsx("div",{className:"mt-2 ml-4 space-y-1",children:x.items.map(g=>e.jsxs(tt,{href:g.path,className:at("flex items-center gap-3 p-3 rounded-lg border-2 transition-all duration-200 group",u(g.path)?m(x.color,!0):`bg-white border-gray-200 ${m(x.color)}`),children:[e.jsx(g.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"flex-1 text-sm font-medium",children:e.jsx(Rt,{en:g.textEn,bn:g.textBn,ar:g.textAr})}),g.badge&&e.jsx(Oe,{variant:"secondary",className:"text-xs",children:g.badge}),g.shortcut&&e.jsx("span",{className:"text-xs text-gray-400 font-mono",children:g.shortcut})]},g.path))})})]})},x.id))})]})}function Yue(){var c;const[t]=Oi(),[s,r]=b.useState(!1),{user:n}=vo(),a=d=>!!(d==="/"&&t==="/"||d!=="/"&&t.startsWith(d)),i=[{id:"dashboard",titleEn:"Overview",titleBn:" ",titleAr:" ",icon:nc,color:"blue",items:[{path:"/",icon:nc,textEn:"Dashboard",textBn:"",textAr:" ",badge:null},{path:"/calendar",icon:bs,textEn:"Calendar",textBn:"",textAr:"",badge:null},{path:"/notifications",icon:qr,textEn:"Notifications",textBn:"",textAr:"",badge:3}]},{id:"people",titleEn:"People Management",titleBn:" ",titleAr:" ",icon:ss,color:"green",items:[{path:"/management/students",icon:dn,textEn:"Students",textBn:"",textAr:"",badge:245},{path:"/management/teachers",icon:Kc,textEn:"Teachers",textBn:"",textAr:"",badge:18},{path:"/management/staff",icon:Kw,textEn:"Staff",textBn:"",textAr:"",badge:12},{path:"/management/parents",icon:YR,textEn:"Parents",textBn:"",textAr:" ",badge:null}]},{id:"documents",titleEn:"Documents & Reports",titleBn:"  ",titleAr:" ",icon:xs,color:"purple",directLink:"/documents",items:[]},{id:"financial",titleEn:"Finance & Payments",titleBn:"  ",titleAr:" ",icon:zr,color:"orange",directLink:"/management/finances",items:[]},{id:"resources",titleEn:"School Resources",titleBn:" ",titleAr:" ",icon:tm,color:"teal",items:[{path:"/management/library",icon:Ks,textEn:"Library",textBn:"",textAr:"",badge:5},{path:"/management/inventory",icon:tm,textEn:"Inventory",textBn:"",textAr:"",badge:8},{path:"/management/transport",icon:zx,textEn:"Transport",textBn:"",textAr:"",badge:null}]},{id:"tools",titleEn:"Digital Tools",titleBn:" ",titleAr:" ",icon:hg,color:"slate",directLink:"/tools",items:[]},{id:"credits",titleEn:"Credits & Billing",titleBn:"  ",titleAr:" ",icon:zr,color:"emerald",directLink:"/credits",items:[]},{id:"settings",titleEn:"System Settings",titleBn:" ",titleAr:" ",icon:Ys,color:"gray",items:[{path:"/settings/templates",icon:Ln,textEn:"Templates",textBn:"",textAr:"",badge:null},{path:"/settings/academic-years",icon:bs,textEn:"Academic Years",textBn:"",textAr:" ",badge:null},{path:"/settings/school",icon:Ys,textEn:"School Settings",textBn:" ",textAr:" ",badge:null},{path:"/settings/admin",icon:jn,textEn:"Admin Settings",textBn:" ",textAr:" ",badge:null}]}],l=(d,u=!1)=>{const h={blue:u?"bg-blue-50 text-blue-700 border-blue-200":"hover:bg-blue-50 hover:text-blue-700",green:u?"bg-green-50 text-green-700 border-green-200":"hover:bg-green-50 hover:text-green-700",purple:u?"bg-purple-50 text-purple-700 border-purple-200":"hover:bg-purple-50 hover:text-purple-700",orange:u?"bg-orange-50 text-orange-700 border-orange-200":"hover:bg-orange-50 hover:text-orange-700",teal:u?"bg-teal-50 text-teal-700 border-teal-200":"hover:bg-teal-50 hover:text-teal-700",slate:u?"bg-slate-50 text-slate-700 border-slate-200":"hover:bg-slate-50 hover:text-slate-700",gray:u?"bg-gray-50 text-gray-700 border-gray-200":"hover:bg-gray-50 hover:text-gray-700"};return h[d]||h.blue},o=({path:d,icon:u,textEn:h,textBn:A,textAr:m})=>e.jsx("li",{className:"text-center",children:e.jsxs(tt,{href:d,className:at("flex flex-col items-center p-2 rounded-lg transition-colors duration-200",a(d)?"text-primary bg-primary/10":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"),"aria-current":a(d)?"page":void 0,children:[e.jsx("span",{className:"material-icons text-xl","aria-hidden":"true",children:u}),e.jsx("span",{className:"text-xs mt-1 font-medium",children:e.jsx(Rt,{en:h,bn:A,ar:m})})]})});return e.jsxs(e.Fragment,{children:[s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 md:hidden",children:e.jsxs("div",{className:"fixed inset-y-0 left-0 w-80 bg-white shadow-xl transform transition-transform duration-300 ease-in-out overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-sm",children:((c=n==null?void 0:n.email)==null?void 0:c.charAt(0).toUpperCase())||"A"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate text-sm",children:(n==null?void 0:n.email)||"Admin User"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.jsx(Rt,{en:"Super Admin",bn:" ",ar:" "})})]})]}),e.jsx("button",{onClick:()=>r(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(sm,{className:"h-5 w-5 text-gray-500"})})]}),e.jsx("div",{className:"py-4",children:i.map(d=>e.jsx("div",{className:"mb-2",children:d.directLink?e.jsxs(tt,{href:d.directLink,onClick:()=>r(!1),className:at("mx-3 mb-2 p-3 rounded-lg border transition-all duration-200 flex items-center justify-between",a(d.directLink)?l(d.color,!0):`border-transparent hover:border-gray-200 ${l(d.color)}`),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(d.icon,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:e.jsx(Rt,{en:d.titleEn,bn:d.titleBn,ar:d.titleAr})})]}),e.jsx(Gd,{className:"h-4 w-4 opacity-50"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:e.jsx(Rt,{en:d.titleEn,bn:d.titleBn,ar:d.titleAr})}),e.jsx("div",{className:"space-y-1",children:d.items.map(u=>e.jsxs(tt,{href:u.path,onClick:()=>r(!1),className:at("mx-3 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center space-x-3",a(u.path)?l(d.color,!0):`text-gray-700 hover:bg-gray-50 ${l(d.color)}`),children:[e.jsx(u.icon,{className:"h-4 w-4"}),e.jsx("span",{className:"flex-1",children:e.jsx(Rt,{en:u.textEn,bn:u.textBn,ar:u.textAr})}),u.badge&&e.jsx("span",{className:"ml-auto bg-blue-100 text-blue-600 text-xs px-2 py-1 rounded-full",children:u.badge})]},u.path))})]})},d.id))})]})}),e.jsx("nav",{className:"md:hidden bg-white border-t border-gray-200 fixed bottom-0 left-0 right-0 z-10 shadow-lg",role:"navigation","aria-label":"Mobile navigation",children:e.jsxs("ul",{className:"flex justify-around p-2",role:"menubar",children:[e.jsx(o,{path:"/",icon:"home",textEn:"Home",textBn:"",textAr:""}),e.jsx(o,{path:"/documents",icon:"description",textEn:"Documents",textBn:"",textAr:""}),e.jsx(o,{path:"/management/students",icon:"people",textEn:"Students",textBn:"",textAr:""}),e.jsx("li",{className:"text-center",children:e.jsxs("button",{onClick:()=>r(!0),className:"flex flex-col items-center p-2 rounded-lg transition-colors duration-200 text-gray-500 hover:text-gray-700 hover:bg-gray-50",children:[e.jsx(_te,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs mt-1 font-medium",children:e.jsx(Rt,{en:"Menu",bn:"",ar:""})})]})})]})})]})}function is({children:t}){const s=jo(),{isRTL:r}=f0();return e.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-slate-50 via-white to-slate-50",dir:r?"rtl":"ltr",children:[e.jsx(Que,{}),e.jsxs("div",{className:"flex flex-1",children:[e.jsx(Wue,{}),e.jsx("main",{className:`flex-1 overflow-auto ${s?"p-3 pb-20":"p-6"}`,role:"main","aria-label":"Main content",children:t})]}),e.jsx(Yue,{})]})}const Uu=({children:t,variant:s="default",interactive:r=!1,...n})=>{const a="bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-sm hover:shadow-md transition-all duration-200",i=r?"hover:scale-[1.02] cursor-pointer hover:border-slate-300 dark:hover:border-slate-600":"";return e.jsx(H,{className:at(a,i),...n,children:t})},nA=({children:t,variant:s="primary",size:r="default",...n})=>{const a=vv.button[s]||vv.button.primary,i=r==="sm"?"px-3 py-2 text-sm min-h-[40px]":"px-4 py-2.5 min-h-[44px]";return e.jsx(V,{className:at(a,i),...n,children:t})},$y=({title:t,value:s,change:r,icon:n,color:a="blue",trend:i="up"})=>e.jsx(Uu,{interactive:!0,children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:t}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:s}),r&&e.jsxs("div",{className:at("flex items-center text-sm",i==="up"?"text-green-600":"text-red-600"),children:[e.jsx(bn,{className:"w-4 h-4 mr-1"}),r]})]}),e.jsx("div",{className:at("w-12 h-12 rounded-lg flex items-center justify-center",a==="blue"&&"bg-blue-100 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400",a==="green"&&"bg-green-100 text-green-600 dark:bg-green-900/20 dark:text-green-400",a==="orange"&&"bg-orange-100 text-orange-600 dark:bg-orange-900/20 dark:text-orange-400",a==="purple"&&"bg-purple-100 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400"),children:e.jsx(n,{className:"w-6 h-6"})})]})})}),Xue=({title:t,description:s,icon:r,color:n,onClick:a})=>e.jsx(Uu,{interactive:!0,onClick:a,children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:at("w-10 h-10 rounded-lg flex items-center justify-center",n==="blue"&&"bg-blue-100 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400",n==="green"&&"bg-green-100 text-green-600 dark:bg-green-900/20 dark:text-green-400",n==="orange"&&"bg-orange-100 text-orange-600 dark:bg-orange-900/20 dark:text-orange-400",n==="purple"&&"bg-purple-100 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400"),children:e.jsx(r,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-slate-900 dark:text-slate-100 truncate",children:t}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate",children:s})]})]})})});function Jue(){const[t,s]=b.useState("today"),{data:r,isLoading:n}=st({queryKey:["/api/teachers/dashboard"],staleTime:3e4}),{data:a}=st({queryKey:["/api/teachers/stats"],staleTime:6e4}),{data:i}=st({queryKey:["/api/teachers/schedule",t],staleTime:3e5}),{data:l}=st({queryKey:["/api/teachers/notifications"],staleTime:3e4});if(n)return e.jsx(is,{children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"   ..."})]})})})});const o=[{title:"  ",description:"      ",icon:Ks,color:"blue",onClick:()=>window.location.href="/teacher/lesson-plans/create"},{title:" ",description:"   ",icon:ss,color:"green",onClick:()=>window.location.href="/teacher/attendance"},{title:" ",description:"    ",icon:sc,color:"orange",onClick:()=>window.location.href="/teacher/assignments/create"},{title:" ",description:"   ",icon:El,color:"purple",onClick:()=>window.location.href="/teacher/marks"}],c=[{time:": - :",subject:"",class:" ''",room:"",status:"completed"},{time:": - :",subject:"",class:" ''",room:"",status:"current"},{time:": - :",subject:"",class:" ''",room:"",status:"upcoming"},{time:": - :",subject:"",class:" ''",room:"",status:"upcoming"}],d=[{type:"attendance",title:"  ",subtitle:" '' - ",time:"  "},{type:"assignment",title:"   ",subtitle:" '' -  ",time:"  "},{type:"marks",title:"  ",subtitle:" '' -  ",time:"  "}];return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:" "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"!     "})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(nA,{variant:"secondary",size:"sm",children:[e.jsx(qr,{className:"w-4 h-4 mr-2"}),""]}),e.jsxs(nA,{variant:"primary",size:"sm",children:[e.jsx(Ls,{className:"w-4 h-4 mr-2"})," "]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx($y,{title:" ",value:"",change:"+  ",icon:bs,color:"blue",trend:"up"}),e.jsx($y,{title:" ",value:" ",change:"+  ",icon:ss,color:"green",trend:"up"}),e.jsx($y,{title:" ",value:"",change:"-  ",icon:sc,color:"orange",trend:"down"}),e.jsx($y,{title:" ",value:"%",change:"+%  ",icon:bn,color:"purple",trend:"up"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(Uu,{children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:" "})}),e.jsx(M,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map((u,h)=>e.jsx(Xue,{...u},h))})})]}),e.jsxs(Uu,{children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"  "}),e.jsxs(nA,{variant:"ghost",size:"sm",children:[e.jsx(cn,{className:"w-4 h-4 mr-2"})," "]})]})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:c.map((u,h)=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:at("w-3 h-3 rounded-full",u.status==="completed"&&"bg-green-500",u.status==="current"&&"bg-blue-500 animate-pulse",u.status==="upcoming"&&"bg-slate-300 dark:bg-slate-600")}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-slate-900 dark:text-slate-100",children:[u.subject," - ",u.class]}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[": ",u.room]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:u.time}),e.jsx(Oe,{variant:u.status==="completed"?"default":u.status==="current"?"destructive":"secondary",className:"text-xs",children:u.status==="completed"?"":u.status==="current"?"":""})]})]},h))})})]}),e.jsxs(Uu,{children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:" "})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:" "}),e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"%"})]}),e.jsx(Ao,{value:95,className:"h-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:" "}),e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"%"})]}),e.jsx(Ao,{value:88,className:"h-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:" "}),e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"%"})]}),e.jsx(Ao,{value:96,className:"h-2"})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Uu,{children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:" "})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:d.map((u,h)=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:at("w-2 h-2 rounded-full mt-2",u.type==="attendance"&&"bg-green-500",u.type==="assignment"&&"bg-blue-500",u.type==="marks"&&"bg-purple-500")}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:u.title}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:u.subtitle}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:u.time})]})]},h))})})]}),e.jsxs(Uu,{children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:" "})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-orange-50 dark:bg-orange-900/20",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-orange-900 dark:text-orange-100",children:"  "}),e.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-300",children:"  - "})]}),e.jsx(Oe,{variant:"outline",className:"text-orange-600 border-orange-600",children:" "})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-red-50 dark:bg-red-900/20",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-900 dark:text-red-100",children:"  "}),e.jsx("p",{className:"text-xs text-red-700 dark:text-red-300",children:"  -  "})]}),e.jsx(Oe,{variant:"outline",className:"text-red-600 border-red-600",children:" "})]})]})})]}),e.jsxs(Uu,{children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:" "})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(nA,{variant:"ghost",className:"w-full justify-start",children:[e.jsx(xs,{className:"w-4 h-4 mr-3"}),"  "]}),e.jsxs(nA,{variant:"ghost",className:"w-full justify-start",children:[e.jsx(Ts,{className:"w-4 h-4 mr-3"})," "]}),e.jsxs(nA,{variant:"ghost",className:"w-full justify-start",children:[e.jsx(no,{className:"w-4 h-4 mr-3"})," "]}),e.jsxs(nA,{variant:"ghost",className:"w-full justify-start",children:[e.jsx(Zg,{className:"w-4 h-4 mr-3"})," "]})]})})]})]})]})]})})}var ys=function(){return ys=Object.assign||function(s){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])}return s},ys.apply(this,arguments)};function Zue(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function EH(t,s,r){for(var n=0,a=s.length,i;n<a;n++)(i||!(n in s))&&(i||(i=Array.prototype.slice.call(s,0,n)),i[n]=s[n]);return t.concat(i||Array.prototype.slice.call(s))}function oj(t){return t.mode==="multiple"}function cj(t){return t.mode==="range"}function aN(t){return t.mode==="single"}var ehe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function the(t,s){return Vs(t,"LLLL y",s)}function she(t,s){return Vs(t,"d",s)}function rhe(t,s){return Vs(t,"LLLL",s)}function nhe(t){return"".concat(t)}function ahe(t,s){return Vs(t,"cccccc",s)}function ihe(t,s){return Vs(t,"yyyy",s)}var lhe=Object.freeze({__proto__:null,formatCaption:the,formatDay:she,formatMonthCaption:rhe,formatWeekNumber:nhe,formatWeekdayName:ahe,formatYearCaption:ihe}),ohe=function(t,s,r){return Vs(t,"do MMMM (EEEE)",r)},che=function(){return"Month: "},dhe=function(){return"Go to next month"},uhe=function(){return"Go to previous month"},hhe=function(t,s){return Vs(t,"cccc",s)},Ahe=function(t){return"Week n. ".concat(t)},mhe=function(){return"Year: "},fhe=Object.freeze({__proto__:null,labelDay:ohe,labelMonthDropdown:che,labelNext:dhe,labelPrevious:uhe,labelWeekNumber:Ahe,labelWeekday:hhe,labelYearDropdown:mhe});function xhe(){var t="buttons",s=ehe,r=_M,n={},a={},i=1,l={},o=new Date;return{captionLayout:t,classNames:s,formatters:lhe,labels:fhe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:l,today:o,mode:"default"}}function phe(t){var s=t.fromYear,r=t.toYear,n=t.fromMonth,a=t.toMonth,i=t.fromDate,l=t.toDate;return n?i=mi(n):s&&(i=new Date(s,0,1)),a?l=rv(a):r&&(l=new Date(r,11,31)),{fromDate:i?Gx(i):void 0,toDate:l?Gx(l):void 0}}var FH=b.createContext(void 0);function ghe(t){var s,r=t.initialProps,n=xhe(),a=phe(r),i=a.fromDate,l=a.toDate,o=(s=r.captionLayout)!==null&&s!==void 0?s:n.captionLayout;o!=="buttons"&&(!i||!l)&&(o="buttons");var c;(aN(r)||oj(r)||cj(r))&&(c=r.onSelect);var d=ys(ys(ys({},n),r),{captionLayout:o,classNames:ys(ys({},n.classNames),r.classNames),components:ys({},r.components),formatters:ys(ys({},n.formatters),r.formatters),fromDate:i,labels:ys(ys({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:ys(ys({},n.modifiers),r.modifiers),modifiersClassNames:ys(ys({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:ys(ys({},n.styles),r.styles),toDate:l});return e.jsx(FH.Provider,{value:d,children:t.children})}function tn(){var t=b.useContext(FH);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function TH(t){var s=tn(),r=s.locale,n=s.classNames,a=s.styles,i=s.formatters.formatCaption;return e.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:r})})}function vhe(t){return e.jsx("svg",ys({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function LH(t){var s,r,n=t.onChange,a=t.value,i=t.children,l=t.caption,o=t.className,c=t.style,d=tn(),u=(r=(s=d.components)===null||s===void 0?void 0:s.IconDropdown)!==null&&r!==void 0?r:vhe;return e.jsxs("div",{className:o,style:c,children:[e.jsx("span",{className:d.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:n,children:i}),e.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[l,e.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function jhe(t){var s,r=tn(),n=r.fromDate,a=r.toDate,i=r.styles,l=r.locale,o=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return e.jsx(e.Fragment,{});if(!a)return e.jsx(e.Fragment,{});var h=[];if(_ne(n,a))for(var A=mi(n),m=n.getMonth();m<=a.getMonth();m++)h.push(o5(A,m));else for(var A=mi(new Date),m=0;m<=11;m++)h.push(o5(A,m));var p=function(x){var g=Number(x.target.value),v=o5(mi(t.displayMonth),g);t.onChange(v)},f=(s=d==null?void 0:d.Dropdown)!==null&&s!==void 0?s:LH;return e.jsx(f,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:p,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:l}),children:h.map(function(x){return e.jsx("option",{value:x.getMonth(),children:o(x,{locale:l})},x.getMonth())})})}function yhe(t){var s,r=t.displayMonth,n=tn(),a=n.fromDate,i=n.toDate,l=n.locale,o=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,A=[];if(!a)return e.jsx(e.Fragment,{});if(!i)return e.jsx(e.Fragment,{});for(var m=a.getFullYear(),p=i.getFullYear(),f=m;f<=p;f++)A.push(zT(SM(new Date),f));var x=function(v){var j=zT(mi(r),Number(v.target.value));t.onChange(j)},g=(s=d==null?void 0:d.Dropdown)!==null&&s!==void 0?s:LH;return e.jsx(g,{name:"years","aria-label":h(),className:c.dropdown_year,style:o.dropdown_year,onChange:x,value:r.getFullYear(),caption:u(r,{locale:l}),children:A.map(function(v){return e.jsx("option",{value:v.getFullYear(),children:u(v,{locale:l})},v.getFullYear())})})}function whe(t,s){var r=b.useState(t),n=r[0],a=r[1],i=s===void 0?n:s;return[i,a]}function bhe(t){var s=t.month,r=t.defaultMonth,n=t.today,a=s||r||n||new Date,i=t.toDate,l=t.fromDate,o=t.numberOfMonths,c=o===void 0?1:o;if(i&&sv(i,a)<0){var d=-1*(c-1);a=cc(i,d)}return l&&sv(a,l)<0&&(a=l),mi(a)}function Nhe(){var t=tn(),s=bhe(t),r=whe(s,t.month),n=r[0],a=r[1],i=function(l){var o;if(!t.disableNavigation){var c=mi(l);a(c),(o=t.onMonthChange)===null||o===void 0||o.call(t,c)}};return[n,i]}function Che(t,s){for(var r=s.reverseMonths,n=s.numberOfMonths,a=mi(t),i=mi(cc(a,n)),l=sv(i,a),o=[],c=0;c<l;c++){var d=cc(a,c);o.push(d)}return r&&(o=o.reverse()),o}function Bhe(t,s){if(!s.disableNavigation){var r=s.toDate,n=s.pagedNavigation,a=s.numberOfMonths,i=a===void 0?1:a,l=n?i:1,o=mi(t);if(!r)return cc(o,l);var c=sv(r,t);if(!(c<i))return cc(o,l)}}function She(t,s){if(!s.disableNavigation){var r=s.fromDate,n=s.pagedNavigation,a=s.numberOfMonths,i=a===void 0?1:a,l=n?i:1,o=mi(t);if(!r)return cc(o,-l);var c=sv(o,r);if(!(c<=0))return cc(o,-l)}}var IH=b.createContext(void 0);function khe(t){var s=tn(),r=Nhe(),n=r[0],a=r[1],i=Che(n,s),l=Bhe(n,s),o=She(n,s),c=function(h){return i.some(function(A){return E3(h,A)})},d=function(h,A){c(h)||(A&&IM(h,A)?a(cc(h,1+s.numberOfMonths*-1)):a(h))},u={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:o,nextMonth:l,isDateDisplayed:c};return e.jsx(IH.Provider,{value:u,children:t.children})}function dj(){var t=b.useContext(IH);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function P8(t){var s,r=tn(),n=r.classNames,a=r.styles,i=r.components,l=dj().goToMonth,o=function(u){l(cc(u,t.displayIndex?-t.displayIndex:0))},c=(s=i==null?void 0:i.CaptionLabel)!==null&&s!==void 0?s:TH,d=e.jsx(c,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[e.jsx("div",{className:n.vhidden,children:d}),e.jsx(jhe,{onChange:o,displayMonth:t.displayMonth}),e.jsx(yhe,{onChange:o,displayMonth:t.displayMonth})]})}function _he(t){return e.jsx("svg",ys({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Ehe(t){return e.jsx("svg",ys({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Bb=b.forwardRef(function(t,s){var r=tn(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];t.className&&i.push(t.className);var l=i.join(" "),o=ys(ys({},a.button_reset),a.button);return t.style&&Object.assign(o,t.style),e.jsx("button",ys({},t,{ref:s,type:"button",className:l,style:o}))});function Fhe(t){var s,r,n=tn(),a=n.dir,i=n.locale,l=n.classNames,o=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,h=n.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var A=d(t.previousMonth,{locale:i}),m=[l.nav_button,l.nav_button_previous].join(" "),p=u(t.nextMonth,{locale:i}),f=[l.nav_button,l.nav_button_next].join(" "),x=(s=h==null?void 0:h.IconRight)!==null&&s!==void 0?s:Ehe,g=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:_he;return e.jsxs("div",{className:l.nav,style:o.nav,children:[!t.hidePrevious&&e.jsx(Bb,{name:"previous-month","aria-label":A,className:m,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:a==="rtl"?e.jsx(x,{className:l.nav_icon,style:o.nav_icon}):e.jsx(g,{className:l.nav_icon,style:o.nav_icon})}),!t.hideNext&&e.jsx(Bb,{name:"next-month","aria-label":p,className:f,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:a==="rtl"?e.jsx(g,{className:l.nav_icon,style:o.nav_icon}):e.jsx(x,{className:l.nav_icon,style:o.nav_icon})})]})}function D8(t){var s=tn().numberOfMonths,r=dj(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,l=r.displayMonths,o=l.findIndex(function(p){return E3(t.displayMonth,p)}),c=o===0,d=o===l.length-1,u=s>1&&(c||!d),h=s>1&&(d||!c),A=function(){n&&i(n)},m=function(){a&&i(a)};return e.jsx(Fhe,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:h,nextMonth:a,previousMonth:n,onPreviousClick:A,onNextClick:m})}function The(t){var s,r=tn(),n=r.classNames,a=r.disableNavigation,i=r.styles,l=r.captionLayout,o=r.components,c=(s=o==null?void 0:o.CaptionLabel)!==null&&s!==void 0?s:TH,d;return a?d=e.jsx(c,{id:t.id,displayMonth:t.displayMonth}):l==="dropdown"?d=e.jsx(P8,{displayMonth:t.displayMonth,id:t.id}):l==="dropdown-buttons"?d=e.jsxs(e.Fragment,{children:[e.jsx(P8,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(D8,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):d=e.jsxs(e.Fragment,{children:[e.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(D8,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:n.caption,style:i.caption,children:d})}function Lhe(t){var s=tn(),r=s.footer,n=s.styles,a=s.classNames.tfoot;return r?e.jsx("tfoot",{className:a,style:n.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:r})})}):e.jsx(e.Fragment,{})}function Ihe(t,s,r){for(var n=r?rm(new Date):dc(new Date,{locale:t,weekStartsOn:s}),a=[],i=0;i<7;i++){var l=Oa(n,i);a.push(l)}return a}function Phe(){var t=tn(),s=t.classNames,r=t.styles,n=t.showWeekNumber,a=t.locale,i=t.weekStartsOn,l=t.ISOWeek,o=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,d=Ihe(a,i,l);return e.jsxs("tr",{style:r.head_row,className:s.head_row,children:[n&&e.jsx("td",{style:r.head_cell,className:s.head_cell}),d.map(function(u,h){return e.jsx("th",{scope:"col",className:s.head_cell,style:r.head_cell,"aria-label":c(u,{locale:a}),children:o(u,{locale:a})},h)})]})}function Dhe(){var t,s=tn(),r=s.classNames,n=s.styles,a=s.components,i=(t=a==null?void 0:a.HeadRow)!==null&&t!==void 0?t:Phe;return e.jsx("thead",{style:n.head,className:r.head,children:e.jsx(i,{})})}function Uhe(t){var s=tn(),r=s.locale,n=s.formatters.formatDay;return e.jsx(e.Fragment,{children:n(t.date,{locale:r})})}var v_=b.createContext(void 0);function Ohe(t){if(!oj(t.initialProps)){var s={selected:void 0,modifiers:{disabled:[]}};return e.jsx(v_.Provider,{value:s,children:t.children})}return e.jsx(Rhe,{initialProps:t.initialProps,children:t.children})}function Rhe(t){var s=t.initialProps,r=t.children,n=s.selected,a=s.min,i=s.max,l=function(d,u,h){var A,m;(A=s.onDayClick)===null||A===void 0||A.call(s,d,u,h);var p=!!(u.selected&&a&&(n==null?void 0:n.length)===a);if(!p){var f=!!(!u.selected&&i&&(n==null?void 0:n.length)===i);if(!f){var x=n?EH([],n):[];if(u.selected){var g=x.findIndex(function(v){return hi(d,v)});x.splice(g,1)}else x.push(d);(m=s.onSelect)===null||m===void 0||m.call(s,x,d,u,h)}}},o={disabled:[]};n&&o.disabled.push(function(d){var u=i&&n.length>i-1,h=n.some(function(A){return hi(A,d)});return!!(u&&!h)});var c={selected:n,onDayClick:l,modifiers:o};return e.jsx(v_.Provider,{value:c,children:r})}function j_(){var t=b.useContext(v_);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Mhe(t,s){var r=s||{},n=r.from,a=r.to;return n&&a?hi(a,t)&&hi(n,t)?void 0:hi(a,t)?{from:a,to:void 0}:hi(n,t)?void 0:GB(n,t)?{from:t,to:a}:{from:n,to:t}:a?GB(t,a)?{from:a,to:t}:{from:t,to:a}:n?IM(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var y_=b.createContext(void 0);function Qhe(t){if(!cj(t.initialProps)){var s={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(y_.Provider,{value:s,children:t.children})}return e.jsx(Hhe,{initialProps:t.initialProps,children:t.children})}function Hhe(t){var s=t.initialProps,r=t.children,n=s.selected,a=n||{},i=a.from,l=a.to,o=s.min,c=s.max,d=function(m,p,f){var x,g;(x=s.onDayClick)===null||x===void 0||x.call(s,m,p,f);var v=Mhe(m,n);(g=s.onSelect)===null||g===void 0||g.call(s,v,m,p,f)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],l?(u.range_end=[l],hi(i,l)||(u.range_middle=[{after:i,before:l}])):u.range_end=[i]):l&&(u.range_start=[l],u.range_end=[l]),o&&(i&&!l&&u.disabled.push({after:J1(i,o-1),before:Oa(i,o-1)}),i&&l&&u.disabled.push({after:i,before:Oa(i,o-1)}),!i&&l&&u.disabled.push({after:J1(l,o-1),before:Oa(l,o-1)})),c){if(i&&!l&&(u.disabled.push({before:Oa(i,-c+1)}),u.disabled.push({after:Oa(i,c-1)})),i&&l){var h=Xo(l,i)+1,A=c-h;u.disabled.push({before:J1(i,A)}),u.disabled.push({after:Oa(l,A)})}!i&&l&&(u.disabled.push({before:Oa(l,-c+1)}),u.disabled.push({after:Oa(l,c-1)}))}return e.jsx(y_.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function w_(){var t=b.useContext(y_);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function lw(t){return Array.isArray(t)?EH([],t):t!==void 0?[t]:[]}function Vhe(t){var s={};return Object.entries(t).forEach(function(r){var n=r[0],a=r[1];s[n]=lw(a)}),s}var mc;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(mc||(mc={}));var Khe=mc.Selected,wd=mc.Disabled,zhe=mc.Hidden,qhe=mc.Today,w5=mc.RangeEnd,b5=mc.RangeMiddle,N5=mc.RangeStart,$he=mc.Outside;function Ghe(t,s,r){var n,a=(n={},n[Khe]=lw(t.selected),n[wd]=lw(t.disabled),n[zhe]=lw(t.hidden),n[qhe]=[t.today],n[w5]=[],n[b5]=[],n[N5]=[],n[$he]=[],n);return t.fromDate&&a[wd].push({before:t.fromDate}),t.toDate&&a[wd].push({after:t.toDate}),oj(t)?a[wd]=a[wd].concat(s.modifiers[wd]):cj(t)&&(a[wd]=a[wd].concat(r.modifiers[wd]),a[N5]=r.modifiers[N5],a[b5]=r.modifiers[b5],a[w5]=r.modifiers[w5]),a}var PH=b.createContext(void 0);function Whe(t){var s=tn(),r=j_(),n=w_(),a=Ghe(s,r,n),i=Vhe(s.modifiers),l=ys(ys({},a),i);return e.jsx(PH.Provider,{value:l,children:t.children})}function DH(){var t=b.useContext(PH);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Yhe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Xhe(t){return!!(t&&typeof t=="object"&&"from"in t)}function Jhe(t){return!!(t&&typeof t=="object"&&"after"in t)}function Zhe(t){return!!(t&&typeof t=="object"&&"before"in t)}function eAe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function tAe(t,s){var r,n=s.from,a=s.to;if(n&&a){var i=Xo(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var l=Xo(t,n)>=0&&Xo(a,t)>=0;return l}return a?hi(a,t):n?hi(n,t):!1}function sAe(t){return k3(t)}function rAe(t){return Array.isArray(t)&&t.every(k3)}function nAe(t,s){return s.some(function(r){if(typeof r=="boolean")return r;if(sAe(r))return hi(t,r);if(rAe(r))return r.includes(t);if(Xhe(r))return tAe(t,r);if(eAe(r))return r.dayOfWeek.includes(t.getDay());if(Yhe(r)){var n=Xo(r.before,t),a=Xo(r.after,t),i=n>0,l=a<0,o=GB(r.before,r.after);return o?l&&i:i||l}return Jhe(r)?Xo(t,r.after)>0:Zhe(r)?Xo(r.before,t)>0:typeof r=="function"?r(t):!1})}function b_(t,s,r){var n=Object.keys(s).reduce(function(i,l){var o=s[l];return nAe(t,o)&&i.push(l),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!E3(t,r)&&(a.outside=!0),a}function aAe(t,s){for(var r=mi(t[0]),n=rv(t[t.length-1]),a,i,l=r;l<=n;){var o=b_(l,s),c=!o.disabled&&!o.hidden;if(!c){l=Oa(l,1);continue}if(o.selected)return l;o.today&&!i&&(i=l),a||(a=l),l=Oa(l,1)}return i||a}var iAe=365;function UH(t,s){var r=s.moveBy,n=s.direction,a=s.context,i=s.modifiers,l=s.retry,o=l===void 0?{count:0,lastFocused:t}:l,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,h=a.locale,A={day:Oa,week:$B,month:cc,year:bre,startOfWeek:function(x){return a.ISOWeek?rm(x):dc(x,{locale:h,weekStartsOn:c})},endOfWeek:function(x){return a.ISOWeek?kM(x):_3(x,{locale:h,weekStartsOn:c})}},m=A[r](t,n==="after"?1:-1);n==="before"&&d?m=Nre([d,m]):n==="after"&&u&&(m=Cre([u,m]));var p=!0;if(i){var f=b_(m,i);p=!f.disabled&&!f.hidden}return p?m:o.count>iAe?o.lastFocused:UH(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:ys(ys({},o),{count:o.count+1})})}var OH=b.createContext(void 0);function lAe(t){var s=dj(),r=DH(),n=b.useState(),a=n[0],i=n[1],l=b.useState(),o=l[0],c=l[1],d=aAe(s.displayMonths,r),u=a??(o&&s.isDateDisplayed(o))?o:d,h=function(){c(a),i(void 0)},A=function(x){i(x)},m=tn(),p=function(x,g){if(a){var v=UH(a,{moveBy:x,direction:g,context:m,modifiers:r});hi(a,v)||(s.goToDate(v,a),A(v))}},f={focusedDay:a,focusTarget:u,blur:h,focus:A,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return e.jsx(OH.Provider,{value:f,children:t.children})}function N_(){var t=b.useContext(OH);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function oAe(t,s){var r=DH(),n=b_(t,r,s);return n}var C_=b.createContext(void 0);function cAe(t){if(!aN(t.initialProps)){var s={selected:void 0};return e.jsx(C_.Provider,{value:s,children:t.children})}return e.jsx(dAe,{initialProps:t.initialProps,children:t.children})}function dAe(t){var s=t.initialProps,r=t.children,n=function(i,l,o){var c,d,u;if((c=s.onDayClick)===null||c===void 0||c.call(s,i,l,o),l.selected&&!s.required){(d=s.onSelect)===null||d===void 0||d.call(s,void 0,i,l,o);return}(u=s.onSelect)===null||u===void 0||u.call(s,i,i,l,o)},a={selected:s.selected,onDayClick:n};return e.jsx(C_.Provider,{value:a,children:r})}function RH(){var t=b.useContext(C_);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function uAe(t,s){var r=tn(),n=RH(),a=j_(),i=w_(),l=N_(),o=l.focusDayAfter,c=l.focusDayBefore,d=l.focusWeekAfter,u=l.focusWeekBefore,h=l.blur,A=l.focus,m=l.focusMonthBefore,p=l.focusMonthAfter,f=l.focusYearBefore,x=l.focusYearAfter,g=l.focusStartOfWeek,v=l.focusEndOfWeek,j=function(re){var I,ie,ve,De;aN(r)?(I=n.onDayClick)===null||I===void 0||I.call(n,t,s,re):oj(r)?(ie=a.onDayClick)===null||ie===void 0||ie.call(a,t,s,re):cj(r)?(ve=i.onDayClick)===null||ve===void 0||ve.call(i,t,s,re):(De=r.onDayClick)===null||De===void 0||De.call(r,t,s,re)},B=function(re){var I;A(t),(I=r.onDayFocus)===null||I===void 0||I.call(r,t,s,re)},F=function(re){var I;h(),(I=r.onDayBlur)===null||I===void 0||I.call(r,t,s,re)},P=function(re){var I;(I=r.onDayMouseEnter)===null||I===void 0||I.call(r,t,s,re)},E=function(re){var I;(I=r.onDayMouseLeave)===null||I===void 0||I.call(r,t,s,re)},N=function(re){var I;(I=r.onDayPointerEnter)===null||I===void 0||I.call(r,t,s,re)},C=function(re){var I;(I=r.onDayPointerLeave)===null||I===void 0||I.call(r,t,s,re)},_=function(re){var I;(I=r.onDayTouchCancel)===null||I===void 0||I.call(r,t,s,re)},k=function(re){var I;(I=r.onDayTouchEnd)===null||I===void 0||I.call(r,t,s,re)},D=function(re){var I;(I=r.onDayTouchMove)===null||I===void 0||I.call(r,t,s,re)},z=function(re){var I;(I=r.onDayTouchStart)===null||I===void 0||I.call(r,t,s,re)},K=function(re){var I;(I=r.onDayKeyUp)===null||I===void 0||I.call(r,t,s,re)},xe=function(re){var I;switch(re.key){case"ArrowLeft":re.preventDefault(),re.stopPropagation(),r.dir==="rtl"?o():c();break;case"ArrowRight":re.preventDefault(),re.stopPropagation(),r.dir==="rtl"?c():o();break;case"ArrowDown":re.preventDefault(),re.stopPropagation(),d();break;case"ArrowUp":re.preventDefault(),re.stopPropagation(),u();break;case"PageUp":re.preventDefault(),re.stopPropagation(),re.shiftKey?f():m();break;case"PageDown":re.preventDefault(),re.stopPropagation(),re.shiftKey?x():p();break;case"Home":re.preventDefault(),re.stopPropagation(),g();break;case"End":re.preventDefault(),re.stopPropagation(),v();break}(I=r.onDayKeyDown)===null||I===void 0||I.call(r,t,s,re)},W={onClick:j,onFocus:B,onBlur:F,onKeyDown:xe,onKeyUp:K,onMouseEnter:P,onMouseLeave:E,onPointerEnter:N,onPointerLeave:C,onTouchCancel:_,onTouchEnd:k,onTouchMove:D,onTouchStart:z};return W}function hAe(){var t=tn(),s=RH(),r=j_(),n=w_(),a=aN(t)?s.selected:oj(t)?r.selected:cj(t)?n.selected:void 0;return a}function AAe(t){return Object.values(mc).includes(t)}function mAe(t,s){var r=[t.classNames.day];return Object.keys(s).forEach(function(n){var a=t.modifiersClassNames[n];if(a)r.push(a);else if(AAe(n)){var i=t.classNames["day_".concat(n)];i&&r.push(i)}}),r}function fAe(t,s){var r=ys({},t.styles.day);return Object.keys(s).forEach(function(n){var a;r=ys(ys({},r),(a=t.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function xAe(t,s,r){var n,a,i,l=tn(),o=N_(),c=oAe(t,s),d=uAe(t,c),u=hAe(),h=!!(l.onDayClick||l.mode!=="default");b.useEffect(function(){var P;c.outside||o.focusedDay&&h&&hi(o.focusedDay,t)&&((P=r.current)===null||P===void 0||P.focus())},[o.focusedDay,t,r,h,c.outside]);var A=mAe(l,c).join(" "),m=fAe(l,c),p=!!(c.outside&&!l.showOutsideDays||c.hidden),f=(i=(a=l.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:Uhe,x=e.jsx(f,{date:t,displayMonth:s,activeModifiers:c}),g={style:m,className:A,children:x,role:"gridcell"},v=o.focusTarget&&hi(o.focusTarget,t)&&!c.outside,j=o.focusedDay&&hi(o.focusedDay,t),B=ys(ys(ys({},g),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=j||v?0:-1,n)),d),F={isButton:h,isHidden:p,activeModifiers:c,selectedDays:u,buttonProps:B,divProps:g};return F}function pAe(t){var s=b.useRef(null),r=xAe(t.date,t.displayMonth,s);return r.isHidden?e.jsx("div",{role:"gridcell"}):r.isButton?e.jsx(Bb,ys({name:"day",ref:s},r.buttonProps)):e.jsx("div",ys({},r.divProps))}function gAe(t){var s=t.number,r=t.dates,n=tn(),a=n.onWeekNumberClick,i=n.styles,l=n.classNames,o=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(s),{locale:o});if(!a)return e.jsx("span",{className:l.weeknumber,style:i.weeknumber,children:u});var h=c(Number(s),{locale:o}),A=function(m){a(s,r,m)};return e.jsx(Bb,{name:"week-number","aria-label":h,className:l.weeknumber,style:i.weeknumber,onClick:A,children:u})}function vAe(t){var s,r,n=tn(),a=n.styles,i=n.classNames,l=n.showWeekNumber,o=n.components,c=(s=o==null?void 0:o.Day)!==null&&s!==void 0?s:pAe,d=(r=o==null?void 0:o.WeekNumber)!==null&&r!==void 0?r:gAe,u;return l&&(u=e.jsx("td",{className:i.cell,style:a.cell,children:e.jsx(d,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:i.row,style:a.row,children:[u,t.dates.map(function(h){return e.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:e.jsx(c,{displayMonth:t.displayMonth,date:h})},Bne(h))})]})}function U8(t,s,r){for(var n=r!=null&&r.ISOWeek?kM(s):_3(s,r),a=r!=null&&r.ISOWeek?rm(t):dc(t,r),i=Xo(n,a),l=[],o=0;o<=i;o++)l.push(Oa(a,o));var c=l.reduce(function(d,u){var h=r!=null&&r.ISOWeek?EM(u):TM(u,r),A=d.find(function(m){return m.weekNumber===h});return A?(A.dates.push(u),d):(d.push({weekNumber:h,dates:[u]}),d)},[]);return c}function jAe(t,s){var r=U8(mi(t),rv(t),s);if(s!=null&&s.useFixedWeeks){var n=kne(t,s);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],l=$B(i,6-n),o=U8($B(i,1),l,s);r.push.apply(r,o)}}return r}function yAe(t){var s,r,n,a=tn(),i=a.locale,l=a.classNames,o=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,h=a.weekStartsOn,A=a.firstWeekContainsDate,m=a.ISOWeek,p=jAe(t.displayMonth,{useFixedWeeks:!!d,ISOWeek:m,locale:i,weekStartsOn:h,firstWeekContainsDate:A}),f=(s=u==null?void 0:u.Head)!==null&&s!==void 0?s:Dhe,x=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:vAe,g=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:Lhe;return e.jsxs("table",{id:t.id,className:l.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&e.jsx(f,{}),e.jsx("tbody",{className:l.tbody,style:o.tbody,children:p.map(function(v){return e.jsx(x,{displayMonth:t.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),e.jsx(g,{displayMonth:t.displayMonth})]})}function wAe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var bAe=wAe()?b.useLayoutEffect:b.useEffect,C5=!1,NAe=0;function O8(){return"react-day-picker-".concat(++NAe)}function CAe(t){var s,r=t??(C5?O8():null),n=b.useState(r),a=n[0],i=n[1];return bAe(function(){a===null&&i(O8())},[]),b.useEffect(function(){C5===!1&&(C5=!0)},[]),(s=t??a)!==null&&s!==void 0?s:void 0}function BAe(t){var s,r,n=tn(),a=n.dir,i=n.classNames,l=n.styles,o=n.components,c=dj().displayMonths,d=CAe(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,h=[i.month],A=l.month,m=t.displayIndex===0,p=t.displayIndex===c.length-1,f=!m&&!p;a==="rtl"&&(s=[m,p],p=s[0],m=s[1]),m&&(h.push(i.caption_start),A=ys(ys({},A),l.caption_start)),p&&(h.push(i.caption_end),A=ys(ys({},A),l.caption_end)),f&&(h.push(i.caption_between),A=ys(ys({},A),l.caption_between));var x=(r=o==null?void 0:o.Caption)!==null&&r!==void 0?r:The;return e.jsxs("div",{className:h.join(" "),style:A,children:[e.jsx(x,{id:d,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(yAe,{id:u,"aria-labelledby":d,displayMonth:t.displayMonth})]},t.displayIndex)}function SAe(t){var s=tn(),r=s.classNames,n=s.styles;return e.jsx("div",{className:r.months,style:n.months,children:t.children})}function kAe(t){var s,r,n=t.initialProps,a=tn(),i=N_(),l=dj(),o=b.useState(!1),c=o[0],d=o[1];b.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var h=ys(ys({},a.styles.root),a.style),A=Object.keys(n).filter(function(p){return p.startsWith("data-")}).reduce(function(p,f){var x;return ys(ys({},p),(x={},x[f]=n[f],x))},{}),m=(r=(s=n.components)===null||s===void 0?void 0:s.Months)!==null&&r!==void 0?r:SAe;return e.jsx("div",ys({className:u.join(" "),style:h,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},A,{children:e.jsx(m,{children:l.displayMonths.map(function(p,f){return e.jsx(BAe,{displayIndex:f,displayMonth:p},f)})})}))}function _Ae(t){var s=t.children,r=Zue(t,["children"]);return e.jsx(ghe,{initialProps:r,children:e.jsx(khe,{children:e.jsx(cAe,{initialProps:r,children:e.jsx(Ohe,{initialProps:r,children:e.jsx(Qhe,{initialProps:r,children:e.jsx(Whe,{children:e.jsx(lAe,{children:s})})})})})})})}function EAe(t){return e.jsx(_Ae,ys({},t,{children:e.jsx(kAe,{initialProps:t})}))}function iN({className:t,classNames:s,showOutsideDays:r=!0,...n}){return e.jsx(EAe,{showOutsideDays:r,className:at("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:at(rb({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:at(rb({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:({...a})=>e.jsx(j3,{className:"h-4 w-4"}),IconRight:({...a})=>e.jsx(Gd,{className:"h-4 w-4"})},...n})}iN.displayName="Calendar";var B_="Popover",[MH,r_e]=Ga(B_,[v0]),uj=v0(),[FAe,Kh]=MH(B_),QH=t=>{const{__scopePopover:s,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:l=!1}=t,o=uj(s),c=b.useRef(null),[d,u]=b.useState(!1),[h=!1,A]=go({prop:n,defaultProp:a,onChange:i});return e.jsx(Y3,{...o,children:e.jsx(FAe,{scope:s,contentId:ho(),triggerRef:c,open:h,onOpenChange:A,onOpenToggle:b.useCallback(()=>A(m=>!m),[A]),hasCustomAnchor:d,onCustomAnchorAdd:b.useCallback(()=>u(!0),[]),onCustomAnchorRemove:b.useCallback(()=>u(!1),[]),modal:l,children:r})})};QH.displayName=B_;var HH="PopoverAnchor",TAe=b.forwardRef((t,s)=>{const{__scopePopover:r,...n}=t,a=Kh(HH,r),i=uj(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:o}=a;return b.useEffect(()=>(l(),()=>o()),[l,o]),e.jsx(Y2,{...i,...n,ref:s})});TAe.displayName=HH;var VH="PopoverTrigger",KH=b.forwardRef((t,s)=>{const{__scopePopover:r,...n}=t,a=Kh(VH,r),i=uj(r),l=sr(s,a.triggerRef),o=e.jsx(os.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":WH(a.open),...n,ref:l,onClick:Qt(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?o:e.jsx(Y2,{asChild:!0,...i,children:o})});KH.displayName=VH;var S_="PopoverPortal",[LAe,IAe]=MH(S_,{forceMount:void 0}),zH=t=>{const{__scopePopover:s,forceMount:r,children:n,container:a}=t,i=Kh(S_,s);return e.jsx(LAe,{scope:s,forceMount:r,children:e.jsx(Ri,{present:r||i.open,children:e.jsx(h0,{asChild:!0,container:a,children:n})})})};zH.displayName=S_;var Zx="PopoverContent",qH=b.forwardRef((t,s)=>{const r=IAe(Zx,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,i=Kh(Zx,t.__scopePopover);return e.jsx(Ri,{present:n||i.open,children:i.modal?e.jsx(DAe,{...a,ref:s}):e.jsx(UAe,{...a,ref:s})})});qH.displayName=Zx;var PAe=yh("PopoverContent.RemoveScroll"),DAe=b.forwardRef((t,s)=>{const r=Kh(Zx,t.__scopePopover),n=b.useRef(null),a=sr(s,n),i=b.useRef(!1);return b.useEffect(()=>{const l=n.current;if(l)return J2(l)},[]),e.jsx(nj,{as:PAe,allowPinchZoom:!0,children:e.jsx($H,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qt(t.onCloseAutoFocus,l=>{var o;l.preventDefault(),i.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Qt(t.onPointerDownOutside,l=>{const o=l.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,d=o.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Qt(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),UAe=b.forwardRef((t,s)=>{const r=Kh(Zx,t.__scopePopover),n=b.useRef(!1),a=b.useRef(!1);return e.jsx($H,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,o;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),$H=b.forwardRef((t,s)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=t,A=Kh(Zx,r),m=uj(r);return z2(),e.jsx(sj,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(u0,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:u,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>A.onOpenChange(!1),children:e.jsx(X3,{"data-state":WH(A.open),role:"dialog",id:A.contentId,...m,...h,ref:s,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),GH="PopoverClose",OAe=b.forwardRef((t,s)=>{const{__scopePopover:r,...n}=t,a=Kh(GH,r);return e.jsx(os.button,{type:"button",...n,ref:s,onClick:Qt(t.onClick,()=>a.onOpenChange(!1))})});OAe.displayName=GH;var RAe="PopoverArrow",MAe=b.forwardRef((t,s)=>{const{__scopePopover:r,...n}=t,a=uj(r);return e.jsx(J3,{...a,...n,ref:s})});MAe.displayName=RAe;function WH(t){return t?"open":"closed"}var QAe=QH,HAe=KH,VAe=zH,YH=qH;const XH=QAe,JH=HAe,k_=b.forwardRef(({className:t,align:s="center",sideOffset:r=4,...n},a)=>e.jsx(VAe,{children:e.jsx(YH,{ref:a,align:s,sideOffset:r,className:at("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));k_.displayName=YH.displayName;const Mp=({children:t,interactive:s=!1,...r})=>{const n="bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-sm hover:shadow-md transition-all duration-200",a=s?"hover:scale-[1.02] cursor-pointer hover:border-slate-300 dark:hover:border-slate-600":"";return e.jsx(H,{className:at(n,a),...r,children:t})},hf=({children:t,variant:s="primary",size:r="default",...n})=>{const a=vv.button[s]||vv.button.primary,i=r==="sm"?"px-3 py-2 text-sm min-h-[40px]":"px-4 py-2.5 min-h-[44px]";return e.jsx(V,{className:at(a,i),...n,children:t})},Gy=({title:t,value:s,subtitle:r,icon:n,color:a})=>e.jsx(Mp,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:t}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:s}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:r})]}),e.jsx("div",{className:at("w-12 h-12 rounded-lg flex items-center justify-center",a==="green"&&"bg-green-100 text-green-600 dark:bg-green-900/20 dark:text-green-400",a==="red"&&"bg-red-100 text-red-600 dark:bg-red-900/20 dark:text-red-400",a==="blue"&&"bg-blue-100 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400",a==="orange"&&"bg-orange-100 text-orange-600 dark:bg-orange-900/20 dark:text-orange-400"),children:e.jsx(n,{className:"w-6 h-6"})})]})})});function KAe(){const{toast:t}=ls(),s=Cs(),[r,n]=b.useState(new Date),[a,i]=b.useState(""),[l,o]=b.useState(""),[c,d]=b.useState(""),[u,h]=b.useState([]),[A,m]=b.useState(!1),{data:p=[]}=st({queryKey:["/api/teachers/classes"],staleTime:3e5}),{data:f=[]}=st({queryKey:["/api/teachers/subjects"],staleTime:3e5}),{data:x=[],isLoading:g}=st({queryKey:["/api/students",{class:a}],enabled:!!a,staleTime:6e4}),{data:v=[]}=st({queryKey:["/api/attendance",{date:Vs(r,"yyyy-MM-dd"),class:a,subject:l}],enabled:!!a&&!!l,staleTime:3e4}),{data:j}=st({queryKey:["/api/attendance/stats",{class:a}],enabled:!!a,staleTime:6e4}),B=Bt({mutationFn:_=>Vt("/api/attendance/save",{method:"POST",body:JSON.stringify({date:Vs(r,"yyyy-MM-dd"),class:a,subject:l,attendance:_})}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/attendance"]}),s.invalidateQueries({queryKey:["/api/attendance/stats"]}),t({title:" !",description:"  "}),m(!1)},onError:()=>{t({title:"!",description:"   ",variant:"destructive"})}});b.useEffect(()=>{if(x.length>0){const _=x.map(k=>{const D=v.find(z=>z.studentId===k.id);return{studentId:k.id,studentName:k.name,studentNameBn:k.nameInBangla,rollNumber:k.rollNumber,status:(D==null?void 0:D.status)||"present",remarks:(D==null?void 0:D.remarks)||""}});h(_)}},[x,v]);const F=(_,k,D)=>{h(z=>z.map(K=>K.studentId===_?{...K,status:k,remarks:D!==void 0?D:K.remarks}:K)),m(!0)},P=_=>{h(k=>k.map(D=>({...D,status:_}))),m(!0)},E=u.filter(_=>{var k,D,z;return((k=_.studentName)==null?void 0:k.toLowerCase().includes(c.toLowerCase()))||((D=_.studentNameBn)==null?void 0:D.includes(c))||((z=_.rollNumber)==null?void 0:z.toString().includes(c))}),N={present:u.filter(_=>_.status==="present").length,absent:u.filter(_=>_.status==="absent").length,late:u.filter(_=>_.status==="late").length,total:u.length},C=N.total>0?Math.round(N.present/N.total*100):0;return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:" "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"     "})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(hf,{variant:"secondary",size:"sm",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"})," "]}),e.jsxs(hf,{variant:"primary",size:"sm",onClick:()=>B.mutate(u),disabled:!A||B.isPending,children:[e.jsx(Xv,{className:"w-4 h-4 mr-2"}),B.isPending?" ...":" "]})]})]}),e.jsx(Mp,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:""}),e.jsxs(XH,{children:[e.jsx(JH,{asChild:!0,children:e.jsxs(hf,{variant:"secondary",className:"w-full justify-start",children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),Vs(r,"dd/MM/yyyy")]})}),e.jsx(k_,{className:"w-auto p-0",align:"start",children:e.jsx(iN,{mode:"single",selected:r,onSelect:_=>_&&n(_),initialFocus:!0})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:""}),e.jsxs(xt,{value:a,onValueChange:i,children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})}),e.jsx(At,{children:p.map(_=>e.jsx(X,{value:_.name,children:_.name},_.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:""}),e.jsxs(xt,{value:l,onValueChange:o,children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})}),e.jsx(At,{children:f.map(_=>e.jsx(X,{value:_.name,children:_.name},_.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(de,{placeholder:"   ",value:c,onChange:_=>d(_.target.value),className:"pl-10"})]})]})]})})}),a&&l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(Gy,{title:"",value:N.present,subtitle:`${C}% `,icon:Kc,color:"green"}),e.jsx(Gy,{title:"",value:N.absent,subtitle:`${Math.round(N.absent/N.total*100)}% `,icon:Yw,color:"red"}),e.jsx(Gy,{title:"",value:N.late,subtitle:`${Math.round(N.late/N.total*100)}% `,icon:hr,color:"orange"}),e.jsx(Gy,{title:" ",value:N.total,subtitle:" ",icon:ss,color:"blue"})]}),e.jsx(Mp,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"    "}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(hf,{variant:"secondary",size:"sm",onClick:()=>P("present"),children:[e.jsx(ks,{className:"w-4 h-4 mr-2"})," "]}),e.jsxs(hf,{variant:"secondary",size:"sm",onClick:()=>P("absent"),children:[e.jsx(Xc,{className:"w-4 h-4 mr-2"})," "]}),e.jsxs(hf,{variant:"ghost",size:"sm",onClick:()=>{const _=x.map(k=>({studentId:k.id,studentName:k.name,studentNameBn:k.nameInBangla,rollNumber:k.rollNumber,status:"present",remarks:""}));h(_),m(!1)},children:[e.jsx(Ote,{className:"w-4 h-4 mr-2"})," "]})]})]})})}),e.jsxs(Mp,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:["  (",E.length," )"]})}),e.jsx(M,{children:g?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{className:"w-16",children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:" "}),e.jsx(We,{className:"text-center",children:""}),e.jsx(We,{children:""})]})}),e.jsx(Wr,{children:E.map(_=>e.jsxs(ns,{children:[e.jsx(Ve,{className:"font-medium",children:_.rollNumber}),e.jsx(Ve,{children:_.studentName}),e.jsx(Ve,{children:_.studentNameBn}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:`attendance-${_.studentId}`,value:"present",checked:_.status==="present",onChange:()=>F(_.studentId,"present"),className:"text-green-600"}),e.jsx("span",{className:"text-sm text-green-600",children:""})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:`attendance-${_.studentId}`,value:"absent",checked:_.status==="absent",onChange:()=>F(_.studentId,"absent"),className:"text-red-600"}),e.jsx("span",{className:"text-sm text-red-600",children:""})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:`attendance-${_.studentId}`,value:"late",checked:_.status==="late",onChange:()=>F(_.studentId,"late"),className:"text-orange-600"}),e.jsx("span",{className:"text-sm text-orange-600",children:""})]})]})}),e.jsx(Ve,{children:e.jsx(de,{placeholder:" ()",value:_.remarks,onChange:k=>F(_.studentId,_.status,k.target.value),className:"w-40"})})]},_.studentId))})]})})})]}),A&&e.jsx("div",{className:"fixed bottom-6 right-6 bg-orange-100 dark:bg-orange-900/20 border border-orange-300 dark:border-orange-700 rounded-lg p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(yn,{className:"w-5 h-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-orange-900 dark:text-orange-100",children:"  "}),e.jsx("p",{className:"text-xs text-orange-700 dark:text-orange-300",children:"     "})]})]})})]}),!a&&e.jsx(Mp,{children:e.jsxs(M,{className:"p-12 text-center",children:[e.jsx(ss,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium text-slate-600 dark:text-slate-400 mb-2",children:"    "}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500",children:"        "})]})})]})})}const AS=({children:t,interactive:s=!1,...r})=>{const n="bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-sm hover:shadow-md transition-all duration-200",a=s?"hover:scale-[1.02] cursor-pointer hover:border-slate-300 dark:hover:border-slate-600":"";return e.jsx(H,{className:at(n,a),...r,children:t})},Vu=({children:t,variant:s="primary",size:r="default",...n})=>{const a={primary:"bg-primary text-white hover:bg-primary/90 shadow-sm hover:shadow-md transition-all duration-200 font-medium rounded-lg",secondary:"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 hover:border-slate-400 shadow-sm hover:shadow-md transition-all duration-200 font-medium rounded-lg",ghost:"text-slate-700 hover:bg-slate-100 hover:text-slate-900 transition-all duration-200 font-medium rounded-lg",destructive:"bg-red-600 text-white hover:bg-red-700 shadow-sm hover:shadow-md transition-all duration-200 font-medium rounded-lg"},i=r==="sm"?"px-3 py-2 text-sm min-h-[40px]":"px-4 py-2.5 min-h-[44px]";return e.jsx(V,{className:at(a[s]||a.primary,i,"flex items-center justify-center gap-2"),...n,children:t})},zAe=Y.object({title:Y.string().min(2," "),subject:Y.string().min(1,"  "),class:Y.string().min(1,"  "),duration:Y.string().min(1," "),date:Y.string().min(1," "),objectives:Y.string().min(10,"  "),materials:Y.string().min(5,"  "),introduction:Y.string().min(10," "),mainContent:Y.string().min(20,"  "),activities:Y.string().min(10," "),assessment:Y.string().min(10,"  "),homework:Y.string().optional(),notes:Y.string().optional()}),qAe=({plan:t,onEdit:s,onDuplicate:r,onDelete:n})=>e.jsx(AS,{interactive:!0,children:e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-2",children:t.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ks,{className:"w-4 h-4"}),t.subject]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ss,{className:"w-4 h-4"}),t.class]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hr,{className:"w-4 h-4"}),t.duration]})]})]}),e.jsx(Oe,{variant:t.status==="completed"?"default":"secondary",children:t.status==="completed"?"":""})]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4 line-clamp-2",children:t.objectives}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-500",children:t.date}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vu,{variant:"ghost",size:"sm",onClick:()=>s(t),children:e.jsx(Yn,{className:"w-4 h-4"})}),e.jsx(Vu,{variant:"ghost",size:"sm",onClick:()=>r(t),children:e.jsx(qw,{className:"w-4 h-4"})}),e.jsx(Vu,{variant:"ghost",size:"sm",onClick:()=>n(t.id),children:e.jsx(Ii,{className:"w-4 h-4"})})]})]})]})});function $Ae(){const{toast:t}=ls(),s=Cs(),[r,n]=b.useState(!1),[a,i]=b.useState(null),[l,o]=b.useState("all"),[c,d]=b.useState("all"),u=zs({resolver:qs(zAe),defaultValues:{title:"",subject:"",class:"",duration:"",date:"",objectives:"",materials:"",introduction:"",mainContent:"",activities:"",assessment:"",homework:"",notes:""}}),{data:h=[],isLoading:A}=st({queryKey:["/api/lesson-plans"],staleTime:6e4}),{data:m=[]}=st({queryKey:["/api/teachers/classes"],staleTime:3e5}),{data:p=[]}=st({queryKey:["/api/teachers/subjects"],staleTime:3e5}),f=Bt({mutationFn:E=>{const N=a?`/api/lesson-plans/${a.id}`:"/api/lesson-plans";return Vt(N,{method:a?"PATCH":"POST",body:JSON.stringify(E)})},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/lesson-plans"]}),t({title:" !",description:a?"   ":"    "}),n(!1),i(null),u.reset()},onError:()=>{t({title:"!",description:"    ",variant:"destructive"})}}),x=Bt({mutationFn:E=>Vt(`/api/lesson-plans/${E}`,{method:"DELETE"}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/lesson-plans"]}),t({title:" !",description:"    "})},onError:()=>{t({title:"!",description:"    ",variant:"destructive"})}}),g=E=>{f.mutate(E)},v=E=>{i(E),u.reset(E),n(!0)},j=E=>{const N={...E,title:`${E.title} ()`,date:new Date().toISOString().split("T")[0]};delete N.id,u.reset(N),i(null),n(!0)},B=E=>{confirm("         ?")&&x.mutate(E)},F=()=>{u.reset(),i(null)},P=h.filter(E=>{const N=l==="all"||E.subject===l,C=c==="all"||E.class===c;return N&&C});return A?e.jsx(is,{children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"   ..."})]})})})}):e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:" "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"        "})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Vu,{variant:"secondary",size:"sm",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"})," "]}),e.jsxs(pr,{open:r,onOpenChange:n,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(Vu,{onClick:F,children:[e.jsx(Ls,{className:"w-4 h-4 mr-2"}),"  "]})}),e.jsxs(or,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(cr,{children:e.jsx(dr,{children:a?"  ":"    "})}),e.jsx(Ms,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(g),className:"space-y-6",children:[e.jsxs(Ar,{defaultValue:"basic",className:"w-full",children:[e.jsxs(ir,{className:"grid w-full grid-cols-3",children:[e.jsx(lt,{value:"basic",children:" "}),e.jsx(lt,{value:"content",children:""}),e.jsx(lt,{value:"assessment",children:""})]}),e.jsxs(bt,{value:"basic",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:u.control,name:"title",render:({field:E})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:"  ",...E})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"subject",render:({field:E})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsxs(xt,{onValueChange:E.onChange,value:E.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsx(At,{children:p.map(N=>e.jsx(X,{value:N.name,children:N.name},N.id))})]}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(Se,{control:u.control,name:"class",render:({field:E})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsxs(xt,{onValueChange:E.onChange,value:E.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:" "})})}),e.jsx(At,{children:m.map(N=>e.jsx(X,{value:N.name,children:N.name},N.id))})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"duration",render:({field:E})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{placeholder:" ",...E})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"date",render:({field:E})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{type:"date",...E})}),e.jsx(_e,{})]})})]}),e.jsx(Se,{control:u.control,name:"objectives",render:({field:E})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(Gs,{placeholder:"      ...",rows:3,...E})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"materials",render:({field:E})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(Gs,{placeholder:", , , ...",rows:2,...E})}),e.jsx(_e,{})]})})]}),e.jsxs(bt,{value:"content",className:"space-y-4 mt-6",children:[e.jsx(Se,{control:u.control,name:"introduction",render:({field:E})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" ( )"}),e.jsx(Be,{children:e.jsx(Gs,{placeholder:"      ...",rows:4,...E})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"mainContent",render:({field:E})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ( )"}),e.jsx(Be,{children:e.jsx(Gs,{placeholder:"  ,   ...",rows:6,...E})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"activities",render:({field:E})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ( )"}),e.jsx(Be,{children:e.jsx(Gs,{placeholder:" , ,  ...",rows:4,...E})}),e.jsx(_e,{})]})})]}),e.jsxs(bt,{value:"assessment",className:"space-y-4 mt-6",children:[e.jsx(Se,{control:u.control,name:"assessment",render:({field:E})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(Gs,{placeholder:"     ...",rows:4,...E})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"homework",render:({field:E})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(Gs,{placeholder:"    ...",rows:3,...E})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"notes",render:({field:E})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(Gs,{placeholder:"   ...",rows:3,...E})}),e.jsx(_e,{})]})})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(Vu,{type:"button",variant:"secondary",onClick:()=>n(!1),children:""}),e.jsxs(Vu,{type:"submit",disabled:f.isPending,children:[e.jsx(Xv,{className:"w-4 h-4 mr-2"}),f.isPending?" ...":" "]})]})]})})]})]})]})]}),e.jsx(AS,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:""}),e.jsxs(xt,{value:l,onValueChange:o,children:[e.jsx(ht,{className:"w-40",children:e.jsx(pt,{})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),p.map(E=>e.jsx(X,{value:E.name,children:E.name},E.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:""}),e.jsxs(xt,{value:c,onValueChange:d,children:[e.jsx(ht,{className:"w-40",children:e.jsx(pt,{})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),m.map(E=>e.jsx(X,{value:E.name,children:E.name},E.id))]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:e.jsxs("span",{children:[": ",P.length,"  "]})})]})})}),P.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(E=>e.jsx(qAe,{plan:E,onEdit:v,onDuplicate:j,onDelete:B},E.id))}):e.jsx(AS,{children:e.jsxs(M,{className:"p-12 text-center",children:[e.jsx(Ks,{className:"w-16 h-16 text-slate-400 mx-auto mb-6"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-600 dark:text-slate-400 mb-2",children:"    "}),e.jsx("p",{className:"text-slate-500 dark:text-slate-500 mb-6",children:"          "}),e.jsxs(Vu,{onClick:()=>n(!0),children:[e.jsx(Ls,{className:"w-4 h-4 mr-2"}),"   "]})]})})]})})}const GAe=Y.object({title:Y.string().min(1,"  "),description:Y.string().min(1," "),subjectId:Y.string().min(1,"  "),classId:Y.string().min(1,"  "),dueDate:Y.date({required_error:"  "}),totalMarks:Y.number().min(1,"     "),assignmentType:Y.string().min(1,"   "),instructions:Y.string().optional(),attachments:Y.array(Y.string()).optional()});function WAe(){const[t,s]=b.useState(!1),[r,n]=b.useState(null),[a,i]=b.useState(""),[l,o]=b.useState("all"),[c,d]=b.useState("all"),{toast:u}=ls(),h=Cs(),A=zs({resolver:qs(GAe),defaultValues:{title:"",description:"",subjectId:"",classId:"",totalMarks:100,assignmentType:"",instructions:"",attachments:[]}}),{data:m,isLoading:p}=st({queryKey:["/api/teacher/assignments"],queryFn:()=>Vt("/api/teacher/assignments")}),{data:f}=st({queryKey:["/api/teacher/subjects"],queryFn:()=>Vt("/api/teacher/subjects")}),{data:x}=st({queryKey:["/api/teacher/classes"],queryFn:()=>Vt("/api/teacher/classes")}),g=Bt({mutationFn:C=>r?Vt(`/api/teacher/assignments/${r.id}`,{method:"PATCH",body:JSON.stringify(C)}):Vt("/api/teacher/assignments",{method:"POST",body:JSON.stringify(C)}),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/teacher/assignments"]}),s(!1),n(null),A.reset(),u({title:r?"   ":"   ",description:"  "})},onError:C=>{u({title:"",description:C.message||"  ",variant:"destructive"})}}),v=Bt({mutationFn:C=>Vt(`/api/teacher/assignments/${C}`,{method:"DELETE"}),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/teacher/assignments"]}),u({title:"   ",description:"  "})}}),j=C=>{g.mutate(C)},B=C=>{var _,k;n(C),A.reset({title:C.title,description:C.description,subjectId:(_=C.subjectId)==null?void 0:_.toString(),classId:(k=C.classId)==null?void 0:k.toString(),dueDate:new Date(C.dueDate),totalMarks:C.totalMarks,assignmentType:C.assignmentType,instructions:C.instructions||"",attachments:C.attachments||[]}),s(!0)},F=C=>{confirm("        ?")&&v.mutate(C)},P=(m==null?void 0:m.filter(C=>{const _=C.title.toLowerCase().includes(a.toLowerCase())||C.description.toLowerCase().includes(a.toLowerCase()),k=l==="all"||C.status===l;return _&&k}))||[],E=C=>{const _={active:{label:"",variant:"default"},completed:{label:"",variant:"secondary"},overdue:{label:"",variant:"destructive"}},k=_[C]||_.active;return e.jsx(Oe,{variant:k.variant,children:k.label})},N=[{value:"homework",label:" "},{value:"project",label:""},{value:"essay",label:""},{value:"presentation",label:""},{value:"research",label:""},{value:"practical",label:""}];return p?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"  ..."})]})})}):e.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:" "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"      "})]}),e.jsx(pr,{open:t,onOpenChange:s,children:e.jsx(fn,{asChild:!0,children:e.jsxs(nw,{onClick:()=>{n(null),A.reset()},children:[e.jsx(Ls,{className:"w-4 h-4 mr-2"})," "]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(Eu,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(sc,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(M,{children:e.jsx("div",{className:"text-2xl font-bold",children:(m==null?void 0:m.length)||0})})]}),e.jsxs(Eu,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(Ks,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(M,{children:e.jsx("div",{className:"text-2xl font-bold",children:(m==null?void 0:m.filter(C=>C.status==="active").length)||0})})]}),e.jsxs(Eu,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"  "}),e.jsx(hr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(M,{children:e.jsx("div",{className:"text-2xl font-bold",children:(m==null?void 0:m.filter(C=>{const _=new Date().toDateString();return new Date(C.dueDate).toDateString()===_}).length)||0})})]}),e.jsxs(Eu,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:""}),e.jsx(aa,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(M,{children:e.jsx("div",{className:"text-2xl font-bold text-red-600",children:(m==null?void 0:m.filter(C=>C.status==="overdue").length)||0})})]})]}),e.jsx(Eu,{children:e.jsx(M,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(de,{placeholder:" ...",value:a,onChange:C=>i(C.target.value),className:"pl-10"})]}),e.jsxs(xt,{value:l,onValueChange:o,children:[e.jsxs(ht,{className:"w-full md:w-48",children:[e.jsx(A0,{className:"w-4 h-4 mr-2"}),e.jsx(pt,{placeholder:""})]}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:""}),e.jsx(X,{value:"active",children:""}),e.jsx(X,{value:"completed",children:""}),e.jsx(X,{value:"overdue",children:""})]})]})]})})}),e.jsxs(Eu,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:P.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(sc,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"  "}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"    "})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:" "}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""})]})}),e.jsx(Wr,{children:P.map(C=>{var _,k;return e.jsxs(ns,{children:[e.jsx(Ve,{className:"font-medium",children:C.title}),e.jsx(Ve,{children:((_=C.subject)==null?void 0:_.name)||"N/A"}),e.jsx(Ve,{children:((k=C.class)==null?void 0:k.name)||"N/A"}),e.jsx(Ve,{children:Vs(new Date(C.dueDate),"dd/MM/yyyy")}),e.jsx(Ve,{children:C.totalMarks}),e.jsx(Ve,{children:E(C.status)}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(V,{variant:"outline",size:"sm",onClick:()=>B(C),children:e.jsx(Yn,{className:"w-4 h-4"})}),e.jsx(V,{variant:"destructive",size:"sm",onClick:()=>F(C.id),children:e.jsx(Ii,{className:"w-4 h-4"})})]})})]},C.id)})})]})})})]}),e.jsxs(or,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(cr,{children:e.jsx(dr,{children:r?" ":"  "})}),e.jsx(Ms,{...A,children:e.jsxs("form",{onSubmit:A.handleSubmit(j),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Se,{control:A.control,name:"title",render:({field:C})=>e.jsxs(Ne,{className:"md:col-span-2",children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:":   ",...C})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:A.control,name:"subjectId",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsxs(xt,{onValueChange:C.onChange,value:C.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsx(At,{children:f==null?void 0:f.map(_=>e.jsx(X,{value:_.id.toString(),children:_.name},_.id))})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:A.control,name:"classId",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsxs(xt,{onValueChange:C.onChange,value:C.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsx(At,{children:x==null?void 0:x.map(_=>e.jsx(X,{value:_.id.toString(),children:_.name},_.id))})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:A.control,name:"assignmentType",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsxs(xt,{onValueChange:C.onChange,value:C.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsx(At,{children:N.map(_=>e.jsx(X,{value:_.value,children:_.label},_.value))})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:A.control,name:"totalMarks",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{type:"number",placeholder:"100",...C,onChange:_=>C.onChange(parseInt(_.target.value)||0)})}),e.jsx(_e,{})]})})]}),e.jsx(Se,{control:A.control,name:"description",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(Gs,{placeholder:"   ...",className:"min-h-[100px]",...C})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:A.control,name:"instructions",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" ()"}),e.jsx(Be,{children:e.jsx(Gs,{placeholder:"   ...",className:"min-h-[80px]",...C})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:A.control,name:"dueDate",render:({field:C})=>e.jsxs(Ne,{className:"flex flex-col",children:[e.jsx(Ce,{children:" "}),e.jsxs(XH,{children:[e.jsx(JH,{asChild:!0,children:e.jsx(Be,{children:e.jsxs(V,{variant:"outline",className:at("w-full pl-3 text-left font-normal",!C.value&&"text-muted-foreground"),children:[C.value?Vs(C.value,"PPP"):e.jsx("span",{children:"  "}),e.jsx(bs,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.jsx(k_,{className:"w-auto p-0",align:"start",children:e.jsx(iN,{mode:"single",selected:C.value,onSelect:C.onChange,disabled:_=>_<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0})})]}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>s(!1),children:""}),e.jsx(nw,{type:"submit",disabled:g.isPending,children:g.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xv,{className:"w-4 h-4 mr-2"})," "]})})]})]})})]}),(m==null?void 0:m.length)===0&&e.jsx(Eu,{children:e.jsxs(M,{className:"text-center py-12",children:[e.jsx(sc,{className:"mx-auto h-16 w-16 text-slate-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 mb-2",children:"  "}),e.jsx("p",{className:"text-slate-500 dark:text-slate-500 mb-6",children:"        "}),e.jsxs(nw,{onClick:()=>s(!0),children:[e.jsx(Ls,{className:"w-4 h-4 mr-2"}),"  "]})]})})]})}const R8=new l3({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30}}}),YAe=({children:t})=>{const[s]=b.useState(()=>qo.init()),r=()=>{qo.logout(),window.location.reload()};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-200/60 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-primary leading-snug",children:" "})}),e.jsxs("nav",{className:"hidden md:flex space-x-2",children:[e.jsx("a",{href:"/teacher",className:"flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 min-h-[44px] text-slate-700 hover:bg-slate-100 hover:text-slate-900",children:""}),e.jsx("a",{href:"/teacher/dashboard",className:"flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 min-h-[44px] text-slate-700 hover:bg-slate-100 hover:text-slate-900",children:""}),e.jsx("a",{href:"/teacher/attendance",className:"flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 min-h-[44px] text-slate-700 hover:bg-slate-100 hover:text-slate-900",children:""}),e.jsx("a",{href:"/teacher/lesson-plans",className:"flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 min-h-[44px] text-slate-700 hover:bg-slate-100 hover:text-slate-900",children:" "}),e.jsx("a",{href:"/teacher/assignments",className:"flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 min-h-[44px] text-slate-700 hover:bg-slate-100 hover:text-slate-900",children:""})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-sm md:text-base text-slate-700 leading-relaxed",children:[", ",(s==null?void 0:s.name)||""]}),e.jsx("button",{onClick:r,className:"bg-primary text-white hover:bg-primary/90 shadow-sm hover:shadow-md transition-all duration-200 font-medium rounded-lg px-4 py-2.5 min-h-[44px] flex items-center justify-center gap-2 focus:ring-2 focus:ring-primary/20 focus:outline-none",children:""})]})]})})}),e.jsx("main",{className:"flex-1",children:t})]})},wp=({component:t,...s})=>qo.init()?e.jsx(YAe,{children:e.jsx(t,{...s})}):null;function XAe(){const[t,s]=b.useState(!1),[r,n]=b.useState(null);b.useEffect(()=>{const i=qo.init();i&&(s(!0),n(i))},[]);const a=i=>{s(!0),n(i)};return t?e.jsx(Hw,{client:R8,children:e.jsx(nb,{children:e.jsxs(bb,{children:[e.jsx("div",{className:"teacher-portal-app",children:e.jsxs(r3,{children:[e.jsx(wp,{path:"/teacher",component:Nde}),e.jsx(wp,{path:"/teacher/dashboard",component:Jue}),e.jsx(wp,{path:"/teacher/attendance",component:KAe}),e.jsx(wp,{path:"/teacher/lesson-plans",component:$Ae}),e.jsx(wp,{path:"/teacher/assignments",component:WAe})]})}),e.jsx(sb,{})]})})}):e.jsx(Hw,{client:R8,children:e.jsx(nb,{children:e.jsxs(bb,{children:[e.jsx(yde,{onAuthenticated:a}),e.jsx(sb,{})]})})})}const JAe=async(t,s={})=>{const r=localStorage.getItem("teacher-token"),n=localStorage.getItem("teacher-session"),a={"Content-Type":"application/json",...s.headers};r&&(a.Authorization=`Bearer ${r}`),n&&(a["x-teacher-session"]=n);const i=await fetch(t,{...s,headers:a});if(!i.ok)throw i.status===401&&(localStorage.removeItem("teacher-auth"),localStorage.removeItem("teacher-token"),localStorage.removeItem("teacher-session"),window.location.reload()),new Error(`HTTP ${i.status}`);return i.json()},ZAe=new l3({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30}}}),wA=class wA{constructor(){wi(this,"teacher",null);wi(this,"isAuthenticated",!1)}static getInstance(){return wA.instance||(wA.instance=new wA),wA.instance}async login(s,r){try{if(s==="demo"&&r==="1234")return this.teacher={id:"demo",name:" ",email:"demo@school.edu",subjects:["",""],classes:[" "," "]},this.isAuthenticated=!0,localStorage.setItem("teacher-auth",JSON.stringify(this.teacher)),this.teacher;const n=await fetch("/api/teacher/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({teacherId:s,password:r})}),a=await n.json();if(n.ok&&a.success&&a.teacher)return this.teacher=a.teacher,this.isAuthenticated=!0,localStorage.setItem("teacher-auth",JSON.stringify(this.teacher)),localStorage.setItem("teacher-token",a.token),localStorage.setItem("teacher-session",a.sessionId),this.teacher;throw new Error(a.error||"Invalid credentials")}catch{throw new Error("     ")}}logout(){this.teacher=null,this.isAuthenticated=!1,localStorage.removeItem("teacher-auth")}getTeacher(){if(!this.teacher){const s=localStorage.getItem("teacher-auth");s&&(this.teacher=JSON.parse(s),this.isAuthenticated=!0)}return this.teacher}isLoggedIn(){return this.isAuthenticated||!!localStorage.getItem("teacher-auth")}};wi(wA,"instance");let mS=wA;const fS=mS.getInstance(),eme=Y.object({teacherId:Y.string().min(1,"  "),password:Y.string().min(1," ")});function tme({onLogin:t}){const[s,r]=b.useState(!1),{toast:n}=ls(),a=zs({resolver:qs(eme),defaultValues:{teacherId:"",password:""}}),i=Bt({mutationFn:async o=>fS.login(o.teacherId,o.password),onSuccess:o=>{n({title:" ",description:`, ${o.name}`}),t(o)},onError:o=>{n({title:" ",description:o.message,variant:"destructive"})}}),l=o=>{i.mutate(o)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mb-4",children:e.jsx(dn,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:" "}),e.jsx("p",{className:"text-slate-600",children:"   "})]}),e.jsxs(H,{className:"shadow-lg border-0",children:[e.jsx(oe,{className:"text-center pb-4",children:e.jsx(ce,{className:"text-xl font-semibold text-slate-900",children:" "})}),e.jsxs(M,{children:[e.jsx(Ms,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-6",children:[e.jsx(Se,{control:a.control,name:"teacherId",render:({field:o})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-semibold text-slate-800",children:" "}),e.jsx(Be,{children:e.jsxs("div",{className:"relative",children:[e.jsx(ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(de,{placeholder:"T001  demo",className:"pl-10 h-12 border-slate-300 focus:border-blue-600 focus:ring-2 focus:ring-blue-100",...o})]})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:a.control,name:"password",render:({field:o})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-semibold text-slate-800",children:""}),e.jsx(Be,{children:e.jsxs("div",{className:"relative",children:[e.jsx(Yv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(de,{type:s?"text":"password",placeholder:" ",className:"pl-10 pr-10 h-12 border-slate-300 focus:border-blue-600 focus:ring-2 focus:ring-blue-100",...o}),e.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:s?e.jsx(P2,{className:"w-4 h-4"}):e.jsx(cn,{className:"w-4 h-4"})})]})}),e.jsx(_e,{})]})}),e.jsx(V,{type:"submit",className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm hover:shadow-md transition-all duration-200",disabled:i.isPending,children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ks,{className:"w-4 h-4 mr-2"})," "]})})]})}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:" "}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:":"})," demo"]}),e.jsxs("div",{children:[e.jsx("strong",{children:":"})," 1234"]})]})]})]})]})]})})}function sme({teacher:t,onLogout:s}){const[r,n]=Oi(),a=[{href:"/teacher-new",label:"",icon:nc},{href:"/teacher-new/dashboard",label:"",icon:pa},{href:"/teacher-new/attendance",label:"",icon:ss},{href:"/teacher-new/lessons",label:" ",icon:Ks},{href:"/teacher-new/assignments",label:"",icon:sc},{href:"/teacher-new/schedule",label:"",icon:bs}];return e.jsx("div",{className:"bg-white border-b border-slate-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("h1",{className:"text-xl font-bold text-blue-600 flex items-center gap-2",children:[e.jsx(dn,{className:"w-6 h-6"})," "]})}),e.jsx("nav",{className:"hidden md:flex space-x-1",children:a.map(i=>{const l=i.icon,o=r===i.href;return e.jsxs("button",{onClick:()=>n(i.href),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${o?"bg-blue-100 text-blue-700 border border-blue-200":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,children:[e.jsx(l,{className:"w-4 h-4"}),i.label]},i.href)})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-sm text-slate-700 hidden sm:block",children:[", ",(t==null?void 0:t.name)||""]}),e.jsxs(V,{onClick:s,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(D2,{className:"w-4 h-4"}),""]})]})]})})})}function rme(){const{data:t,isLoading:s}=st({queryKey:["/api/teacher/stats"],queryFn:()=>JAe("/api/teacher/stats")});return s?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-slate-600",children:"  ..."})]})}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:""}),e.jsx("p",{className:"text-slate-600 mt-2",children:"   "})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(M,{children:e.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalStudents)||0})})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(Ks,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(M,{children:e.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalClasses)||0})})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(bs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(M,{children:e.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.todaysClasses)||0})})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(sc,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(M,{children:e.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.pendingAssignments)||0})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"    "}),e.jsx("p",{className:"text-xs text-slate-500",children:"  "})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"  "}),e.jsx("p",{className:"text-xs text-slate-500",children:"  "})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:" "}),e.jsx("p",{className:"text-xs text-slate-500",children:"  "})]})]})]})})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-blue-50 rounded-lg",children:[e.jsx(hr,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"  - "}),e.jsx("p",{className:"text-xs text-slate-500",children:": - : AM"})]}),e.jsx(Oe,{variant:"outline",children:""})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-3 border rounded-lg",children:[e.jsx(hr,{className:"w-5 h-5 text-slate-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"  - "}),e.jsx("p",{className:"text-xs text-slate-500",children:": - : PM"})]}),e.jsx(Oe,{variant:"secondary",children:""})]})]})})]})]})]})}function nme(){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"  "}),e.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"        "})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(H,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-3",children:[e.jsx(pa,{className:"w-6 h-6 text-blue-600"}),""]})}),e.jsx(M,{children:e.jsx("p",{className:"text-slate-600",children:"    "})})]}),e.jsxs(H,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-3",children:[e.jsx(ss,{className:"w-6 h-6 text-green-600"}),""]})}),e.jsx(M,{children:e.jsx("p",{className:"text-slate-600",children:"     "})})]}),e.jsxs(H,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-3",children:[e.jsx(Ks,{className:"w-6 h-6 text-purple-600"})," "]})}),e.jsx(M,{children:e.jsx("p",{className:"text-slate-600",children:"       "})})]}),e.jsxs(H,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-3",children:[e.jsx(sc,{className:"w-6 h-6 text-orange-600"}),""]})}),e.jsx(M,{children:e.jsx("p",{className:"text-slate-600",children:"      "})})]}),e.jsxs(H,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-3",children:[e.jsx(bs,{className:"w-6 h-6 text-red-600"}),""]})}),e.jsx(M,{children:e.jsx("p",{className:"text-slate-600",children:"      "})})]}),e.jsxs(H,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-3",children:[e.jsx(Ys,{className:"w-6 h-6 text-gray-600"}),""]})}),e.jsx(M,{children:e.jsx("p",{className:"text-slate-600",children:"      "})})]})]})]})}function ame(){const[t,s]=b.useState(null);b.useEffect(()=>{const a=fS.getTeacher();a&&s(a)},[]);const r=a=>{s(a)},n=()=>{fS.logout(),s(null)};return t?e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(sme,{teacher:t,onLogout:n}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs(r3,{children:[e.jsx(an,{path:"/teacher-new",component:nme}),e.jsx(an,{path:"/teacher-new/dashboard",component:rme}),e.jsx(an,{path:"/teacher-new/attendance",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx(ss,{className:"mx-auto h-16 w-16 text-slate-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:" "}),e.jsx("p",{className:"text-slate-500",children:" ..."})]})}),e.jsx(an,{path:"/teacher-new/lessons",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx(Ks,{className:"mx-auto h-16 w-16 text-slate-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:" "}),e.jsx("p",{className:"text-slate-500",children:" ..."})]})}),e.jsx(an,{path:"/teacher-new/assignments",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx(sc,{className:"mx-auto h-16 w-16 text-slate-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:" "}),e.jsx("p",{className:"text-slate-500",children:" ..."})]})}),e.jsx(an,{path:"/teacher-new/schedule",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx(bs,{className:"mx-auto h-16 w-16 text-slate-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:""}),e.jsx("p",{className:"text-slate-500",children:" ..."})]})})]})}),e.jsx(sb,{})]}):e.jsx(tme,{onLogin:r})}function ime(){return e.jsx(Hw,{client:ZAe,children:e.jsx(nb,{children:e.jsx(bb,{children:e.jsx(ame,{})})})})}function lme(){const{data:t,isLoading:s}=st({queryKey:["/api/public/school-info"]}),{data:r,isLoading:n}=st({queryKey:["/api/public/school-stats"]}),{data:a}=st({queryKey:["/api/public/upcoming-events"]}),{data:i}=st({queryKey:["/api/public/latest-news"]});return s||n?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-blue-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[e.jsx("header",{className:"bg-white/95 dark:bg-slate-900/95 backdrop-blur-md border-b border-emerald-200/30 dark:border-slate-700/30 sticky top-0 z-50 shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 group",children:[e.jsxs("div",{className:"relative",children:[t!=null&&t.logo?e.jsx("img",{src:t.logo,alt:"School Logo",className:"h-14 w-14 rounded-full object-cover border-2 border-emerald-200 dark:border-slate-600 group-hover:border-emerald-400 transition-colors duration-300"}):e.jsx("div",{className:"h-14 w-14 rounded-full bg-gradient-to-br from-emerald-500 to-blue-600 flex items-center justify-center border-2 border-emerald-200 dark:border-slate-600",children:e.jsx(dn,{className:"h-8 w-8 text-white"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 h-5 w-5 bg-green-500 rounded-full border-2 border-white dark:border-slate-900 animate-pulse"})]}),e.jsxs("div",{className:"transition-transform duration-300 group-hover:translate-x-1",children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-blue-600 bg-clip-text text-transparent",children:(t==null?void 0:t.schoolName)||"  "}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:(t==null?void 0:t.schoolNameBn)||"   "})]})]}),e.jsxs("nav",{className:"hidden lg:flex items-center space-x-8",children:[e.jsx(tt,{href:"/",className:"group relative py-2 px-4 rounded-lg bg-emerald-500 text-white font-semibold shadow-lg",children:e.jsx("span",{className:"relative z-10 font-medium",children:""})}),e.jsxs(tt,{href:"/about",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:" "}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsxs(tt,{href:"/academics",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:""}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsxs(tt,{href:"/admissions",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:""}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsxs(tt,{href:"/contact",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:""}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsx(tt,{href:"/",className:"group relative py-2 px-4 rounded-lg bg-blue-600 text-white font-semibold shadow-lg hover:bg-blue-700 transition-all duration-300",children:e.jsx("span",{className:"relative z-10 font-medium",children:""})}),e.jsxs(tt,{href:"/login",className:"group relative overflow-hidden bg-gradient-to-r from-emerald-600 to-blue-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx("span",{className:"relative z-10",children:""}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-700 to-blue-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),e.jsx("button",{className:"lg:hidden p-2 rounded-lg bg-emerald-50 dark:bg-slate-800 text-emerald-600 dark:text-emerald-400",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})})}),e.jsxs("section",{className:"relative py-24 lg:py-32 px-4 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50/80 via-white/90 to-blue-50/80 dark:from-slate-900/80 dark:via-slate-800/90 dark:to-slate-900/80"}),e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-emerald-400/20 to-blue-400/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-blue-400/20 to-emerald-400/20 rounded-full blur-3xl"})]}),e.jsx("div",{className:"container mx-auto text-center relative z-10",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-emerald-100 dark:bg-slate-800 rounded-full text-emerald-800 dark:text-emerald-300 text-sm font-medium mb-8 shadow-lg backdrop-blur-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-2 animate-pulse"}),(t==null?void 0:t.establishmentYear)&&`${new Date().getFullYear()-t.establishmentYear}+   `]}),e.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold mb-6 leading-tight",children:e.jsx("span",{className:"bg-gradient-to-r from-emerald-600 via-blue-600 to-emerald-600 bg-clip-text text-transparent animate-gradient bg-300% bg-gradient-to-r",children:(t==null?void 0:t.schoolName)||"  "})}),e.jsx("p",{className:"text-xl md:text-2xl text-slate-600 dark:text-slate-300 mb-4 font-medium",children:(t==null?void 0:t.schoolNameBn)||"   "}),e.jsxs("div",{className:"bg-white/70 dark:bg-slate-800/70 backdrop-blur-md rounded-2xl p-8 mb-10 border border-emerald-200/50 dark:border-slate-700/50 shadow-xl max-w-3xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-emerald-500 to-blue-500 rounded-full mr-4"}),e.jsx(Ln,{className:"h-6 w-6 text-yellow-500 mr-2"}),e.jsx("span",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:" "}),e.jsx(Ln,{className:"h-6 w-6 text-yellow-500 ml-2"}),e.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-500 to-emerald-500 rounded-full ml-4"})]}),e.jsx("p",{className:"text-lg font-medium text-slate-800 dark:text-slate-200 leading-relaxed",children:'",          "'})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-6",children:[e.jsxs(tt,{href:"/admissions",className:"group relative overflow-hidden bg-gradient-to-r from-emerald-600 to-blue-600 text-white px-8 py-4 rounded-2xl font-bold text-lg shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-105",children:[e.jsxs("span",{className:"relative z-10 flex items-center justify-center",children:[e.jsx(dn,{className:"mr-3 h-6 w-6"}),"  "]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-700 to-blue-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs(tt,{href:"/about",className:"group relative overflow-hidden bg-white/80 dark:bg-slate-800/80 backdrop-blur-md text-slate-700 dark:text-slate-200 px-8 py-4 rounded-2xl font-bold text-lg border-2 border-emerald-200 dark:border-slate-600 hover:border-emerald-400 dark:hover:border-slate-500 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[e.jsxs("span",{className:"relative z-10 flex items-center justify-center",children:[e.jsx(Ks,{className:"mr-3 h-6 w-6"})," "]}),e.jsx("div",{className:"absolute inset-0 bg-emerald-50 dark:bg-slate-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),e.jsxs("div",{className:"mt-12 grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[e.jsxs("div",{className:"group cursor-pointer",children:[e.jsxs("div",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400 group-hover:scale-110 transition-transform duration-300",children:[(r==null?void 0:r.totalStudents)||0,"+"]}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:" "})]}),e.jsxs("div",{className:"group cursor-pointer",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform duration-300",children:[(r==null?void 0:r.totalTeachers)||0,"+"]}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:" "})]}),e.jsxs("div",{className:"group cursor-pointer",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400 group-hover:scale-110 transition-transform duration-300",children:"100%"}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:" "})]}),e.jsxs("div",{className:"group cursor-pointer",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400 group-hover:scale-110 transition-transform duration-300",children:(t==null?void 0:t.establishmentYear)&&`${new Date().getFullYear()-t.establishmentYear}+`}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:" "})]})]})]})})]}),e.jsx("section",{className:"py-16 px-4 bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsx(H,{className:"text-center border-blue-200 dark:border-gray-700",children:e.jsxs(M,{className:"pt-6",children:[e.jsx(ss,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(r==null?void 0:r.totalStudents)||0}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:" "})]})}),e.jsx(H,{className:"text-center border-green-200 dark:border-gray-700",children:e.jsxs(M,{className:"pt-6",children:[e.jsx(dn,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(r==null?void 0:r.totalTeachers)||0}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:" "})]})}),e.jsx(H,{className:"text-center border-purple-200 dark:border-gray-700",children:e.jsxs(M,{className:"pt-6",children:[e.jsx(Ks,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(r==null?void 0:r.totalClasses)||0}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:" "})]})}),e.jsx(H,{className:"text-center border-orange-200 dark:border-gray-700",children:e.jsxs(M,{className:"pt-6",children:[e.jsx(ev,{className:"h-8 w-8 text-orange-600 mx-auto mb-2"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r!=null&&r.establishmentYear?new Date().getFullYear()-r.establishmentYear:0}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:" "})]})})]})})}),e.jsx("section",{className:"py-16 px-4",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:" "}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"    "})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs(H,{className:"border-blue-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:[e.jsxs(oe,{children:[e.jsx(Ln,{className:"h-8 w-8 text-blue-600 mb-2"}),e.jsx(ce,{children:"  "})]}),e.jsx(M,{children:e.jsx(ct,{children:"        "})})]}),e.jsxs(H,{className:"border-green-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:[e.jsxs(oe,{children:[e.jsx(El,{className:"h-8 w-8 text-green-600 mb-2"}),e.jsx(ce,{children:"- "})]}),e.jsx(M,{children:e.jsx(ct,{children:",        "})})]}),e.jsxs(H,{className:"border-purple-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:[e.jsxs(oe,{children:[e.jsx($w,{className:"h-8 w-8 text-purple-600 mb-2"}),e.jsx(ce,{children:" "})]}),e.jsx(M,{children:e.jsx(ct,{children:"       "})})]})]})]})}),e.jsx("section",{className:"py-16 px-4 bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs(H,{className:"border-blue-200 dark:border-gray-700",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center",children:[e.jsx(bs,{className:"h-5 w-5 mr-2 text-blue-600"})," "]})}),e.jsxs(M,{children:[i&&i.length>0?e.jsx("div",{className:"space-y-4",children:i.slice(0,3).map((l,o)=>e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:l.title||l.titleBn}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:l.date||""})]},o))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(bs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"   "})]}),e.jsx("div",{className:"mt-4",children:e.jsx(tt,{href:"/public/news",children:e.jsx(V,{variant:"outline",size:"sm",className:"w-full",children:"  "})})})]})]}),e.jsxs(H,{className:"border-green-200 dark:border-gray-700",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center",children:[e.jsx(wh,{className:"h-5 w-5 mr-2 text-green-600"})," "]})}),e.jsxs(M,{children:[a&&a.length>0?e.jsx("div",{className:"space-y-4",children:a.slice(0,3).map((l,o)=>e.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:l.title||l.titleBn}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:l.date||"  "})]},o))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(wh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"   "})]}),e.jsx("div",{className:"mt-4",children:e.jsx(tt,{href:"/events",children:e.jsx(V,{variant:"outline",size:"sm",className:"w-full",children:"  "})})})]})]})]})})}),e.jsx("section",{className:"py-16 px-4",children:e.jsx("div",{className:"container mx-auto",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-green-600 rounded-2xl p-8 text-white",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:" "}),e.jsx("p",{className:"text-blue-100 mb-6",children:"       "}),e.jsxs("div",{className:"space-y-3",children:[(t==null?void 0:t.address)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(em,{className:"h-5 w-5 mr-3 text-blue-200"}),e.jsx("span",{className:"text-blue-100",children:t.address})]}),(t==null?void 0:t.phone)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx($o,{className:"h-5 w-5 mr-3 text-blue-200"}),e.jsx("span",{className:"text-blue-100",children:t.phone})]}),(t==null?void 0:t.email)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(uo,{className:"h-5 w-5 mr-3 text-blue-200"}),e.jsx("span",{className:"text-blue-100",children:t.email})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsx(tt,{href:"/public/contact",children:e.jsx(V,{size:"lg",variant:"secondary",className:"px-8",children:"  "})})})]})})})}),e.jsx("footer",{className:"bg-gray-900 dark:bg-black text-white py-12 px-4",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:(t==null?void 0:t.schoolName)||" "}),e.jsx("p",{className:"text-gray-300 text-sm",children:(t==null?void 0:t.description)||(t==null?void 0:t.descriptionBn)||"       "})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:" "}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(tt,{href:"/about",className:"text-gray-300 hover:text-white",children:" "})}),e.jsx("li",{children:e.jsx(tt,{href:"/academics",className:"text-gray-300 hover:text-white",children:""})}),e.jsx("li",{children:e.jsx(tt,{href:"/admissions",className:"text-gray-300 hover:text-white",children:""})}),e.jsx("li",{children:e.jsx(tt,{href:"/contact",className:"text-gray-300 hover:text-white",children:""})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:""}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(tt,{href:"/public/curriculum",className:"text-gray-300 hover:text-white",children:""})}),e.jsx("li",{children:e.jsx(tt,{href:"/public/faculty",className:"text-gray-300 hover:text-white",children:""})}),e.jsx("li",{children:e.jsx(tt,{href:"/public/facilities",className:"text-gray-300 hover:text-white",children:""})}),e.jsx("li",{children:e.jsx(tt,{href:"/public/results",className:"text-gray-300 hover:text-white",children:" "})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:""}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[(t==null?void 0:t.address)&&e.jsx("p",{children:t.address}),(t==null?void 0:t.phone)&&e.jsxs("p",{children:[": ",t.phone]}),(t==null?void 0:t.email)&&e.jsxs("p",{children:[": ",t.email]})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-sm text-gray-400",children:e.jsxs("p",{children:[" ",new Date().getFullYear()," ",(t==null?void 0:t.schoolName)||" ","   "]})})]})})]})}function ome(){const{data:t,isLoading:s}=st({queryKey:["/api/public/school-info"]}),{data:r}=st({queryKey:["/api/public/faculty"]});return s?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-blue-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[e.jsx("header",{className:"bg-white/95 dark:bg-slate-900/95 backdrop-blur-md border-b border-emerald-200/30 dark:border-slate-700/30 sticky top-0 z-50 shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 group",children:[e.jsxs("div",{className:"relative",children:[t!=null&&t.logo?e.jsx("img",{src:t.logo,alt:"School Logo",className:"h-14 w-14 rounded-full object-cover border-2 border-emerald-200 dark:border-slate-600 group-hover:border-emerald-400 transition-colors duration-300"}):e.jsx("div",{className:"h-14 w-14 rounded-full bg-gradient-to-br from-emerald-500 to-blue-600 flex items-center justify-center border-2 border-emerald-200 dark:border-slate-600",children:e.jsx(dn,{className:"h-8 w-8 text-white"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 h-5 w-5 bg-green-500 rounded-full border-2 border-white dark:border-slate-900 animate-pulse"})]}),e.jsxs("div",{className:"transition-transform duration-300 group-hover:translate-x-1",children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-blue-600 bg-clip-text text-transparent",children:(t==null?void 0:t.schoolName)||"  "}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:(t==null?void 0:t.schoolNameBn)||"   "})]})]}),e.jsxs("nav",{className:"hidden lg:flex items-center space-x-8",children:[e.jsxs(tt,{href:"/",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:""}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsx(tt,{href:"/about",className:"group relative py-2 px-4 rounded-lg bg-emerald-500 text-white font-semibold shadow-lg",children:e.jsx("span",{className:"relative z-10 font-medium",children:" "})}),e.jsxs(tt,{href:"/academics",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:""}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsxs(tt,{href:"/admissions",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:""}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsxs(tt,{href:"/contact",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:""}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsxs(tt,{href:"/login",className:"group relative overflow-hidden bg-gradient-to-r from-emerald-600 to-blue-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx("span",{className:"relative z-10",children:""}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-700 to-blue-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),e.jsx("button",{className:"lg:hidden p-2 rounded-lg bg-emerald-50 dark:bg-slate-800 text-emerald-600 dark:text-emerald-400",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})})}),e.jsxs("section",{className:"relative py-24 px-4 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-600 via-blue-600 to-purple-600"}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-24 -left-24 w-48 h-48 bg-white/10 rounded-full blur-3xl"})]}),e.jsx("div",{className:"container mx-auto relative z-10",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsxs("div",{className:"inline-flex items-center bg-white/10 backdrop-blur-sm rounded-full px-4 py-2 mb-6",children:[e.jsx($w,{className:"h-4 w-4 mr-2 text-white"}),e.jsx("span",{className:"text-sm font-medium",children:"    "})]}),e.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:[e.jsx("span",{className:"block",children:""}),e.jsx("span",{className:"block bg-gradient-to-r from-white to-emerald-100 bg-clip-text text-transparent",children:""})]}),e.jsxs("p",{className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:[(t==null?void 0:t.schoolName)||"  "," -      "]})]})})]}),e.jsx("section",{className:"py-20 px-4 relative",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"inline-flex items-center bg-emerald-100 dark:bg-emerald-900/30 text-emerald-800 dark:text-emerald-300 rounded-full px-4 py-2",children:[e.jsx(Ln,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"text-sm font-semibold",children:"  "})]}),e.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white leading-tight",children:["",e.jsx("span",{className:"block text-emerald-600",children:" "})]}),e.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-400 leading-relaxed",children:(t==null?void 0:t.description)||(t==null?void 0:t.descriptionBn)||"                        "})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx(H,{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 border-emerald-200 dark:border-emerald-700",children:e.jsxs(M,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-emerald-600 mb-2",children:(t==null?void 0:t.establishmentYear)||""}),e.jsx("div",{className:"text-emerald-800 dark:text-emerald-300 font-medium",children:" "})]})}),e.jsx(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-700",children:e.jsxs(M,{className:"p-6 text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:[t!=null&&t.establishmentYear?new Date().getFullYear()-t.establishmentYear:"","+"]}),e.jsx("div",{className:"text-blue-800 dark:text-blue-300 font-medium",children:" "})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center",children:e.jsx(wh,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"})}),e.jsx("span",{className:"text-slate-700 dark:text-slate-300 font-medium",children:"    "})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:e.jsx(jn,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-slate-700 dark:text-slate-300 font-medium",children:"    "})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:e.jsx(fT,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),e.jsx("span",{className:"text-slate-700 dark:text-slate-300 font-medium",children:"   "})]})]})]}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm rounded-3xl p-8 shadow-2xl",children:[t!=null&&t.logo?e.jsx("img",{src:t.logo,alt:"School Building",className:"w-full h-80 object-cover rounded-2xl mb-6 shadow-lg"}):e.jsx("div",{className:"w-full h-80 bg-gradient-to-br from-emerald-100 to-blue-100 dark:from-slate-700 dark:to-slate-600 rounded-2xl mb-6 flex items-center justify-center shadow-lg",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-500 to-blue-600 rounded-full flex items-center justify-center mx-auto",children:e.jsx(dn,{className:"h-10 w-10 text-white"})}),e.jsx("div",{className:"text-slate-600 dark:text-slate-300 font-medium",children:(t==null?void 0:t.schoolName)||"  "})]})}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:(t==null?void 0:t.schoolName)||"  "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"     "}),e.jsx(Oe,{className:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300",children:"  "})]})]})})]})})}),e.jsx("section",{className:"py-16 px-4 bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"   "})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs(H,{className:"border-blue-200 dark:border-gray-700",children:[e.jsxs(oe,{children:[e.jsx(wh,{className:"h-8 w-8 text-blue-600 mb-2"}),e.jsx(ce,{children:"  (Mission)"})]}),e.jsx(M,{children:e.jsx(ct,{className:"text-base",children:(t==null?void 0:t.motto)||"                    ,      "})})]}),e.jsxs(H,{className:"border-green-200 dark:border-gray-700",children:[e.jsxs(oe,{children:[e.jsx(fT,{className:"h-8 w-8 text-green-600 mb-2"}),e.jsx(ce,{children:"  (Vision)"})]}),e.jsx(M,{children:e.jsx(ct,{className:"text-base",children:"    ,                         "})})]})]})]})}),e.jsx("section",{className:"py-16 px-4",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"  "}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"     "})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs(H,{className:"border-blue-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:[e.jsxs(oe,{className:"text-center",children:[e.jsx(Ln,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),e.jsx(ce,{children:""})]}),e.jsx(M,{children:e.jsx(ct,{className:"text-center",children:"              "})})]}),e.jsxs(H,{className:"border-green-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:[e.jsxs(oe,{className:"text-center",children:[e.jsx($w,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),e.jsx(ce,{children:"  "})]}),e.jsx(M,{children:e.jsx(ct,{className:"text-center",children:"          "})})]}),e.jsxs(H,{className:"border-purple-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:[e.jsxs(oe,{className:"text-center",children:[e.jsx(jn,{className:"h-12 w-12 text-purple-600 mx-auto mb-4"}),e.jsx(ce,{children:"  "})]}),e.jsx(M,{children:e.jsx(ct,{className:"text-center",children:"  ,     "})})]})]})]})}),e.jsx("section",{className:"py-16 px-4 bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm",children:e.jsx("div",{className:"container mx-auto",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(H,{className:"border-blue-200 dark:border-gray-700",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:e.jsx(ss,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(ce,{className:"text-2xl",children:"  "}),e.jsx(ct,{className:"text-lg",children:(t==null?void 0:t.principalName)||" "})]})]})}),e.jsxs(M,{children:[e.jsxs("blockquote",{className:"text-lg text-gray-600 dark:text-gray-300 italic border-l-4 border-blue-500 pl-6",children:['"           ',(t==null?void 0:t.schoolName)||"",'       ,                          "']}),e.jsxs("div",{className:"mt-6 text-right",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:(t==null?void 0:t.principalName)||" "}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[" , ",(t==null?void 0:t.schoolName)||" "]})]})]})]})})})}),e.jsx("section",{className:"py-16 px-4",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"  "})}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-gray-700 p-3 rounded-full",children:e.jsx(Ks,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"        "})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"bg-green-100 dark:bg-gray-700 p-3 rounded-full",children:e.jsx(ss,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"       "})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"bg-purple-100 dark:bg-gray-700 p-3 rounded-full",children:e.jsx(ev,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"- "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:",      "})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"bg-orange-100 dark:bg-gray-700 p-3 rounded-full",children:e.jsx(hr,{className:"h-6 w-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"     "})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"bg-pink-100 dark:bg-gray-700 p-3 rounded-full",children:e.jsx(jn,{className:"h-6 w-6 text-pink-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"      "})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"bg-indigo-100 dark:bg-gray-700 p-3 rounded-full",children:e.jsx(El,{className:"h-6 w-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"  "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"      "})]})]})]})]})}),e.jsx("section",{className:"py-16 px-4 bg-gradient-to-r from-blue-600 to-green-600 text-white",children:e.jsxs("div",{className:"container mx-auto text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"   "}),e.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"        "}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx(tt,{href:"/public/admissions",children:e.jsxs(V,{size:"lg",variant:"secondary",className:"px-8",children:[e.jsx(dn,{className:"mr-2 h-5 w-5"})," "]})}),e.jsx(tt,{href:"/public/contact",children:e.jsx(V,{size:"lg",variant:"outline",className:"px-8 border-white text-white hover:bg-white hover:text-blue-600",children:" "})})]})]})}),e.jsx("footer",{className:"bg-gray-900 dark:bg-black text-white py-12 px-4",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:(t==null?void 0:t.schoolName)||" "}),e.jsx("p",{className:"text-gray-300 text-sm",children:(t==null?void 0:t.description)||(t==null?void 0:t.descriptionBn)||"       "})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:" "}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(tt,{href:"/public",className:"text-gray-300 hover:text-white",children:""})}),e.jsx("li",{children:e.jsx(tt,{href:"/public/about",className:"text-gray-300 hover:text-white",children:" "})}),e.jsx("li",{children:e.jsx(tt,{href:"/public/academics",className:"text-gray-300 hover:text-white",children:""})}),e.jsx("li",{children:e.jsx(tt,{href:"/public/admissions",className:"text-gray-300 hover:text-white",children:""})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:""}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(tt,{href:"/public/curriculum",className:"text-gray-300 hover:text-white",children:""})}),e.jsx("li",{children:e.jsx(tt,{href:"/public/faculty",className:"text-gray-300 hover:text-white",children:""})}),e.jsx("li",{children:e.jsx(tt,{href:"/public/facilities",className:"text-gray-300 hover:text-white",children:""})}),e.jsx("li",{children:e.jsx(tt,{href:"/public/results",className:"text-gray-300 hover:text-white",children:" "})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:""}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[(t==null?void 0:t.address)&&e.jsx("p",{children:t.address}),(t==null?void 0:t.phone)&&e.jsxs("p",{children:[": ",t.phone]}),(t==null?void 0:t.email)&&e.jsxs("p",{children:[": ",t.email]})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-sm text-gray-400",children:e.jsxs("p",{children:[" ",new Date().getFullYear()," ",(t==null?void 0:t.schoolName)||" ","   "]})})]})})]})}function cme(){const{data:t,isLoading:s}=st({queryKey:["/api/public/school-info"]}),r=[{id:"science",name:"Science",nameBn:"",description:"Comprehensive science education with modern laboratory facilities",descriptionBn:"     ",icon:Fte,color:"emerald",subjects:["","","",""]},{id:"business",name:"Business Studies",nameBn:" ",description:"Business and commerce education for future entrepreneurs",descriptionBn:"      ",icon:g3,color:"blue",subjects:[""," ","",""]},{id:"humanities",name:"Humanities",nameBn:"",description:"Liberal arts education fostering critical thinking",descriptionBn:"      ",icon:qx,color:"purple",subjects:["","","",""]}];return s?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-blue-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-emerald-600"})})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-blue-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[e.jsx("header",{className:"bg-white/95 dark:bg-slate-900/95 backdrop-blur-md border-b border-emerald-200/30 dark:border-slate-700/30 sticky top-0 z-50 shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 group",children:[e.jsxs("div",{className:"relative",children:[t!=null&&t.logo?e.jsx("img",{src:t.logo,alt:"School Logo",className:"h-14 w-14 rounded-full object-cover border-2 border-emerald-200 dark:border-slate-600 group-hover:border-emerald-400 transition-colors duration-300"}):e.jsx("div",{className:"h-14 w-14 rounded-full bg-gradient-to-br from-emerald-500 to-blue-600 flex items-center justify-center border-2 border-emerald-200 dark:border-slate-600",children:e.jsx(dn,{className:"h-8 w-8 text-white"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 h-5 w-5 bg-green-500 rounded-full border-2 border-white dark:border-slate-900 animate-pulse"})]}),e.jsxs("div",{className:"transition-transform duration-300 group-hover:translate-x-1",children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-blue-600 bg-clip-text text-transparent",children:(t==null?void 0:t.schoolName)||"  "}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:(t==null?void 0:t.schoolNameBn)||"   "})]})]}),e.jsxs("nav",{className:"hidden lg:flex items-center space-x-8",children:[e.jsxs(tt,{href:"/",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:""}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsxs(tt,{href:"/about",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:" "}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsx(tt,{href:"/academics",className:"group relative py-2 px-4 rounded-lg bg-emerald-500 text-white font-semibold shadow-lg",children:e.jsx("span",{className:"relative z-10 font-medium",children:""})}),e.jsxs(tt,{href:"/admissions",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:""}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsxs(tt,{href:"/contact",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:""}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsxs(tt,{href:"/login",className:"group relative overflow-hidden bg-gradient-to-r from-emerald-600 to-blue-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx("span",{className:"relative z-10",children:""}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-700 to-blue-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),e.jsx("button",{className:"lg:hidden p-2 rounded-lg bg-emerald-50 dark:bg-slate-800 text-emerald-600 dark:text-emerald-400",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})})}),e.jsxs("section",{className:"relative py-24 px-4 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 via-emerald-600 to-purple-600"}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-24 -left-24 w-48 h-48 bg-white/10 rounded-full blur-3xl"})]}),e.jsx("div",{className:"container mx-auto relative z-10",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsxs("div",{className:"inline-flex items-center bg-white/10 backdrop-blur-sm rounded-full px-4 py-2 mb-6",children:[e.jsx(Ks,{className:"h-4 w-4 mr-2 text-white"}),e.jsx("span",{className:"text-sm font-medium",children:"  "})]}),e.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:[e.jsx("span",{className:"block",children:""}),e.jsx("span",{className:"block bg-gradient-to-r from-white to-emerald-100 bg-clip-text text-transparent",children:""})]}),e.jsx("p",{className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:"          "})]})})]}),e.jsx("section",{className:"py-20 px-4 relative",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"inline-flex items-center bg-emerald-100 dark:bg-emerald-900/30 text-emerald-800 dark:text-emerald-300 rounded-full px-4 py-2 mb-6",children:[e.jsx(Ln,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"text-sm font-semibold",children:"  "})]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-6",children:" "}),e.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-400 max-w-3xl mx-auto",children:"                "})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:r.map(n=>e.jsxs(H,{className:`group relative overflow-hidden bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm border-2 hover:border-${n.color}-300 dark:hover:border-${n.color}-600 transition-all duration-300 hover:shadow-2xl hover:scale-105`,children:[e.jsxs(oe,{className:"text-center pb-4",children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-br from-${n.color}-500 to-${n.color}-600 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300`,children:e.jsx(n.icon,{className:"h-8 w-8 text-white"})}),e.jsx(ce,{className:"text-2xl font-bold text-slate-900 dark:text-white",children:n.nameBn}),e.jsx(ct,{className:"text-slate-600 dark:text-slate-400 text-base",children:n.descriptionBn})]}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white",children:" :"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.subjects.map((a,i)=>e.jsx(Oe,{className:`bg-${n.color}-100 text-${n.color}-800 dark:bg-${n.color}-900/30 dark:text-${n.color}-300 text-xs font-medium`,children:a},i))})]})})]},n.id))})]})}),e.jsx("section",{className:"py-20 px-4 bg-white/60 dark:bg-slate-800/60 backdrop-blur-sm",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"inline-flex items-center bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full px-4 py-2",children:[e.jsx(El,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"text-sm font-semibold",children:" "})]}),e.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white leading-tight",children:[" ",e.jsx("span",{className:"block text-blue-600",children:""})]}),e.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-400 leading-relaxed",children:"     ,        "})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center",children:e.jsx(bs,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"  "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"          "})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:e.jsx(xs,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:" "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"          "})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:e.jsx($x,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:" "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:",        "})]})]})]})]}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"relative bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm rounded-3xl p-8 shadow-2xl",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx(H,{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 border-emerald-200 dark:border-emerald-700",children:e.jsxs(M,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-emerald-600 mb-2",children:"+"}),e.jsx("div",{className:"text-emerald-800 dark:text-emerald-300 font-medium text-sm",children:" "})]})}),e.jsx(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-700",children:e.jsxs(M,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"%"}),e.jsx("div",{className:"text-blue-800 dark:text-blue-300 font-medium text-sm",children:" "})]})}),e.jsx(H,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border-purple-200 dark:border-purple-700",children:e.jsxs(M,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"+"}),e.jsx("div",{className:"text-purple-800 dark:text-purple-300 font-medium text-sm",children:" "})]})}),e.jsx(H,{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 border-orange-200 dark:border-orange-700",children:e.jsxs(M,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"/"}),e.jsx("div",{className:"text-orange-800 dark:text-orange-300 font-medium text-sm",children:""})]})})]})})})]})})}),e.jsx("section",{className:"py-20 px-4",children:e.jsx("div",{className:"container mx-auto text-center",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-6",children:"  "}),e.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-400 mb-8",children:"         "}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(tt,{href:"/admissions",children:e.jsx(V,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700 text-white px-8 py-3 text-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:"  "})}),e.jsx(tt,{href:"/contact",children:e.jsx(V,{variant:"outline",className:"border-2 border-emerald-600 text-emerald-600 hover:bg-emerald-600 hover:text-white px-8 py-3 text-lg font-semibold transition-all duration-300",children:" "})})]})]})})})]})}const dme=Y.object({studentName:Y.string().min(2,"      "),studentNameBn:Y.string().min(2,"      "),dateOfBirth:Y.string().min(1,"  "),gender:Y.string().min(1,"  "),class:Y.string().min(1,"  "),fatherName:Y.string().min(2,"  "),motherName:Y.string().min(2,"  "),guardianPhone:Y.string().min(11,"   "),address:Y.string().min(10,"  "),previousSchool:Y.string().optional(),email:Y.string().email("   ").optional().or(Y.literal(""))});function ume(){const{toast:t}=ls();Cs();const{data:s,isLoading:r}=st({queryKey:["/api/public/school-info"]}),n=zs({resolver:qs(dme),defaultValues:{studentName:"",studentNameBn:"",dateOfBirth:"",gender:"",class:"",fatherName:"",motherName:"",guardianPhone:"",address:"",previousSchool:"",email:""}}),a=Bt({mutationFn:l=>Vt("/api/public/admission-applications",{method:"POST",body:JSON.stringify(l)}),onSuccess:()=>{t({title:" !",description:"           "}),n.reset()},onError:()=>{t({title:"!",description:"         ",variant:"destructive"})}}),i=l=>{a.mutate(l)};return r?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-blue-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[e.jsx("header",{className:"bg-white/95 dark:bg-slate-900/95 backdrop-blur-md border-b border-emerald-200/30 dark:border-slate-700/30 sticky top-0 z-50 shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 group",children:[e.jsxs("div",{className:"relative",children:[s!=null&&s.logo?e.jsx("img",{src:s.logo,alt:"School Logo",className:"h-14 w-14 rounded-full object-cover border-2 border-emerald-200 dark:border-slate-600 group-hover:border-emerald-400 transition-colors duration-300"}):e.jsx("div",{className:"h-14 w-14 rounded-full bg-gradient-to-br from-emerald-500 to-blue-600 flex items-center justify-center border-2 border-emerald-200 dark:border-slate-600",children:e.jsx(dn,{className:"h-8 w-8 text-white"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 h-5 w-5 bg-green-500 rounded-full border-2 border-white dark:border-slate-900 animate-pulse"})]}),e.jsxs("div",{className:"transition-transform duration-300 group-hover:translate-x-1",children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-blue-600 bg-clip-text text-transparent",children:(s==null?void 0:s.schoolName)||"  "}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:(s==null?void 0:s.schoolNameBn)||"   "})]})]}),e.jsxs("nav",{className:"hidden lg:flex items-center space-x-8",children:[e.jsxs(tt,{href:"/",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:""}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsxs(tt,{href:"/about",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:" "}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsxs(tt,{href:"/academics",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:""}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsx(tt,{href:"/admissions",className:"group relative py-2 px-4 rounded-lg bg-emerald-500 text-white font-semibold shadow-lg",children:e.jsx("span",{className:"relative z-10 font-medium",children:""})}),e.jsxs(tt,{href:"/contact",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:""}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsxs(tt,{href:"/login",className:"group relative overflow-hidden bg-gradient-to-r from-emerald-600 to-blue-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx("span",{className:"relative z-10",children:""}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-700 to-blue-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),e.jsx("button",{className:"lg:hidden p-2 rounded-lg bg-emerald-50 dark:bg-slate-800 text-emerald-600 dark:text-emerald-400",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})})}),e.jsxs("section",{className:"relative py-24 px-4 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-600 via-blue-600 to-purple-600"}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-24 -left-24 w-48 h-48 bg-white/10 rounded-full blur-3xl"})]}),e.jsx("div",{className:"container mx-auto relative z-10",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsxs("div",{className:"inline-flex items-center bg-white/10 backdrop-blur-sm rounded-full px-4 py-2 mb-6",children:[e.jsx(dn,{className:"h-4 w-4 mr-2 text-white"}),e.jsx("span",{className:"text-sm font-medium",children:"  "})]}),e.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:[e.jsx("span",{className:"block",children:""}),e.jsx("span",{className:"block bg-gradient-to-r from-white to-emerald-100 bg-clip-text text-transparent",children:""})]}),e.jsxs("p",{className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed mb-8",children:[(s==null?void 0:s.schoolName)||"  ","        "]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(V,{className:"bg-white text-emerald-600 hover:bg-emerald-50 px-8 py-3 text-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:"  "}),e.jsx(V,{variant:"outline",className:"border-2 border-white text-white hover:bg-white hover:text-emerald-600 px-8 py-3 text-lg font-semibold transition-all duration-300",children:" "})]})]})})]}),e.jsx("section",{className:"py-16 px-4",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:" "}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"      "})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[e.jsxs(H,{className:"text-center border-blue-200 dark:border-gray-700",children:[e.jsxs(oe,{children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(xs,{className:"h-6 w-6 text-blue-600"})}),e.jsx(ce,{className:"text-lg",children:".  "})]}),e.jsx(M,{children:e.jsx(ct,{children:"    "})})]}),e.jsxs(H,{className:"text-center border-green-200 dark:border-gray-700",children:[e.jsxs(oe,{children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ks,{className:"h-6 w-6 text-green-600"})}),e.jsx(ce,{className:"text-lg",children:". "})]}),e.jsx(M,{children:e.jsx(ct,{children:"   "})})]}),e.jsxs(H,{className:"text-center border-purple-200 dark:border-gray-700",children:[e.jsxs(oe,{children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(bs,{className:"h-6 w-6 text-purple-600"})}),e.jsx(ce,{className:"text-lg",children:". "})]}),e.jsx(M,{children:e.jsx(ct,{children:"   "})})]}),e.jsxs(H,{className:"text-center border-orange-200 dark:border-gray-700",children:[e.jsxs(oe,{children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(dn,{className:"h-6 w-6 text-orange-600"})}),e.jsx(ce,{className:"text-lg",children:". "})]}),e.jsx(M,{children:e.jsx(ct,{children:"    "})})]})]})]})}),e.jsx("section",{className:"py-16 px-4 bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:" "}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ks,{className:"h-5 w-5 text-green-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:""}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"   - ,     "})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ks,{className:"h-5 w-5 text-green-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"        "})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ks,{className:"h-5 w-5 text-green-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"  , ,   TC ( )"})]})]})]}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4 mt-8",children:" "}),e.jsxs("div",{className:"bg-blue-50 dark:bg-gray-700 p-6 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"- "}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:","})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"- "}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:","})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-4",children:"*   ,     "})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:" "}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(H,{className:"border-blue-200 dark:border-gray-700",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"  "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"  "})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-blue-600",children:" , "}),e.jsx("p",{className:"text-sm text-gray-500",children:" : "})]})]})})}),e.jsx(H,{className:"border-green-200 dark:border-gray-700",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"  "})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-green-600",children:"- , "}),e.jsx("p",{className:"text-sm text-gray-500",children:" SMS   "})]})]})})}),e.jsx(H,{className:"border-purple-200 dark:border-gray-700",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:" "})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-purple-600",children:" , "}),e.jsx("p",{className:"text-sm text-gray-500",children:" : "})]})]})})})]})]})]})})}),e.jsx("section",{className:"py-16 px-4",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"  "}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"    "})]}),e.jsxs(H,{className:"border-blue-200 dark:border-gray-700",children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center",children:[e.jsx(xs,{className:"h-5 w-5 mr-2 text-blue-600"}),"  "]}),e.jsx(ct,{children:"*      "})]}),e.jsx(M,{children:e.jsx(Ms,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(i),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white border-b pb-2",children:" "}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(Se,{control:n.control,name:"studentName",render:({field:l})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  () *"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"Aminul Islam",...l})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:n.control,name:"studentNameBn",render:({field:l})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  () *"}),e.jsx(Be,{children:e.jsx(de,{placeholder:" ",...l})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(Se,{control:n.control,name:"dateOfBirth",render:({field:l})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{type:"date",...l})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:n.control,name:"gender",render:({field:l})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" *"}),e.jsxs(xt,{onValueChange:l.onChange,defaultValue:l.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:n.control,name:"class",render:({field:l})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"     *"}),e.jsxs(xt,{onValueChange:l.onChange,defaultValue:l.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:" "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"",children:" "})]})]}),e.jsx(_e,{})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white border-b pb-2",children:" "}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(Se,{control:n.control,name:"fatherName",render:({field:l})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"  ",...l})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:n.control,name:"motherName",render:({field:l})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"  ",...l})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(Se,{control:n.control,name:"guardianPhone",render:({field:l})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"01712345678",...l})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:n.control,name:"email",render:({field:l})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"example@email.com",...l})}),e.jsx(_e,{})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white border-b pb-2",children:"   "}),e.jsx(Se,{control:n.control,name:"address",render:({field:l})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(Gs,{placeholder:"/,  , , ",rows:3,...l})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:n.control,name:"previousSchool",render:({field:l})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"   ()"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"  ",...l})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>n.reset(),children:" "}),e.jsx(V,{type:"submit",disabled:a.isPending,className:"bg-blue-600 hover:bg-blue-700",children:a.isPending?e.jsxs(e.Fragment,{children:[e.jsx(hr,{className:"mr-2 h-4 w-4 animate-spin"}),"  ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ww,{className:"mr-2 h-4 w-4"}),"  "]})})]})]})})})]})]})}),e.jsx("section",{className:"py-16 px-4 bg-gradient-to-r from-blue-600 to-green-600 text-white",children:e.jsxs("div",{className:"container mx-auto text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"   "}),e.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"        "}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:" "}),e.jsx("p",{children:(s==null?void 0:s.phone)||"-"})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:" "}),e.jsx("p",{children:(s==null?void 0:s.email)||"admission@school.edu.bd"})]})]})]})}),e.jsx("footer",{className:"bg-gray-900 dark:bg-black text-white py-12 px-4",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:(s==null?void 0:s.schoolName)||" "}),e.jsx("p",{className:"text-gray-300 text-sm",children:"       "})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:" "}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(tt,{href:"/public",className:"text-gray-300 hover:text-white",children:""})}),e.jsx("li",{children:e.jsx(tt,{href:"/public/about",className:"text-gray-300 hover:text-white",children:" "})}),e.jsx("li",{children:e.jsx(tt,{href:"/public/academics",className:"text-gray-300 hover:text-white",children:""})}),e.jsx("li",{children:e.jsx(tt,{href:"/public/contact",className:"text-gray-300 hover:text-white",children:""})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:""}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(tt,{href:"/public/admissions",className:"text-gray-300 hover:text-white",children:" "})}),e.jsx("li",{children:e.jsx(tt,{href:"/public/admission-requirements",className:"text-gray-300 hover:text-white",children:" "})}),e.jsx("li",{children:e.jsx(tt,{href:"/public/fees",className:"text-gray-300 hover:text-white",children:" "})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:""}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[(s==null?void 0:s.address)&&e.jsx("p",{children:s.address}),(s==null?void 0:s.phone)&&e.jsxs("p",{children:[": ",s.phone]}),(s==null?void 0:s.email)&&e.jsxs("p",{children:[": ",s.email]})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-sm text-gray-400",children:e.jsxs("p",{children:[" ",new Date().getFullYear()," ",(s==null?void 0:s.schoolName)||" ","   "]})})]})})]})}const hme=Y.object({name:Y.string().min(2,"     "),email:Y.string().email("   "),phone:Y.string().min(11,"   "),subject:Y.string().min(5,"     "),message:Y.string().min(10,"     ")});function Ame(){const{toast:t}=ls();Cs();const{data:s,isLoading:r}=st({queryKey:["/api/public/school-info"]}),n=zs({resolver:qs(hme),defaultValues:{name:"",email:"",phone:"",subject:"",message:""}}),a=Bt({mutationFn:l=>Vt("/api/public/contact-messages",{method:"POST",body:JSON.stringify(l)}),onSuccess:()=>{t({title:"  !",description:"          "}),n.reset()},onError:()=>{t({title:"!",description:"        ",variant:"destructive"})}}),i=l=>{a.mutate(l)};return r?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-blue-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-emerald-600"})})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-blue-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[e.jsx("header",{className:"bg-white/95 dark:bg-slate-900/95 backdrop-blur-md border-b border-emerald-200/30 dark:border-slate-700/30 sticky top-0 z-50 shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 group",children:[e.jsxs("div",{className:"relative",children:[s!=null&&s.logo?e.jsx("img",{src:s.logo,alt:"School Logo",className:"h-14 w-14 rounded-full object-cover border-2 border-emerald-200 dark:border-slate-600 group-hover:border-emerald-400 transition-colors duration-300"}):e.jsx("div",{className:"h-14 w-14 rounded-full bg-gradient-to-br from-emerald-500 to-blue-600 flex items-center justify-center border-2 border-emerald-200 dark:border-slate-600",children:e.jsx(dn,{className:"h-8 w-8 text-white"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 h-5 w-5 bg-green-500 rounded-full border-2 border-white dark:border-slate-900 animate-pulse"})]}),e.jsxs("div",{className:"transition-transform duration-300 group-hover:translate-x-1",children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-blue-600 bg-clip-text text-transparent",children:(s==null?void 0:s.schoolName)||"  "}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:(s==null?void 0:s.schoolNameBn)||"   "})]})]}),e.jsxs("nav",{className:"hidden lg:flex items-center space-x-8",children:[e.jsxs(tt,{href:"/",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:""}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsxs(tt,{href:"/about",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:" "}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsxs(tt,{href:"/academics",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:""}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsxs(tt,{href:"/admissions",className:"group relative py-2 px-4 rounded-lg text-slate-700 dark:text-slate-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-slate-800",children:[e.jsx("span",{className:"relative z-10 font-medium",children:""}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-emerald-100 dark:bg-slate-700 scale-0 group-hover:scale-100 transition-transform duration-300 ease-out"})]}),e.jsx(tt,{href:"/contact",className:"group relative py-2 px-4 rounded-lg bg-emerald-500 text-white font-semibold shadow-lg",children:e.jsx("span",{className:"relative z-10 font-medium",children:""})}),e.jsxs(tt,{href:"/login",className:"group relative overflow-hidden bg-gradient-to-r from-emerald-600 to-blue-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx("span",{className:"relative z-10",children:""}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-700 to-blue-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),e.jsx("button",{className:"lg:hidden p-2 rounded-lg bg-emerald-50 dark:bg-slate-800 text-emerald-600 dark:text-emerald-400",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})})}),e.jsxs("section",{className:"relative py-24 px-4 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 via-purple-600 to-emerald-600"}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-24 -left-24 w-48 h-48 bg-white/10 rounded-full blur-3xl"})]}),e.jsx("div",{className:"container mx-auto relative z-10",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsxs("div",{className:"inline-flex items-center bg-white/10 backdrop-blur-sm rounded-full px-4 py-2 mb-6",children:[e.jsx(LB,{className:"h-4 w-4 mr-2 text-white"}),e.jsx("span",{className:"text-sm font-medium",children:"   "})]}),e.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:[e.jsx("span",{className:"block",children:""}),e.jsx("span",{className:"block bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:""})]}),e.jsx("p",{className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:"              "})]})})]}),e.jsx("section",{className:"py-20 px-4 relative",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"inline-flex items-center bg-emerald-100 dark:bg-emerald-900/30 text-emerald-800 dark:text-emerald-300 rounded-full px-4 py-2 mb-6",children:[e.jsx(Ln,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"text-sm font-semibold",children:" "})]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-6",children:"  "}),e.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-400 max-w-3xl mx-auto",children:"         "})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[e.jsxs(H,{className:"group relative overflow-hidden bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm border-2 hover:border-emerald-300 dark:hover:border-emerald-600 transition-all duration-300 hover:shadow-2xl hover:scale-105",children:[e.jsxs(oe,{className:"text-center pb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx($o,{className:"h-8 w-8 text-white"})}),e.jsx(ce,{className:"text-2xl font-bold text-slate-900 dark:text-white",children:""}),e.jsx(ct,{className:"text-slate-600 dark:text-slate-400 text-base",children:"  "})]}),e.jsxs(M,{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-emerald-600 mb-2",children:(s==null?void 0:s.phone)||"+"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:" : -  :"})]})]}),e.jsxs(H,{className:"group relative overflow-hidden bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm border-2 hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-300 hover:shadow-2xl hover:scale-105",children:[e.jsxs(oe,{className:"text-center pb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx(uo,{className:"h-8 w-8 text-white"})}),e.jsx(ce,{className:"text-2xl font-bold text-slate-900 dark:text-white",children:""}),e.jsx(ct,{className:"text-slate-600 dark:text-slate-400 text-base",children:" "})]}),e.jsxs(M,{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-blue-600 mb-2 break-all",children:(s==null?void 0:s.email)||"info@dhakamodel.edu.bd"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"   "})]})]}),e.jsxs(H,{className:"group relative overflow-hidden bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm border-2 hover:border-purple-300 dark:hover:border-purple-600 transition-all duration-300 hover:shadow-2xl hover:scale-105",children:[e.jsxs(oe,{className:"text-center pb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx(em,{className:"h-8 w-8 text-white"})}),e.jsx(ce,{className:"text-2xl font-bold text-slate-900 dark:text-white",children:""}),e.jsx(ct,{className:"text-slate-600 dark:text-slate-400 text-base",children:" "})]}),e.jsxs(M,{className:"text-center",children:[e.jsx("p",{className:"text-lg font-semibold text-purple-600 mb-2",children:(s==null?void 0:s.addressBn)||"  , "}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:(s==null?void 0:s.address)||"123 Main Street, Dhaka"})]})]})]})]})}),e.jsx("section",{className:"py-20 px-4 bg-white/60 dark:bg-slate-800/60 backdrop-blur-sm",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-16",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"space-y-6 mb-8",children:[e.jsxs("div",{className:"inline-flex items-center bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full px-4 py-2",children:[e.jsx(Ww,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"text-sm font-semibold",children:" "})]}),e.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white leading-tight",children:[" ",e.jsx("span",{className:"block text-blue-600",children:" "})]}),e.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-400 leading-relaxed",children:"            "})]}),e.jsx(H,{className:"border-blue-200 dark:border-slate-700",children:e.jsx(M,{className:"p-6",children:e.jsx(Ms,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(i),className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(Se,{control:n.control,name:"name",render:({field:l})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-slate-700 dark:text-slate-300 font-medium",children:" *"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"  ",...l,className:"border-slate-200 dark:border-slate-600 focus:border-blue-500 dark:focus:border-blue-400"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:n.control,name:"email",render:({field:l})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-slate-700 dark:text-slate-300 font-medium",children:" *"}),e.jsx(Be,{children:e.jsx(de,{type:"email",placeholder:"your@email.com",...l,className:"border-slate-200 dark:border-slate-600 focus:border-blue-500 dark:focus:border-blue-400"})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(Se,{control:n.control,name:"phone",render:({field:l})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-slate-700 dark:text-slate-300 font-medium",children:"  *"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"xxxxxxxx",...l,className:"border-slate-200 dark:border-slate-600 focus:border-blue-500 dark:focus:border-blue-400"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:n.control,name:"subject",render:({field:l})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-slate-700 dark:text-slate-300 font-medium",children:" *"}),e.jsx(Be,{children:e.jsx(de,{placeholder:" ",...l,className:"border-slate-200 dark:border-slate-600 focus:border-blue-500 dark:focus:border-blue-400"})}),e.jsx(_e,{})]})})]}),e.jsx(Se,{control:n.control,name:"message",render:({field:l})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-slate-700 dark:text-slate-300 font-medium",children:" *"}),e.jsx(Be,{children:e.jsx(Gs,{placeholder:"  ...",rows:5,...l,className:"border-slate-200 dark:border-slate-600 focus:border-blue-500 dark:focus:border-blue-400"})}),e.jsx(_e,{})]})}),e.jsx(V,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 text-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300",disabled:a.isPending,children:a.isPending?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"})," ..."]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ww,{className:"h-4 w-4 mr-2"})," "]})})]})})})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-6",children:" "}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(H,{className:"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-700",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(hr,{className:"h-5 w-5 text-emerald-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:" - "})]})]}),e.jsx("p",{className:"text-emerald-600 font-semibold",children:": - :"})]})})}),e.jsx(H,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(hr,{className:"h-5 w-5 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white",children:""}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:" "})]})]}),e.jsx("p",{className:"text-blue-600 font-semibold",children:": - :"})]})})}),e.jsx(H,{className:"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-700",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(hr,{className:"h-5 w-5 text-orange-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white",children:""}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:""})]})]}),e.jsx("p",{className:"text-orange-600 font-semibold",children:" "})]})})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-6",children:" "}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:e.jsx(ss,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:" "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:(s==null?void 0:s.principalName)||".  "}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500",children:"    "})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center",children:e.jsx(LB,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:" "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"  / "}),e.jsx("p",{className:"text-emerald-600 font-semibold",children:"-xxxxxxxx"})]})]})]})]})]})]})})}),e.jsx("section",{className:"py-20 px-4",children:e.jsx("div",{className:"container mx-auto text-center",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-6",children:"  ?"}),e.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-400 mb-8",children:"               "}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(tt,{href:"/about",children:e.jsx(V,{className:"bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700 text-white px-8 py-3 text-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:"  "})}),e.jsx(tt,{href:"/admissions",children:e.jsx(V,{variant:"outline",className:"border-2 border-emerald-600 text-emerald-600 hover:bg-emerald-600 hover:text-white px-8 py-3 text-lg font-semibold transition-all duration-300",children:"  "})})]})]})})})]})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xS=function(t,s){return xS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},xS(t,s)};function gc(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");xS(t,s);function r(){this.constructor=t}t.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)}var pS=function(){return pS=Object.assign||function(s){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])}return s},pS.apply(this,arguments)};function Ci(t,s,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(h){l(h)}}function c(u){try{d(n.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(t,[])).next())})}function ai(t,s){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,l;return l={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=s.call(t,r)}catch(u){d=[6,u],a=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Wy(t,s,r){if(arguments.length===2)for(var n=0,a=s.length,i;n<a;n++)(i||!(n in s))&&(i||(i=Array.prototype.slice.call(s,0,n)),i[n]=s[n]);return t.concat(i||s)}var Zd=function(){function t(s,r,n,a){this.left=s,this.top=r,this.width=n,this.height=a}return t.prototype.add=function(s,r,n,a){return new t(this.left+s,this.top+r,this.width+n,this.height+a)},t.fromClientRect=function(s,r){return new t(r.left+s.windowBounds.left,r.top+s.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(s,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new t(n.left+s.windowBounds.left,n.top+s.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),lN=function(t,s){return Zd.fromClientRect(t,s.getBoundingClientRect())},mme=function(t){var s=t.body,r=t.documentElement;if(!s||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(s.scrollWidth,r.scrollWidth),Math.max(s.offsetWidth,r.offsetWidth),Math.max(s.clientWidth,r.clientWidth)),a=Math.max(Math.max(s.scrollHeight,r.scrollHeight),Math.max(s.offsetHeight,r.offsetHeight),Math.max(s.clientHeight,r.clientHeight));return new Zd(0,0,n,a)},oN=function(t){for(var s=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?s.push(((a&1023)<<10)+(i&1023)+65536):(s.push(a),r--)}else s.push(a)}return s},Hn=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var l=t[a];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},M8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fme=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Yy=0;Yy<M8.length;Yy++)fme[M8.charCodeAt(Yy)]=Yy;var Q8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Xy=0;Xy<Q8.length;Xy++)Qp[Q8.charCodeAt(Xy)]=Xy;var xme=function(t){var s=t.length*.75,r=t.length,n,a=0,i,l,o,c;t[t.length-1]==="="&&(s--,t[t.length-2]==="="&&s--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(s):new Array(s),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)i=Qp[t.charCodeAt(n)],l=Qp[t.charCodeAt(n+1)],o=Qp[t.charCodeAt(n+2)],c=Qp[t.charCodeAt(n+3)],u[a++]=i<<2|l>>4,u[a++]=(l&15)<<4|o>>2,u[a++]=(o&3)<<6|c&63;return d},pme=function(t){for(var s=t.length,r=[],n=0;n<s;n+=2)r.push(t[n+1]<<8|t[n]);return r},gme=function(t){for(var s=t.length,r=[],n=0;n<s;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},VA=5,__=11,B5=2,vme=__-VA,ZH=65536>>VA,jme=1<<VA,S5=jme-1,yme=1024>>VA,wme=ZH+yme,bme=wme,Nme=32,Cme=bme+Nme,Bme=65536>>__,Sme=1<<vme,kme=Sme-1,H8=function(t,s,r){return t.slice?t.slice(s,r):new Uint16Array(Array.prototype.slice.call(t,s,r))},_me=function(t,s,r){return t.slice?t.slice(s,r):new Uint32Array(Array.prototype.slice.call(t,s,r))},Eme=function(t,s){var r=xme(t),n=Array.isArray(r)?gme(r):new Uint32Array(r),a=Array.isArray(r)?pme(r):new Uint16Array(r),i=24,l=H8(a,i/2,n[4]/2),o=n[5]===2?H8(a,(i+n[4])/2):_me(n,Math.ceil((i+n[4])/4));return new Fme(n[0],n[1],n[2],n[3],l,o)},Fme=function(){function t(s,r,n,a,i,l){this.initialValue=s,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=l}return t.prototype.get=function(s){var r;if(s>=0){if(s<55296||s>56319&&s<=65535)return r=this.index[s>>VA],r=(r<<B5)+(s&S5),this.data[r];if(s<=65535)return r=this.index[ZH+(s-55296>>VA)],r=(r<<B5)+(s&S5),this.data[r];if(s<this.highStart)return r=Cme-Bme+(s>>__),r=this.index[r],r+=s>>VA&kme,r=this.index[r],r=(r<<B5)+(s&S5),this.data[r];if(s<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),V8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tme=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jy=0;Jy<V8.length;Jy++)Tme[V8.charCodeAt(Jy)]=Jy;var Lme="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",K8=50,Ime=1,eV=2,tV=3,Pme=4,Dme=5,z8=7,sV=8,q8=9,rh=10,gS=11,$8=12,vS=13,Ume=14,Hp=15,jS=16,Zy=17,bp=18,Ome=19,G8=20,yS=21,Np=22,k5=23,Af=24,pl=25,Vp=26,Kp=27,mf=28,Rme=29,vA=30,Mme=31,e1=32,t1=33,wS=34,bS=35,NS=36,wv=37,CS=38,ow=39,cw=40,_5=41,rV=42,Qme=43,Hme=[9001,65288],nV="!",er="",s1="",BS=Eme(Lme),bd=[vA,NS],SS=[Ime,eV,tV,Dme],aV=[rh,sV],W8=[Kp,Vp],Vme=SS.concat(aV),Y8=[CS,ow,cw,wS,bS],Kme=[Hp,vS],zme=function(t,s){s===void 0&&(s="strict");var r=[],n=[],a=[];return t.forEach(function(i,l){var o=BS.get(i);if(o>K8?(a.push(!0),o-=K8):a.push(!1),["normal","auto","loose"].indexOf(s)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(l),r.push(jS);if(o===Pme||o===gS){if(l===0)return n.push(l),r.push(vA);var c=r[l-1];return Vme.indexOf(c)===-1?(n.push(n[l-1]),r.push(c)):(n.push(l),r.push(vA))}if(n.push(l),o===Mme)return r.push(s==="strict"?yS:wv);if(o===rV||o===Rme)return r.push(vA);if(o===Qme)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(wv):r.push(vA);r.push(o)}),[n,r,a]},E5=function(t,s,r,n){var a=n[r];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var i=r;i<=n.length;){i++;var l=n[i];if(l===s)return!0;if(l!==rh)break}if(a===rh)for(var i=r;i>0;){i--;var o=n[i];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var c=r;c<=n.length;){c++;var l=n[c];if(l===s)return!0;if(l!==rh)break}if(o!==rh)break}return!1},X8=function(t,s){for(var r=t;r>=0;){var n=s[r];if(n===rh)r--;else return n}return 0},qme=function(t,s,r,n,a){if(r[n]===0)return er;var i=n-1;if(Array.isArray(a)&&a[i]===!0)return er;var l=i-1,o=i+1,c=s[i],d=l>=0?s[l]:0,u=s[o];if(c===eV&&u===tV)return er;if(SS.indexOf(c)!==-1)return nV;if(SS.indexOf(u)!==-1||aV.indexOf(u)!==-1)return er;if(X8(i,s)===sV)return s1;if(BS.get(t[i])===gS||(c===e1||c===t1)&&BS.get(t[o])===gS||c===z8||u===z8||c===q8||[rh,vS,Hp].indexOf(c)===-1&&u===q8||[Zy,bp,Ome,Af,mf].indexOf(u)!==-1||X8(i,s)===Np||E5(k5,Np,i,s)||E5([Zy,bp],yS,i,s)||E5($8,$8,i,s))return er;if(c===rh)return s1;if(c===k5||u===k5)return er;if(u===jS||c===jS)return s1;if([vS,Hp,yS].indexOf(u)!==-1||c===Ume||d===NS&&Kme.indexOf(c)!==-1||c===mf&&u===NS||u===G8||bd.indexOf(u)!==-1&&c===pl||bd.indexOf(c)!==-1&&u===pl||c===Kp&&[wv,e1,t1].indexOf(u)!==-1||[wv,e1,t1].indexOf(c)!==-1&&u===Vp||bd.indexOf(c)!==-1&&W8.indexOf(u)!==-1||W8.indexOf(c)!==-1&&bd.indexOf(u)!==-1||[Kp,Vp].indexOf(c)!==-1&&(u===pl||[Np,Hp].indexOf(u)!==-1&&s[o+1]===pl)||[Np,Hp].indexOf(c)!==-1&&u===pl||c===pl&&[pl,mf,Af].indexOf(u)!==-1)return er;if([pl,mf,Af,Zy,bp].indexOf(u)!==-1)for(var h=i;h>=0;){var A=s[h];if(A===pl)return er;if([mf,Af].indexOf(A)!==-1)h--;else break}if([Kp,Vp].indexOf(u)!==-1)for(var h=[Zy,bp].indexOf(c)!==-1?l:i;h>=0;){var A=s[h];if(A===pl)return er;if([mf,Af].indexOf(A)!==-1)h--;else break}if(CS===c&&[CS,ow,wS,bS].indexOf(u)!==-1||[ow,wS].indexOf(c)!==-1&&[ow,cw].indexOf(u)!==-1||[cw,bS].indexOf(c)!==-1&&u===cw||Y8.indexOf(c)!==-1&&[G8,Vp].indexOf(u)!==-1||Y8.indexOf(u)!==-1&&c===Kp||bd.indexOf(c)!==-1&&bd.indexOf(u)!==-1||c===Af&&bd.indexOf(u)!==-1||bd.concat(pl).indexOf(c)!==-1&&u===Np&&Hme.indexOf(t[o])===-1||bd.concat(pl).indexOf(u)!==-1&&c===bp)return er;if(c===_5&&u===_5){for(var m=r[i],p=1;m>0&&(m--,s[m]===_5);)p++;if(p%2!==0)return er}return c===e1&&u===t1?er:s1},$me=function(t,s){s||(s={lineBreak:"normal",wordBreak:"normal"});var r=zme(t,s.lineBreak),n=r[0],a=r[1],i=r[2];(s.wordBreak==="break-all"||s.wordBreak==="break-word")&&(a=a.map(function(o){return[pl,vA,rV].indexOf(o)!==-1?wv:o}));var l=s.wordBreak==="keep-all"?i.map(function(o,c){return o&&t[c]>=19968&&t[c]<=40959}):void 0;return[n,a,l]},Gme=function(){function t(s,r,n,a){this.codePoints=s,this.required=r===nV,this.start=n,this.end=a}return t.prototype.slice=function(){return Hn.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Wme=function(t,s){var r=oN(t),n=$me(r,s),a=n[0],i=n[1],l=n[2],o=r.length,c=0,d=0;return{next:function(){if(d>=o)return{done:!0,value:null};for(var u=er;d<o&&(u=qme(r,i,a,++d,l))===er;);if(u!==er||d===o){var h=new Gme(r,u,c,d);return c=d,{value:h,done:!1}}return{done:!0,value:null}}}},Yme=1,Xme=2,hj=4,J8=8,Sb=10,Z8=47,pg=92,Jme=9,Zme=32,r1=34,Cp=61,efe=35,tfe=36,sfe=37,n1=39,a1=40,Bp=41,rfe=95,Xi=45,nfe=33,afe=60,ife=62,lfe=64,ofe=91,cfe=93,dfe=61,ufe=123,i1=63,hfe=125,eL=124,Afe=126,mfe=128,tL=65533,F5=42,kA=43,ffe=44,xfe=58,pfe=59,bv=46,gfe=0,vfe=8,jfe=11,yfe=14,wfe=31,bfe=127,Sc=-1,iV=48,lV=97,oV=101,Nfe=102,Cfe=117,Bfe=122,cV=65,dV=69,uV=70,Sfe=85,kfe=90,li=function(t){return t>=iV&&t<=57},_fe=function(t){return t>=55296&&t<=57343},ff=function(t){return li(t)||t>=cV&&t<=uV||t>=lV&&t<=Nfe},Efe=function(t){return t>=lV&&t<=Bfe},Ffe=function(t){return t>=cV&&t<=kfe},Tfe=function(t){return Efe(t)||Ffe(t)},Lfe=function(t){return t>=mfe},l1=function(t){return t===Sb||t===Jme||t===Zme},kb=function(t){return Tfe(t)||Lfe(t)||t===rfe},sL=function(t){return kb(t)||li(t)||t===Xi},Ife=function(t){return t>=gfe&&t<=vfe||t===jfe||t>=yfe&&t<=wfe||t===bfe},Ou=function(t,s){return t!==pg?!1:s!==Sb},o1=function(t,s,r){return t===Xi?kb(s)||Ou(s,r):kb(t)?!0:!!(t===pg&&Ou(t,s))},T5=function(t,s,r){return t===kA||t===Xi?li(s)?!0:s===bv&&li(r):li(t===bv?s:t)},Pfe=function(t){var s=0,r=1;(t[s]===kA||t[s]===Xi)&&(t[s]===Xi&&(r=-1),s++);for(var n=[];li(t[s]);)n.push(t[s++]);var a=n.length?parseInt(Hn.apply(void 0,n),10):0;t[s]===bv&&s++;for(var i=[];li(t[s]);)i.push(t[s++]);var l=i.length,o=l?parseInt(Hn.apply(void 0,i),10):0;(t[s]===dV||t[s]===oV)&&s++;var c=1;(t[s]===kA||t[s]===Xi)&&(t[s]===Xi&&(c=-1),s++);for(var d=[];li(t[s]);)d.push(t[s++]);var u=d.length?parseInt(Hn.apply(void 0,d),10):0;return r*(a+o*Math.pow(10,-l))*Math.pow(10,c*u)},Dfe={type:2},Ufe={type:3},Ofe={type:4},Rfe={type:13},Mfe={type:8},Qfe={type:21},Hfe={type:9},Vfe={type:10},Kfe={type:11},zfe={type:12},qfe={type:14},c1={type:23},$fe={type:1},Gfe={type:25},Wfe={type:24},Yfe={type:26},Xfe={type:27},Jfe={type:28},Zfe={type:29},exe={type:31},kS={type:32},hV=function(){function t(){this._value=[]}return t.prototype.write=function(s){this._value=this._value.concat(oN(s))},t.prototype.read=function(){for(var s=[],r=this.consumeToken();r!==kS;)s.push(r),r=this.consumeToken();return s},t.prototype.consumeToken=function(){var s=this.consumeCodePoint();switch(s){case r1:return this.consumeStringToken(r1);case efe:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(sL(r)||Ou(n,a)){var i=o1(r,n,a)?Xme:Yme,l=this.consumeName();return{type:5,value:l,flags:i}}break;case tfe:if(this.peekCodePoint(0)===Cp)return this.consumeCodePoint(),Rfe;break;case n1:return this.consumeStringToken(n1);case a1:return Dfe;case Bp:return Ufe;case F5:if(this.peekCodePoint(0)===Cp)return this.consumeCodePoint(),qfe;break;case kA:if(T5(s,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(s),this.consumeNumericToken();break;case ffe:return Ofe;case Xi:var o=s,c=this.peekCodePoint(0),d=this.peekCodePoint(1);if(T5(o,c,d))return this.reconsumeCodePoint(s),this.consumeNumericToken();if(o1(o,c,d))return this.reconsumeCodePoint(s),this.consumeIdentLikeToken();if(c===Xi&&d===ife)return this.consumeCodePoint(),this.consumeCodePoint(),Wfe;break;case bv:if(T5(s,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(s),this.consumeNumericToken();break;case Z8:if(this.peekCodePoint(0)===F5)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===F5&&(u=this.consumeCodePoint(),u===Z8))return this.consumeToken();if(u===Sc)return this.consumeToken()}break;case xfe:return Yfe;case pfe:return Xfe;case afe:if(this.peekCodePoint(0)===nfe&&this.peekCodePoint(1)===Xi&&this.peekCodePoint(2)===Xi)return this.consumeCodePoint(),this.consumeCodePoint(),Gfe;break;case lfe:var h=this.peekCodePoint(0),A=this.peekCodePoint(1),m=this.peekCodePoint(2);if(o1(h,A,m)){var l=this.consumeName();return{type:7,value:l}}break;case ofe:return Jfe;case pg:if(Ou(s,this.peekCodePoint(0)))return this.reconsumeCodePoint(s),this.consumeIdentLikeToken();break;case cfe:return Zfe;case dfe:if(this.peekCodePoint(0)===Cp)return this.consumeCodePoint(),Mfe;break;case ufe:return Kfe;case hfe:return zfe;case Cfe:case Sfe:var p=this.peekCodePoint(0),f=this.peekCodePoint(1);return p===kA&&(ff(f)||f===i1)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(s),this.consumeIdentLikeToken();case eL:if(this.peekCodePoint(0)===Cp)return this.consumeCodePoint(),Hfe;if(this.peekCodePoint(0)===eL)return this.consumeCodePoint(),Qfe;break;case Afe:if(this.peekCodePoint(0)===Cp)return this.consumeCodePoint(),Vfe;break;case Sc:return kS}return l1(s)?(this.consumeWhiteSpace(),exe):li(s)?(this.reconsumeCodePoint(s),this.consumeNumericToken()):kb(s)?(this.reconsumeCodePoint(s),this.consumeIdentLikeToken()):{type:6,value:Hn(s)}},t.prototype.consumeCodePoint=function(){var s=this._value.shift();return typeof s>"u"?-1:s},t.prototype.reconsumeCodePoint=function(s){this._value.unshift(s)},t.prototype.peekCodePoint=function(s){return s>=this._value.length?-1:this._value[s]},t.prototype.consumeUnicodeRangeToken=function(){for(var s=[],r=this.consumeCodePoint();ff(r)&&s.length<6;)s.push(r),r=this.consumeCodePoint();for(var n=!1;r===i1&&s.length<6;)s.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(Hn.apply(void 0,s.map(function(c){return c===i1?iV:c})),16),i=parseInt(Hn.apply(void 0,s.map(function(c){return c===i1?uV:c})),16);return{type:30,start:a,end:i}}var l=parseInt(Hn.apply(void 0,s),16);if(this.peekCodePoint(0)===Xi&&ff(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];ff(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var i=parseInt(Hn.apply(void 0,o),16);return{type:30,start:l,end:i}}else return{type:30,start:l,end:l}},t.prototype.consumeIdentLikeToken=function(){var s=this.consumeName();return s.toLowerCase()==="url"&&this.peekCodePoint(0)===a1?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===a1?(this.consumeCodePoint(),{type:19,value:s}):{type:20,value:s}},t.prototype.consumeUrlToken=function(){var s=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Sc)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===n1||r===r1){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Sc||this.peekCodePoint(0)===Bp)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),c1)}for(;;){var a=this.consumeCodePoint();if(a===Sc||a===Bp)return{type:22,value:Hn.apply(void 0,s)};if(l1(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Sc||this.peekCodePoint(0)===Bp?(this.consumeCodePoint(),{type:22,value:Hn.apply(void 0,s)}):(this.consumeBadUrlRemnants(),c1);if(a===r1||a===n1||a===a1||Ife(a))return this.consumeBadUrlRemnants(),c1;if(a===pg)if(Ou(a,this.peekCodePoint(0)))s.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),c1;else s.push(a)}},t.prototype.consumeWhiteSpace=function(){for(;l1(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var s=this.consumeCodePoint();if(s===Bp||s===Sc)return;Ou(s,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(s){for(var r=5e4,n="";s>0;){var a=Math.min(r,s);n+=Hn.apply(void 0,this._value.splice(0,a)),s-=a}return this._value.shift(),n},t.prototype.consumeStringToken=function(s){var r="",n=0;do{var a=this._value[n];if(a===Sc||a===void 0||a===s)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===Sb)return this._value.splice(0,n),$fe;if(a===pg){var i=this._value[n+1];i!==Sc&&i!==void 0&&(i===Sb?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Ou(a,i)&&(r+=this.consumeStringSlice(n),r+=Hn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var s=[],r=hj,n=this.peekCodePoint(0);for((n===kA||n===Xi)&&s.push(this.consumeCodePoint());li(this.peekCodePoint(0));)s.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===bv&&li(a))for(s.push(this.consumeCodePoint(),this.consumeCodePoint()),r=J8;li(this.peekCodePoint(0));)s.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===dV||n===oV)&&((a===kA||a===Xi)&&li(i)||li(a)))for(s.push(this.consumeCodePoint(),this.consumeCodePoint()),r=J8;li(this.peekCodePoint(0));)s.push(this.consumeCodePoint());return[Pfe(s),r]},t.prototype.consumeNumericToken=function(){var s=this.consumeNumber(),r=s[0],n=s[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),l=this.peekCodePoint(2);if(o1(a,i,l)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return a===sfe?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var s=this.consumeCodePoint();if(ff(s)){for(var r=Hn(s);ff(this.peekCodePoint(0))&&r.length<6;)r+=Hn(this.consumeCodePoint());l1(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||_fe(n)||n>1114111?tL:n}return s===Sc?tL:s},t.prototype.consumeName=function(){for(var s="";;){var r=this.consumeCodePoint();if(sL(r))s+=Hn(r);else if(Ou(r,this.peekCodePoint(0)))s+=Hn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),s}},t}(),AV=function(){function t(s){this._tokens=s}return t.create=function(s){var r=new hV;return r.write(s),new t(r.read())},t.parseValue=function(s){return t.create(s).parseComponentValue()},t.parseValues=function(s){return t.create(s).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var s=this.consumeToken();s.type===31;)s=this.consumeToken();if(s.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(s);var r=this.consumeComponentValue();do s=this.consumeToken();while(s.type===31);if(s.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var s=[];;){var r=this.consumeComponentValue();if(r.type===32)return s;s.push(r),s.push()}},t.prototype.consumeComponentValue=function(){var s=this.consumeToken();switch(s.type){case 11:case 28:case 2:return this.consumeSimpleBlock(s.type);case 19:return this.consumeFunction(s)}return s},t.prototype.consumeSimpleBlock=function(s){for(var r={type:s,values:[]},n=this.consumeToken();;){if(n.type===32||sxe(n,s))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(s){for(var r={name:s.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var s=this._tokens.shift();return typeof s>"u"?kS:s},t.prototype.reconsumeToken=function(s){this._tokens.unshift(s)},t}(),Aj=function(t){return t.type===15},w0=function(t){return t.type===17},Mr=function(t){return t.type===20},txe=function(t){return t.type===0},_S=function(t,s){return Mr(t)&&t.value===s},mV=function(t){return t.type!==31},e0=function(t){return t.type!==31&&t.type!==4},ad=function(t){var s=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");s.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&s.push(r),s},sxe=function(t,s){return s===11&&t.type===12||s===28&&t.type===29?!0:s===2&&t.type===3},Th=function(t){return t.type===17||t.type===15},ra=function(t){return t.type===16||Th(t)},fV=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Qa={type:17,number:0,flags:hj},E_={type:16,number:50,flags:hj},nh={type:16,number:100,flags:hj},zp=function(t,s,r){var n=t[0],a=t[1];return[Zr(n,s),Zr(typeof a<"u"?a:n,r)]},Zr=function(t,s){if(t.type===16)return t.number/100*s;if(Aj(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},xV="deg",pV="grad",gV="rad",vV="turn",cN={name:"angle",parse:function(t,s){if(s.type===15)switch(s.unit){case xV:return Math.PI*s.number/180;case pV:return Math.PI/200*s.number;case gV:return s.number;case vV:return Math.PI*2*s.number}throw new Error("Unsupported angle type")}},jV=function(t){return t.type===15&&(t.unit===xV||t.unit===pV||t.unit===gV||t.unit===vV)},yV=function(t){var s=t.filter(Mr).map(function(r){return r.value}).join(" ");switch(s){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Qa,Qa];case"to top":case"bottom":return lo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Qa,nh];case"to right":case"left":return lo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[nh,nh];case"to bottom":case"top":return lo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[nh,Qa];case"to left":case"right":return lo(270)}return 0},lo=function(t){return Math.PI*t/180},xh={name:"color",parse:function(t,s){if(s.type===18){var r=rxe[s.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+s.name+'"');return r(t,s.values)}if(s.type===5){if(s.value.length===3){var n=s.value.substring(0,1),a=s.value.substring(1,2),i=s.value.substring(2,3);return ah(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(s.value.length===4){var n=s.value.substring(0,1),a=s.value.substring(1,2),i=s.value.substring(2,3),l=s.value.substring(3,4);return ah(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(l+l,16)/255)}if(s.value.length===6){var n=s.value.substring(0,2),a=s.value.substring(2,4),i=s.value.substring(4,6);return ah(parseInt(n,16),parseInt(a,16),parseInt(i,16),1)}if(s.value.length===8){var n=s.value.substring(0,2),a=s.value.substring(2,4),i=s.value.substring(4,6),l=s.value.substring(6,8);return ah(parseInt(n,16),parseInt(a,16),parseInt(i,16),parseInt(l,16)/255)}}if(s.type===20){var o=Dd[s.value.toUpperCase()];if(typeof o<"u")return o}return Dd.TRANSPARENT}},ph=function(t){return(255&t)===0},wa=function(t){var s=255&t,r=255&t>>8,n=255&t>>16,a=255&t>>24;return s<255?"rgba("+a+","+n+","+r+","+s/255+")":"rgb("+a+","+n+","+r+")"},ah=function(t,s,r,n){return(t<<24|s<<16|r<<8|Math.round(n*255)<<0)>>>0},rL=function(t,s){if(t.type===17)return t.number;if(t.type===16){var r=s===3?1:255;return s===3?t.number/100*r:Math.round(t.number/100*r)}return 0},nL=function(t,s){var r=s.filter(e0);if(r.length===3){var n=r.map(rL),a=n[0],i=n[1],l=n[2];return ah(a,i,l,1)}if(r.length===4){var o=r.map(rL),a=o[0],i=o[1],l=o[2],c=o[3];return ah(a,i,l,c)}return 0};function L5(t,s,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(s-t)*r*6+t:r<1/2?s:r<2/3?(s-t)*6*(2/3-r)+t:t}var aL=function(t,s){var r=s.filter(e0),n=r[0],a=r[1],i=r[2],l=r[3],o=(n.type===17?lo(n.number):cN.parse(t,n))/(Math.PI*2),c=ra(a)?a.number/100:0,d=ra(i)?i.number/100:0,u=typeof l<"u"&&ra(l)?Zr(l,1):1;if(c===0)return ah(d*255,d*255,d*255,1);var h=d<=.5?d*(c+1):d+c-d*c,A=d*2-h,m=L5(A,h,o+1/3),p=L5(A,h,o),f=L5(A,h,o-1/3);return ah(m*255,p*255,f*255,u)},rxe={hsl:aL,hsla:aL,rgb:nL,rgba:nL},gg=function(t,s){return xh.parse(t,AV.create(s).parseComponentValue())},Dd={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},nxe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,s){return s.map(function(r){if(Mr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},axe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dN=function(t,s){var r=xh.parse(t,s[0]),n=s[1];return n&&ra(n)?{color:r,stop:n}:{color:r,stop:null}},iL=function(t,s){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Qa),n.stop===null&&(n.stop=nh);for(var a=[],i=0,l=0;l<t.length;l++){var o=t[l].stop;if(o!==null){var c=Zr(o,s);c>i?a.push(c):a.push(i),i=c}else a.push(null)}for(var d=null,l=0;l<a.length;l++){var u=a[l];if(u===null)d===null&&(d=l);else if(d!==null){for(var h=l-d,A=a[d-1],m=(u-A)/(h+1),p=1;p<=h;p++)a[d+p-1]=m*p;d=null}}return t.map(function(f,x){var g=f.color;return{color:g,stop:Math.max(Math.min(1,a[x]/s),0)}})},ixe=function(t,s,r){var n=s/2,a=r/2,i=Zr(t[0],s)-n,l=a-Zr(t[1],r);return(Math.atan2(l,i)+Math.PI*2)%(Math.PI*2)},lxe=function(t,s,r){var n=typeof t=="number"?t:ixe(t,s,r),a=Math.abs(s*Math.sin(n))+Math.abs(r*Math.cos(n)),i=s/2,l=r/2,o=a/2,c=Math.sin(n-Math.PI/2)*o,d=Math.cos(n-Math.PI/2)*o;return[a,i-d,i+d,l-c,l+c]},Po=function(t,s){return Math.sqrt(t*t+s*s)},lL=function(t,s,r,n,a){var i=[[0,0],[0,s],[t,0],[t,s]];return i.reduce(function(l,o){var c=o[0],d=o[1],u=Po(r-c,n-d);return(a?u<l.optimumDistance:u>l.optimumDistance)?{optimumCorner:o,optimumDistance:u}:l},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},oxe=function(t,s,r,n,a){var i=0,l=0;switch(t.size){case 0:t.shape===0?i=l=Math.min(Math.abs(s),Math.abs(s-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(i=Math.min(Math.abs(s),Math.abs(s-n)),l=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(t.shape===0)i=l=Math.min(Po(s,r),Po(s,r-a),Po(s-n,r),Po(s-n,r-a));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(s),Math.abs(s-n)),c=lL(n,a,s,r,!0),d=c[0],u=c[1];i=Po(d-s,(u-r)/o),l=o*i}break;case 1:t.shape===0?i=l=Math.max(Math.abs(s),Math.abs(s-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(i=Math.max(Math.abs(s),Math.abs(s-n)),l=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(t.shape===0)i=l=Math.max(Po(s,r),Po(s,r-a),Po(s-n,r),Po(s-n,r-a));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(s),Math.abs(s-n)),h=lL(n,a,s,r,!1),d=h[0],u=h[1];i=Po(d-s,(u-r)/o),l=o*i}break}return Array.isArray(t.size)&&(i=Zr(t.size[0],n),l=t.size.length===2?Zr(t.size[1],a):i),[i,l]},cxe=function(t,s){var r=lo(180),n=[];return ad(s).forEach(function(a,i){if(i===0){var l=a[0];if(l.type===20&&l.value==="to"){r=yV(a);return}else if(jV(l)){r=cN.parse(t,l);return}}var o=dN(t,a);n.push(o)}),{angle:r,stops:n,type:1}},d1=function(t,s){var r=lo(180),n=[];return ad(s).forEach(function(a,i){if(i===0){var l=a[0];if(l.type===20&&["top","left","right","bottom"].indexOf(l.value)!==-1){r=yV(a);return}else if(jV(l)){r=(cN.parse(t,l)+lo(270))%lo(360);return}}var o=dN(t,a);n.push(o)}),{angle:r,stops:n,type:1}},dxe=function(t,s){var r=lo(180),n=[],a=1,i=0,l=3,o=[];return ad(s).forEach(function(c,d){var u=c[0];if(d===0){if(Mr(u)&&u.value==="linear"){a=1;return}else if(Mr(u)&&u.value==="radial"){a=2;return}}if(u.type===18){if(u.name==="from"){var h=xh.parse(t,u.values[0]);n.push({stop:Qa,color:h})}else if(u.name==="to"){var h=xh.parse(t,u.values[0]);n.push({stop:nh,color:h})}else if(u.name==="color-stop"){var A=u.values.filter(e0);if(A.length===2){var h=xh.parse(t,A[1]),m=A[0];w0(m)&&n.push({stop:{type:16,number:m.number*100,flags:m.flags},color:h})}}}}),a===1?{angle:(r+lo(180))%lo(360),stops:n,type:a}:{size:l,shape:i,stops:n,position:o,type:a}},wV="closest-side",bV="farthest-side",NV="closest-corner",CV="farthest-corner",BV="circle",SV="ellipse",kV="cover",_V="contain",uxe=function(t,s){var r=0,n=3,a=[],i=[];return ad(s).forEach(function(l,o){var c=!0;if(o===0){var d=!1;c=l.reduce(function(h,A){if(d)if(Mr(A))switch(A.value){case"center":return i.push(E_),h;case"top":case"left":return i.push(Qa),h;case"right":case"bottom":return i.push(nh),h}else(ra(A)||Th(A))&&i.push(A);else if(Mr(A))switch(A.value){case BV:return r=0,!1;case SV:return r=1,!1;case"at":return d=!0,!1;case wV:return n=0,!1;case kV:case bV:return n=1,!1;case _V:case NV:return n=2,!1;case CV:return n=3,!1}else if(Th(A)||ra(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return h},c)}if(c){var u=dN(t,l);a.push(u)}}),{size:n,shape:r,stops:a,position:i,type:2}},u1=function(t,s){var r=0,n=3,a=[],i=[];return ad(s).forEach(function(l,o){var c=!0;if(o===0?c=l.reduce(function(u,h){if(Mr(h))switch(h.value){case"center":return i.push(E_),!1;case"top":case"left":return i.push(Qa),!1;case"right":case"bottom":return i.push(nh),!1}else if(ra(h)||Th(h))return i.push(h),!1;return u},c):o===1&&(c=l.reduce(function(u,h){if(Mr(h))switch(h.value){case BV:return r=0,!1;case SV:return r=1,!1;case _V:case wV:return n=0,!1;case bV:return n=1,!1;case NV:return n=2,!1;case kV:case CV:return n=3,!1}else if(Th(h)||ra(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return u},c)),c){var d=dN(t,l);a.push(d)}}),{size:n,shape:r,stops:a,position:i,type:2}},hxe=function(t){return t.type===1},Axe=function(t){return t.type===2},F_={name:"image",parse:function(t,s){if(s.type===22){var r={url:s.value,type:0};return t.cache.addImage(s.value),r}if(s.type===18){var n=EV[s.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+s.name+'"');return n(t,s.values)}throw new Error("Unsupported image type "+s.type)}};function mxe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!EV[t.name])}var EV={"linear-gradient":cxe,"-moz-linear-gradient":d1,"-ms-linear-gradient":d1,"-o-linear-gradient":d1,"-webkit-linear-gradient":d1,"radial-gradient":uxe,"-moz-radial-gradient":u1,"-ms-radial-gradient":u1,"-o-radial-gradient":u1,"-webkit-radial-gradient":u1,"-webkit-gradient":dxe},fxe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,s){if(s.length===0)return[];var r=s[0];return r.type===20&&r.value==="none"?[]:s.filter(function(n){return e0(n)&&mxe(n)}).map(function(n){return F_.parse(t,n)})}},xxe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,s){return s.map(function(r){if(Mr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},pxe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,s){return ad(s).map(function(r){return r.filter(ra)}).map(fV)}},gxe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,s){return ad(s).map(function(r){return r.filter(Mr).map(function(n){return n.value}).join(" ")}).map(vxe)}},vxe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},px;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(px||(px={}));var jxe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,s){return ad(s).map(function(r){return r.filter(yxe)})}},yxe=function(t){return Mr(t)||ra(t)},uN=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},wxe=uN("top"),bxe=uN("right"),Nxe=uN("bottom"),Cxe=uN("left"),hN=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(s,r){return fV(r.filter(ra))}}},Bxe=hN("top-left"),Sxe=hN("top-right"),kxe=hN("bottom-right"),_xe=hN("bottom-left"),AN=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(s,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Exe=AN("top"),Fxe=AN("right"),Txe=AN("bottom"),Lxe=AN("left"),mN=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(s,r){return Aj(r)?r.number:0}}},Ixe=mN("top"),Pxe=mN("right"),Dxe=mN("bottom"),Uxe=mN("left"),Oxe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Rxe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,s){switch(s){case"rtl":return 1;case"ltr":default:return 0}}},Mxe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,s){return s.filter(Mr).reduce(function(r,n){return r|Qxe(n.value)},0)}},Qxe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Hxe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,s){switch(s){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Vxe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,s){return s.type===20&&s.value==="normal"?0:s.type===17||s.type===15?s.number:0}},_b;(function(t){t.NORMAL="normal",t.STRICT="strict"})(_b||(_b={}));var Kxe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,s){switch(s){case"strict":return _b.STRICT;case"normal":default:return _b.NORMAL}}},zxe={name:"line-height",initialValue:"normal",prefix:!1,type:4},oL=function(t,s){return Mr(t)&&t.value==="normal"?1.2*s:t.type===17?s*t.number:ra(t)?Zr(t,s):s},qxe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,s){return s.type===20&&s.value==="none"?null:F_.parse(t,s)}},$xe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,s){switch(s){case"inside":return 0;case"outside":default:return 1}}},ES={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,s){switch(s){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},fN=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Gxe=fN("top"),Wxe=fN("right"),Yxe=fN("bottom"),Xxe=fN("left"),Jxe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,s){return s.filter(Mr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Zxe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,s){switch(s){case"break-word":return"break-word";case"normal":default:return"normal"}}},xN=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},e0e=xN("top"),t0e=xN("right"),s0e=xN("bottom"),r0e=xN("left"),n0e={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,s){switch(s){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},a0e={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,s){switch(s){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},i0e={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,s){return s.length===1&&_S(s[0],"none")?[]:ad(s).map(function(r){for(var n={color:Dd.TRANSPARENT,offsetX:Qa,offsetY:Qa,blur:Qa},a=0,i=0;i<r.length;i++){var l=r[i];Th(l)?(a===0?n.offsetX=l:a===1?n.offsetY=l:n.blur=l,a++):n.color=xh.parse(t,l)}return n})}},l0e={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,s){switch(s){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},o0e={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,s){if(s.type===20&&s.value==="none")return null;if(s.type===18){var r=u0e[s.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+s.name+'"');return r(s.values)}return null}},c0e=function(t){var s=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return s.length===6?s:null},d0e=function(t){var s=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=s[0],n=s[1];s[2],s[3];var a=s[4],i=s[5];s[6],s[7],s[8],s[9],s[10],s[11];var l=s[12],o=s[13];return s[14],s[15],s.length===16?[r,n,a,i,l,o]:null},u0e={matrix:c0e,matrix3d:d0e},cL={type:16,number:50,flags:hj},h0e=[cL,cL],A0e={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,s){var r=s.filter(ra);return r.length!==2?h0e:[r[0],r[1]]}},m0e={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,s){switch(s){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},vg;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(vg||(vg={}));var f0e={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,s){switch(s){case"break-all":return vg.BREAK_ALL;case"keep-all":return vg.KEEP_ALL;case"normal":default:return vg.NORMAL}}},x0e={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,s){if(s.type===20)return{auto:!0,order:0};if(w0(s))return{auto:!1,order:s.number};throw new Error("Invalid z-index number parsed")}},FV={name:"time",parse:function(t,s){if(s.type===15)switch(s.unit.toLowerCase()){case"s":return 1e3*s.number;case"ms":return s.number}throw new Error("Unsupported time type")}},p0e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,s){return w0(s)?s.number:1}},g0e={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},v0e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,s){return s.filter(Mr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},j0e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,s){var r=[],n=[];return s.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},y0e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},w0e={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,s){if(w0(s))return s.number;if(Mr(s))switch(s.value){case"bold":return 700;case"normal":default:return 400}return 400}},b0e={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,s){return s.filter(Mr).map(function(r){return r.value})}},N0e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,s){switch(s){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},fa=function(t,s){return(t&s)!==0},C0e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,s){if(s.length===0)return[];var r=s[0];return r.type===20&&r.value==="none"?[]:s}},B0e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,s){if(s.length===0)return null;var r=s[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=s.filter(mV),i=0;i<a.length;i++){var l=a[i],o=a[i+1];if(l.type===20){var c=o&&w0(o)?o.number:1;n.push({counter:l.value,increment:c})}}return n}},S0e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,s){if(s.length===0)return[];for(var r=[],n=s.filter(mV),a=0;a<n.length;a++){var i=n[a],l=n[a+1];if(Mr(i)&&i.value!=="none"){var o=l&&w0(l)?l.number:0;r.push({counter:i.value,reset:o})}}return r}},k0e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,s){return s.filter(Aj).map(function(r){return FV.parse(t,r)})}},_0e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,s){if(s.length===0)return null;var r=s[0];if(r.type===20&&r.value==="none")return null;var n=[],a=s.filter(txe);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var l=a[i].value,o=a[i+1].value;n.push({open:l,close:o})}return n}},dL=function(t,s,r){if(!t)return"";var n=t[Math.min(s,t.length-1)];return n?r?n.open:n.close:""},E0e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,s){return s.length===1&&_S(s[0],"none")?[]:ad(s).map(function(r){for(var n={color:255,offsetX:Qa,offsetY:Qa,blur:Qa,spread:Qa,inset:!1},a=0,i=0;i<r.length;i++){var l=r[i];_S(l,"inset")?n.inset=!0:Th(l)?(a===0?n.offsetX=l:a===1?n.offsetY=l:a===2?n.blur=l:n.spread=l,a++):n.color=xh.parse(t,l)}return n})}},F0e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,s){var r=[0,1,2],n=[];return s.filter(Mr).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},T0e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},L0e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,s){return Aj(s)?s.number:0}},I0e=function(){function t(s,r){var n,a;this.animationDuration=Zt(s,k0e,r.animationDuration),this.backgroundClip=Zt(s,nxe,r.backgroundClip),this.backgroundColor=Zt(s,axe,r.backgroundColor),this.backgroundImage=Zt(s,fxe,r.backgroundImage),this.backgroundOrigin=Zt(s,xxe,r.backgroundOrigin),this.backgroundPosition=Zt(s,pxe,r.backgroundPosition),this.backgroundRepeat=Zt(s,gxe,r.backgroundRepeat),this.backgroundSize=Zt(s,jxe,r.backgroundSize),this.borderTopColor=Zt(s,wxe,r.borderTopColor),this.borderRightColor=Zt(s,bxe,r.borderRightColor),this.borderBottomColor=Zt(s,Nxe,r.borderBottomColor),this.borderLeftColor=Zt(s,Cxe,r.borderLeftColor),this.borderTopLeftRadius=Zt(s,Bxe,r.borderTopLeftRadius),this.borderTopRightRadius=Zt(s,Sxe,r.borderTopRightRadius),this.borderBottomRightRadius=Zt(s,kxe,r.borderBottomRightRadius),this.borderBottomLeftRadius=Zt(s,_xe,r.borderBottomLeftRadius),this.borderTopStyle=Zt(s,Exe,r.borderTopStyle),this.borderRightStyle=Zt(s,Fxe,r.borderRightStyle),this.borderBottomStyle=Zt(s,Txe,r.borderBottomStyle),this.borderLeftStyle=Zt(s,Lxe,r.borderLeftStyle),this.borderTopWidth=Zt(s,Ixe,r.borderTopWidth),this.borderRightWidth=Zt(s,Pxe,r.borderRightWidth),this.borderBottomWidth=Zt(s,Dxe,r.borderBottomWidth),this.borderLeftWidth=Zt(s,Uxe,r.borderLeftWidth),this.boxShadow=Zt(s,E0e,r.boxShadow),this.color=Zt(s,Oxe,r.color),this.direction=Zt(s,Rxe,r.direction),this.display=Zt(s,Mxe,r.display),this.float=Zt(s,Hxe,r.cssFloat),this.fontFamily=Zt(s,j0e,r.fontFamily),this.fontSize=Zt(s,y0e,r.fontSize),this.fontStyle=Zt(s,N0e,r.fontStyle),this.fontVariant=Zt(s,b0e,r.fontVariant),this.fontWeight=Zt(s,w0e,r.fontWeight),this.letterSpacing=Zt(s,Vxe,r.letterSpacing),this.lineBreak=Zt(s,Kxe,r.lineBreak),this.lineHeight=Zt(s,zxe,r.lineHeight),this.listStyleImage=Zt(s,qxe,r.listStyleImage),this.listStylePosition=Zt(s,$xe,r.listStylePosition),this.listStyleType=Zt(s,ES,r.listStyleType),this.marginTop=Zt(s,Gxe,r.marginTop),this.marginRight=Zt(s,Wxe,r.marginRight),this.marginBottom=Zt(s,Yxe,r.marginBottom),this.marginLeft=Zt(s,Xxe,r.marginLeft),this.opacity=Zt(s,p0e,r.opacity);var i=Zt(s,Jxe,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Zt(s,Zxe,r.overflowWrap),this.paddingTop=Zt(s,e0e,r.paddingTop),this.paddingRight=Zt(s,t0e,r.paddingRight),this.paddingBottom=Zt(s,s0e,r.paddingBottom),this.paddingLeft=Zt(s,r0e,r.paddingLeft),this.paintOrder=Zt(s,F0e,r.paintOrder),this.position=Zt(s,a0e,r.position),this.textAlign=Zt(s,n0e,r.textAlign),this.textDecorationColor=Zt(s,g0e,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Zt(s,v0e,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=Zt(s,i0e,r.textShadow),this.textTransform=Zt(s,l0e,r.textTransform),this.transform=Zt(s,o0e,r.transform),this.transformOrigin=Zt(s,A0e,r.transformOrigin),this.visibility=Zt(s,m0e,r.visibility),this.webkitTextStrokeColor=Zt(s,T0e,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Zt(s,L0e,r.webkitTextStrokeWidth),this.wordBreak=Zt(s,f0e,r.wordBreak),this.zIndex=Zt(s,x0e,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return ph(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return fa(this.display,4)||fa(this.display,33554432)||fa(this.display,268435456)||fa(this.display,536870912)||fa(this.display,67108864)||fa(this.display,134217728)},t}(),P0e=function(){function t(s,r){this.content=Zt(s,C0e,r.content),this.quotes=Zt(s,_0e,r.quotes)}return t}(),uL=function(){function t(s,r){this.counterIncrement=Zt(s,B0e,r.counterIncrement),this.counterReset=Zt(s,S0e,r.counterReset)}return t}(),Zt=function(t,s,r){var n=new hV,a=r!==null&&typeof r<"u"?r.toString():s.initialValue;n.write(a);var i=new AV(n.read());switch(s.type){case 2:var l=i.parseComponentValue();return s.parse(t,Mr(l)?l.value:s.initialValue);case 0:return s.parse(t,i.parseComponentValue());case 1:return s.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(s.format){case"angle":return cN.parse(t,i.parseComponentValue());case"color":return xh.parse(t,i.parseComponentValue());case"image":return F_.parse(t,i.parseComponentValue());case"length":var o=i.parseComponentValue();return Th(o)?o:Qa;case"length-percentage":var c=i.parseComponentValue();return ra(c)?c:Qa;case"time":return FV.parse(t,i.parseComponentValue())}break}},D0e="data-html2canvas-debug",U0e=function(t){var s=t.getAttribute(D0e);switch(s){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},FS=function(t,s){var r=U0e(t);return r===1||s===r},id=function(){function t(s,r){if(this.context=s,this.textNodes=[],this.elements=[],this.flags=0,FS(r,3))debugger;this.styles=new I0e(s,window.getComputedStyle(r,null)),IS(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=lN(this.context,r),FS(r,4)&&(this.flags|=16)}return t}(),O0e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",hL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var h1=0;h1<hL.length;h1++)qp[hL.charCodeAt(h1)]=h1;var R0e=function(t){var s=t.length*.75,r=t.length,n,a=0,i,l,o,c;t[t.length-1]==="="&&(s--,t[t.length-2]==="="&&s--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(s):new Array(s),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)i=qp[t.charCodeAt(n)],l=qp[t.charCodeAt(n+1)],o=qp[t.charCodeAt(n+2)],c=qp[t.charCodeAt(n+3)],u[a++]=i<<2|l>>4,u[a++]=(l&15)<<4|o>>2,u[a++]=(o&3)<<6|c&63;return d},M0e=function(t){for(var s=t.length,r=[],n=0;n<s;n+=2)r.push(t[n+1]<<8|t[n]);return r},Q0e=function(t){for(var s=t.length,r=[],n=0;n<s;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},KA=5,T_=11,I5=2,H0e=T_-KA,TV=65536>>KA,V0e=1<<KA,P5=V0e-1,K0e=1024>>KA,z0e=TV+K0e,q0e=z0e,$0e=32,G0e=q0e+$0e,W0e=65536>>T_,Y0e=1<<H0e,X0e=Y0e-1,AL=function(t,s,r){return t.slice?t.slice(s,r):new Uint16Array(Array.prototype.slice.call(t,s,r))},J0e=function(t,s,r){return t.slice?t.slice(s,r):new Uint32Array(Array.prototype.slice.call(t,s,r))},Z0e=function(t,s){var r=R0e(t),n=Array.isArray(r)?Q0e(r):new Uint32Array(r),a=Array.isArray(r)?M0e(r):new Uint16Array(r),i=24,l=AL(a,i/2,n[4]/2),o=n[5]===2?AL(a,(i+n[4])/2):J0e(n,Math.ceil((i+n[4])/4));return new epe(n[0],n[1],n[2],n[3],l,o)},epe=function(){function t(s,r,n,a,i,l){this.initialValue=s,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=l}return t.prototype.get=function(s){var r;if(s>=0){if(s<55296||s>56319&&s<=65535)return r=this.index[s>>KA],r=(r<<I5)+(s&P5),this.data[r];if(s<=65535)return r=this.index[TV+(s-55296>>KA)],r=(r<<I5)+(s&P5),this.data[r];if(s<this.highStart)return r=G0e-W0e+(s>>T_),r=this.index[r],r+=s>>KA&X0e,r=this.index[r],r=(r<<I5)+(s&P5),this.data[r];if(s<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),mL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tpe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var A1=0;A1<mL.length;A1++)tpe[mL.charCodeAt(A1)]=A1;var spe=1,D5=2,U5=3,fL=4,xL=5,rpe=7,pL=8,O5=9,R5=10,gL=11,vL=12,jL=13,yL=14,M5=15,npe=function(t){for(var s=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?s.push(((a&1023)<<10)+(i&1023)+65536):(s.push(a),r--)}else s.push(a)}return s},ape=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var l=t[a];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},ipe=Z0e(O0e),Jl="",Q5="",lpe=function(t){return ipe.get(t)},ope=function(t,s,r){var n=r-2,a=s[n],i=s[r-1],l=s[r];if(i===D5&&l===U5)return Jl;if(i===D5||i===U5||i===fL||l===D5||l===U5||l===fL)return Q5;if(i===pL&&[pL,O5,gL,vL].indexOf(l)!==-1||(i===gL||i===O5)&&(l===O5||l===R5)||(i===vL||i===R5)&&l===R5||l===jL||l===xL||l===rpe||i===spe)return Jl;if(i===jL&&l===yL){for(;a===xL;)a=s[--n];if(a===yL)return Jl}if(i===M5&&l===M5){for(var o=0;a===M5;)o++,a=s[--n];if(o%2===0)return Jl}return Q5},cpe=function(t){var s=npe(t),r=s.length,n=0,a=0,i=s.map(lpe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var l=Jl;n<r&&(l=ope(s,i,++n))===Jl;);if(l!==Jl||n===r){var o=ape.apply(null,s.slice(a,n));return a=n,{value:o,done:!1}}return{done:!0,value:null}}}},dpe=function(t){for(var s=cpe(t),r=[],n;!(n=s.next()).done;)n.value&&r.push(n.value.slice());return r},upe=function(t){var s=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=s+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),i=Math.round(a.height);if(t.body.removeChild(n),i===s)return!0}}return!1},hpe=function(t){var s=t.createElement("boundtest");s.style.width="50px",s.style.display="block",s.style.fontSize="12px",s.style.letterSpacing="0px",s.style.wordSpacing="0px",t.body.appendChild(s);var r=t.createRange();s.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=s.firstChild,a=oN(n.data).map(function(c){return Hn(c)}),i=0,l={},o=a.every(function(c,d){r.setStart(n,i),r.setEnd(n,i+c.length);var u=r.getBoundingClientRect();i+=c.length;var h=u.x>l.x||u.y>l.y;return l=u,d===0?!0:h});return t.body.removeChild(s),o},Ape=function(){return typeof new Image().crossOrigin<"u"},mpe=function(){return typeof new XMLHttpRequest().responseType=="string"},fpe=function(t){var s=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;s.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(s,0,0),r.toDataURL()}catch{return!1}return!0},wL=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},xpe=function(t){var s=t.createElement("canvas"),r=100;s.width=r,s.height=r;var n=s.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,i=s.toDataURL();a.src=i;var l=TS(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),bL(l).then(function(o){n.drawImage(o,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var d=t.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=r+"px",wL(c)?bL(TS(r,r,0,0,d)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),wL(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},TS=function(t,s,r,n,a){var i="http://www.w3.org/2000/svg",l=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return l.setAttributeNS(null,"width",t.toString()),l.setAttributeNS(null,"height",s.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),l.appendChild(o),o.appendChild(a),l},bL=function(t){return new Promise(function(s,r){var n=new Image;n.onload=function(){return s(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Da={get SUPPORT_RANGE_BOUNDS(){var t=upe(document);return Object.defineProperty(Da,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Da.SUPPORT_RANGE_BOUNDS&&hpe(document);return Object.defineProperty(Da,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=fpe(document);return Object.defineProperty(Da,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?xpe(document):Promise.resolve(!1);return Object.defineProperty(Da,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Ape();return Object.defineProperty(Da,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=mpe();return Object.defineProperty(Da,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Da,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Da,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},jg=function(){function t(s,r){this.text=s,this.bounds=r}return t}(),ppe=function(t,s,r,n){var a=jpe(s,r),i=[],l=0;return a.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(Da.SUPPORT_RANGE_BOUNDS){var c=NL(n,l,o.length).getClientRects();if(c.length>1){var d=L_(o),u=0;d.forEach(function(A){i.push(new jg(A,Zd.fromDOMRectList(t,NL(n,u+l,A.length).getClientRects()))),u+=A.length})}else i.push(new jg(o,Zd.fromDOMRectList(t,c)))}else{var h=n.splitText(o.length);i.push(new jg(o,gpe(t,n))),n=h}else Da.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));l+=o.length}),i},gpe=function(t,s){var r=s.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(s.cloneNode(!0));var a=s.parentNode;if(a){a.replaceChild(n,s);var i=lN(t,n);return n.firstChild&&a.replaceChild(n.firstChild,n),i}}return Zd.EMPTY},NL=function(t,s,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(t,s),a.setEnd(t,s+r),a},L_=function(t){if(Da.SUPPORT_NATIVE_TEXT_SEGMENTATION){var s=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(s.segment(t)).map(function(r){return r.segment})}return dpe(t)},vpe=function(t,s){if(Da.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return wpe(t,s)},jpe=function(t,s){return s.letterSpacing!==0?L_(t):vpe(t,s)},ype=[32,160,4961,65792,65793,4153,4241],wpe=function(t,s){for(var r=Wme(t,{lineBreak:s.lineBreak,wordBreak:s.overflowWrap==="break-word"?"break-word":s.wordBreak}),n=[],a,i=function(){if(a.value){var l=a.value.slice(),o=oN(l),c="";o.forEach(function(d){ype.indexOf(d)===-1?c+=Hn(d):(c.length&&n.push(c),n.push(Hn(d)),c="")}),c.length&&n.push(c)}};!(a=r.next()).done;)i();return n},bpe=function(){function t(s,r,n){this.text=Npe(r.data,n.textTransform),this.textBounds=ppe(s,this.text,n,r)}return t}(),Npe=function(t,s){switch(s){case 1:return t.toLowerCase();case 3:return t.replace(Cpe,Bpe);case 2:return t.toUpperCase();default:return t}},Cpe=/(^|\s|:|-|\(|\))([a-z])/g,Bpe=function(t,s,r){return t.length>0?s+r.toUpperCase():t},LV=function(t){gc(s,t);function s(r,n){var a=t.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return s}(id),IV=function(t){gc(s,t);function s(r,n){var a=t.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return s}(id),PV=function(t){gc(s,t);function s(r,n){var a=t.call(this,r,n)||this,i=new XMLSerializer,l=lN(r,n);return n.setAttribute("width",l.width+"px"),n.setAttribute("height",l.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return s}(id),DV=function(t){gc(s,t);function s(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return s}(id),LS=function(t){gc(s,t);function s(r,n){var a=t.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return s}(id),Spe=[{type:15,flags:0,unit:"px",number:3}],kpe=[{type:16,flags:0,number:50}],_pe=function(t){return t.width>t.height?new Zd(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Zd(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Epe=function(t){var s=t.type===Fpe?new Array(t.value.length+1).join(""):t.value;return s.length===0?t.placeholder||"":s},Eb="checkbox",Fb="radio",Fpe="password",CL=707406591,I_=function(t){gc(s,t);function s(r,n){var a=t.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=Epe(n),(a.type===Eb||a.type===Fb)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=_pe(a.bounds)),a.type){case Eb:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Spe;break;case Fb:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=kpe;break}return a}return s}(id),UV=function(t){gc(s,t);function s(r,n){var a=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return a.value=i&&i.text||"",a}return s}(id),OV=function(t){gc(s,t);function s(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return s}(id),RV=function(t){gc(s,t);function s(r,n){var a=t.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=QV(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?gg(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Dd.TRANSPARENT,l=n.contentWindow.document.body?gg(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Dd.TRANSPARENT;a.backgroundColor=ph(i)?ph(l)?a.styles.backgroundColor:l:i}}catch{}return a}return s}(id),Tpe=["OL","UL","MENU"],dw=function(t,s,r,n){for(var a=s.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,HV(a)&&a.data.trim().length>0)r.textNodes.push(new bpe(t,a,r.styles));else if(qf(a))if(qV(a)&&a.assignedNodes)a.assignedNodes().forEach(function(o){return dw(t,o,r,n)});else{var l=MV(t,a);l.styles.isVisible()&&(Lpe(a,l,n)?l.flags|=4:Ipe(l.styles)&&(l.flags|=2),Tpe.indexOf(a.tagName)!==-1&&(l.flags|=8),r.elements.push(l),a.slot,a.shadowRoot?dw(t,a.shadowRoot,l,n):!Tb(a)&&!VV(a)&&!Lb(a)&&dw(t,a,l,n))}},MV=function(t,s){return PS(s)?new LV(t,s):KV(s)?new IV(t,s):VV(s)?new PV(t,s):Ppe(s)?new DV(t,s):Dpe(s)?new LS(t,s):Upe(s)?new I_(t,s):Lb(s)?new UV(t,s):Tb(s)?new OV(t,s):zV(s)?new RV(t,s):new id(t,s)},QV=function(t,s){var r=MV(t,s);return r.flags|=4,dw(t,s,r,r),r},Lpe=function(t,s,r){return s.styles.isPositionedWithZIndex()||s.styles.opacity<1||s.styles.isTransformed()||P_(t)&&r.styles.isTransparent()},Ipe=function(t){return t.isPositioned()||t.isFloating()},HV=function(t){return t.nodeType===Node.TEXT_NODE},qf=function(t){return t.nodeType===Node.ELEMENT_NODE},IS=function(t){return qf(t)&&typeof t.style<"u"&&!uw(t)},uw=function(t){return typeof t.className=="object"},Ppe=function(t){return t.tagName==="LI"},Dpe=function(t){return t.tagName==="OL"},Upe=function(t){return t.tagName==="INPUT"},Ope=function(t){return t.tagName==="HTML"},VV=function(t){return t.tagName==="svg"},P_=function(t){return t.tagName==="BODY"},KV=function(t){return t.tagName==="CANVAS"},BL=function(t){return t.tagName==="VIDEO"},PS=function(t){return t.tagName==="IMG"},zV=function(t){return t.tagName==="IFRAME"},SL=function(t){return t.tagName==="STYLE"},Rpe=function(t){return t.tagName==="SCRIPT"},Tb=function(t){return t.tagName==="TEXTAREA"},Lb=function(t){return t.tagName==="SELECT"},qV=function(t){return t.tagName==="SLOT"},kL=function(t){return t.tagName.indexOf("-")>0},Mpe=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(s){var r=this.counters[s];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(s){var r=this.counters[s];return r||[]},t.prototype.pop=function(s){var r=this;s.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(s){var r=this,n=s.counterIncrement,a=s.counterReset,i=!0;n!==null&&n.forEach(function(o){var c=r.counters[o.counter];c&&o.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=o.increment)});var l=[];return i&&a.forEach(function(o){var c=r.counters[o.counter];l.push(o.counter),c||(c=r.counters[o.counter]=[]),c.push(o.reset)}),l},t}(),_L={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},EL={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Qpe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Hpe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},xf=function(t,s,r,n,a,i){return t<s||t>r?Nv(t,a,i.length>0):n.integers.reduce(function(l,o,c){for(;t>=o;)t-=o,l+=n.values[c];return l},"")+i},$V=function(t,s,r,n){var a="";do r||t--,a=n(t)+a,t/=s;while(t*s>=s);return a},Mn=function(t,s,r,n,a){var i=r-s+1;return(t<0?"-":"")+($V(Math.abs(t),i,n,function(l){return Hn(Math.floor(l%i)+s)})+a)},aA=function(t,s,r){r===void 0&&(r=". ");var n=s.length;return $V(Math.abs(t),n,!1,function(a){return s[Math.floor(a%n)]})+r},Sf=1,Fu=2,Tu=4,$p=8,Nd=function(t,s,r,n,a,i){if(t<-9999||t>9999)return Nv(t,4,a.length>0);var l=Math.abs(t),o=a;if(l===0)return s[0]+o;for(var c=0;l>0&&c<=4;c++){var d=l%10;d===0&&fa(i,Sf)&&o!==""?o=s[d]+o:d>1||d===1&&c===0||d===1&&c===1&&fa(i,Fu)||d===1&&c===1&&fa(i,Tu)&&t>100||d===1&&c>1&&fa(i,$p)?o=s[d]+(c>0?r[c-1]:"")+o:d===1&&c>0&&(o=r[c-1]+o),l=Math.floor(l/10)}return(t<0?n:"")+o},FL="",TL="",LL="",H5="",Nv=function(t,s,r){var n=r?". ":"",a=r?"":"",i=r?", ":"",l=r?" ":"";switch(s){case 0:return""+l;case 1:return""+l;case 2:return""+l;case 5:var o=Mn(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return aA(t,"",a);case 6:return xf(t,1,3999,_L,3,n).toLowerCase();case 7:return xf(t,1,3999,_L,3,n);case 8:return Mn(t,945,969,!1,n);case 9:return Mn(t,97,122,!1,n);case 10:return Mn(t,65,90,!1,n);case 11:return Mn(t,1632,1641,!0,n);case 12:case 49:return xf(t,1,9999,EL,3,n);case 35:return xf(t,1,9999,EL,3,n).toLowerCase();case 13:return Mn(t,2534,2543,!0,n);case 14:case 30:return Mn(t,6112,6121,!0,n);case 15:return aA(t,"",a);case 16:return aA(t,"",a);case 17:case 48:return Nd(t,"",FL,"",a,Fu|Tu|$p);case 47:return Nd(t,"",TL,"",a,Sf|Fu|Tu|$p);case 42:return Nd(t,"",FL,"",a,Fu|Tu|$p);case 41:return Nd(t,"",TL,"",a,Sf|Fu|Tu|$p);case 26:return Nd(t,"","",LL,a,0);case 25:return Nd(t,"","",LL,a,Sf|Fu|Tu);case 31:return Nd(t,"","",H5,i,Sf|Fu|Tu);case 33:return Nd(t,"","",H5,i,0);case 32:return Nd(t,"","",H5,i,Sf|Fu|Tu);case 18:return Mn(t,2406,2415,!0,n);case 20:return xf(t,1,19999,Hpe,3,n);case 21:return Mn(t,2790,2799,!0,n);case 22:return Mn(t,2662,2671,!0,n);case 22:return xf(t,1,10999,Qpe,3,n);case 23:return aA(t,"");case 24:return aA(t,"");case 27:return Mn(t,3302,3311,!0,n);case 28:return aA(t,"",a);case 29:return aA(t,"",a);case 34:return Mn(t,3792,3801,!0,n);case 37:return Mn(t,6160,6169,!0,n);case 38:return Mn(t,4160,4169,!0,n);case 39:return Mn(t,2918,2927,!0,n);case 40:return Mn(t,1776,1785,!0,n);case 43:return Mn(t,3046,3055,!0,n);case 44:return Mn(t,3174,3183,!0,n);case 45:return Mn(t,3664,3673,!0,n);case 46:return Mn(t,3872,3881,!0,n);case 3:default:return Mn(t,48,57,!0,n)}},GV="data-html2canvas-ignore",IL=function(){function t(s,r,n){if(this.context=s,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Mpe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(s,r){var n=this,a=Vpe(s,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=s.defaultView.pageXOffset,l=s.defaultView.pageYOffset,o=a.contentWindow,c=o.document,d=qpe(a).then(function(){return Ci(n,void 0,void 0,function(){var u,h;return ai(this,function(A){switch(A.label){case 0:return this.scrolledElements.forEach(Ype),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:A.sent(),A.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,zpe(c)]:[3,4];case 3:A.sent(),A.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(c,h)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(Gpe(document.doctype)+"<html></html>"),Wpe(this.referenceElement.ownerDocument,i,l),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),d},t.prototype.createElementClone=function(s){if(FS(s,2))debugger;if(KV(s))return this.createCanvasClone(s);if(BL(s))return this.createVideoClone(s);if(SL(s))return this.createStyleClone(s);var r=s.cloneNode(!1);return PS(r)&&(PS(s)&&s.currentSrc&&s.currentSrc!==s.src&&(r.src=s.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),kL(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(s){var r=document.createElement("html2canvascustomelement");return V5(s.style,r),r},t.prototype.createStyleClone=function(s){try{var r=s.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,l){return l&&typeof l.cssText=="string"?i+l.cssText:i},""),a=s.cloneNode(!1);return a.textContent=n,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return s.cloneNode(!1)},t.prototype.createCanvasClone=function(s){var r;if(this.options.inlineImages&&s.ownerDocument){var n=s.ownerDocument.createElement("img");try{return n.src=s.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",s)}}var a=s.cloneNode(!1);try{a.width=s.width,a.height=s.height;var i=s.getContext("2d"),l=a.getContext("2d");if(l)if(!this.options.allowTaint&&i)l.putImageData(i.getImageData(0,0,s.width,s.height),0,0);else{var o=(r=s.getContext("webgl2"))!==null&&r!==void 0?r:s.getContext("webgl");if(o){var c=o.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",s)}l.drawImage(s,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",s)}return a},t.prototype.createVideoClone=function(s){var r=s.ownerDocument.createElement("canvas");r.width=s.offsetWidth,r.height=s.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(s,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",s)}var a=s.ownerDocument.createElement("canvas");return a.width=s.offsetWidth,a.height=s.offsetHeight,a},t.prototype.appendChildNode=function(s,r,n){(!qf(r)||!Rpe(r)&&!r.hasAttribute(GV)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!qf(r)||!SL(r))&&s.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(s,r,n){for(var a=this,i=s.shadowRoot?s.shadowRoot.firstChild:s.firstChild;i;i=i.nextSibling)if(qf(i)&&qV(i)&&typeof i.assignedNodes=="function"){var l=i.assignedNodes();l.length&&l.forEach(function(o){return a.appendChildNode(r,o,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(s,r){if(HV(s))return document.createTextNode(s.data);if(!s.ownerDocument)return s.cloneNode(!1);var n=s.ownerDocument.defaultView;if(n&&qf(s)&&(IS(s)||uw(s))){var a=this.createElementClone(s);a.style.transitionProperty="none";var i=n.getComputedStyle(s),l=n.getComputedStyle(s,":before"),o=n.getComputedStyle(s,":after");this.referenceElement===s&&IS(a)&&(this.clonedReferenceElement=a),P_(a)&&Zpe(a);var c=this.counters.parse(new uL(this.context,i)),d=this.resolvePseudoContent(s,a,l,yg.BEFORE);kL(s)&&(r=!0),BL(s)||this.cloneChildNodes(s,a,r),d&&a.insertBefore(d,a.firstChild);var u=this.resolvePseudoContent(s,a,o,yg.AFTER);return u&&a.appendChild(u),this.counters.pop(c),(i&&(this.options.copyStyles||uw(s))&&!zV(s)||r)&&V5(i,a),(s.scrollTop!==0||s.scrollLeft!==0)&&this.scrolledElements.push([a,s.scrollLeft,s.scrollTop]),(Tb(s)||Lb(s))&&(Tb(a)||Lb(a))&&(a.value=s.value),a}return s.cloneNode(!1)},t.prototype.resolvePseudoContent=function(s,r,n,a){var i=this;if(n){var l=n.content,o=r.ownerDocument;if(!(!o||!l||l==="none"||l==="-moz-alt-content"||n.display==="none")){this.counters.parse(new uL(this.context,n));var c=new P0e(this.context,n),d=o.createElement("html2canvaspseudoelement");V5(n,d),c.content.forEach(function(h){if(h.type===0)d.appendChild(o.createTextNode(h.value));else if(h.type===22){var A=o.createElement("img");A.src=h.value,A.style.opacity="1",d.appendChild(A)}else if(h.type===18){if(h.name==="attr"){var m=h.values.filter(Mr);m.length&&d.appendChild(o.createTextNode(s.getAttribute(m[0].value)||""))}else if(h.name==="counter"){var p=h.values.filter(e0),f=p[0],x=p[1];if(f&&Mr(f)){var g=i.counters.getCounterValue(f.value),v=x&&Mr(x)?ES.parse(i.context,x.value):3;d.appendChild(o.createTextNode(Nv(g,v,!1)))}}else if(h.name==="counters"){var j=h.values.filter(e0),f=j[0],B=j[1],x=j[2];if(f&&Mr(f)){var F=i.counters.getCounterValues(f.value),P=x&&Mr(x)?ES.parse(i.context,x.value):3,E=B&&B.type===0?B.value:"",N=F.map(function(k){return Nv(k,P,!1)}).join(E);d.appendChild(o.createTextNode(N))}}}else if(h.type===20)switch(h.value){case"open-quote":d.appendChild(o.createTextNode(dL(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(o.createTextNode(dL(c.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(o.createTextNode(h.value))}}),d.className=DS+" "+US;var u=a===yg.BEFORE?" "+DS:" "+US;return uw(r)?r.className.baseValue+=u:r.className+=u,d}}},t.destroy=function(s){return s.parentNode?(s.parentNode.removeChild(s),!0):!1},t}(),yg;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(yg||(yg={}));var Vpe=function(t,s){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=s.width.toString(),r.height=s.height.toString(),r.scrolling="no",r.setAttribute(GV,"true"),t.body.appendChild(r),r},Kpe=function(t){return new Promise(function(s){if(t.complete){s();return}if(!t.src){s();return}t.onload=s,t.onerror=s})},zpe=function(t){return Promise.all([].slice.call(t.images,0).map(Kpe))},qpe=function(t){return new Promise(function(s,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),s(t))},50)}})},$pe=["all","d","content"],V5=function(t,s){for(var r=t.length-1;r>=0;r--){var n=t.item(r);$pe.indexOf(n)===-1&&s.style.setProperty(n,t.getPropertyValue(n))}return s},Gpe=function(t){var s="";return t&&(s+="<!DOCTYPE ",t.name&&(s+=t.name),t.internalSubset&&(s+=t.internalSubset),t.publicId&&(s+='"'+t.publicId+'"'),t.systemId&&(s+='"'+t.systemId+'"'),s+=">"),s},Wpe=function(t,s,r){t&&t.defaultView&&(s!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(s,r)},Ype=function(t){var s=t[0],r=t[1],n=t[2];s.scrollLeft=r,s.scrollTop=n},Xpe=":before",Jpe=":after",DS="___html2canvas___pseudoelement_before",US="___html2canvas___pseudoelement_after",PL=`{
    content: "" !important;
    display: none !important;
}`,Zpe=function(t){ege(t,"."+DS+Xpe+PL+`
         .`+US+Jpe+PL)},ege=function(t,s){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=s,t.appendChild(n)}},WV=function(){function t(){}return t.getOrigin=function(s){var r=t._link;return r?(r.href=s,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(s){return t.getOrigin(s)===t._origin},t.setContext=function(s){t._link=s.document.createElement("a"),t._origin=t.getOrigin(s.location.href)},t._origin="about:blank",t}(),tge=function(){function t(s,r){this.context=s,this._options=r,this._cache={}}return t.prototype.addImage=function(s){var r=Promise.resolve();return this.has(s)||(z5(s)||age(s))&&(this._cache[s]=this.loadImage(s)).catch(function(){}),r},t.prototype.match=function(s){return this._cache[s]},t.prototype.loadImage=function(s){return Ci(this,void 0,void 0,function(){var r,n,a,i,l=this;return ai(this,function(o){switch(o.label){case 0:return r=WV.isSameOrigin(s),n=!K5(s)&&this._options.useCORS===!0&&Da.SUPPORT_CORS_IMAGES&&!r,a=!K5(s)&&!r&&!z5(s)&&typeof this._options.proxy=="string"&&Da.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!K5(s)&&!z5(s)&&!a&&!n?[2]:(i=s,a?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+s.substring(0,256)),[4,new Promise(function(c,d){var u=new Image;u.onload=function(){return c(u)},u.onerror=d,(ige(i)||n)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return c(u)},500),l._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+l._options.imageTimeout+"ms) loading image")},l._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(s){return typeof this._cache[s]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(s){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=s.substring(0,256);return new Promise(function(i,l){var o=Da.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(o==="text")i(c.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(A){return l(A)},!1),h.readAsDataURL(c.response)}else l("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=l;var d=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+d+"url="+encodeURIComponent(s)+"&responseType="+o),o!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=o),r._options.imageTimeout){var u=r._options.imageTimeout;c.timeout=u,c.ontimeout=function(){return l("Timed out ("+u+"ms) proxying "+a)}}c.send()})},t}(),sge=/^data:image\/svg\+xml/i,rge=/^data:image\/.*;base64,/i,nge=/^data:image\/.*/i,age=function(t){return Da.SUPPORT_SVG_DRAWING||!lge(t)},K5=function(t){return nge.test(t)},ige=function(t){return rge.test(t)},z5=function(t){return t.substr(0,4)==="blob"},lge=function(t){return t.substr(-3).toLowerCase()==="svg"||sge.test(t)},Wt=function(){function t(s,r){this.type=0,this.x=s,this.y=r}return t.prototype.add=function(s,r){return new t(this.x+s,this.y+r)},t}(),pf=function(t,s,r){return new Wt(t.x+(s.x-t.x)*r,t.y+(s.y-t.y)*r)},m1=function(){function t(s,r,n,a){this.type=1,this.start=s,this.startControl=r,this.endControl=n,this.end=a}return t.prototype.subdivide=function(s,r){var n=pf(this.start,this.startControl,s),a=pf(this.startControl,this.endControl,s),i=pf(this.endControl,this.end,s),l=pf(n,a,s),o=pf(a,i,s),c=pf(l,o,s);return r?new t(this.start,n,l,c):new t(c,o,i,this.end)},t.prototype.add=function(s,r){return new t(this.start.add(s,r),this.startControl.add(s,r),this.endControl.add(s,r),this.end.add(s,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),ao=function(t){return t.type===1},oge=function(){function t(s){var r=s.styles,n=s.bounds,a=zp(r.borderTopLeftRadius,n.width,n.height),i=a[0],l=a[1],o=zp(r.borderTopRightRadius,n.width,n.height),c=o[0],d=o[1],u=zp(r.borderBottomRightRadius,n.width,n.height),h=u[0],A=u[1],m=zp(r.borderBottomLeftRadius,n.width,n.height),p=m[0],f=m[1],x=[];x.push((i+c)/n.width),x.push((p+h)/n.width),x.push((l+f)/n.height),x.push((d+A)/n.height);var g=Math.max.apply(Math,x);g>1&&(i/=g,l/=g,c/=g,d/=g,h/=g,A/=g,p/=g,f/=g);var v=n.width-c,j=n.height-A,B=n.width-h,F=n.height-f,P=r.borderTopWidth,E=r.borderRightWidth,N=r.borderBottomWidth,C=r.borderLeftWidth,_=Zr(r.paddingTop,s.bounds.width),k=Zr(r.paddingRight,s.bounds.width),D=Zr(r.paddingBottom,s.bounds.width),z=Zr(r.paddingLeft,s.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||l>0?An(n.left+C/3,n.top+P/3,i-C/3,l-P/3,yr.TOP_LEFT):new Wt(n.left+C/3,n.top+P/3),this.topRightBorderDoubleOuterBox=i>0||l>0?An(n.left+v,n.top+P/3,c-E/3,d-P/3,yr.TOP_RIGHT):new Wt(n.left+n.width-E/3,n.top+P/3),this.bottomRightBorderDoubleOuterBox=h>0||A>0?An(n.left+B,n.top+j,h-E/3,A-N/3,yr.BOTTOM_RIGHT):new Wt(n.left+n.width-E/3,n.top+n.height-N/3),this.bottomLeftBorderDoubleOuterBox=p>0||f>0?An(n.left+C/3,n.top+F,p-C/3,f-N/3,yr.BOTTOM_LEFT):new Wt(n.left+C/3,n.top+n.height-N/3),this.topLeftBorderDoubleInnerBox=i>0||l>0?An(n.left+C*2/3,n.top+P*2/3,i-C*2/3,l-P*2/3,yr.TOP_LEFT):new Wt(n.left+C*2/3,n.top+P*2/3),this.topRightBorderDoubleInnerBox=i>0||l>0?An(n.left+v,n.top+P*2/3,c-E*2/3,d-P*2/3,yr.TOP_RIGHT):new Wt(n.left+n.width-E*2/3,n.top+P*2/3),this.bottomRightBorderDoubleInnerBox=h>0||A>0?An(n.left+B,n.top+j,h-E*2/3,A-N*2/3,yr.BOTTOM_RIGHT):new Wt(n.left+n.width-E*2/3,n.top+n.height-N*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||f>0?An(n.left+C*2/3,n.top+F,p-C*2/3,f-N*2/3,yr.BOTTOM_LEFT):new Wt(n.left+C*2/3,n.top+n.height-N*2/3),this.topLeftBorderStroke=i>0||l>0?An(n.left+C/2,n.top+P/2,i-C/2,l-P/2,yr.TOP_LEFT):new Wt(n.left+C/2,n.top+P/2),this.topRightBorderStroke=i>0||l>0?An(n.left+v,n.top+P/2,c-E/2,d-P/2,yr.TOP_RIGHT):new Wt(n.left+n.width-E/2,n.top+P/2),this.bottomRightBorderStroke=h>0||A>0?An(n.left+B,n.top+j,h-E/2,A-N/2,yr.BOTTOM_RIGHT):new Wt(n.left+n.width-E/2,n.top+n.height-N/2),this.bottomLeftBorderStroke=p>0||f>0?An(n.left+C/2,n.top+F,p-C/2,f-N/2,yr.BOTTOM_LEFT):new Wt(n.left+C/2,n.top+n.height-N/2),this.topLeftBorderBox=i>0||l>0?An(n.left,n.top,i,l,yr.TOP_LEFT):new Wt(n.left,n.top),this.topRightBorderBox=c>0||d>0?An(n.left+v,n.top,c,d,yr.TOP_RIGHT):new Wt(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||A>0?An(n.left+B,n.top+j,h,A,yr.BOTTOM_RIGHT):new Wt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||f>0?An(n.left,n.top+F,p,f,yr.BOTTOM_LEFT):new Wt(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||l>0?An(n.left+C,n.top+P,Math.max(0,i-C),Math.max(0,l-P),yr.TOP_LEFT):new Wt(n.left+C,n.top+P),this.topRightPaddingBox=c>0||d>0?An(n.left+Math.min(v,n.width-E),n.top+P,v>n.width+E?0:Math.max(0,c-E),Math.max(0,d-P),yr.TOP_RIGHT):new Wt(n.left+n.width-E,n.top+P),this.bottomRightPaddingBox=h>0||A>0?An(n.left+Math.min(B,n.width-C),n.top+Math.min(j,n.height-N),Math.max(0,h-E),Math.max(0,A-N),yr.BOTTOM_RIGHT):new Wt(n.left+n.width-E,n.top+n.height-N),this.bottomLeftPaddingBox=p>0||f>0?An(n.left+C,n.top+Math.min(F,n.height-N),Math.max(0,p-C),Math.max(0,f-N),yr.BOTTOM_LEFT):new Wt(n.left+C,n.top+n.height-N),this.topLeftContentBox=i>0||l>0?An(n.left+C+z,n.top+P+_,Math.max(0,i-(C+z)),Math.max(0,l-(P+_)),yr.TOP_LEFT):new Wt(n.left+C+z,n.top+P+_),this.topRightContentBox=c>0||d>0?An(n.left+Math.min(v,n.width+C+z),n.top+P+_,v>n.width+C+z?0:c-C+z,d-(P+_),yr.TOP_RIGHT):new Wt(n.left+n.width-(E+k),n.top+P+_),this.bottomRightContentBox=h>0||A>0?An(n.left+Math.min(B,n.width-(C+z)),n.top+Math.min(j,n.height+P+_),Math.max(0,h-(E+k)),A-(N+D),yr.BOTTOM_RIGHT):new Wt(n.left+n.width-(E+k),n.top+n.height-(N+D)),this.bottomLeftContentBox=p>0||f>0?An(n.left+C+z,n.top+F,Math.max(0,p-(C+z)),f-(N+D),yr.BOTTOM_LEFT):new Wt(n.left+C+z,n.top+n.height-(N+D))}return t}(),yr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(yr||(yr={}));var An=function(t,s,r,n,a){var i=4*((Math.sqrt(2)-1)/3),l=r*i,o=n*i,c=t+r,d=s+n;switch(a){case yr.TOP_LEFT:return new m1(new Wt(t,d),new Wt(t,d-o),new Wt(c-l,s),new Wt(c,s));case yr.TOP_RIGHT:return new m1(new Wt(t,s),new Wt(t+l,s),new Wt(c,d-o),new Wt(c,d));case yr.BOTTOM_RIGHT:return new m1(new Wt(c,s),new Wt(c,s+o),new Wt(t+l,d),new Wt(t,d));case yr.BOTTOM_LEFT:default:return new m1(new Wt(c,d),new Wt(c-l,d),new Wt(t,s+o),new Wt(t,s))}},Ib=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},cge=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Pb=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},dge=function(){function t(s,r,n){this.offsetX=s,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),f1=function(){function t(s,r){this.path=s,this.target=r,this.type=1}return t}(),uge=function(){function t(s){this.opacity=s,this.type=2,this.target=6}return t}(),hge=function(t){return t.type===0},YV=function(t){return t.type===1},Age=function(t){return t.type===2},DL=function(t,s){return t.length===s.length?t.some(function(r,n){return r===s[n]}):!1},mge=function(t,s,r,n,a){return t.map(function(i,l){switch(l){case 0:return i.add(s,r);case 1:return i.add(s+n,r);case 2:return i.add(s+n,r+a);case 3:return i.add(s,r+a)}return i})},XV=function(){function t(s){this.element=s,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),JV=function(){function t(s,r){if(this.container=s,this.parent=r,this.effects=[],this.curves=new oge(this.container),this.container.styles.opacity<1&&this.effects.push(new uge(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new dge(n,a,i))}if(this.container.styles.overflowX!==0){var l=Ib(this.curves),o=Pb(this.curves);DL(l,o)?this.effects.push(new f1(l,6)):(this.effects.push(new f1(l,2)),this.effects.push(new f1(o,4)))}}return t.prototype.getEffects=function(s){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var i=n.effects.filter(function(c){return!YV(c)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var l=Ib(n.curves),o=Pb(n.curves);DL(l,o)||a.unshift(new f1(o,6))}}else a.unshift.apply(a,i);n=n.parent}return a.filter(function(c){return fa(c.target,s)})},t}(),OS=function(t,s,r,n){t.container.elements.forEach(function(a){var i=fa(a.flags,4),l=fa(a.flags,2),o=new JV(a,t);fa(a.styles.display,2048)&&n.push(o);var c=fa(a.flags,8)?[]:n;if(i||l){var d=i||a.styles.isPositioned()?r:s,u=new XV(o);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var h=a.styles.zIndex.order;if(h<0){var A=0;d.negativeZIndex.some(function(p,f){return h>p.element.container.styles.zIndex.order?(A=f,!1):A>0}),d.negativeZIndex.splice(A,0,u)}else if(h>0){var m=0;d.positiveZIndex.some(function(p,f){return h>=p.element.container.styles.zIndex.order?(m=f+1,!1):m>0}),d.positiveZIndex.splice(m,0,u)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else a.styles.isFloating()?d.nonPositionedFloats.push(u):d.nonPositionedInlineLevel.push(u);OS(o,u,i?u:r,c)}else a.styles.isInlineLevel()?s.inlineLevel.push(o):s.nonInlineLevel.push(o),OS(o,s,r,c);fa(a.flags,8)&&ZV(a,c)})},ZV=function(t,s){for(var r=t instanceof LS?t.start:1,n=t instanceof LS?t.reversed:!1,a=0;a<s.length;a++){var i=s[a];i.container instanceof DV&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=Nv(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},fge=function(t){var s=new JV(t,null),r=new XV(s),n=[];return OS(s,r,r,n),ZV(s.container,n),r},UL=function(t,s){switch(s){case 0:return oo(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return oo(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return oo(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return oo(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},xge=function(t,s){switch(s){case 0:return oo(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return oo(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return oo(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return oo(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},pge=function(t,s){switch(s){case 0:return oo(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return oo(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return oo(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return oo(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},gge=function(t,s){switch(s){case 0:return x1(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return x1(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return x1(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return x1(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},x1=function(t,s){var r=[];return ao(t)?r.push(t.subdivide(.5,!1)):r.push(t),ao(s)?r.push(s.subdivide(.5,!0)):r.push(s),r},oo=function(t,s,r,n){var a=[];return ao(t)?a.push(t.subdivide(.5,!1)):a.push(t),ao(r)?a.push(r.subdivide(.5,!0)):a.push(r),ao(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),ao(s)?a.push(s.subdivide(.5,!1).reverse()):a.push(s),a},eK=function(t){var s=t.bounds,r=t.styles;return s.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Db=function(t){var s=t.styles,r=t.bounds,n=Zr(s.paddingLeft,r.width),a=Zr(s.paddingRight,r.width),i=Zr(s.paddingTop,r.width),l=Zr(s.paddingBottom,r.width);return r.add(n+s.borderLeftWidth,i+s.borderTopWidth,-(s.borderRightWidth+s.borderLeftWidth+n+a),-(s.borderTopWidth+s.borderBottomWidth+i+l))},vge=function(t,s){return t===0?s.bounds:t===2?Db(s):eK(s)},jge=function(t,s){return t===0?s.bounds:t===2?Db(s):eK(s)},q5=function(t,s,r){var n=vge(kf(t.styles.backgroundOrigin,s),t),a=jge(kf(t.styles.backgroundClip,s),t),i=yge(kf(t.styles.backgroundSize,s),r,n),l=i[0],o=i[1],c=zp(kf(t.styles.backgroundPosition,s),n.width-l,n.height-o),d=wge(kf(t.styles.backgroundRepeat,s),c,i,n,a),u=Math.round(n.left+c[0]),h=Math.round(n.top+c[1]);return[d,u,h,l,o]},gf=function(t){return Mr(t)&&t.value===px.AUTO},p1=function(t){return typeof t=="number"},yge=function(t,s,r){var n=s[0],a=s[1],i=s[2],l=t[0],o=t[1];if(!l)return[0,0];if(ra(l)&&o&&ra(o))return[Zr(l,r.width),Zr(o,r.height)];var c=p1(i);if(Mr(l)&&(l.value===px.CONTAIN||l.value===px.COVER)){if(p1(i)){var d=r.width/r.height;return d<i!=(l.value===px.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var u=p1(n),h=p1(a),A=u||h;if(gf(l)&&(!o||gf(o))){if(u&&h)return[n,a];if(!c&&!A)return[r.width,r.height];if(A&&c){var m=u?n:a*i,p=h?a:n/i;return[m,p]}var f=u?n:r.width,x=h?a:r.height;return[f,x]}if(c){var g=0,v=0;return ra(l)?g=Zr(l,r.width):ra(o)&&(v=Zr(o,r.height)),gf(l)?g=v*i:(!o||gf(o))&&(v=g/i),[g,v]}var j=null,B=null;if(ra(l)?j=Zr(l,r.width):o&&ra(o)&&(B=Zr(o,r.height)),j!==null&&(!o||gf(o))&&(B=u&&h?j/n*a:r.height),B!==null&&gf(l)&&(j=u&&h?B/a*n:r.width),j!==null&&B!==null)return[j,B];throw new Error("Unable to calculate background-size for element")},kf=function(t,s){var r=t[s];return typeof r>"u"?t[0]:r},wge=function(t,s,r,n,a){var i=s[0],l=s[1],o=r[0],c=r[1];switch(t){case 2:return[new Wt(Math.round(n.left),Math.round(n.top+l)),new Wt(Math.round(n.left+n.width),Math.round(n.top+l)),new Wt(Math.round(n.left+n.width),Math.round(c+n.top+l)),new Wt(Math.round(n.left),Math.round(c+n.top+l))];case 3:return[new Wt(Math.round(n.left+i),Math.round(n.top)),new Wt(Math.round(n.left+i+o),Math.round(n.top)),new Wt(Math.round(n.left+i+o),Math.round(n.height+n.top)),new Wt(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Wt(Math.round(n.left+i),Math.round(n.top+l)),new Wt(Math.round(n.left+i+o),Math.round(n.top+l)),new Wt(Math.round(n.left+i+o),Math.round(n.top+l+c)),new Wt(Math.round(n.left+i),Math.round(n.top+l+c))];default:return[new Wt(Math.round(a.left),Math.round(a.top)),new Wt(Math.round(a.left+a.width),Math.round(a.top)),new Wt(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Wt(Math.round(a.left),Math.round(a.height+a.top))]}},bge="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",OL="Hidden Text",Nge=function(){function t(s){this._data={},this._document=s}return t.prototype.parseMetrics=function(s,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),l=this._document.body;n.style.visibility="hidden",n.style.fontFamily=s,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",l.appendChild(n),a.src=bge,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=s,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(OL)),n.appendChild(i),n.appendChild(a);var o=a.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(OL)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return l.removeChild(n),{baseline:o,middle:c}},t.prototype.getMetrics=function(s,r){var n=s+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(s,r)),this._data[n]},t}(),tK=function(){function t(s,r){this.context=s,this.options=r}return t}(),Cge=1e4,Bge=function(t){gc(s,t);function s(r,n){var a=t.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new Nge(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return s.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},s.prototype.applyEffect=function(r){this.ctx.save(),Age(r)&&(this.ctx.globalAlpha=r.opacity),hge(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),YV(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},s.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},s.prototype.renderStack=function(r){return Ci(this,void 0,void 0,function(){var n;return ai(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},s.prototype.renderNode=function(r){return Ci(this,void 0,void 0,function(){return ai(this,function(n){switch(n.label){case 0:if(fa(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},s.prototype.renderTextWithLetterSpacing=function(r,n,a){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var l=L_(r.text);l.reduce(function(o,c){return i.ctx.fillText(c,o,r.bounds.top+a),o+i.ctx.measureText(c).width},r.bounds.left)}},s.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(l){return l==="normal"||l==="small-caps"}).join(""),a=Fge(r.fontFamily).join(", "),i=Aj(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,a].join(" "),a,i]},s.prototype.renderTextNode=function(r,n){return Ci(this,void 0,void 0,function(){var a,i,l,o,c,d,u,h,A=this;return ai(this,function(m){return a=this.createFontStyle(n),i=a[0],l=a[1],o=a[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(l,o),d=c.baseline,u=c.middle,h=n.paintOrder,r.textBounds.forEach(function(p){h.forEach(function(f){switch(f){case 0:A.ctx.fillStyle=wa(n.color),A.renderTextWithLetterSpacing(p,n.letterSpacing,d);var x=n.textShadow;x.length&&p.text.trim().length&&(x.slice(0).reverse().forEach(function(g){A.ctx.shadowColor=wa(g.color),A.ctx.shadowOffsetX=g.offsetX.number*A.options.scale,A.ctx.shadowOffsetY=g.offsetY.number*A.options.scale,A.ctx.shadowBlur=g.blur.number,A.renderTextWithLetterSpacing(p,n.letterSpacing,d)}),A.ctx.shadowColor="",A.ctx.shadowOffsetX=0,A.ctx.shadowOffsetY=0,A.ctx.shadowBlur=0),n.textDecorationLine.length&&(A.ctx.fillStyle=wa(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(g){switch(g){case 1:A.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+d),p.bounds.width,1);break;case 2:A.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:A.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+u),p.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&p.text.trim().length&&(A.ctx.strokeStyle=wa(n.webkitTextStrokeColor),A.ctx.lineWidth=n.webkitTextStrokeWidth,A.ctx.lineJoin=window.chrome?"miter":"round",A.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+d)),A.ctx.strokeStyle="",A.ctx.lineWidth=0,A.ctx.lineJoin="miter";break}})}),[2]})})},s.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=Db(r),l=Pb(n);this.path(l),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},s.prototype.renderNodeContent=function(r){return Ci(this,void 0,void 0,function(){var n,a,i,l,o,c,v,v,d,u,h,A,B,m,p,F,f,x,g,v,j,B,F;return ai(this,function(P){switch(P.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,i=n.styles,l=0,o=n.textNodes,P.label=1;case 1:return l<o.length?(c=o[l],[4,this.renderTextNode(c,i)]):[3,4];case 2:P.sent(),P.label=3;case 3:return l++,[3,1];case 4:if(!(n instanceof LV))return[3,8];P.label=5;case 5:return P.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return v=P.sent(),this.renderReplacedElement(n,a,v),[3,8];case 7:return P.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof IV&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof PV))return[3,12];P.label=9;case 9:return P.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return v=P.sent(),this.renderReplacedElement(n,a,v),[3,12];case 11:return P.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof RV&&n.tree?(d=new s(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,d.render(n.tree)]):[3,14];case 13:u=P.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),P.label=14;case 14:if(n instanceof I_&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===Eb?n.checked&&(this.ctx.save(),this.path([new Wt(n.bounds.left+h*.39363,n.bounds.top+h*.79),new Wt(n.bounds.left+h*.16,n.bounds.top+h*.5549),new Wt(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new Wt(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new Wt(n.bounds.left+h*.72983,n.bounds.top+h*.23),new Wt(n.bounds.left+h*.84,n.bounds.top+h*.34085),new Wt(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=wa(CL),this.ctx.fill(),this.ctx.restore()):n.type===Fb&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=wa(CL),this.ctx.fill(),this.ctx.restore())),Sge(n)&&n.value.length){switch(A=this.createFontStyle(i),B=A[0],m=A[1],p=this.fontMetrics.getMetrics(B,m).baseline,this.ctx.font=B,this.ctx.fillStyle=wa(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=_ge(n.styles.textAlign),F=Db(n),f=0,n.styles.textAlign){case 1:f+=F.width/2;break;case 2:f+=F.width;break}x=F.add(f,0,0,-F.height/2+1),this.ctx.save(),this.path([new Wt(F.left,F.top),new Wt(F.left+F.width,F.top),new Wt(F.left+F.width,F.top+F.height),new Wt(F.left,F.top+F.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new jg(n.value,x),i.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!fa(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(g=n.styles.listStyleImage,g.type!==0)return[3,18];v=void 0,j=g.url,P.label=15;case 15:return P.trys.push([15,17,,18]),[4,this.context.cache.match(j)];case 16:return v=P.sent(),this.ctx.drawImage(v,n.bounds.left-(v.width+10),n.bounds.top),[3,18];case 17:return P.sent(),this.context.logger.error("Error loading list-style-image "+j),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(B=this.createFontStyle(i)[0],this.ctx.font=B,this.ctx.fillStyle=wa(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",F=new Zd(n.bounds.left,n.bounds.top+Zr(n.styles.paddingTop,n.bounds.width),n.bounds.width,oL(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new jg(r.listValue,F),i.letterSpacing,oL(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),P.label=20;case 20:return[2]}})})},s.prototype.renderStackContent=function(r){return Ci(this,void 0,void 0,function(){var n,a,g,i,l,g,o,c,g,d,u,g,h,A,g,m,p,g,f,x,g;return ai(this,function(v){switch(v.label){case 0:if(fa(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:v.sent(),n=0,a=r.negativeZIndex,v.label=2;case 2:return n<a.length?(g=a[n],[4,this.renderStack(g)]):[3,5];case 3:v.sent(),v.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:v.sent(),i=0,l=r.nonInlineLevel,v.label=7;case 7:return i<l.length?(g=l[i],[4,this.renderNode(g)]):[3,10];case 8:v.sent(),v.label=9;case 9:return i++,[3,7];case 10:o=0,c=r.nonPositionedFloats,v.label=11;case 11:return o<c.length?(g=c[o],[4,this.renderStack(g)]):[3,14];case 12:v.sent(),v.label=13;case 13:return o++,[3,11];case 14:d=0,u=r.nonPositionedInlineLevel,v.label=15;case 15:return d<u.length?(g=u[d],[4,this.renderStack(g)]):[3,18];case 16:v.sent(),v.label=17;case 17:return d++,[3,15];case 18:h=0,A=r.inlineLevel,v.label=19;case 19:return h<A.length?(g=A[h],[4,this.renderNode(g)]):[3,22];case 20:v.sent(),v.label=21;case 21:return h++,[3,19];case 22:m=0,p=r.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return m<p.length?(g=p[m],[4,this.renderStack(g)]):[3,26];case 24:v.sent(),v.label=25;case 25:return m++,[3,23];case 26:f=0,x=r.positiveZIndex,v.label=27;case 27:return f<x.length?(g=x[f],[4,this.renderStack(g)]):[3,30];case 28:v.sent(),v.label=29;case 29:return f++,[3,27];case 30:return[2]}})})},s.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},s.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},s.prototype.formatPath=function(r){var n=this;r.forEach(function(a,i){var l=ao(a)?a.start:a;i===0?n.ctx.moveTo(l.x,l.y):n.ctx.lineTo(l.x,l.y),ao(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},s.prototype.renderRepeat=function(r,n,a,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},s.prototype.resizeImage=function(r,n,a){var i;if(r.width===n&&r.height===a)return r;var l=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=l.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,a);var c=o.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,a),o},s.prototype.renderBackgroundImage=function(r){return Ci(this,void 0,void 0,function(){var n,a,i,l,o,c;return ai(this,function(d){switch(d.label){case 0:n=r.styles.backgroundImage.length-1,a=function(u){var h,A,m,_,W,re,z,K,N,p,_,W,re,z,K,f,x,g,v,j,B,F,P,E,N,C,_,k,D,z,K,xe,W,re,I,ie,ve,De,L,U,R,q;return ai(this,function(ae){switch(ae.label){case 0:if(u.type!==0)return[3,5];h=void 0,A=u.url,ae.label=1;case 1:return ae.trys.push([1,3,,4]),[4,i.context.cache.match(A)];case 2:return h=ae.sent(),[3,4];case 3:return ae.sent(),i.context.logger.error("Error loading background-image "+A),[3,4];case 4:return h&&(m=q5(r,n,[h.width,h.height,h.width/h.height]),_=m[0],W=m[1],re=m[2],z=m[3],K=m[4],N=i.ctx.createPattern(i.resizeImage(h,z,K),"repeat"),i.renderRepeat(_,N,W,re)),[3,6];case 5:hxe(u)?(p=q5(r,n,[null,null,null]),_=p[0],W=p[1],re=p[2],z=p[3],K=p[4],f=lxe(u.angle,z,K),x=f[0],g=f[1],v=f[2],j=f[3],B=f[4],F=document.createElement("canvas"),F.width=z,F.height=K,P=F.getContext("2d"),E=P.createLinearGradient(g,j,v,B),iL(u.stops,x).forEach(function(Ae){return E.addColorStop(Ae.stop,wa(Ae.color))}),P.fillStyle=E,P.fillRect(0,0,z,K),z>0&&K>0&&(N=i.ctx.createPattern(F,"repeat"),i.renderRepeat(_,N,W,re))):Axe(u)&&(C=q5(r,n,[null,null,null]),_=C[0],k=C[1],D=C[2],z=C[3],K=C[4],xe=u.position.length===0?[E_]:u.position,W=Zr(xe[0],z),re=Zr(xe[xe.length-1],K),I=oxe(u,W,re,z,K),ie=I[0],ve=I[1],ie>0&&ve>0&&(De=i.ctx.createRadialGradient(k+W,D+re,0,k+W,D+re,ie),iL(u.stops,ie*2).forEach(function(Ae){return De.addColorStop(Ae.stop,wa(Ae.color))}),i.path(_),i.ctx.fillStyle=De,ie!==ve?(L=r.bounds.left+.5*r.bounds.width,U=r.bounds.top+.5*r.bounds.height,R=ve/ie,q=1/R,i.ctx.save(),i.ctx.translate(L,U),i.ctx.transform(1,0,0,R,0,0),i.ctx.translate(-L,-U),i.ctx.fillRect(k,q*(D-U)+U,z,K*q),i.ctx.restore()):i.ctx.fill())),ae.label=6;case 6:return n--,[2]}})},i=this,l=0,o=r.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return l<o.length?(c=o[l],[5,a(c)]):[3,4];case 2:d.sent(),d.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},s.prototype.renderSolidBorder=function(r,n,a){return Ci(this,void 0,void 0,function(){return ai(this,function(i){return this.path(UL(a,n)),this.ctx.fillStyle=wa(r),this.ctx.fill(),[2]})})},s.prototype.renderDoubleBorder=function(r,n,a,i){return Ci(this,void 0,void 0,function(){var l,o;return ai(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,i)]:[3,2];case 1:return c.sent(),[2];case 2:return l=xge(i,a),this.path(l),this.ctx.fillStyle=wa(r),this.ctx.fill(),o=pge(i,a),this.path(o),this.ctx.fill(),[2]}})})},s.prototype.renderNodeBackgroundAndBorders=function(r){return Ci(this,void 0,void 0,function(){var n,a,i,l,o,c,d,u,h=this;return ai(this,function(A){switch(A.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!ph(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],l=kge(kf(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(l),this.ctx.clip(),ph(n.backgroundColor)||(this.ctx.fillStyle=wa(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:A.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(m){h.ctx.save();var p=Ib(r.curves),f=m.inset?0:Cge,x=mge(p,-f+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(h.path(p),h.ctx.clip(),h.mask(x)):(h.mask(p),h.ctx.clip(),h.path(x)),h.ctx.shadowOffsetX=m.offsetX.number+f,h.ctx.shadowOffsetY=m.offsetY.number,h.ctx.shadowColor=wa(m.color),h.ctx.shadowBlur=m.blur.number,h.ctx.fillStyle=m.inset?wa(m.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),A.label=2;case 2:o=0,c=0,d=i,A.label=3;case 3:return c<d.length?(u=d[c],u.style!==0&&!ph(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return A.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,3)];case 6:return A.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,r.curves)];case 8:return A.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,r.curves)];case 10:A.sent(),A.label=11;case 11:o++,A.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},s.prototype.renderDashedDottedBorder=function(r,n,a,i,l){return Ci(this,void 0,void 0,function(){var o,c,d,u,h,A,m,p,f,x,g,v,j,B,F,P,F,P;return ai(this,function(E){return this.ctx.save(),o=gge(i,a),c=UL(i,a),l===2&&(this.path(c),this.ctx.clip()),ao(c[0])?(d=c[0].start.x,u=c[0].start.y):(d=c[0].x,u=c[0].y),ao(c[1])?(h=c[1].end.x,A=c[1].end.y):(h=c[1].x,A=c[1].y),a===0||a===2?m=Math.abs(d-h):m=Math.abs(u-A),this.ctx.beginPath(),l===3?this.formatPath(o):this.formatPath(c.slice(0,2)),p=n<3?n*3:n*2,f=n<3?n*2:n,l===3&&(p=n,f=n),x=!0,m<=p*2?x=!1:m<=p*2+f?(g=m/(2*p+f),p*=g,f*=g):(v=Math.floor((m+f)/(p+f)),j=(m-v*p)/(v-1),B=(m-(v+1)*p)/v,f=B<=0||Math.abs(f-j)<Math.abs(f-B)?j:B),x&&(l===3?this.ctx.setLineDash([0,p+f]):this.ctx.setLineDash([p,f])),l===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=wa(r),this.ctx.stroke(),this.ctx.setLineDash([]),l===2&&(ao(c[0])&&(F=c[3],P=c[0],this.ctx.beginPath(),this.formatPath([new Wt(F.end.x,F.end.y),new Wt(P.start.x,P.start.y)]),this.ctx.stroke()),ao(c[1])&&(F=c[1],P=c[2],this.ctx.beginPath(),this.formatPath([new Wt(F.end.x,F.end.y),new Wt(P.start.x,P.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},s.prototype.render=function(r){return Ci(this,void 0,void 0,function(){var n;return ai(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=wa(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=fge(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},s}(tK),Sge=function(t){return t instanceof OV||t instanceof UV?!0:t instanceof I_&&t.type!==Fb&&t.type!==Eb},kge=function(t,s){switch(t){case 0:return Ib(s);case 2:return cge(s);case 1:default:return Pb(s)}},_ge=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Ege=["-apple-system","system-ui"],Fge=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(s){return Ege.indexOf(s)===-1}):t},Tge=function(t){gc(s,t);function s(r,n){var a=t.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return s.prototype.render=function(r){return Ci(this,void 0,void 0,function(){var n,a;return ai(this,function(i){switch(i.label){case 0:return n=TS(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Lge(n)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=wa(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},s}(tK),Lge=function(t){return new Promise(function(s,r){var n=new Image;n.onload=function(){s(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Ige=function(){function t(s){var r=s.id,n=s.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Wy([this.id,this.getTime()+"ms"],s)):this.info.apply(this,s))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Wy([this.id,this.getTime()+"ms"],s))},t.prototype.warn=function(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Wy([this.id,this.getTime()+"ms"],s)):this.info.apply(this,s))},t.prototype.error=function(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Wy([this.id,this.getTime()+"ms"],s)):this.info.apply(this,s))},t.instances={},t}(),Pge=function(){function t(s,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new Ige({id:this.instanceName,enabled:s.logging}),this.cache=(n=s.cache)!==null&&n!==void 0?n:new tge(this,s)}return t.instanceCount=1,t}(),D_=function(t,s){return s===void 0&&(s={}),Dge(t,s)};typeof window<"u"&&WV.setContext(window);var Dge=function(t,s){return Ci(void 0,void 0,void 0,function(){var r,n,a,i,l,o,c,d,u,h,A,m,p,f,x,g,v,j,B,F,E,P,E,N,C,_,k,D,z,K,xe,W,re,I,ie,ve,De,L,U,R;return ai(this,function(q){switch(q.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(N=s.allowTaint)!==null&&N!==void 0?N:!1,imageTimeout:(C=s.imageTimeout)!==null&&C!==void 0?C:15e3,proxy:s.proxy,useCORS:(_=s.useCORS)!==null&&_!==void 0?_:!1},i=pS({logging:(k=s.logging)!==null&&k!==void 0?k:!0,cache:s.cache},a),l={windowWidth:(D=s.windowWidth)!==null&&D!==void 0?D:n.innerWidth,windowHeight:(z=s.windowHeight)!==null&&z!==void 0?z:n.innerHeight,scrollX:(K=s.scrollX)!==null&&K!==void 0?K:n.pageXOffset,scrollY:(xe=s.scrollY)!==null&&xe!==void 0?xe:n.pageYOffset},o=new Zd(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),c=new Pge(i,o),d=(W=s.foreignObjectRendering)!==null&&W!==void 0?W:!1,u={allowTaint:(re=s.allowTaint)!==null&&re!==void 0?re:!1,onclone:s.onclone,ignoreElements:s.ignoreElements,inlineImages:d,copyStyles:d},c.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new IL(c,t,u),A=h.clonedReferenceElement,A?[4,h.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=q.sent(),p=P_(A)||Ope(A)?mme(A.ownerDocument):lN(c,A),f=p.width,x=p.height,g=p.left,v=p.top,j=Uge(c,A,s.backgroundColor),B={canvas:s.canvas,backgroundColor:j,scale:(ie=(I=s.scale)!==null&&I!==void 0?I:n.devicePixelRatio)!==null&&ie!==void 0?ie:1,x:((ve=s.x)!==null&&ve!==void 0?ve:0)+g,y:((De=s.y)!==null&&De!==void 0?De:0)+v,width:(L=s.width)!==null&&L!==void 0?L:Math.ceil(f),height:(U=s.height)!==null&&U!==void 0?U:Math.ceil(x)},d?(c.logger.debug("Document cloned, using foreign object rendering"),E=new Tge(c,B),[4,E.render(A)]):[3,3];case 2:return F=q.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+g+","+v+" with size "+f+"x"+x+" using computed rendering"),c.logger.debug("Starting DOM parsing"),P=QV(c,A),j===P.styles.backgroundColor&&(P.styles.backgroundColor=Dd.TRANSPARENT),c.logger.debug("Starting renderer for element at "+B.x+","+B.y+" with size "+B.width+"x"+B.height),E=new Bge(c,B),[4,E.render(P)];case 4:F=q.sent(),q.label=5;case 5:return(!((R=s.removeContainer)!==null&&R!==void 0)||R)&&(IL.destroy(m)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,F]}})})},Uge=function(t,s,r){var n=s.ownerDocument,a=n.documentElement?gg(t,getComputedStyle(n.documentElement).backgroundColor):Dd.TRANSPARENT,i=n.body?gg(t,getComputedStyle(n.body).backgroundColor):Dd.TRANSPARENT,l=typeof r=="string"?gg(t,r):r===null?Dd.TRANSPARENT:4294967295;return s===n.documentElement?ph(a)?ph(i)?l:i:a:l};const Oge=Object.freeze(Object.defineProperty({__proto__:null,default:D_},Symbol.toStringTag,{value:"Module"})),Rge=Y.object({receiptNo:Y.string().min(1,{message:"  "}),studentName:Y.string().min(2,{message:"  "}),studentNameBn:Y.string().min(2,{message:"  "}),studentId:Y.string().min(1,{message:"  "}),className:Y.string().min(1,{message:" "}),section:Y.string().min(1,{message:" "}),rollNumber:Y.string().min(1,{message:"  "}),paymentDate:Y.string().min(1,{message:"  "}),paymentMethod:Y.string().min(1,{message:"  "}),transactionId:Y.string().optional(),mobileNumber:Y.string().optional(),feeType:Y.string().min(1,{message:"  "}),academicYear:Y.string().min(1,{message:" "}),month:Y.string().min(1,{message:" "}),guardianName:Y.string().min(2,{message:"  "}),guardianPhone:Y.string().min(11,{message:"   "}),totalAmount:Y.string().min(1,{message:"  "}),paidAmount:Y.string().min(1,{message:"  "}),dueAmount:Y.string().optional(),notes:Y.string().optional(),templateType:Y.string().default("standard"),includeQR:Y.boolean().default(!0),sendSMS:Y.boolean().default(!1),feeItems:Y.array(Y.object({description:Y.string(),descriptionBn:Y.string(),amount:Y.string(),category:Y.string()})).min(1,{message:"    "})}),Mge=[{description:"Monthly Tuition",descriptionBn:" ",amount:",",category:"tuition"},{description:"Examination Fee",descriptionBn:" ",amount:",",category:"exam"},{description:"Development Fee",descriptionBn:" ",amount:"",category:"development"},{description:"Library Fee",descriptionBn:" ",amount:"",category:"library"}];function Qge(){jo();const[t,s]=b.useState(!1),[r,n]=b.useState(!1),[a,i]=b.useState(!1),[l,o]=b.useState(!1),[c,d]=b.useState("standard"),[u,h]=b.useState([]),{toast:A}=ls(),m=zs({resolver:qs(Rge),defaultValues:{receiptNo:"FR"+Math.random().toString(36).substr(2,6).toUpperCase(),studentName:"Abdul Karim",studentNameBn:" ",studentId:"2025001",className:"Class X",section:"A",rollNumber:"15",paymentDate:new Date().toISOString().split("T")[0],paymentMethod:"bkash",transactionId:"",mobileNumber:"",feeType:"tuition",academicYear:"",month:new Date().getMonth()+1<10?`0${new Date().getMonth()+1}`:`${new Date().getMonth()+1}`,guardianName:"Mohammad Rahman",guardianPhone:"01712345678",totalAmount:",",paidAmount:",",dueAmount:"",notes:"  ",templateType:"standard",includeQR:!0,sendSMS:!1,feeItems:Mge}}),p=g=>{s(!0),console.log("Receipt Data:",g),setTimeout(()=>{s(!1),n(!0),A({title:"   ",description:"     "})},1500)},f=async()=>{const g=document.getElementById("receipt-preview");if(!g)return;const j=(await D_(g,{scale:2,useCORS:!0,logging:!1})).toDataURL("image/png"),B=new fs({orientation:"portrait",unit:"mm",format:"a4"}),F=B.internal.pageSize.getWidth(),P=B.internal.pageSize.getHeight();B.addImage(j,"PNG",0,0,F,P),B.save(`fee-receipt-${m.getValues("receiptNo")}.pdf`),A({title:"  ",description:"       "})},x=()=>{n(!1),m.reset()};return e.jsx(is,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400 mb-6","aria-label":"Breadcrumb",children:[e.jsx("a",{href:"/",className:"hover:text-green-600 dark:hover:text-green-400 transition-colors",children:""}),e.jsx("span",{className:"material-icons text-xs",children:"chevron_right"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:"  "})]}),e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 dark:from-green-950 dark:to-teal-950 rounded-2xl p-8 border border-green-100 dark:border-green-800",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-2xl flex items-center justify-center",children:e.jsx("span",{className:"material-icons text-white text-2xl",children:"receipt"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100",children:"  "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"     "})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{children:"  "})]}),e.jsxs("div",{className:"flex items-center gap-2 text-teal-600 dark:text-teal-400",children:[e.jsx("span",{className:"material-icons text-sm",children:"verified"}),e.jsx("span",{children:" "})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(V,{className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-xl font-medium transition-all hover:scale-105",onClick:()=>m.handleSubmit(p)(),disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons mr-2 animate-spin",children:"autorenew"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons mr-2",children:"receipt"}),"  "]})}),e.jsxs(V,{variant:"outline",className:"px-6 py-3 rounded-xl font-medium border-green-200 dark:border-green-800 hover:bg-green-50 dark:hover:bg-green-900/20",onClick:x,children:[e.jsx("span",{className:"material-icons mr-2",children:"refresh"}),""]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(H,{className:"group hover:shadow-lg transition-all duration-300 border-0 shadow-md bg-white dark:bg-gray-800",children:e.jsx(M,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-50 dark:bg-green-900/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"material-icons text-green-600 dark:text-green-400 text-xl",children:"payments"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:" "}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:" ,,"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 px-2 py-1 rounded-md",children:" "})]})})})}),e.jsx(H,{className:"group hover:shadow-lg transition-all duration-300 border-0 shadow-md bg-white dark:bg-gray-800",children:e.jsx(M,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-teal-50 dark:bg-teal-900/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"material-icons text-teal-600 dark:text-teal-400 text-xl",children:"receipt_long"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:" "}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:""})]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 px-2 py-1 rounded-md",children:" "})]})})})}),e.jsx(H,{className:"group hover:shadow-lg transition-all duration-300 border-0 shadow-md bg-white dark:bg-gray-800",children:e.jsx(M,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-50 dark:bg-blue-900/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"material-icons text-blue-600 dark:text-blue-400 text-xl",children:"account_balance_wallet"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:" "}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"%"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 px-2 py-1 rounded-md",children:" "})]})})})}),e.jsx(H,{className:"group hover:shadow-lg transition-all duration-300 border-0 shadow-md bg-white dark:bg-gray-800",children:e.jsx(M,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-amber-50 dark:bg-amber-900/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"material-icons text-amber-600 dark:text-amber-400 text-xl",children:"pending"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:" "}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:" ,"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 px-2 py-1 rounded-md",children:"  "})]})})})})]}),r?e.jsx("div",{className:"flex flex-col gap-6",children:e.jsxs(H,{className:"border-0 shadow-lg bg-white dark:bg-gray-800",children:[e.jsx(oe,{className:"border-b border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-50 dark:bg-green-900/20 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"material-icons text-green-600 dark:text-green-400 text-xl",children:"preview"})}),e.jsxs("div",{children:[e.jsx(ce,{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"  "}),e.jsx(ct,{className:"text-sm text-gray-600 dark:text-gray-400",children:"    "})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{onClick:f,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium",children:[e.jsx("span",{className:"material-icons mr-2",children:"picture_as_pdf"}),""]}),e.jsxs(V,{variant:"outline",onClick:()=>n(!1),className:"px-4 py-2 rounded-lg font-medium",children:[e.jsx("span",{className:"material-icons mr-2",children:"edit"}),""]})]})]})}),e.jsx(M,{className:"p-0",children:e.jsxs("div",{id:"receipt-preview",className:"p-8 bg-white",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"  "}),e.jsxs("p",{className:"text-sm text-gray-600",children:[" : ",m.getValues("receiptNo")," | : ",m.getValues("paymentDate")]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold",children:[" : ",m.getValues("studentName")]}),e.jsxs("p",{children:[": ",m.getValues("studentId")]}),e.jsxs("p",{children:[": ",m.getValues("className")]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-semibold text-green-600",children:[" :  ",m.getValues("amount")]})})]})})]})})]})}):e.jsx("div",{className:"flex flex-col gap-6",children:e.jsxs(H,{className:"border-0 shadow-lg bg-white dark:bg-gray-800",children:[e.jsx(oe,{className:"border-b border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-50 dark:bg-green-900/20 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"material-icons text-green-600 dark:text-green-400 text-xl",children:"settings"})}),e.jsxs("div",{children:[e.jsx(ce,{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"  "}),e.jsx(ct,{className:"text-sm text-gray-600 dark:text-gray-400",children:"       "})]})]})}),e.jsx(M,{children:e.jsx(Ms,{...m,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[e.jsx("span",{className:"material-icons text-green-500",children:"person"})," "]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Se,{control:m.control,name:"studentName",render:({field:g})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),e.jsx(Be,{children:e.jsx("input",{...g,className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"  "})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:m.control,name:"studentId",render:({field:g})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),e.jsx(Be,{children:e.jsx("input",{...g,className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"2025001"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:m.control,name:"className",render:({field:g})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),e.jsxs(xt,{onValueChange:g.onChange,defaultValue:g.value,children:[e.jsx(Be,{children:e.jsx(ht,{className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:" ",children:" "}),e.jsx(X,{value:" ",children:" "}),e.jsx(X,{value:" ",children:" "}),e.jsx(X,{value:" ",children:" "}),e.jsx(X,{value:" ",children:" "})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:m.control,name:"amount",render:({field:g})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),e.jsx(Be,{children:e.jsx("input",{...g,className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:","})}),e.jsx(_e,{})]})})]})]}),e.jsxs("div",{className:"flex gap-4 pt-6 border-t border-gray-100 dark:border-gray-700",children:[e.jsx(V,{type:"button",onClick:()=>m.handleSubmit(p)(),disabled:t,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-xl font-medium transition-all hover:scale-105",children:t?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons mr-2 animate-spin",children:"autorenew"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons mr-2",children:"receipt"}),"  "]})}),e.jsxs(V,{type:"button",variant:"outline",onClick:x,className:"px-6 py-3 rounded-xl font-medium border-gray-200 dark:border-gray-600",children:[e.jsx("span",{className:"material-icons mr-2",children:"refresh"}),""]})]})]})})})]})})]})})})}function RL(){const{data:t,isLoading:s}=st({queryKey:["/api/admit-cards/stats"],queryFn:async()=>{const i=await fetch("/api/admit-cards/stats");if(!i.ok)throw new Error("Failed to fetch stats");return i.json()}}),{data:r}=st({queryKey:["/api/admit-cards/recent"],queryFn:async()=>{const i=await fetch("/api/admit-cards/recent");if(!i.ok)throw new Error("Failed to fetch recent cards");return i.json()}}),n=[{title:"  ",description:"      ",icon:xs,href:"/admit-card/create-single",color:"bg-blue-500",textColor:"text-blue-600"},{title:" ",description:"     ",icon:ss,href:"/admit-card/batch-creation",color:"bg-green-500",textColor:"text-green-600"},{title:" ",description:"Excel/CSV     ",icon:Wn,href:"/admit-card/student-import",color:"bg-purple-500",textColor:"text-purple-600"},{title:" ",description:"   ",icon:hT,href:"/admit-card/bangladesh-templates",color:"bg-red-500",textColor:"text-red-600"},{title:" ",description:"    ",icon:Ys,href:"/admit-card/templates",color:"bg-orange-500",textColor:"text-orange-600"},{title:"",description:"   ",icon:Ys,href:"/admit-card/settings",color:"bg-gray-500",textColor:"text-gray-600"}],a=[{name:"JSC",namebn:"",color:"bg-blue-100 text-blue-800"},{name:"SSC",namebn:"",color:"bg-green-100 text-green-800"},{name:"HSC",namebn:"",color:"bg-purple-100 text-purple-800"},{name:"Dakhil",namebn:"",color:"bg-orange-100 text-orange-800"},{name:"Alim",namebn:"",color:"bg-red-100 text-red-800"},{name:"Technical",namebn:"",color:"bg-indigo-100 text-indigo-800"}];return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"  "}),e.jsx("p",{className:"text-muted-foreground",children:"      "})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(tt,{href:"/admit-card/student-import",children:e.jsxs(V,{variant:"outline",children:[e.jsx(Wn,{className:"w-4 h-4 mr-2"})," "]})}),e.jsx(tt,{href:"/admit-card/create-single",children:e.jsxs(V,{children:[e.jsx(Ls,{className:"w-4 h-4 mr-2"})," "]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"  "}),e.jsx(xs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?"...":(t==null?void 0:t.totalGenerated)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(Ti,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?"...":(t==null?void 0:t.thisMonth)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:""}),e.jsx(Ys,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?"...":(t==null?void 0:t.templates)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:""}),e.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s?"...":(t==null?void 0:t.students)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(i=>e.jsx(tt,{href:i.href,children:e.jsx(H,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${i.color}`,children:e.jsx(i.icon,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`font-medium ${i.textColor}`,children:i.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})]})})})},i.href))})})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(hT,{className:"w-5 h-5"}),"   "]}),e.jsx(tt,{href:"/admit-card/templates",children:e.jsx(V,{variant:"outline",size:"sm",children:"  "})})]})}),e.jsxs(M,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(H,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500",children:e.jsx(dn,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-blue-600",children:" -   "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"JSC    "}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Oe,{variant:"secondary",className:"text-xs",children:"QR "}),e.jsx(Oe,{variant:"secondary",className:"text-xs",children:""}),e.jsx(Oe,{variant:"secondary",className:"text-xs",children:",  "})]})]})]})})}),e.jsx(H,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-500",children:e.jsx(Ks,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-green-600",children:" -   "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"SSC   "}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Oe,{variant:"secondary",className:"text-xs",children:"-"}),e.jsx(Oe,{variant:"secondary",className:"text-xs",children:" "}),e.jsx(Oe,{variant:"secondary",className:"text-xs",children:",  "})]})]})]})})}),e.jsx(H,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-500",children:e.jsx(El,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-purple-600",children:" -  "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"HSC     "}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Oe,{variant:"secondary",className:"text-xs",children:" "}),e.jsx(Oe,{variant:"secondary",className:"text-xs",children:" "}),e.jsx(Oe,{variant:"secondary",className:"text-xs",children:",  "})]})]})]})})}),e.jsx(H,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-orange-500",children:e.jsx(Ks,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-orange-600",children:" -  "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"    "}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Oe,{variant:"secondary",className:"text-xs",children:" "}),e.jsx(Oe,{variant:"secondary",className:"text-xs",children:" "}),e.jsx(Oe,{variant:"secondary",className:"text-xs",children:"  "})]})]})]})})}),e.jsx(H,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-indigo-500",children:e.jsx(Ys,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-indigo-600",children:"  - "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"    "}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Oe,{variant:"secondary",className:"text-xs",children:" "}),e.jsx(Oe,{variant:"secondary",className:"text-xs",children:" "}),e.jsx(Oe,{variant:"secondary",className:"text-xs",children:"  "})]})]})]})})}),e.jsx(H,{className:"hover:shadow-md transition-shadow cursor-pointer",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-red-500",children:e.jsx(El,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-red-600",children:" -  "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"    "}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Oe,{variant:"secondary",className:"text-xs",children:" "}),e.jsx(Oe,{variant:"secondary",className:"text-xs",children:" "}),e.jsx(Oe,{variant:"secondary",className:"text-xs",children:",  "})]})]})]})})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-3",children:"  :"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:a.map(i=>e.jsx(Oe,{variant:"secondary",className:`justify-center ${i.color}`,children:i.namebn},i.name))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{children:"  "}),e.jsx(tt,{href:"/admit-card/history",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(cn,{className:"w-4 h-4 mr-2"}),"  "]})})]})}),e.jsx(M,{children:r&&r.length>0?e.jsx("div",{className:"space-y-3",children:r.slice(0,5).map(i=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:i.studentName}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.studentNameBn,"  : ",i.rollNumber]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(Oe,{variant:"outline",children:i.examType}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(i.createdAt).toLocaleDateString("bn-BD")})]})]},i.id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"   "})})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:""})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsx("span",{className:"text-sm",children:"QR   "})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-sm",children:" "})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),e.jsx("span",{className:"text-sm",children:" "})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),e.jsx("span",{className:"text-sm",children:" "})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e.jsx("span",{className:"text-sm",children:"Excel  "})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500"}),e.jsx("span",{className:"text-sm",children:"  "})]})]})})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"  "})}),e.jsx(M,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"     "}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Ks,{className:"w-4 h-4 mr-2"})," "]})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"   "}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(cn,{className:"w-4 h-4 mr-2"})," "]})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"    "}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(ss,{className:"w-4 h-4 mr-2"}),""]})]})]})})]})]})})}var U_="Checkbox",[Hge,n_e]=Ga(U_),[Vge,Kge]=Hge(U_),sK=b.forwardRef((t,s)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:l,disabled:o,value:c="on",onCheckedChange:d,form:u,...h}=t,[A,m]=b.useState(null),p=sr(s,B=>m(B)),f=b.useRef(!1),x=A?u||!!A.closest("form"):!0,[g=!1,v]=go({prop:a,defaultProp:i,onChange:d}),j=b.useRef(g);return b.useEffect(()=>{const B=A==null?void 0:A.form;if(B){const F=()=>v(j.current);return B.addEventListener("reset",F),()=>B.removeEventListener("reset",F)}},[A,v]),e.jsxs(Vge,{scope:r,state:g,disabled:o,children:[e.jsx(os.button,{type:"button",role:"checkbox","aria-checked":gh(g)?"mixed":g,"aria-required":l,"data-state":aK(g),"data-disabled":o?"":void 0,disabled:o,value:c,...h,ref:p,onKeyDown:Qt(t.onKeyDown,B=>{B.key==="Enter"&&B.preventDefault()}),onClick:Qt(t.onClick,B=>{v(F=>gh(F)?!0:!F),x&&(f.current=B.isPropagationStopped(),f.current||B.stopPropagation())})}),x&&e.jsx(zge,{control:A,bubbles:!f.current,name:n,value:c,checked:g,required:l,disabled:o,form:u,style:{transform:"translateX(-100%)"},defaultChecked:gh(i)?!1:i})]})});sK.displayName=U_;var rK="CheckboxIndicator",nK=b.forwardRef((t,s)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,i=Kge(rK,r);return e.jsx(Ri,{present:n||gh(i.state)||i.state===!0,children:e.jsx(os.span,{"data-state":aK(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...t.style}})})});nK.displayName=rK;var zge=t=>{const{control:s,checked:r,bubbles:n=!0,defaultChecked:a,...i}=t,l=b.useRef(null),o=X2(r),c=W2(s);b.useEffect(()=>{const u=l.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(o!==r&&m){const p=new Event("click",{bubbles:n});u.indeterminate=gh(r),m.call(u,gh(r)?!1:r),u.dispatchEvent(p)}},[o,r,n]);const d=b.useRef(gh(r)?!1:r);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:l,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function gh(t){return t==="indeterminate"}function aK(t){return gh(t)?"indeterminate":t?"checked":"unchecked"}var iK=sK,qge=nK;const hm=b.forwardRef(({className:t,...s},r)=>e.jsx(iK,{ref:r,className:at("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(qge,{className:at("flex items-center justify-center text-current"),children:e.jsx(L2,{className:"h-4 w-4"})})}));hm.displayName=iK.displayName;var O_="Switch",[$ge,a_e]=Ga(O_),[Gge,Wge]=$ge(O_),lK=b.forwardRef((t,s)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:l,disabled:o,value:c="on",onCheckedChange:d,form:u,...h}=t,[A,m]=b.useState(null),p=sr(s,j=>m(j)),f=b.useRef(!1),x=A?u||!!A.closest("form"):!0,[g=!1,v]=go({prop:a,defaultProp:i,onChange:d});return e.jsxs(Gge,{scope:r,checked:g,disabled:o,children:[e.jsx(os.button,{type:"button",role:"switch","aria-checked":g,"aria-required":l,"data-state":dK(g),"data-disabled":o?"":void 0,disabled:o,value:c,...h,ref:p,onClick:Qt(t.onClick,j=>{v(B=>!B),x&&(f.current=j.isPropagationStopped(),f.current||j.stopPropagation())})}),x&&e.jsx(Yge,{control:A,bubbles:!f.current,name:n,value:c,checked:g,required:l,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});lK.displayName=O_;var oK="SwitchThumb",cK=b.forwardRef((t,s)=>{const{__scopeSwitch:r,...n}=t,a=Wge(oK,r);return e.jsx(os.span,{"data-state":dK(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:s})});cK.displayName=oK;var Yge=t=>{const{control:s,checked:r,bubbles:n=!0,...a}=t,i=b.useRef(null),l=X2(r),o=W2(s);return b.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&h){const A=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(A)}},[l,r,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function dK(t){return t?"checked":"unchecked"}var uK=lK,Xge=cK;const Ws=b.forwardRef(({className:t,...s},r)=>e.jsx(uK,{className:at("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:r,children:e.jsx(Xge,{className:at("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ws.displayName=uK.displayName;const Jge=Y.object({name:Y.string().min(1,"  "),description:Y.string().optional(),templateType:Y.enum(["portrait_single","landscape_dual"]),design:Y.object({layout:Y.string(),colors:Y.object({primary:Y.string(),secondary:Y.string(),accent:Y.string()}),fonts:Y.object({bengali:Y.string(),english:Y.string()}),elements:Y.object({showLogo:Y.boolean(),showWatermark:Y.boolean(),showQR:Y.boolean(),showSignatures:Y.boolean()})})}),Zge=Y.object({studentName:Y.string().min(1,"  "),studentNameBn:Y.string().optional(),rollNumber:Y.string().min(1,"  "),className:Y.string().min(1," "),section:Y.string().optional(),examType:Y.string().min(1,"  "),examCenter:Y.string().min(1,"  "),examDate:Y.string().optional(),templateId:Y.string().min(1,"  ")}),eve=Y.object({batchName:Y.string().min(1,"  "),examType:Y.string().min(1,"  "),templateId:Y.string().min(1,"  "),filterType:Y.enum(["class","section","all"]),selectedClasses:Y.array(Y.string()).optional(),selectedSections:Y.array(Y.string()).optional()}),iA=[{id:"classic-portrait",name:"Classic Board Exam Style",description:"Traditional JSC/SSC/HSC style admit card",templateType:"portrait_single",design:{layout:"traditional",colors:{primary:"#1E3A8A",secondary:"#F59E0B",accent:"#059669"},fonts:{bengali:"SolaimanLipi",english:"Times New Roman"},elements:{showLogo:!0,showWatermark:!0,showQR:!0,showSignatures:!0}}},{id:"modern-portrait",name:"Modern Institutional Style",description:"Clean and modern design for institutions",templateType:"portrait_single",design:{layout:"modern",colors:{primary:"#059669",secondary:"#0EA5E9",accent:"#F59E0B"},fonts:{bengali:"Kalpurush",english:"Arial"},elements:{showLogo:!0,showWatermark:!0,showQR:!0,showSignatures:!0}}},{id:"efficient-landscape",name:"Efficient Dual Layout",description:"Cost-effective dual card layout",templateType:"landscape_dual",design:{layout:"compact",colors:{primary:"#1D4ED8",secondary:"#6B7280",accent:"#10B981"},fonts:{bengali:"SolaimanLipi",english:"Arial"},elements:{showLogo:!0,showWatermark:!1,showQR:!0,showSignatures:!0}}},{id:"premium-landscape",name:"Premium Horizontal Layout",description:"Full-featured horizontal design",templateType:"landscape_dual",design:{layout:"premium",colors:{primary:"#7C3AED",secondary:"#EC4899",accent:"#F59E0B"},fonts:{bengali:"Nikosh",english:"Georgia"},elements:{showLogo:!0,showWatermark:!0,showQR:!0,showSignatures:!0}}}];function tve(){const[t,s]=b.useState("single"),[r,n]=b.useState(iA[0]),[a,i]=b.useState(null),{toast:l}=ls();Cs();const{data:o,isLoading:c}=st({queryKey:["/api/admit-card-templates"],queryFn:async()=>{const f=await fetch("/api/admit-card-templates");if(!f.ok)throw new Error("Failed to fetch templates");return f.json()}});gs.useEffect(()=>{console.log("Templates loaded:",o),o&&o.length>0&&(console.log("Setting first template:",o[0]),n(o[0]))},[o]);const d=zs({resolver:qs(Jge),defaultValues:{name:"",description:"",templateType:"portrait_single",design:{layout:"traditional",colors:{primary:"#1E3A8A",secondary:"#F59E0B",accent:"#059669"},fonts:{bengali:"SolaimanLipi",english:"Times New Roman"},elements:{showLogo:!0,showWatermark:!0,showQR:!0,showSignatures:!0}}}}),u=zs({resolver:qs(Zge),defaultValues:{studentName:"",studentNameBn:"",rollNumber:"",className:"",section:"",examType:"",examCenter:"",examDate:"",templateId:"classic-portrait"}}),h=zs({resolver:qs(eve),defaultValues:{batchName:"",examType:"",templateId:"classic-portrait",filterType:"class",selectedClasses:[],selectedSections:[]}}),A=({template:f,data:x})=>{const g=f.templateType==="landscape_dual",v=f.design.colors;return e.jsxs("div",{className:"bg-white border-2 border-gray-200 shadow-lg rounded-lg overflow-hidden",style:{width:g?"400px":"280px",height:g?"280px":"400px",fontSize:"8px"},children:[e.jsxs("div",{className:"text-center p-2 text-white",style:{backgroundColor:v.primary},children:[f.design.elements.showLogo&&e.jsx("div",{className:"w-8 h-8 bg-white rounded-full mx-auto mb-1 flex items-center justify-center",children:e.jsx("span",{className:"text-xs",style:{color:v.primary},children:""})}),e.jsx("h3",{className:"text-xs font-bold",children:"  "}),e.jsx("p",{className:"text-xs opacity-90",children:"Adarsha High School"}),e.jsx("p",{className:"text-xs opacity-80",children:", "})]}),e.jsxs("div",{className:"text-center py-2",style:{backgroundColor:`${v.secondary}20`},children:[e.jsx("h2",{className:"text-sm font-bold",style:{color:v.secondary},children:" / ADMIT CARD"}),e.jsx("p",{className:"text-xs",children:"  - "})]}),e.jsx("div",{className:`p-2 flex ${g?"flex-row":"flex-col"} gap-2`,children:g?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 border-r border-dashed border-gray-300 pr-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-12 h-16 bg-gray-100 border border-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-gray-500",children:""})}),e.jsxs("div",{className:"flex-1 text-xs space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:":"})," ",(x==null?void 0:x.studentName)||" "]}),e.jsxs("div",{children:[e.jsx("strong",{children:":"})," ",(x==null?void 0:x.rollNumber)||""]}),e.jsxs("div",{children:[e.jsx("strong",{children:":"})," ",(x==null?void 0:x.className)||""]}),e.jsxs("div",{children:[e.jsx("strong",{children:":"})," ",(x==null?void 0:x.examCenter)||"   "]})]})]}),f.design.elements.showQR&&e.jsx("div",{className:"mt-2 flex justify-end",children:e.jsx("div",{className:"w-8 h-8 bg-gray-200 border border-gray-300",children:e.jsx("span",{className:"text-xs",children:"QR"})})})]}),e.jsxs("div",{className:"flex-1 pl-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-12 h-16 bg-gray-100 border border-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-gray-500",children:""})}),e.jsxs("div",{className:"flex-1 text-xs space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:":"}),"  "]}),e.jsxs("div",{children:[e.jsx("strong",{children:":"})," "]}),e.jsxs("div",{children:[e.jsx("strong",{children:":"})," "]}),e.jsxs("div",{children:[e.jsx("strong",{children:":"}),"    "]})]})]}),f.design.elements.showQR&&e.jsx("div",{className:"mt-2 flex justify-end",children:e.jsx("div",{className:"w-8 h-8 bg-gray-200 border border-gray-300",children:e.jsx("span",{className:"text-xs",children:"QR"})})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-16 h-20 bg-gray-100 border border-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-gray-500",children:""})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("strong",{children:":"}),e.jsx("br",{}),(x==null?void 0:x.studentName)||" "]}),e.jsxs("div",{children:[e.jsx("strong",{children:":"}),e.jsx("br",{}),(x==null?void 0:x.rollNumber)||""]}),e.jsxs("div",{children:[e.jsx("strong",{children:":"}),e.jsx("br",{}),(x==null?void 0:x.className)||""]}),e.jsxs("div",{children:[e.jsx("strong",{children:":"}),e.jsx("br",{}),(x==null?void 0:x.section)||""]})]})}),f.design.elements.showQR&&e.jsx("div",{className:"w-12 h-12 bg-gray-200 border border-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-xs",children:"QR"})})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("h4",{className:"text-xs font-bold mb-1",children:" :"}),e.jsxs("table",{className:"w-full text-xs border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-gray-300 p-1 text-left",children:""}),e.jsx("th",{className:"border border-gray-300 p-1",children:""}),e.jsx("th",{className:"border border-gray-300 p-1",children:""})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 p-1",children:""}),e.jsx("td",{className:"border border-gray-300 p-1 text-center",children:"//"}),e.jsx("td",{className:"border border-gray-300 p-1 text-center",children:"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 p-1",children:""}),e.jsx("td",{className:"border border-gray-300 p-1 text-center",children:"//"}),e.jsx("td",{className:"border border-gray-300 p-1 text-center",children:"-"})]})]})]})]})]})}),f.design.elements.showSignatures&&e.jsx("div",{className:"p-2 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-6 border-b border-gray-300 mb-1"}),e.jsx("span",{children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-6 border-b border-gray-300 mb-1"}),e.jsx("span",{children:" "})]})]})}),f.design.elements.showWatermark&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-10",children:e.jsx("div",{className:"text-4xl font-bold transform rotate-45 text-gray-400",children:" "})})]})},m=Bt({mutationFn:async f=>{const x=await fetch("/api/admit-cards/generate-single",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!x.ok)throw new Error("Failed to generate admit card");return x.json()},onSuccess:()=>{l({title:"",description:"    "}),u.reset()},onError:()=>{l({title:"",description:"   ",variant:"destructive"})}}),p=Bt({mutationFn:async f=>{const x=await fetch("/api/admit-cards/generate-batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!x.ok)throw new Error("Failed to generate batch");return x.json()},onSuccess:()=>{l({title:"",description:"   "}),h.reset()},onError:()=>{l({title:"",description:"  ",variant:"destructive"})}});return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-4",children:[e.jsx(tt,{href:"/",className:"hover:text-gray-700",children:""}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium",children:"  "})]}),e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"  "}),e.jsx("p",{className:"text-gray-600 mt-1",children:"         "})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(Ar,{value:t,onValueChange:s,children:[e.jsxs(ir,{className:"grid w-full grid-cols-3",children:[e.jsx(lt,{value:"single",children:" "}),e.jsx(lt,{value:"batch",children:" "}),e.jsx(lt,{value:"templates",children:""})]}),e.jsx(bt,{value:"single",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"   "})}),e.jsx(M,{children:e.jsx(Ms,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(f=>{i(f),m.mutate(f)}),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Se,{control:u.control,name:"studentName",render:({field:f})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  () *"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"Mohammad Rahman",...f})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"studentNameBn",render:({field:f})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{placeholder:" ",...f})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"rollNumber",render:({field:f})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"123456",...f})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"className",render:({field:f})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" *"}),e.jsxs(xt,{onValueChange:f.onChange,defaultValue:f.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"",children:" "})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"section",render:({field:f})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsxs(xt,{onValueChange:f.onChange,defaultValue:f.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"examType",render:({field:f})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsxs(xt,{onValueChange:f.onChange,defaultValue:f.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"   "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"JSC",children:""}),e.jsx(X,{value:"SSC",children:""}),e.jsx(X,{value:"HSC",children:""})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"examCenter",render:({field:f})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"   ",...f})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"examDate",render:({field:f})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"date",...f})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:u.control,name:"templateId",render:({field:f})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" *"}),e.jsxs(xt,{onValueChange:x=>{f.onChange(x);const g=iA.find(v=>v.id===x);g&&n(g)},defaultValue:f.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsx(At,{children:iA.map(x=>e.jsx(X,{value:x.id,children:x.name},x.id))})]}),e.jsx(_e,{})]})})]}),e.jsx(V,{type:"submit",disabled:m.isPending,className:"w-full",children:m.isPending?" ...":"   "})]})})})]})}),e.jsx(bt,{value:"batch",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"   "})}),e.jsx(M,{children:e.jsx(Ms,{...h,children:e.jsxs("form",{onSubmit:h.handleSubmit(f=>p.mutate(f)),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Se,{control:h.control,name:"batchName",render:({field:f})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"    ",...f})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:h.control,name:"examType",render:({field:f})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsxs(xt,{onValueChange:f.onChange,defaultValue:f.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"   "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"",children:" "}),e.jsx(X,{value:"",children:" "})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:h.control,name:"templateId",render:({field:f})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" *"}),e.jsxs(xt,{onValueChange:f.onChange,defaultValue:f.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsx(At,{children:iA.map(x=>e.jsx(X,{value:x.id,children:x.name},x.id))})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:h.control,name:"filterType",render:({field:f})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsxs(xt,{onValueChange:f.onChange,defaultValue:f.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"   "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"class",children:" "}),e.jsx(X,{value:"section",children:" "}),e.jsx(X,{value:"all",children:" -"})]})]}),e.jsx(_e,{})]})})]}),h.watch("filterType")==="class"&&e.jsxs("div",{children:[e.jsx(ke,{className:"text-base font-medium",children:" "}),e.jsx("div",{className:"mt-2 grid grid-cols-3 gap-2",children:["","","","",""].map(f=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(hm,{id:f}),e.jsxs(ke,{htmlFor:f,children:[f," "]})]},f))})]}),h.watch("filterType")==="section"&&e.jsxs("div",{children:[e.jsx(ke,{className:"text-base font-medium",children:" "}),e.jsx("div",{className:"mt-2 grid grid-cols-4 gap-2",children:["","","",""].map(f=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(hm,{id:f}),e.jsxs(ke,{htmlFor:f,children:[" ",f]})]},f))})]}),e.jsx(V,{type:"submit",disabled:p.isPending,className:"w-full",children:p.isPending?"  ...":"  "})]})})})]})}),e.jsx(bt,{value:"templates",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ke,{children:" "}),e.jsxs(xt,{onValueChange:f=>{const g=(o||iA).find(v=>v.id===f);g&&(n(g),d.reset({name:g.name,description:g.description,templateType:g.templateType,design:g.design}))},children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})}),e.jsx(At,{children:(o||iA).map(f=>e.jsx(X,{value:f.id,children:f.name},f.id))})]})]}),e.jsx(il,{}),e.jsx(Ms,{...d,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Se,{control:d.control,name:"name",render:({field:f})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{...f})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:d.control,name:"description",render:({field:f})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(Gs,{...f})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:d.control,name:"templateType",render:({field:f})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsxs(xt,{onValueChange:f.onChange,defaultValue:f.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{})})}),e.jsxs(At,{children:[e.jsx(X,{value:"portrait_single",children:" ()"}),e.jsx(X,{value:"landscape_dual",children:" ()"})]})]}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ke,{className:"text-base font-medium",children:" "}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{children:" "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{type:"color",value:d.watch("design.colors.primary"),onChange:f=>d.setValue("design.colors.primary",f.target.value),className:"w-12 h-8 p-0 border-0"}),e.jsx(de,{value:d.watch("design.colors.primary"),onChange:f=>d.setValue("design.colors.primary",f.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(ke,{children:" "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{type:"color",value:d.watch("design.colors.secondary"),onChange:f=>d.setValue("design.colors.secondary",f.target.value),className:"w-12 h-8 p-0 border-0"}),e.jsx(de,{value:d.watch("design.colors.secondary"),onChange:f=>d.setValue("design.colors.secondary",f.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(ke,{children:" "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{type:"color",value:d.watch("design.colors.accent"),onChange:f=>d.setValue("design.colors.accent",f.target.value),className:"w-12 h-8 p-0 border-0"}),e.jsx(de,{value:d.watch("design.colors.accent"),onChange:f=>d.setValue("design.colors.accent",f.target.value)})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ke,{className:"text-base font-medium",children:" "}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{children:" "}),e.jsxs(xt,{value:d.watch("design.fonts.bengali"),onValueChange:f=>d.setValue("design.fonts.bengali",f),children:[e.jsx(ht,{children:e.jsx(pt,{})}),e.jsxs(At,{children:[e.jsx(X,{value:"SolaimanLipi",children:" "}),e.jsx(X,{value:"Kalpurush",children:""}),e.jsx(X,{value:"Nikosh",children:""})]})]})]}),e.jsxs("div",{children:[e.jsx(ke,{children:" "}),e.jsxs(xt,{value:d.watch("design.fonts.english"),onValueChange:f=>d.setValue("design.fonts.english",f),children:[e.jsx(ht,{children:e.jsx(pt,{})}),e.jsxs(At,{children:[e.jsx(X,{value:"Times New Roman",children:"Times New Roman"}),e.jsx(X,{value:"Arial",children:"Arial"}),e.jsx(X,{value:"Georgia",children:"Georgia"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ke,{className:"text-base font-medium",children:" "}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ws,{checked:d.watch("design.elements.showLogo"),onCheckedChange:f=>d.setValue("design.elements.showLogo",f)}),e.jsx(ke,{children:" "})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ws,{checked:d.watch("design.elements.showWatermark"),onCheckedChange:f=>d.setValue("design.elements.showWatermark",f)}),e.jsx(ke,{children:""})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ws,{checked:d.watch("design.elements.showQR"),onCheckedChange:f=>d.setValue("design.elements.showQR",f)}),e.jsx(ke,{children:"QR "})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ws,{checked:d.watch("design.elements.showSignatures"),onCheckedChange:f=>d.setValue("design.elements.showSignatures",f)}),e.jsx(ke,{children:" "})]})]})]}),e.jsx(V,{type:"button",className:"w-full",children:"  "})]})})]})})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:" "}),e.jsxs("p",{className:"text-sm text-gray-600",children:["  : ",r.name]})]}),e.jsxs(M,{children:[e.jsx("div",{className:"flex justify-center bg-gray-50 p-4 rounded-lg",children:e.jsx(A,{template:r,data:a})}),e.jsxs("div",{className:"mt-4 text-center space-x-2",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx("span",{className:"material-icons text-sm mr-1",children:"print"})," "]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx("span",{className:"material-icons text-sm mr-1",children:"download"}),""]})]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:c?e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-gray-500",children:"  ..."})}):e.jsx("div",{className:"grid grid-cols-1 gap-3",children:(o||iA).map(f=>e.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${r&&r.id===f.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n(f),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:f.name}),e.jsx("p",{className:"text-sm text-gray-600",children:f.description})]}),e.jsx("div",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:f.templateType==="portrait_single"?"":""})]})},f.id))})})]})]})]})]})})}const sve=Y.object({studentName:Y.string().min(2,"  "),studentNameBn:Y.string().optional(),studentId:Y.string().optional(),rollNumber:Y.string().min(1,"  "),registrationNumber:Y.string().optional(),className:Y.string().min(1,"  "),section:Y.string().optional(),examType:Y.string().min(1,"   "),examDate:Y.string().optional(),subjects:Y.array(Y.object({code:Y.string(),name:Y.string()})).optional(),templateId:Y.string().min(1,"  ")});function rve(){const{toast:t}=ls();Oi();const s=Cs(),[r,n]=b.useState(!1),i=new URLSearchParams(window.location.search).get("template"),{data:l,isLoading:o}=st({queryKey:["/api/admit-cards/templates"],queryFn:async()=>{const h=await fetch("/api/admit-cards/templates");if(!h.ok)throw new Error("Failed to fetch templates");return h.json()}}),c=zs({resolver:qs(sve),defaultValues:{studentName:"",studentNameBn:"",rollNumber:"",className:"",section:"",examType:"",examDate:"",templateId:i||"",subjects:[{code:"101",name:""},{code:"102",name:""},{code:"103",name:""},{code:"104",name:""}]}}),d=Bt({mutationFn:async h=>{const A=await fetch("/api/admit-cards/generate-single",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!A.ok){const m=await A.json();throw new Error(m.message||"Failed to create admit card")}return A.json()},onSuccess:h=>{t({title:"!",description:"    "}),s.invalidateQueries({queryKey:["/api/admit-cards/stats"]}),s.invalidateQueries({queryKey:["/api/admit-cards/recent"]}),n(!0)},onError:h=>{t({title:"",description:h.message,variant:"destructive"})}}),u=h=>{d.mutate(h)};return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-4","aria-label":"Breadcrumb",children:[e.jsx(tt,{href:"/",className:"hover:text-gray-700",children:""}),e.jsx("span",{children:"/"}),e.jsx(tt,{href:"/documents/admit-cards",className:"hover:text-gray-700",children:" "}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium",children:" "})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"   "}),e.jsx("p",{className:"text-gray-600 mt-1",children:"      "})]}),e.jsx(tt,{href:"/documents/admit-cards",children:e.jsxs(V,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-icons text-sm",children:"arrow_back"})," "]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:e.jsx(Ms,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(Se,{control:c.control,name:"studentName",render:({field:h})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  () *"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"Mohammad Rahman",...h})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:c.control,name:"studentNameBn",render:({field:h})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{placeholder:" ",...h})}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:c.control,name:"rollNumber",render:({field:h})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"2023-567",...h})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:c.control,name:"registrationNumber",render:({field:h})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:"2023-0042",...h})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:c.control,name:"className",render:({field:h})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" *"}),e.jsxs(xt,{onValueChange:h.onChange,value:h.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"6",children:" "}),e.jsx(X,{value:"7",children:" "}),e.jsx(X,{value:"8",children:" "}),e.jsx(X,{value:"9",children:" "}),e.jsx(X,{value:"10",children:" "}),e.jsx(X,{value:"11",children:" "}),e.jsx(X,{value:"12",children:" "})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:c.control,name:"section",render:({field:h})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsxs(xt,{onValueChange:h.onChange,value:h.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"A",children:" - "}),e.jsx(X,{value:"B",children:" - "}),e.jsx(X,{value:"C",children:" - "}),e.jsx(X,{value:"D",children:" - "})]})]}),e.jsx(_e,{})]})})]}),e.jsx(Se,{control:c.control,name:"examType",render:({field:h})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsxs(xt,{onValueChange:h.onChange,value:h.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"   "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"half-yearly",children:" "}),e.jsx(X,{value:"annual",children:" "}),e.jsx(X,{value:"test",children:" "}),e.jsx(X,{value:"board",children:" "})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:c.control,name:"examDate",render:({field:h})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"date",...h})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:c.control,name:"templateId",render:({field:h})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" *"}),e.jsxs(xt,{onValueChange:h.onChange,value:h.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsx(At,{children:l==null?void 0:l.map(A=>e.jsx(X,{value:A.id.toString(),children:A.nameBn||A.name},A.id))})]}),e.jsx(_e,{})]})})]}),e.jsx(V,{type:"submit",className:"w-full",disabled:d.isPending,children:d.isPending?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons animate-spin mr-2",children:"refresh"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons mr-2",children:"description"}),"   "]})})]})})})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:""})}),e.jsx(M,{children:r?e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[e.jsx("span",{className:"material-icons text-green-600 text-4xl mb-2",children:"check_circle"}),e.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"!"}),e.jsx("p",{className:"text-green-700",children:"    "}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs(V,{className:"w-full",children:[e.jsx("span",{className:"material-icons mr-2",children:"download"}),"PDF  "]}),e.jsx(V,{variant:"outline",className:"w-full",onClick:()=>n(!1),children:"  "})]})]})}):e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("span",{className:"material-icons text-6xl text-gray-300 mb-4",children:"preview"}),e.jsx("p",{children:"       "})]})})]})]})]})})}function nve(){const{toast:t}=ls(),s=Cs(),[r,n]=b.useState([]),[a,i]=b.useState(""),[l,o]=b.useState(""),[c,d]=b.useState(""),[u]=b.useState([{id:"1",name:"Mohammad Rahman",nameBn:" ",rollNumber:"001",className:"10",section:"A"},{id:"2",name:"Fatima Khatun",nameBn:" ",rollNumber:"002",className:"10",section:"A"},{id:"3",name:"Abdul Karim",nameBn:" ",rollNumber:"003",className:"10",section:"A"},{id:"4",name:"Rashida Begum",nameBn:" ",rollNumber:"004",className:"10",section:"B"},{id:"5",name:"Aminul Islam",nameBn:" ",rollNumber:"005",className:"10",section:"B"}]),{data:h}=st({queryKey:["/api/admit-cards/templates"],queryFn:async()=>{const x=await fetch("/api/admit-cards/templates");if(!x.ok)throw new Error("Failed to fetch templates");return x.json()}}),A=Bt({mutationFn:async x=>{const g=await fetch("/api/admit-cards/generate-batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!g.ok){const v=await g.json();throw new Error(v.message||"Failed to create batch admit cards")}return g.json()},onSuccess:x=>{var g;t({title:"!",description:`${((g=x.summary)==null?void 0:g.successful)||0}      `}),s.invalidateQueries({queryKey:["/api/admit-cards/stats"]}),s.invalidateQueries({queryKey:["/api/admit-cards/recent"]}),n([])},onError:x=>{t({title:"",description:x.message,variant:"destructive"})}}),m=x=>{n(g=>g.find(j=>j.id===x.id)?g.filter(j=>j.id!==x.id):[...g,x])},p=()=>{r.length===u.length?n([]):n([...u])},f=()=>{if(r.length===0){t({title:"",description:"    ",variant:"destructive"});return}if(!a||!c){t({title:"",description:"     ",variant:"destructive"});return}const x={students:r.map(g=>({studentName:g.name,studentNameBn:g.nameBn,rollNumber:g.rollNumber,className:g.className,section:g.section,subjects:[{code:"101",name:""},{code:"102",name:""},{code:"103",name:""},{code:"104",name:""}]})),templateId:c,examType:a,examDate:l,schoolData:{name:"  ",address:", "}};A.mutate(x)};return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-4","aria-label":"Breadcrumb",children:[e.jsx(tt,{href:"/",className:"hover:text-gray-700",children:""}),e.jsx("span",{children:"/"}),e.jsx(tt,{href:"/documents/admit-cards",className:"hover:text-gray-700",children:" "}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium",children:" "})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"   "}),e.jsx("p",{className:"text-gray-600 mt-1",children:"       "})]}),e.jsx(tt,{href:"/documents/admit-cards",children:e.jsxs(V,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-icons text-sm",children:"arrow_back"})," "]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{children:" "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hm,{id:"select-all",checked:r.length===u.length,onCheckedChange:p}),e.jsxs(ke,{htmlFor:"select-all",className:"text-sm",children:["  (",r.length,"/",u.length,")"]})]})]})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-3",children:u.map(x=>e.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg cursor-pointer transition-colors ${r.find(g=>g.id===x.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>m(x),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(hm,{checked:!!r.find(g=>g.id===x.id),onChange:()=>{}}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:x.nameBn}),e.jsx("div",{className:"text-sm text-gray-500",children:x.name})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium",children:[": ",x.rollNumber]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[x.className," - ",x.section]})]})]},x.id))})})]})}),e.jsxs("div",{children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"exam-type",children:"  *"}),e.jsxs(xt,{value:a,onValueChange:i,children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"   "})}),e.jsxs(At,{children:[e.jsx(X,{value:"half-yearly",children:" "}),e.jsx(X,{value:"annual",children:" "}),e.jsx(X,{value:"test",children:" "}),e.jsx(X,{value:"board",children:" "})]})]})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"exam-date",children:" "}),e.jsx(de,{id:"exam-date",type:"date",value:l,onChange:x=>o(x.target.value)})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"template",children:" *"}),e.jsxs(xt,{value:c,onValueChange:d,children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})}),e.jsx(At,{children:h==null?void 0:h.map(x=>e.jsx(X,{value:x.id.toString(),children:x.nameBn||x.name},x.id))})]})]})]})]}),r.length>0&&e.jsxs(H,{className:"mt-6",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-icons",children:"group"})," "]})}),e.jsxs(M,{children:[e.jsxs("div",{className:"space-y-2 mb-4",children:[r.slice(0,3).map(x=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:x.nameBn}),e.jsx(Oe,{variant:"outline",children:x.rollNumber})]},x.id)),r.length>3&&e.jsxs("div",{className:"text-sm text-gray-500 text-center",children:[" ",r.length-3," ..."]})]}),e.jsx(V,{onClick:f,className:"w-full",disabled:A.isPending||r.length===0,children:A.isPending?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons animate-spin mr-2",children:"refresh"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons mr-2",children:"description"}),r.length,"     "]})})]})]})]})]})]})})}function ave(){ls(),Cs();const[t,s]=b.useState("all"),{data:r,isLoading:n}=st({queryKey:["/api/admit-cards/templates"],queryFn:async()=>{const l=await fetch("/api/admit-cards/templates");if(!l.ok)throw new Error("Failed to fetch templates");return l.json()}}),a=(r==null?void 0:r.filter(l=>t==="hsc"?l.category==="hsc":t==="default"?l.category==="default":t==="custom"?l.category==="custom":!0))||[],i=(l,o)=>{o==="hsc"?window.location.href=`/admit-card/hsc-generator?template=${l}`:window.location.href=`/admit-card/create-single?template=${l}`};return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-4","aria-label":"Breadcrumb",children:[e.jsx(tt,{href:"/",className:"hover:text-gray-700",children:""}),e.jsx("span",{children:"/"}),e.jsx(tt,{href:"/documents/admit-cards",className:"hover:text-gray-700",children:" "}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium",children:" "})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-gray-600 mt-1",children:"      "})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(tt,{href:"/admit-card/create-template",children:e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-icons text-sm",children:"add"}),"   "]})}),e.jsx(tt,{href:"/admit-card/bangla-generator",children:e.jsxs(V,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-icons text-sm",children:"translate"}),"  "]})}),e.jsx(tt,{href:"/documents/admit-cards",children:e.jsxs(V,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-icons text-sm",children:"arrow_back"})," "]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"material-icons text-blue-600 text-2xl mr-3",children:"dashboard_customize"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(r==null?void 0:r.length)||0}),e.jsx("div",{className:"text-sm text-gray-500",children:" "})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"material-icons text-indigo-600 text-2xl mr-3",children:"school"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(r==null?void 0:r.filter(l=>l.category==="hsc").length)||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"HSC "})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"material-icons text-green-600 text-2xl mr-3",children:"verified"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(r==null?void 0:r.filter(l=>l.category==="default").length)||0}),e.jsx("div",{className:"text-sm text-gray-500",children:" "})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"material-icons text-purple-600 text-2xl mr-3",children:"edit"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(r==null?void 0:r.filter(l=>l.category==="custom").length)||0}),e.jsx("div",{className:"text-sm text-gray-500",children:" "})]})]})})})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:e.jsxs(Ar,{value:t,onValueChange:s,className:"w-full",children:[e.jsxs(ir,{className:"grid w-full grid-cols-4",children:[e.jsxs(lt,{value:"all",children:["  (",(r==null?void 0:r.length)||0,")"]}),e.jsxs(lt,{value:"hsc",children:["HSC  (",(r==null?void 0:r.filter(l=>l.category==="hsc").length)||0,")"]}),e.jsxs(lt,{value:"default",children:[" (",(r==null?void 0:r.filter(l=>l.category==="default").length)||0,")"]}),e.jsxs(lt,{value:"custom",children:[" (",(r==null?void 0:r.filter(l=>l.category==="custom").length)||0,")"]})]}),e.jsx(bt,{value:t,className:"mt-6",children:n?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((l,o)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"aspect-[3/4] bg-gray-200 rounded-lg mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},o))}):a.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(l=>e.jsxs(H,{className:"group hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"aspect-[3/4] bg-gray-50 flex items-center justify-center overflow-hidden rounded-t-lg",children:l.previewUrl?e.jsx("img",{src:l.previewUrl,alt:`${l.nameBn||l.name} `,className:"w-full h-full object-cover"}):e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"material-icons text-6xl text-gray-300 mb-2",children:"description"}),e.jsx("p",{className:"text-sm text-gray-400",children:" "})]})}),e.jsxs(M,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:l.nameBn||l.name}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Oe,{variant:l.category==="hsc"?"default":l.category==="default"?"secondary":"outline",className:`text-xs ${l.category==="hsc"?"bg-indigo-100 text-indigo-800":l.category==="default"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:l.category==="hsc"?"HSC":l.category==="default"?"":""}),l.isActive&&e.jsx(Oe,{variant:"outline",className:"text-xs text-green-600",children:""})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:l.category==="hsc"?"HSC   ":l.description||"  "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{size:"sm",className:"flex-1",onClick:()=>i(l.id.toString(),l.category),children:[e.jsx("span",{className:"material-icons text-sm mr-1",children:"play_arrow"})," "]}),e.jsx(V,{variant:"outline",size:"sm",children:e.jsx("span",{className:"material-icons text-sm",children:"visibility"})}),e.jsx(V,{variant:"outline",size:"sm",children:e.jsx("span",{className:"material-icons text-sm",children:"edit"})})]})]})]},l.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("span",{className:"material-icons text-6xl text-gray-300 mb-4",children:"dashboard_customize"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"   "}),e.jsx("p",{className:"text-gray-500 mb-6",children:t==="all"?"     ":` ${t==="default"?"":""}   `}),e.jsx(tt,{href:"/admit-card/templates/create",children:e.jsxs(V,{children:[e.jsx("span",{className:"material-icons mr-2",children:"add"}),"   "]})})]})})]})})]})]})})}function ive(){const{toast:t}=ls(),[s,r]=b.useState({schoolName:"  ",schoolNameEn:"Dhaka Public School",schoolAddress:", ",schoolCode:"DHK-123",defaultExamCenter:"  ",principalName:" ",principalSignature:"",schoolLogo:"",watermarkText:"Admit Card",defaultLanguage:"bn",includePhoto:!0,includeQRCode:!1,includeBarcode:!1,autoGenerateSerialNo:!0,requireParentSignature:!0,enableBatchGeneration:!0,maxBatchSize:100,defaultTemplateId:"1"}),n=()=>{t({title:"  ",description:"       "})},a=()=>{r({schoolName:"  ",schoolNameEn:"Dhaka Public School",schoolAddress:", ",schoolCode:"DHK-123",defaultExamCenter:"  ",principalName:" ",principalSignature:"",schoolLogo:"",watermarkText:"Admit Card",defaultLanguage:"bn",includePhoto:!0,includeQRCode:!1,includeBarcode:!1,autoGenerateSerialNo:!0,requireParentSignature:!0,enableBatchGeneration:!0,maxBatchSize:100,defaultTemplateId:"1"}),t({title:"  ",description:"      "})};return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-4","aria-label":"Breadcrumb",children:[e.jsx(tt,{href:"/",className:"hover:text-gray-700",children:""}),e.jsx("span",{children:"/"}),e.jsx(tt,{href:"/documents/admit-cards",className:"hover:text-gray-700",children:" "}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium",children:""})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"  "}),e.jsx("p",{className:"text-gray-600 mt-1",children:"        "})]}),e.jsx(tt,{href:"/documents/admit-cards",children:e.jsxs(V,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-icons text-sm",children:"arrow_back"})," "]})})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-icons",children:"school"})," "]})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"school-name-bn",children:"  ()"}),e.jsx(de,{id:"school-name-bn",value:s.schoolName,onChange:i=>r(l=>({...l,schoolName:i.target.value}))})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"school-name-en",children:"  ()"}),e.jsx(de,{id:"school-name-en",value:s.schoolNameEn,onChange:i=>r(l=>({...l,schoolNameEn:i.target.value}))})]})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"school-address",children:" "}),e.jsx(Gs,{id:"school-address",value:s.schoolAddress,onChange:i=>r(l=>({...l,schoolAddress:i.target.value})),rows:2})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"school-code",children:" "}),e.jsx(de,{id:"school-code",value:s.schoolCode,onChange:i=>r(l=>({...l,schoolCode:i.target.value}))})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"exam-center",children:"  "}),e.jsx(de,{id:"exam-center",value:s.defaultExamCenter,onChange:i=>r(l=>({...l,defaultExamCenter:i.target.value}))})]})]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-icons",children:"person"})," "]})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"principal-name",children:"  "}),e.jsx(de,{id:"principal-name",value:s.principalName,onChange:i=>r(l=>({...l,principalName:i.target.value}))})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"principal-signature",children:"   ( URL)"}),e.jsx(de,{id:"principal-signature",type:"url",placeholder:"https://example.com/signature.png",value:s.principalSignature,onChange:i=>r(l=>({...l,principalSignature:i.target.value}))})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"school-logo",children:"  ( URL)"}),e.jsx(de,{id:"school-logo",type:"url",placeholder:"https://example.com/logo.png",value:s.schoolLogo,onChange:i=>r(l=>({...l,schoolLogo:i.target.value}))})]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-icons",children:"palette"})," "]})}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"watermark",children:" "}),e.jsx(de,{id:"watermark",value:s.watermarkText,onChange:i=>r(l=>({...l,watermarkText:i.target.value}))})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"default-language",children:" "}),e.jsxs(xt,{value:s.defaultLanguage,onValueChange:i=>r(l=>({...l,defaultLanguage:i})),children:[e.jsx(ht,{children:e.jsx(pt,{})}),e.jsxs(At,{children:[e.jsx(X,{value:"bn",children:""}),e.jsx(X,{value:"en",children:""}),e.jsx(X,{value:"both",children:""})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ke,{htmlFor:"include-photo",children:"   "}),e.jsx(Ws,{id:"include-photo",checked:s.includePhoto,onCheckedChange:i=>r(l=>({...l,includePhoto:i}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ke,{htmlFor:"include-qr",children:"QR   "}),e.jsx(Ws,{id:"include-qr",checked:s.includeQRCode,onCheckedChange:i=>r(l=>({...l,includeQRCode:i}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ke,{htmlFor:"include-barcode",children:"  "}),e.jsx(Ws,{id:"include-barcode",checked:s.includeBarcode,onCheckedChange:i=>r(l=>({...l,includeBarcode:i}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ke,{htmlFor:"auto-serial",children:"  "}),e.jsx(Ws,{id:"auto-serial",checked:s.autoGenerateSerialNo,onCheckedChange:i=>r(l=>({...l,autoGenerateSerialNo:i}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ke,{htmlFor:"parent-signature",children:"  "}),e.jsx(Ws,{id:"parent-signature",checked:s.requireParentSignature,onCheckedChange:i=>r(l=>({...l,requireParentSignature:i}))})]})]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-icons",children:"settings"})," "]})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ke,{htmlFor:"enable-batch",children:"  "}),e.jsx(Ws,{id:"enable-batch",checked:s.enableBatchGeneration,onCheckedChange:i=>r(l=>({...l,enableBatchGeneration:i}))})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"max-batch",children:"  "}),e.jsx(de,{id:"max-batch",type:"number",min:"1",max:"1000",value:s.maxBatchSize,onChange:i=>r(l=>({...l,maxBatchSize:parseInt(i.target.value)}))})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[e.jsxs(V,{variant:"outline",onClick:a,children:[e.jsx("span",{className:"material-icons mr-2",children:"refresh"})," "]}),e.jsxs(V,{onClick:n,children:[e.jsx("span",{className:"material-icons mr-2",children:"save"}),"  "]})]})]})]})})}function lve(){const{toast:t}=ls(),s=Cs(),r=b.useRef(null),[n,a]=b.useState(null),[i,l]=b.useState([]),[o,c]=b.useState(!1),{data:d,isLoading:u}=st({queryKey:["/api/students/import-history"],queryFn:async()=>{const f=await fetch("/api/students/import-history");if(!f.ok)throw new Error("Failed to fetch import history");return f.json()}}),h=Bt({mutationFn:async f=>{const x=new FormData;x.append("file",f);const g=await fetch("/api/students/import-excel",{method:"POST",body:x});if(!g.ok){const v=await g.json();throw new Error(v.message||"Failed to upload file")}return g.json()},onSuccess:f=>{t({title:"  !",description:`${f.totalRecords}     `}),s.invalidateQueries({queryKey:["/api/students/import-history"]}),a(null),c(!1),r.current&&(r.current.value="")},onError:f=>{t({title:" ",description:f.message,variant:"destructive"})}}),A=f=>{var v;const x=(v=f.target.files)==null?void 0:v[0];if(!x)return;if(!x.name.match(/\.(xlsx|xls|csv)$/)){t({title:"  ",description:"  Excel (.xlsx, .xls)  CSV   ",variant:"destructive"});return}a(x);const g=new FileReader;g.onload=j=>{var B;try{const E=((B=j.target)==null?void 0:B.result).split(`
`).slice(1,6).map(N=>{var _,k,D,z,K,xe,W,re,I,ie,ve;const C=N.split(",");return{name:((_=C[0])==null?void 0:_.trim())||"",nameInBangla:((k=C[1])==null?void 0:k.trim())||"",rollNumber:((D=C[2])==null?void 0:D.trim())||"",class:((z=C[3])==null?void 0:z.trim())||"",section:((K=C[4])==null?void 0:K.trim())||"",dateOfBirth:((xe=C[5])==null?void 0:xe.trim())||"",gender:((W=C[6])==null?void 0:W.trim())||"",fatherName:((re=C[7])==null?void 0:re.trim())||"",motherName:((I=C[8])==null?void 0:I.trim())||"",guardianPhone:((ie=C[9])==null?void 0:ie.trim())||"",presentAddress:((ve=C[10])==null?void 0:ve.trim())||""}}).filter(N=>N.name);l(E),c(!0)}catch(F){console.error("Preview error:",F)}},x.name.endsWith(".csv")?g.readAsText(x):c(!0)},m=()=>{const f=`Name,Name in Bangla,Roll Number,Class,Section,Date of Birth,Gender,Father Name,Mother Name,Guardian Phone,Present Address
Mohammad Rahman, ,001,10,A,01/01/2008,Male,Abdul Rahman,Fatima Khatun,01711123456,Dhaka
Fatima Khatun, ,002,10,A,15/03/2008,Female,Mohammad Ali,Rashida Begum,01712345678,Chittagong
Abdul Karim, ,003,10,B,22/07/2008,Male,Karim Uddin,Amina Khatun,01713456789,Sylhet`,x=new Blob([f],{type:"text/csv"}),g=window.URL.createObjectURL(x),v=document.createElement("a");v.href=g,v.download="student_import_template.csv",v.click(),window.URL.revokeObjectURL(g)},p=()=>{n&&h.mutate(n)};return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"  "}),e.jsx("p",{className:"text-muted-foreground",children:"Excel/CSV      "})]}),e.jsxs(V,{onClick:m,variant:"outline",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"})," "]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Wn,{className:"w-5 h-5"})," "]})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs(lm,{children:[e.jsx(uT,{className:"w-4 h-4"}),e.jsx(om,{children:" : Excel (.xlsx, .xls)  CSV    : 10MB"})]}),e.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center",children:[e.jsx("input",{type:"file",ref:r,accept:".xlsx,.xls,.csv",onChange:A,className:"hidden"}),n?e.jsxs("div",{className:"space-y-4",children:[e.jsx(xs,{className:"w-12 h-12 mx-auto text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:n.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[(n.size/1024/1024).toFixed(2)," MB"]})]}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx(V,{onClick:()=>{var f;return(f=r.current)==null?void 0:f.click()},variant:"outline",children:"  "}),e.jsx(V,{onClick:p,disabled:h.isPending,children:h.isPending?" ...":" "})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx(Wn,{className:"w-12 h-12 mx-auto text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-medium",children:"  "}),e.jsx("p",{className:"text-muted-foreground",children:"     "})]}),e.jsx(V,{onClick:()=>{var f;return(f=r.current)==null?void 0:f.click()},children:"  "})]})]}),o&&i.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"  (  )"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 p-2 text-left",children:""}),e.jsx("th",{className:"border border-gray-300 p-2 text-left",children:" "}),e.jsx("th",{className:"border border-gray-300 p-2 text-left",children:""}),e.jsx("th",{className:"border border-gray-300 p-2 text-left",children:""}),e.jsx("th",{className:"border border-gray-300 p-2 text-left",children:""}),e.jsx("th",{className:"border border-gray-300 p-2 text-left",children:""})]})}),e.jsx("tbody",{children:i.map((f,x)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 p-2",children:f.name}),e.jsx("td",{className:"border border-gray-300 p-2",children:f.nameInBangla}),e.jsx("td",{className:"border border-gray-300 p-2",children:f.rollNumber}),e.jsx("td",{className:"border border-gray-300 p-2",children:f.class}),e.jsx("td",{className:"border border-gray-300 p-2",children:f.section}),e.jsx("td",{className:"border border-gray-300 p-2",children:f.guardianPhone})]},x))})]})})]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(ss,{className:"w-5 h-5"})," "]})}),e.jsx(M,{children:u?e.jsx("div",{className:"text-center py-4",children:" ..."}):(d==null?void 0:d.length)>0?e.jsx("div",{className:"space-y-4",children:d.map(f=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:f.fileName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(f.createdAt).toLocaleDateString("bn-BD")})]}),e.jsx(Oe,{variant:f.status==="completed"?"default":f.status==="failed"?"destructive":"secondary",children:f.status==="completed"?"":f.status==="failed"?"":""})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(uT,{className:"w-4 h-4"}),e.jsxs("span",{children:[": ",f.totalRecords]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ks,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{children:[": ",f.successfulImports]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(aa,{className:"w-4 h-4 text-red-600"}),e.jsxs("span",{children:[": ",f.failedImports]})]})]}),f.status==="processing"&&e.jsx(Ao,{value:(f.successfulImports+f.failedImports)/f.totalRecords*100}),f.errorLog&&f.errorLog.length>0&&e.jsxs(lm,{variant:"destructive",children:[e.jsx(aa,{className:"w-4 h-4"}),e.jsx(om,{children:e.jsxs("details",{children:[e.jsx("summary",{className:"cursor-pointer",children:"  "}),e.jsxs("ul",{className:"mt-2 space-y-1",children:[f.errorLog.slice(0,5).map((x,g)=>e.jsxs("li",{className:"text-xs",children:[" ",x]},g)),f.errorLog.length>5&&e.jsxs("li",{className:"text-xs",children:["...  ",f.errorLog.length-5," "]})]})]})})]})]},f.id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"   "})})]})]})})}function ove(){var m,p,f,x,g,v;const[t,s]=b.useState(""),[r,n]=b.useState("all"),[a,i]=b.useState(1),l=10,{data:o,isLoading:c}=st({queryKey:["/api/admit-cards/history",a,t,r],queryFn:async()=>{const j=new URLSearchParams({page:a.toString(),limit:l.toString(),search:t,status:r}),B=await fetch(`/api/admit-cards/history?${j}`);if(!B.ok)throw new Error("Failed to fetch history");return B.json()}}),d=j=>{s(j),i(1)},u=j=>{n(j),i(1)},h=j=>{switch(j){case"active":return e.jsx(Oe,{className:"bg-green-100 text-green-800",children:""});case"cancelled":return e.jsx(Oe,{className:"bg-red-100 text-red-800",children:""});case"expired":return e.jsx(Oe,{className:"bg-gray-100 text-gray-800",children:" "});default:return e.jsx(Oe,{variant:"secondary",children:j})}},A=Math.ceil((((m=o==null?void 0:o.pagination)==null?void 0:m.total)||0)/l);return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"  "}),e.jsx("p",{className:"text-muted-foreground",children:"       "})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(tt,{href:"/admit-card/dashboard",children:e.jsx(V,{variant:"outline",children:" "})}),e.jsx(tt,{href:"/admit-card/create-single",children:e.jsxs(V,{children:[e.jsx(xs,{className:"w-4 h-4 mr-2"})," "]})})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(A0,{className:"w-5 h-5"}),"  "]})}),e.jsx(M,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(de,{placeholder:",       ",value:t,onChange:j=>d(j.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:""}),e.jsxs("select",{value:r,onChange:j=>u(j.target.value),className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"all",children:" "}),e.jsx("option",{value:"active",children:""}),e.jsx("option",{value:"cancelled",children:""}),e.jsx("option",{value:"expired",children:" "})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:" "}),e.jsxs("select",{className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"all",children:" "}),e.jsx("option",{value:"JSC",children:""}),e.jsx("option",{value:"SSC",children:""}),e.jsx("option",{value:"HSC",children:""}),e.jsx("option",{value:"Test",children:""})]})]})]})})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"  "})}),e.jsxs(M,{children:[c?e.jsx("div",{className:"text-center py-8",children:" ..."}):((p=o==null?void 0:o.data)==null?void 0:p.length)>0?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"hidden md:grid md:grid-cols-8 gap-4 p-3 bg-gray-50 rounded-lg font-medium text-sm",children:[e.jsx("div",{children:" "}),e.jsx("div",{children:""}),e.jsx("div",{children:""}),e.jsx("div",{children:""}),e.jsx("div",{children:""}),e.jsx("div",{children:""}),e.jsx("div",{children:""}),e.jsx("div",{children:""})]}),o.data.map(j=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-8 gap-4 p-4 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("span",{className:"md:hidden font-medium",children:" : "}),e.jsx("span",{className:"font-mono text-sm",children:j.cardNumber})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("span",{className:"md:hidden font-medium",children:": "}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:j.studentNameBn||j.studentName}),e.jsx("p",{className:"text-xs text-muted-foreground",children:j.studentName})]})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("span",{className:"md:hidden font-medium",children:": "}),e.jsx("span",{className:"font-medium",children:j.rollNumber})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("span",{className:"md:hidden font-medium",children:": "}),e.jsxs("span",{children:[j.className," ",j.section&&`- ${j.section}`]})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("span",{className:"md:hidden font-medium",children:": "}),e.jsx(Oe,{variant:"outline",children:j.examType})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("span",{className:"md:hidden font-medium",children:": "}),h(j.status)]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("span",{className:"md:hidden font-medium",children:": "}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{children:new Date(j.createdAt).toLocaleDateString("bn-BD")}),e.jsx("p",{className:"text-muted-foreground",children:new Date(j.createdAt).toLocaleTimeString("bn-BD",{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(V,{size:"sm",variant:"outline",children:e.jsx(cn,{className:"w-3 h-3"})}),e.jsx(V,{size:"sm",variant:"outline",children:e.jsx(Ts,{className:"w-3 h-3"})}),e.jsx(V,{size:"sm",variant:"outline",children:e.jsx(Yn,{className:"w-3 h-3"})}),e.jsx(V,{size:"sm",variant:"outline",className:"text-red-600",children:e.jsx(Ii,{className:"w-3 h-3"})})]})})]},j.id))]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(xs,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"   "}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"        "}),e.jsx(tt,{href:"/admit-card/create-single",children:e.jsxs(V,{children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"   "]})})]}),A>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",((f=o==null?void 0:o.pagination)==null?void 0:f.total)||0,"  "]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{variant:"outline",size:"sm",disabled:a===1,onClick:()=>i(a-1),children:""}),Array.from({length:Math.min(5,A)},(j,B)=>{const F=B+1;return e.jsx(V,{variant:a===F?"default":"outline",size:"sm",onClick:()=>i(F),children:F},F)}),e.jsx(V,{variant:"outline",size:"sm",disabled:a===A,onClick:()=>i(a+1),children:""})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(H,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(xs,{className:"w-8 h-8 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:((x=o==null?void 0:o.pagination)==null?void 0:x.total)||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:" "})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ui,{className:"w-8 h-8 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:((g=o==null?void 0:o.data)==null?void 0:g.filter(j=>j.status==="active").length)||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:" "})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(bs,{className:"w-8 h-8 text-purple-600 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:((v=o==null?void 0:o.data)==null?void 0:v.filter(j=>{const B=new Date;return new Date(j.createdAt).toDateString()===B.toDateString()}).length)||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:" "})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ts,{className:"w-8 h-8 text-orange-600 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:""})]})]})})})]})]})})}const cve=Y.object({name:Y.string().min(1,"  "),description:Y.string().optional(),examType:Y.string().min(1,"   "),boardType:Y.string().min(1,"   "),templateType:Y.enum(["portrait_single","landscape_dual"]),design:Y.object({layout:Y.string(),colors:Y.object({primary:Y.string(),secondary:Y.string(),accent:Y.string()}),fonts:Y.object({bengali:Y.string(),english:Y.string()}),elements:Y.object({showLogo:Y.boolean(),showWatermark:Y.boolean(),showQR:Y.boolean(),showSignatures:Y.boolean(),showPhoto:Y.boolean(),showBarcode:Y.boolean()})})});function dve(){const{toast:t}=ls(),s=Cs(),[r,n]=b.useState(!1),a=zs({resolver:qs(cve),defaultValues:{name:"",description:"",examType:"",boardType:"",templateType:"portrait_single",design:{layout:"modern",colors:{primary:"#1E40AF",secondary:"#F59E0B",accent:"#10B981"},fonts:{bengali:"SolaimanLipi",english:"Times New Roman"},elements:{showLogo:!0,showWatermark:!0,showQR:!0,showSignatures:!0,showPhoto:!0,showBarcode:!1}}}}),i=Bt({mutationFn:async o=>{const c=await fetch("/api/admit-cards/templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!c.ok){const d=await c.json();throw new Error(d.message||"Failed to create template")}return c.json()},onSuccess:()=>{t({title:"!",description:"   "}),s.invalidateQueries({queryKey:["/api/admit-cards/templates"]})},onError:o=>{t({title:"",description:o.message,variant:"destructive"})}}),l=o=>{i.mutate(o)};return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-4",children:[e.jsx(tt,{href:"/",className:"hover:text-gray-700",children:""}),e.jsx("span",{children:"/"}),e.jsx(tt,{href:"/admit-card",className:"hover:text-gray-700",children:" "}),e.jsx("span",{children:"/"}),e.jsx(tt,{href:"/admit-card/templates",className:"hover:text-gray-700",children:""}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium",children:" "})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"  "}),e.jsx("p",{className:"text-gray-600 mt-1",children:"     "})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(V,{variant:"outline",onClick:()=>n(!r),children:[e.jsx(cn,{className:"w-4 h-4 mr-2"}),r?" ":""]}),e.jsx(tt,{href:"/admit-card/templates",children:e.jsxs(V,{variant:"outline",children:[e.jsx(qa,{className:"w-4 h-4 mr-2"})," "]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-6",children:e.jsx(Ms,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-6",children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"w-5 h-5"})," "]})}),e.jsxs(M,{className:"space-y-4",children:[e.jsx(Se,{control:a.control,name:"name",render:({field:o})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{placeholder:": JSC   ",...o})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:a.control,name:"description",render:({field:o})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(Gs,{placeholder:"   ",...o})}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:a.control,name:"examType",render:({field:o})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsxs(xt,{onValueChange:o.onChange,defaultValue:o.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:" "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"JSC",children:" (JSC)"}),e.jsx(X,{value:"SSC",children:" (SSC)"}),e.jsx(X,{value:"HSC",children:" (HSC)"}),e.jsx(X,{value:"Dakhil",children:""}),e.jsx(X,{value:"Alim",children:""}),e.jsx(X,{value:"Technical",children:""})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:a.control,name:"boardType",render:({field:o})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsxs(xt,{onValueChange:o.onChange,defaultValue:o.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:" "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"general",children:"  "}),e.jsx(X,{value:"madrasha",children:"  "}),e.jsx(X,{value:"technical",children:"  "})]})]}),e.jsx(_e,{})]})})]}),e.jsx(Se,{control:a.control,name:"templateType",render:({field:o})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsxs(xt,{onValueChange:o.onChange,defaultValue:o.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{})})}),e.jsxs(At,{children:[e.jsx(X,{value:"portrait_single",children:" "}),e.jsx(X,{value:"landscape_dual",children:" "})]})]}),e.jsx(_e,{})]})})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx($x,{className:"w-5 h-5"})," "]})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(Se,{control:a.control,name:"design.colors.primary",render:({field:o})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{type:"color",...o,className:"w-12 h-10"}),e.jsx(de,{...o,placeholder:"#1E40AF"})]})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:a.control,name:"design.colors.secondary",render:({field:o})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{type:"color",...o,className:"w-12 h-10"}),e.jsx(de,{...o,placeholder:"#F59E0B"})]})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:a.control,name:"design.colors.accent",render:({field:o})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{type:"color",...o,className:"w-12 h-10"}),e.jsx(de,{...o,placeholder:"#10B981"})]})}),e.jsx(_e,{})]})})]}),e.jsx(il,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:a.control,name:"design.fonts.bengali",render:({field:o})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsxs(xt,{onValueChange:o.onChange,defaultValue:o.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{})})}),e.jsxs(At,{children:[e.jsx(X,{value:"SolaimanLipi",children:" "}),e.jsx(X,{value:"Kalpurush",children:""}),e.jsx(X,{value:"AdorshoLipi",children:" "})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:a.control,name:"design.fonts.english",render:({field:o})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsxs(xt,{onValueChange:o.onChange,defaultValue:o.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{})})}),e.jsxs(At,{children:[e.jsx(X,{value:"Times New Roman",children:"Times New Roman"}),e.jsx(X,{value:"Arial",children:"Arial"}),e.jsx(X,{value:"Calibri",children:"Calibri"})]})]}),e.jsx(_e,{})]})})]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Ys,{className:"w-5 h-5"})," "]})}),e.jsx(M,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:a.control,name:"design.elements.showLogo",render:({field:o})=>e.jsxs(Ne,{className:"flex items-center justify-between",children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(Ws,{checked:o.value,onCheckedChange:o.onChange})})]})}),e.jsx(Se,{control:a.control,name:"design.elements.showPhoto",render:({field:o})=>e.jsxs(Ne,{className:"flex items-center justify-between",children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(Ws,{checked:o.value,onCheckedChange:o.onChange})})]})}),e.jsx(Se,{control:a.control,name:"design.elements.showQR",render:({field:o})=>e.jsxs(Ne,{className:"flex items-center justify-between",children:[e.jsx(Ce,{children:"QR "}),e.jsx(Be,{children:e.jsx(Ws,{checked:o.value,onCheckedChange:o.onChange})})]})}),e.jsx(Se,{control:a.control,name:"design.elements.showBarcode",render:({field:o})=>e.jsxs(Ne,{className:"flex items-center justify-between",children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(Ws,{checked:o.value,onCheckedChange:o.onChange})})]})}),e.jsx(Se,{control:a.control,name:"design.elements.showWatermark",render:({field:o})=>e.jsxs(Ne,{className:"flex items-center justify-between",children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(Ws,{checked:o.value,onCheckedChange:o.onChange})})]})}),e.jsx(Se,{control:a.control,name:"design.elements.showSignatures",render:({field:o})=>e.jsxs(Ne,{className:"flex items-center justify-between",children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(Ws,{checked:o.value,onCheckedChange:o.onChange})})]})})]})})]}),e.jsxs(V,{type:"submit",className:"w-full",disabled:i.isPending,children:[e.jsx(Xv,{className:"w-4 h-4 mr-2"}),i.isPending?" ...":"  "]})]})})}),e.jsx("div",{className:"lg:sticky lg:top-6",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:""})}),e.jsx(M,{children:e.jsx("div",{className:"bg-gray-100 rounded-lg p-4 min-h-96 flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(xs,{className:"w-16 h-16 mx-auto text-gray-400"}),e.jsx("p",{className:"text-gray-600",children:" "}),e.jsx("p",{className:"text-sm text-gray-500",children:"     "})]})})})]})})]})]})})}const uve=({data:t})=>e.jsxs("div",{className:"w-[210mm] min-h-[297mm] bg-white p-8 mx-auto border-2 border-gray-300 shadow-2xl relative overflow-hidden",style:{fontFamily:"SutonnyMJ, Arial, sans-serif"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-white to-green-50 opacity-30"}),e.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-l-4 border-t-4 border-red-600"}),e.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 border-r-4 border-t-4 border-green-600"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 border-l-4 border-b-4 border-green-600"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-16 h-16 border-r-4 border-b-4 border-red-600"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 opacity-8 flex items-center justify-center",children:e.jsx("div",{className:"text-6xl font-bold text-gray-200 transform rotate-45 tracking-wider",children:t.boardNameBn})}),e.jsxs("div",{className:"text-center mb-8 relative z-10",children:[e.jsxs("div",{className:"flex justify-center mb-4",children:[e.jsx("div",{className:"w-24 h-2 bg-red-600"}),e.jsx("div",{className:"w-4 h-2 bg-green-600"}),e.jsx("div",{className:"w-24 h-2 bg-red-600"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-900 via-blue-800 to-blue-900 text-white p-6 rounded-lg shadow-lg border-2 border-gold-400 relative",children:[e.jsx("div",{className:"absolute inset-0 border-2 border-yellow-400 rounded-lg transform translate-x-1 translate-y-1 -z-10 opacity-30"}),e.jsx("h1",{className:"text-3xl font-bold mb-3 text-shadow-lg tracking-wide",children:t.boardNameBn}),e.jsx("h2",{className:"text-xl font-semibold mb-2 text-blue-100",children:t.examTypeBn}),e.jsx("h3",{className:"text-lg mb-3 font-medium text-blue-200",children:t.examYear}),e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white py-3 px-8 inline-block font-bold text-xl rounded-full shadow-lg border-2 border-white transform hover:scale-105 transition-transform",children:t.cardTypeBn})]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-2 border-gray-400 p-4 rounded-lg shadow-md",children:[e.jsx("span",{className:"font-bold text-gray-700",children:" : "}),e.jsx("span",{className:"ml-2 border-b-2 border-dotted border-blue-500 px-6 py-1 bg-white font-semibold text-lg",children:t.serialNumber||"___"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-2 border-blue-400 p-4 rounded-lg shadow-md",children:[e.jsx("span",{className:"font-bold text-blue-800",children:" : "}),e.jsx("span",{className:"ml-2 border-b-2 border-dotted border-red-500 px-8 py-1 bg-white text-2xl font-bold text-red-700",children:t.rollNumber})]})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-6 mb-8",children:[e.jsx("div",{className:"col-span-8 bg-gradient-to-br from-gray-50 to-blue-50 p-6 rounded-xl shadow-lg border border-gray-200",children:e.jsxs("div",{className:"space-y-5",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-36 font-bold text-blue-800 text-sm",children:" :"}),e.jsx("span",{className:"flex-1 border-b-2 border-dotted border-blue-400 px-3 py-2 font-bold text-xl text-gray-900 bg-blue-50",children:t.studentNameBn})]})}),e.jsxs("div",{className:"flex items-center bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("span",{className:"w-36 font-semibold text-gray-700 text-sm",children:" :"}),e.jsx("span",{className:"flex-1 border-b border-dotted border-gray-400 px-3 py-1 text-gray-800 bg-gray-50",children:t.fatherNameBn})]}),e.jsxs("div",{className:"flex items-center bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("span",{className:"w-36 font-semibold text-gray-700 text-sm",children:" :"}),e.jsx("span",{className:"flex-1 border-b border-dotted border-gray-400 px-3 py-1 text-gray-800 bg-gray-50",children:t.motherNameBn})]}),e.jsxs("div",{className:"flex items-center bg-white p-3 rounded-lg shadow-sm border-l-4 border-green-500",children:[e.jsx("span",{className:"w-36 font-semibold text-green-700 text-sm",children:" :"}),e.jsx("span",{className:"flex-1 border-b border-dotted border-green-400 px-3 py-1 font-bold text-gray-900 bg-green-50",children:t.registrationNumber})]}),e.jsxs("div",{className:"flex items-center bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("span",{className:"w-36 font-semibold text-gray-700 text-sm",children:"/:"}),e.jsx("span",{className:"flex-1 border-b border-dotted border-gray-400 px-3 py-1 text-gray-800 bg-gray-50 font-medium",children:t.groupNameBn})]}),e.jsxs("div",{className:"flex items-center bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("span",{className:"w-36 font-semibold text-gray-700 text-sm",children:":"}),e.jsx("span",{className:"flex-1 border-b border-dotted border-gray-400 px-3 py-1 text-gray-800 bg-gray-50",children:t.sessionYear})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-bold text-purple-800 mb-3 text-sm",children:" "}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-32 font-semibold text-purple-700 text-sm",children:" :"}),e.jsx("span",{className:"flex-1 border-b border-dotted border-purple-300 px-2 py-1 text-gray-800 bg-white rounded text-sm",children:t.instituteNameBn})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-32 font-semibold text-purple-700 text-sm",children:" :"}),e.jsx("span",{className:"flex-1 border-b border-dotted border-purple-300 px-2 py-1 font-bold text-gray-900 bg-white rounded text-sm",children:t.instituteCode})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 p-4 rounded-lg border border-orange-200",children:[e.jsx("h4",{className:"font-bold text-orange-800 mb-3 text-sm",children:"  "}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-32 font-semibold text-orange-700 text-sm",children:" :"}),e.jsx("span",{className:"flex-1 border-b border-dotted border-orange-300 px-2 py-1 text-gray-800 bg-white rounded text-sm",children:t.centerNameBn})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-32 font-semibold text-orange-700 text-sm",children:" :"}),e.jsx("span",{className:"flex-1 border-b border-dotted border-orange-300 px-2 py-1 font-bold text-gray-900 bg-white rounded text-sm",children:t.centerCode})]})]})]}),t.subjectsBn&&t.subjectsBn.length>0&&e.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 p-4 rounded-lg border border-teal-200",children:[e.jsx("h4",{className:"font-bold text-teal-800 mb-3 text-sm",children:" "}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.subjectsBn.map((s,r)=>e.jsxs("div",{className:"flex items-center bg-white p-2 rounded shadow-sm",children:[e.jsxs("span",{className:"w-6 text-center font-bold text-teal-700 text-xs",children:[r+1,"."]}),e.jsx("span",{className:"flex-1 text-gray-800 text-sm",children:s})]},r))})]})]})}),e.jsxs("div",{className:"col-span-4 space-y-6",children:[e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 p-4 rounded-xl shadow-lg border border-gray-300",children:[e.jsxs("div",{className:"border-4 border-yellow-400 bg-white h-40 w-32 mx-auto flex items-center justify-center relative overflow-hidden shadow-inner",children:[e.jsx("div",{className:"absolute top-1 left-1 w-3 h-3 border-l-2 border-t-2 border-yellow-600"}),e.jsx("div",{className:"absolute top-1 right-1 w-3 h-3 border-r-2 border-t-2 border-yellow-600"}),e.jsx("div",{className:"absolute bottom-1 left-1 w-3 h-3 border-l-2 border-b-2 border-yellow-600"}),e.jsx("div",{className:"absolute bottom-1 right-1 w-3 h-3 border-r-2 border-b-2 border-yellow-600"}),t.photoUrl?e.jsx("img",{src:t.photoUrl,alt:"Student Photo",className:"h-full w-full object-cover"}):e.jsxs("div",{className:"text-center text-gray-400",children:[e.jsx("div",{className:"text-2xl mb-1",children:""}),e.jsx("span",{className:"text-xs font-medium",children:""})]})]}),e.jsx("div",{className:"text-center mt-3",children:e.jsx("div",{className:"text-xs font-bold text-gray-700 bg-gradient-to-r from-yellow-100 to-yellow-200 px-3 py-1 rounded-full shadow-sm border border-yellow-300",children:" "})})]})}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-xl shadow-lg border border-blue-200",children:[e.jsx("div",{className:"border-3 border-blue-400 bg-white h-20 w-32 mx-auto flex items-center justify-center relative overflow-hidden shadow-inner",children:t.signatureUrl?e.jsx("img",{src:t.signatureUrl,alt:"Student Signature",className:"h-full w-full object-contain"}):e.jsxs("div",{className:"text-center text-gray-400",children:[e.jsx("div",{className:"text-lg mb-1",children:""}),e.jsx("span",{className:"text-xs font-medium",children:""})]})}),e.jsx("div",{className:"text-center mt-3",children:e.jsx("div",{className:"text-xs font-bold text-blue-700 bg-gradient-to-r from-blue-100 to-blue-200 px-3 py-1 rounded-full shadow-sm border border-blue-300",children:" "})})]})}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-xl shadow-lg border border-green-200",children:[e.jsx("div",{className:"border-2 border-green-400 bg-white h-20 w-20 mx-auto flex items-center justify-center shadow-inner",children:e.jsxs("div",{className:"text-center text-gray-400",children:[e.jsx("div",{className:"text-sm mb-1",children:""}),e.jsx("span",{className:"text-xs font-medium",children:"QR"})]})}),e.jsx("div",{className:"text-center mt-3",children:e.jsx("div",{className:"text-xs font-bold text-green-700 bg-gradient-to-r from-green-100 to-green-200 px-3 py-1 rounded-full shadow-sm border border-green-300",children:" "})})]})})]})]}),e.jsxs("div",{className:"border-2 border-gray-800 p-4 mb-6",children:[e.jsx("h4",{className:"font-bold text-center mb-3 text-lg",children:"   "}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:" :"}),e.jsx("div",{className:"border-b border-dotted border-gray-600 mt-1 py-1 font-bold",children:t.examDate})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:" :"}),e.jsx("div",{className:"border-b border-dotted border-gray-600 mt-1 py-1 font-bold",children:t.examTime})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:" :"}),e.jsx("div",{className:"border-b border-dotted border-gray-600 mt-1 py-1 font-bold",children:t.reportingTime})]})]})]}),e.jsxs("div",{className:"border border-gray-600 p-4 mb-6",children:[e.jsx("h4",{className:"font-bold mb-2",children:":"}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsx("p",{children:".        "}),e.jsx("p",{children:".          "}),e.jsx("p",{children:".           "}),e.jsx("p",{children:".         "}),t.instructionsBn&&e.jsxs("p",{children:[". ",t.instructionsBn]})]})]}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("div",{className:"text-left",children:e.jsxs("p",{className:"text-sm",children:[" : ",new Date().toLocaleDateString("bn-BD")]})}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"border-t border-gray-600 pt-2 w-48",children:[e.jsx("p",{className:"font-semibold",children:t.authorityNameBn}),e.jsx("p",{className:"text-sm",children:t.designationBn}),e.jsx("p",{className:"text-sm",children:t.boardNameBn})]})})]}),e.jsx("div",{className:"mt-6 border-t-2 border-gray-800 pt-2",children:e.jsxs("div",{className:"flex justify-center",children:[e.jsx("div",{className:"w-16 h-1 bg-red-600"}),e.jsx("div",{className:"w-4 h-1 bg-green-600 mx-1"}),e.jsx("div",{className:"w-16 h-1 bg-red-600"})]})})]})]});function ML(){Oi();const{toast:t}=ls(),s=Cs(),[r,n]=b.useState({boardName:"Board of Intermediate and Secondary Education",boardNameBn:"     ",examType:"Higher Secondary Certificate Examination",examTypeBn:"   ",examYear:"",cardType:"Admit Card",cardTypeBn:"",studentName:"",studentNameBn:"",fatherName:"",fatherNameBn:"",motherName:"",motherNameBn:"",rollNumber:"",registrationNumber:"",instituteName:"",instituteNameBn:"",instituteCode:"",centerName:"",centerNameBn:"",centerCode:"",groupName:"",groupNameBn:"",sessionYear:"-",examDate:"",examTime:"",reportingTime:"",instructions:"",instructionsBn:"",authorityName:"",authorityNameBn:"",designation:"",designationBn:"",subjects:[],subjectsBn:[]}),a=b.useRef(null),i=b.useRef(null),l=[{english:"Physics",bangla:""},{english:"Chemistry",bangla:""},{english:"Biology",bangla:""},{english:"Mathematics",bangla:""},{english:"Higher Mathematics",bangla:" "},{english:"Bangla",bangla:""},{english:"English",bangla:""},{english:"ICT",bangla:"   "},{english:"Economics",bangla:""},{english:"Civics",bangla:"  "},{english:"Geography",bangla:""},{english:"History",bangla:""},{english:"Islamic History",bangla:" "},{english:"Psychology",bangla:""},{english:"Logic",bangla:""},{english:"Accounting",bangla:""},{english:"Business Studies",bangla:"   "},{english:"Finance",bangla:",   "},{english:"Production Management",bangla:"   "}],o=m=>{var f;const p=(f=m.target.files)==null?void 0:f[0];if(p){const x=new FileReader;x.onload=g=>{n(v=>{var j;return{...v,photoUrl:(j=g.target)==null?void 0:j.result,photoFile:p}})},x.readAsDataURL(p)}},c=m=>{var f;const p=(f=m.target.files)==null?void 0:f[0];if(p){const x=new FileReader;x.onload=g=>{n(v=>{var j;return{...v,signatureUrl:(j=g.target)==null?void 0:j.result,signatureFile:p}})},x.readAsDataURL(p)}},d=(m,p)=>{n(f=>p?{...f,subjects:[...f.subjects,m.english],subjectsBn:[...f.subjectsBn,m.bangla]}:{...f,subjects:f.subjects.filter(x=>x!==m.english),subjectsBn:f.subjectsBn.filter(x=>x!==m.bangla)})},u=Bt({mutationFn:async m=>Vt("/api/admit-cards/generate-single",{method:"POST",body:JSON.stringify({studentName:m.studentName,studentNameBn:m.studentNameBn,rollNumber:m.rollNumber,registrationNumber:m.registrationNumber,className:m.groupName,section:"",examType:m.examType,examDate:m.examDate,customData:m})}),onSuccess:()=>{t({title:"",description:"    "}),s.invalidateQueries({queryKey:["/api/admit-cards"]})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}}),h=(m,p)=>{n(f=>({...f,[m]:p}))},A=m=>{m.preventDefault(),u.mutate(r)};return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"  "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"    "})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:e.jsxs("form",{onSubmit:A,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:" "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"boardNameBn",children:"  ()"}),e.jsx(de,{id:"boardNameBn",value:r.boardNameBn,onChange:m=>h("boardNameBn",m.target.value),placeholder:"     "})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"examTypeBn",children:"  ()"}),e.jsx(de,{id:"examTypeBn",value:r.examTypeBn,onChange:m=>h("examTypeBn",m.target.value),placeholder:"   "})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"examYear",children:" "}),e.jsx(de,{id:"examYear",value:r.examYear,onChange:m=>h("examYear",m.target.value),placeholder:""})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:" "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"studentNameBn",children:"  () *"}),e.jsx(de,{id:"studentNameBn",value:r.studentNameBn,onChange:m=>h("studentNameBn",m.target.value),placeholder:"  ",required:!0})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"rollNumber",children:"  *"}),e.jsx(de,{id:"rollNumber",value:r.rollNumber,onChange:m=>h("rollNumber",m.target.value),placeholder:"",required:!0})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"fatherNameBn",children:"  ()"}),e.jsx(de,{id:"fatherNameBn",value:r.fatherNameBn,onChange:m=>h("fatherNameBn",m.target.value),placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"motherNameBn",children:"  ()"}),e.jsx(de,{id:"motherNameBn",value:r.motherNameBn,onChange:m=>h("motherNameBn",m.target.value),placeholder:" "})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"registrationNumber",children:" "}),e.jsx(de,{id:"registrationNumber",value:r.registrationNumber,onChange:m=>h("registrationNumber",m.target.value),placeholder:""})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"  "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(ke,{children:" "}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[r.photoUrl?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.photoUrl,alt:"Student Photo",className:"w-24 h-32 object-cover mx-auto border border-gray-400"}),e.jsxs(V,{type:"button",variant:"outline",size:"sm",className:"mt-2",onClick:()=>n(m=>({...m,photoUrl:"",photoFile:void 0})),children:[e.jsx(sm,{className:"w-4 h-4 mr-1"})," "]})]}):e.jsxs("div",{children:[e.jsx(Jg,{className:"w-12 h-12 mx-auto text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"  "}),e.jsxs(V,{type:"button",variant:"outline",onClick:()=>{var m;return(m=a.current)==null?void 0:m.click()},children:[e.jsx(Wn,{className:"w-4 h-4 mr-2"}),"  "]})]}),e.jsx("input",{ref:a,type:"file",accept:"image/*",className:"hidden",onChange:o})]}),e.jsx("p",{className:"text-xs text-gray-500",children:" :   : JPG, PNG"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ke,{children:" "}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[r.signatureUrl?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.signatureUrl,alt:"Student Signature",className:"w-32 h-16 object-contain mx-auto border border-gray-400"}),e.jsxs(V,{type:"button",variant:"outline",size:"sm",className:"mt-2",onClick:()=>n(m=>({...m,signatureUrl:"",signatureFile:void 0})),children:[e.jsx(sm,{className:"w-4 h-4 mr-1"})," "]})]}):e.jsxs("div",{children:[e.jsx(xs,{className:"w-12 h-12 mx-auto text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"  "}),e.jsxs(V,{type:"button",variant:"outline",onClick:()=>{var m;return(m=i.current)==null?void 0:m.click()},children:[e.jsx(Wn,{className:"w-4 h-4 mr-2"}),"  "]})]}),e.jsx("input",{ref:i,type:"file",accept:"image/*",className:"hidden",onChange:c})]}),e.jsx("p",{className:"text-xs text-gray-500",children:" :     "})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"groupNameBn",children:"/ ()"}),e.jsxs(xt,{value:r.groupNameBn,onValueChange:m=>h("groupNameBn",m),children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""}),e.jsx(X,{value:" ",children:" "})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:" "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"instituteNameBn",children:"  ()"}),e.jsx(de,{id:"instituteNameBn",value:r.instituteNameBn,onChange:m=>h("instituteNameBn",m.target.value),placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"instituteCode",children:" "}),e.jsx(de,{id:"instituteCode",value:r.instituteCode,onChange:m=>h("instituteCode",m.target.value),placeholder:""})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"centerNameBn",children:"  ()"}),e.jsx(de,{id:"centerNameBn",value:r.centerNameBn,onChange:m=>h("centerNameBn",m.target.value),placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"centerCode",children:" "}),e.jsx(de,{id:"centerCode",value:r.centerCode,onChange:m=>h("centerCode",m.target.value),placeholder:""})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:" "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"examDate",children:" "}),e.jsx(de,{id:"examDate",value:r.examDate,onChange:m=>h("examDate",m.target.value),placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"examTime",children:" "}),e.jsx(de,{id:"examTime",value:r.examTime,onChange:m=>h("examTime",m.target.value),placeholder:" : -  :"})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"reportingTime",children:" "}),e.jsx(de,{id:"reportingTime",value:r.reportingTime,onChange:m=>h("reportingTime",m.target.value),placeholder:" :"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:" "}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:l.map((m,p)=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-lg hover:bg-gray-50",children:[e.jsx(hm,{id:`subject-${p}`,checked:r.subjects.includes(m.english),onCheckedChange:f=>d(m,f)}),e.jsxs(ke,{htmlFor:`subject-${p}`,className:"flex-1 text-sm cursor-pointer",children:[e.jsx("div",{className:"font-medium",children:m.bangla}),e.jsx("div",{className:"text-xs text-gray-500",children:m.english})]})]},p))}),r.subjects.length>0&&e.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:" :"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.subjectsBn.map((m,p)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:m},p))})]})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"instructionsBn",children:"  ()"}),e.jsx(Gs,{id:"instructionsBn",value:r.instructionsBn,onChange:m=>h("instructionsBn",m.target.value),placeholder:"    ...",rows:3})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:" "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"authorityNameBn",children:"  ()"}),e.jsx(de,{id:"authorityNameBn",value:r.authorityNameBn,onChange:m=>h("authorityNameBn",m.target.value),placeholder:" .   "})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"designationBn",children:" ()"}),e.jsx(de,{id:"designationBn",value:r.designationBn,onChange:m=>h("designationBn",m.target.value),placeholder:""})]})]})]}),e.jsx(V,{type:"submit",className:"w-full",disabled:u.isPending,children:u.isPending?" ...":"  "})]})})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:""})}),e.jsx(M,{children:e.jsx("div",{className:"transform scale-50 origin-top-left w-[200%] h-[200%] overflow-hidden",children:e.jsx(uve,{data:r})})})]})]})]})})}function QL(){ls();const{data:t,isLoading:s}=st({queryKey:["/api/id-cards/stats"],queryFn:async()=>{const o=await fetch("/api/id-cards/stats");if(!o.ok)throw new Error("Failed to fetch stats");return o.json()}}),{data:r,isLoading:n}=st({queryKey:["/api/id-cards/recent"],queryFn:async()=>{const o=await fetch("/api/id-cards/recent?limit=10");if(!o.ok)throw new Error("Failed to fetch recent history");return o.json()}}),a=[{id:"portrait",name:"Portrait ID Card",nameBn:"  ",category:"portrait",description:"   -  ",isActive:!0,createdAt:new Date().toISOString()},{id:"landscape",name:"Landscape ID Card",nameBn:"  ",category:"landscape",description:"   -  ",isActive:!0,createdAt:new Date().toISOString()}],i=o=>new Date(o).toLocaleDateString("bn-BD",{year:"numeric",month:"long",day:"numeric"}),l=o=>{const c={generated:{label:" ",variant:"default"},downloaded:{label:" ",variant:"secondary"},printed:{label:" ",variant:"outline"}},d=c[o]||c.generated;return e.jsx(Oe,{variant:d.variant,children:d.label})};return e.jsx(is,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400 mb-6","aria-label":"Breadcrumb",children:[e.jsx(tt,{href:"/",className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:""}),e.jsx("span",{className:"material-icons text-xs",children:"chevron_right"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:"  "})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 rounded-2xl p-8 border border-blue-100 dark:border-blue-800",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-2xl flex items-center justify-center",children:e.jsx("span",{className:"material-icons text-white text-2xl",children:"badge"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100",children:"  "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"      "})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{children:" "})]}),e.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[e.jsx("span",{className:"material-icons text-sm",children:"verified"}),e.jsx("span",{children:" "})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(tt,{href:"/id-card/create",children:e.jsxs(V,{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-medium transition-all hover:scale-105",children:[e.jsx("span",{className:"material-icons mr-2",children:"add"}),"  "]})}),e.jsxs(V,{variant:"outline",className:"px-6 py-3 rounded-xl font-medium border-blue-200 dark:border-blue-800 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:[e.jsx("span",{className:"material-icons mr-2",children:"history"})," "]})]})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100",children:"  "}),e.jsx("button",{className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors",children:" "})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700 shadow-sm hover:shadow-md transition-all duration-200 group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"material-icons text-blue-600 dark:text-blue-400 text-2xl",children:"badge"})}),e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:s?e.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 h-8 w-16 rounded"}):((t==null?void 0:t.totalGenerated)??0).toLocaleString("bn-BD")}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"   "})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700 shadow-sm hover:shadow-md transition-all duration-200 group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"material-icons text-green-600 dark:text-green-400 text-2xl",children:"trending_up"})}),e.jsx("div",{className:"bg-green-100 dark:bg-green-800 text-green-700 dark:text-green-300 text-xs px-2 py-1 rounded-full",children:" "})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100 group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors",children:s?e.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 h-8 w-16 rounded"}):((t==null?void 0:t.thisMonth)??0).toLocaleString("bn-BD")}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"  "})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700 shadow-sm hover:shadow-md transition-all duration-200 group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"material-icons text-orange-600 dark:text-orange-400 text-2xl",children:"schedule"})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-400 rounded-full animate-ping"}),e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full absolute top-0"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-100 group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors",children:s?e.jsx("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 h-8 w-16 rounded"}):((t==null?void 0:t.thisWeek)??0).toLocaleString("bn-BD")}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"  "})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100",children:" "}),e.jsx(tt,{href:"/id-card/templates",children:e.jsx("button",{className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors",children:"  "})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:a.map(o=>e.jsx("div",{className:"group",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700 shadow-sm hover:shadow-lg transition-all duration-300 group-hover:scale-105",children:[e.jsx("div",{className:"aspect-[3/4] bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 rounded-xl overflow-hidden mb-4 border border-blue-100 dark:border-blue-800",children:e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"material-icons text-white text-2xl",children:"badge"})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:" "}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"  "}),e.jsxs("div",{className:"border-t border-dashed border-gray-300 dark:border-gray-600 mt-3 pt-3 space-y-1",children:[e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center justify-center gap-1",children:[e.jsx("span",{className:"material-icons text-xs text-green-500",children:"check_circle"})," "]}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center justify-center gap-1",children:[e.jsx("span",{className:"material-icons text-xs text-green-500",children:"check_circle"}),"  "]}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center justify-center gap-1",children:[e.jsx("span",{className:"material-icons text-xs text-green-500",children:"check_circle"})," "]})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:o.nameBn}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:o.description}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${o.category==="portrait"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300"}`,children:o.category==="portrait"?"":""})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(tt,{href:`/id-card/create-single?template=${o.id}`,children:e.jsxs("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-xl font-medium transition-all hover:scale-105 flex items-center justify-center gap-2",children:[e.jsx("span",{className:"material-icons text-sm",children:"person"})," "]})}),e.jsx(tt,{href:`/id-card/batch-creation?template=${o.id}`,children:e.jsxs("button",{className:"w-full border border-blue-200 dark:border-blue-800 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-blue-600 dark:text-blue-400 px-4 py-3 rounded-xl font-medium transition-all hover:scale-105 flex items-center justify-center gap-2",children:[e.jsx("span",{className:"material-icons text-sm",children:"groups"})," "]})})]})]})]})},o.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"material-icons text-purple-600 dark:text-purple-400",children:"history"})})," "]}),e.jsx(tt,{href:"/id-card/history",children:e.jsx("button",{className:"text-sm text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 transition-colors",children:" "})})]}),n?e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((o,c)=>e.jsxs("div",{className:"animate-pulse bg-gray-100 dark:bg-gray-700 rounded-xl p-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-1/2"})]},c))}):r&&r.length>0?e.jsx("div",{className:"space-y-3",children:r.map((o,c)=>e.jsx("div",{className:"group bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200 hover:shadow-md",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"material-icons text-blue-600 dark:text-blue-400 text-sm",children:"person"})}),e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:o.studentName})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 ml-11",children:[e.jsxs("span",{children:[": ",o.studentId]}),e.jsx("span",{children:""}),e.jsxs("span",{children:[o.className," - ",o.section]})]}),e.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 ml-11",children:i(o.createdAt)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l(o.status),e.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("span",{className:"material-icons text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-sm",children:"more_vert"})})]})]})},o.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"material-icons text-gray-400 text-2xl",children:"badge"})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"     "}),e.jsx(tt,{href:"/id-card/create-single",children:e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-medium transition-all hover:scale-105",children:"    "})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700 shadow-sm",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"material-icons text-orange-600 dark:text-orange-400",children:"bolt"})})," "]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"  "})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(tt,{href:"/id-card/templates",children:e.jsx("div",{className:"group bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 border border-blue-100 dark:border-blue-800 rounded-xl p-4 hover:shadow-md transition-all duration-200 hover:scale-105 cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"material-icons text-white text-xl",children:"store"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:" "}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"   "})]}),e.jsx("span",{className:"material-icons text-gray-400 group-hover:text-blue-500 transition-colors",children:"chevron_right"})]})})}),e.jsx(tt,{href:"/id-card/history",children:e.jsx("div",{className:"group bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950 dark:to-emerald-950 border border-green-100 dark:border-green-800 rounded-xl p-4 hover:shadow-md transition-all duration-200 hover:scale-105 cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"material-icons text-white text-xl",children:"manage_history"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors",children:" "}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"  "})]}),e.jsx("span",{className:"material-icons text-gray-400 group-hover:text-green-500 transition-colors",children:"chevron_right"})]})})}),e.jsx(tt,{href:"/id-card/settings",children:e.jsx("div",{className:"group bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-950 dark:to-amber-950 border border-orange-100 dark:border-orange-800 rounded-xl p-4 hover:shadow-md transition-all duration-200 hover:scale-105 cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"material-icons text-white text-xl",children:"settings"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors",children:" "}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"  "})]}),e.jsx("span",{className:"material-icons text-gray-400 group-hover:text-orange-500 transition-colors",children:"chevron_right"})]})})})]})]})]})]})})})}const hK={portrait:"w-[340px] h-[216px]",landscape:"w-[216px] h-[340px]"};function hve({student:t,side:s,className:r}){const n=at("relative bg-white border-2 border-gray-300 rounded-lg overflow-hidden shadow-lg",hK.portrait,r);return s==="front"?e.jsxs("div",{className:n,children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-2 text-center",children:e.jsxs("div",{className:"flex items-center justify-between",children:[t.schoolLogo&&e.jsx("img",{src:t.schoolLogo,alt:"Logo",className:"w-8 h-8 object-contain"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xs font-bold leading-tight",children:t.schoolName}),e.jsx("p",{className:"text-[8px] opacity-90",children:t.schoolAddress}),e.jsxs("p",{className:"text-[8px] opacity-80",children:["EIIN: ",t.eiin]})]}),e.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold",children:"ID"})})]})}),e.jsxs("div",{className:"p-2 h-[calc(100%-48px)]",children:[e.jsxs("div",{className:"flex gap-2 h-full",children:[e.jsx("div",{className:"w-16 h-20 bg-gray-100 border rounded overflow-hidden flex-shrink-0",children:t.photo?e.jsx("img",{src:t.photo,alt:"Student",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:e.jsx("span",{className:"text-xs text-gray-400",children:"Photo"})})}),e.jsxs("div",{className:"flex-1 text-[8px] space-y-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:": "}),e.jsx("span",{children:t.studentNameBn})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Name: "}),e.jsx("span",{children:t.studentName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:": "}),e.jsx("span",{children:t.studentId})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:": "}),e.jsx("span",{children:t.rollNumber})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:": "}),e.jsxs("span",{children:[t.className," - ",t.section]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:": "}),e.jsx("span",{children:t.session})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:" : "}),e.jsx("span",{className:"bg-red-100 px-1 rounded text-red-700",children:t.bloodGroup})]})]})]}),e.jsx("div",{className:"absolute bottom-1 left-2 right-2",children:e.jsxs("div",{className:"flex justify-between items-center text-[7px] text-gray-600",children:[e.jsxs("span",{children:[": ",t.issueDate]}),e.jsxs("span",{children:[": ",t.expireDate]})]})})]}),e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rotate-45 text-gray-200 text-lg font-bold opacity-10",children:t.schoolName})})]}):e.jsxs("div",{className:n,children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-2 text-center",children:e.jsx("h2",{className:"text-xs font-bold",children:" - ID CARD"})}),e.jsxs("div",{className:"p-2 text-[8px] space-y-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[9px] mb-1",children:" :"}),e.jsxs("div",{children:[": ",t.fatherName]}),e.jsxs("div",{children:[": ",t.motherName]}),e.jsxs("div",{children:[": ",t.guardianPhone]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[9px] mb-1",children:":"}),e.jsx("div",{children:t.address})]}),e.jsxs("div",{className:"bg-red-50 p-1 rounded",children:[e.jsx("h3",{className:"font-semibold text-red-700 text-[9px]",children:" :"}),e.jsxs("div",{children:[" : ",e.jsx("span",{className:"font-bold text-red-600",children:t.bloodGroup})]}),e.jsxs("div",{children:[" : ",t.dateOfBirth]})]}),e.jsxs("div",{className:"flex justify-between mt-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-6 border-b border-gray-300 mb-1"}),e.jsx("span",{className:"text-[7px]",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-6 border-b border-gray-300 mb-1"}),e.jsx("span",{className:"text-[7px]",children:" "})]})]}),e.jsx("div",{className:"text-center text-[7px] text-gray-500 mt-2",children:e.jsx("p",{children:"       "})})]})]})}function Ave({student:t,side:s,className:r}){const n=at("relative bg-white border-2 border-gray-300 rounded-lg overflow-hidden shadow-lg",hK.landscape,r);return s==="front"?e.jsxs("div",{className:n,children:[e.jsxs("div",{className:"bg-gradient-to-b from-blue-600 to-blue-800 text-white p-2 text-center",children:[t.schoolLogo&&e.jsx("img",{src:t.schoolLogo,alt:"Logo",className:"w-8 h-8 mx-auto mb-1 object-contain"}),e.jsx("h1",{className:"text-[10px] font-bold leading-tight",children:t.schoolName}),e.jsx("p",{className:"text-[7px] opacity-90",children:t.schoolAddress})]}),e.jsxs("div",{className:"p-2 flex flex-col items-center text-center space-y-2",children:[e.jsx("div",{className:"w-16 h-20 bg-gray-100 border rounded overflow-hidden",children:t.photo?e.jsx("img",{src:t.photo,alt:"Student",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:e.jsx("span",{className:"text-xs text-gray-400",children:"Photo"})})}),e.jsxs("div",{className:"text-[8px] space-y-1",children:[e.jsx("div",{className:"font-semibold",children:t.studentNameBn}),e.jsx("div",{className:"text-gray-600",children:t.studentName}),e.jsxs("div",{children:[": ",e.jsx("span",{className:"font-semibold",children:t.studentId})]}),e.jsxs("div",{children:[": ",e.jsx("span",{className:"font-semibold",children:t.rollNumber})]}),e.jsxs("div",{children:[": ",e.jsxs("span",{className:"font-semibold",children:[t.className," - ",t.section]})]}),e.jsxs("div",{children:[" : ",e.jsx("span",{className:"bg-red-100 px-1 rounded text-red-700 font-semibold",children:t.bloodGroup})]})]}),e.jsxs("div",{className:"text-[7px] text-gray-500 mt-auto",children:[e.jsxs("div",{children:[": ",t.session]}),e.jsxs("div",{children:[": ",t.expireDate]})]})]}),e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rotate-90 text-gray-200 text-sm font-bold opacity-10",children:t.eiin})})]}):e.jsxs("div",{className:n,children:[e.jsxs("div",{className:"bg-gradient-to-b from-blue-600 to-blue-800 text-white p-2 text-center",children:[e.jsx("h2",{className:"text-[10px] font-bold",children:""}),e.jsxs("div",{className:"text-[7px]",children:["EIIN: ",t.eiin]})]}),e.jsxs("div",{className:"p-2 text-[8px] space-y-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[9px] mb-1 text-blue-700",children:" :"}),e.jsxs("div",{children:[": ",t.fatherName]}),e.jsxs("div",{children:[": ",t.motherName]}),e.jsxs("div",{children:[": ",t.guardianPhone]})]}),e.jsxs("div",{className:"bg-yellow-50 p-1 rounded border-l-2 border-yellow-400",children:[e.jsx("h3",{className:"font-semibold text-[9px] text-yellow-700",children:" :"}),e.jsxs("div",{children:[": ",t.guardianPhone]}),e.jsxs("div",{children:[" : ",e.jsx("span",{className:"font-bold text-red-600",children:t.bloodGroup})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-[9px] mb-1",children:":"}),e.jsx("div",{className:"text-[7px]",children:t.address})]}),e.jsxs("div",{className:"space-y-2 mt-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-4 border-b border-gray-300 mb-1 mx-auto"}),e.jsx("span",{className:"text-[7px]",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-4 border-b border-gray-300 mb-1 mx-auto"}),e.jsx("span",{className:"text-[7px]",children:" "})]})]}),e.jsx("div",{className:"text-center text-[6px] text-gray-500 mt-2",children:e.jsx("p",{children:"    "})})]})]})}function mve({student:t,template:s,side:r="front"}){return s==="portrait"?e.jsx(hve,{student:t,side:r}):e.jsx(Ave,{student:t,side:r})}const fve=Y.object({studentName:Y.string().min(1,"  "),studentNameBn:Y.string().min(1,"  "),studentId:Y.string().min(1,"  "),rollNumber:Y.string().min(1,"  "),className:Y.string().min(1,"  "),section:Y.string().min(1,"  "),session:Y.string().min(1," "),bloodGroup:Y.string().min(1,"   "),dateOfBirth:Y.string().min(1,"  "),fatherName:Y.string().min(1,"  "),motherName:Y.string().min(1,"  "),guardianPhone:Y.string().min(1,"   "),address:Y.string().min(1," "),schoolName:Y.string().min(1,"  "),schoolAddress:Y.string().min(1,"  "),eiin:Y.string().min(1,"EIIN  "),issueDate:Y.string().min(1,"  "),expireDate:Y.string().min(1,"   "),template:Y.enum(["portrait","landscape"]).default("portrait")});function xve(){const{toast:t}=ls(),[s,r]=b.useState(""),[n,a]=b.useState(""),[i,l]=b.useState(!1),[o,c]=b.useState(!1),[d,u]=b.useState("front"),h=new Date().toISOString().split("T")[0],A=new Date;A.setFullYear(A.getFullYear()+1);const m=A.toISOString().split("T")[0],p=zs({resolver:qs(fve),defaultValues:{studentName:"",studentNameBn:"",studentId:"",rollNumber:"",className:"",section:"",session:"-",bloodGroup:"",dateOfBirth:"",fatherName:"",motherName:"",guardianPhone:"",address:"",schoolName:"  ",schoolAddress:", -",eiin:"123456",issueDate:h,expireDate:m,template:"portrait"}}),f=Bt({mutationFn:async j=>{const B=await fetch("/api/id-cards/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(!B.ok)throw new Error("Failed to generate ID card");return B.json()},onSuccess:j=>{t({title:"   ",description:"     "}),j.downloadUrl&&window.open(j.downloadUrl,"_blank")},onError:j=>{t({title:"   ",description:j.message||"     ",variant:"destructive"})}}),x=async(j,B)=>{var P;const F=(P=j.target.files)==null?void 0:P[0];if(F){if(F.size>2*1024*1024){t({title:"  ",description:"   MB    ",variant:"destructive"});return}B==="photo"?l(!0):c(!0);try{const E=new FileReader;E.onload=N=>{var _;const C=(_=N.target)==null?void 0:_.result;B==="photo"?(r(C),l(!1)):(a(C),c(!1)),t({title:"  ",description:`${B==="photo"?" ":" "}    `})},E.readAsDataURL(F)}catch{B==="photo"?l(!1):c(!1),t({title:" ",description:"    ",variant:"destructive"})}}},g=j=>{f.mutate({...j,photo:s,schoolLogo:n})},v=p.getValues();return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-6",children:[e.jsx(tt,{href:"/",className:"hover:text-gray-700",children:""}),e.jsx("span",{children:"/"}),e.jsx(tt,{href:"/id-card/dashboard",className:"hover:text-gray-700",children:" "}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium",children:" "})]}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"   "}),e.jsx("p",{className:"text-gray-600 mt-1",children:"      "})]}),e.jsx(tt,{href:"/id-card/dashboard",children:e.jsxs(V,{variant:"outline",children:[e.jsx(qa,{size:16,className:"mr-2"})," "]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Ms,{...p,children:e.jsxs("form",{onSubmit:p.handleSubmit(g),className:"space-y-6",children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(zr,{size:20})," "]})}),e.jsx(M,{children:e.jsx(Se,{control:p.control,name:"template",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsxs(xt,{onValueChange:j.onChange,defaultValue:j.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"portrait",children:" ()"}),e.jsx(X,{value:"landscape",children:" ()"})]})]}),e.jsx(_e,{})]})})})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{children:"  *"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-24 bg-gray-100 border rounded overflow-hidden",children:s?e.jsx("img",{src:s,alt:"Student",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:e.jsx("span",{className:"text-xs text-gray-400",children:""})})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:j=>x(j,"photo"),className:"hidden",id:"photo-upload"}),e.jsxs(V,{type:"button",variant:"outline",size:"sm",onClick:()=>{var j;return(j=document.getElementById("photo-upload"))==null?void 0:j.click()},disabled:i,children:[e.jsx(Wn,{size:16,className:"mr-2"}),i?" ...":" "]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG (MB )"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{children:" "}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 border rounded overflow-hidden",children:n?e.jsx("img",{src:n,alt:"School Logo",className:"w-full h-full object-contain"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:e.jsx("span",{className:"text-xs text-gray-400",children:""})})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:j=>x(j,"logo"),className:"hidden",id:"logo-upload"}),e.jsxs(V,{type:"button",variant:"outline",size:"sm",onClick:()=>{var j;return(j=document.getElementById("logo-upload"))==null?void 0:j.click()},disabled:o,children:[e.jsx(Wn,{size:16,className:"mr-2"}),o?" ...":" "]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG ( )"})]})]})]})]})})]}),e.jsxs(Ar,{defaultValue:"student",className:"w-full",children:[e.jsxs(ir,{className:"grid w-full grid-cols-4",children:[e.jsx(lt,{value:"student",children:""}),e.jsx(lt,{value:"parent",children:""}),e.jsx(lt,{value:"school",children:""}),e.jsx(lt,{value:"validity",children:""})]}),e.jsx(bt,{value:"student",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsxs(M,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Se,{control:p.control,name:"studentName",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" () *"}),e.jsx(Be,{children:e.jsx(de,{...j,placeholder:"Mohammad Rahman"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:p.control,name:"studentNameBn",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" () *"}),e.jsx(Be,{children:e.jsx(de,{...j,placeholder:" "})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:p.control,name:"studentId",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{...j,placeholder:"STU-2024-001"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:p.control,name:"rollNumber",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{...j,placeholder:""})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:p.control,name:"className",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" *"}),e.jsxs(xt,{onValueChange:j.onChange,defaultValue:j.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:p.control,name:"section",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" *"}),e.jsxs(xt,{onValueChange:j.onChange,defaultValue:j.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:p.control,name:"bloodGroup",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsxs(xt,{onValueChange:j.onChange,defaultValue:j.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"   "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"A+",children:"A+"}),e.jsx(X,{value:"A-",children:"A-"}),e.jsx(X,{value:"B+",children:"B+"}),e.jsx(X,{value:"B-",children:"B-"}),e.jsx(X,{value:"AB+",children:"AB+"}),e.jsx(X,{value:"AB-",children:"AB-"}),e.jsx(X,{value:"O+",children:"O+"}),e.jsx(X,{value:"O-",children:"O-"})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:p.control,name:"dateOfBirth",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{...j,type:"date"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:p.control,name:"session",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" *"}),e.jsx(Be,{children:e.jsx(de,{...j,placeholder:"-"})}),e.jsx(_e,{})]})})]}),e.jsx("div",{className:"mt-4",children:e.jsx(Se,{control:p.control,name:"address",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(Gs,{...j,placeholder:"/, , ",rows:3})}),e.jsx(_e,{})]})})})]})]})}),e.jsx(bt,{value:"parent",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Se,{control:p.control,name:"fatherName",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{...j,placeholder:" "})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:p.control,name:"motherName",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{...j,placeholder:" "})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:p.control,name:"guardianPhone",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{...j,placeholder:""})}),e.jsx(_e,{})]})})]})})]})}),e.jsx(bt,{value:"school",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Se,{control:p.control,name:"schoolName",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{...j,placeholder:"  "})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:p.control,name:"eiin",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"EIIN  *"}),e.jsx(Be,{children:e.jsx(de,{...j,placeholder:"123456"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:p.control,name:"schoolAddress",render:({field:j})=>e.jsxs(Ne,{className:"md:col-span-2",children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{...j,placeholder:", -"})}),e.jsx(_e,{})]})})]})})]})}),e.jsx(bt,{value:"validity",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(bs,{size:20})," "]})}),e.jsx(M,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Se,{control:p.control,name:"issueDate",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  *"}),e.jsx(Be,{children:e.jsx(de,{...j,type:"date"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:p.control,name:"expireDate",render:({field:j})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"   *"}),e.jsx(Be,{children:e.jsx(de,{...j,type:"date"})}),e.jsx(_e,{})]})})]})})]})})]}),e.jsx("div",{className:"flex gap-4 pt-4",children:e.jsxs(V,{type:"submit",disabled:f.isPending,className:"flex items-center gap-2",children:[e.jsx(Ts,{size:16}),f.isPending?" ...":"   "]})})]})})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"sticky top-6",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(cn,{size:20}),""]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(V,{size:"sm",variant:d==="front"?"default":"outline",onClick:()=>u("front"),children:""}),e.jsx(V,{size:"sm",variant:d==="back"?"default":"outline",onClick:()=>u("back"),children:""})]})]})}),e.jsxs(M,{children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(mve,{student:{...v,photo:s,schoolLogo:n},template:v.template,side:d})}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"  "}),e.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[e.jsx("div",{children:" : . "}),e.jsx("div",{children:" :  "}),e.jsx("div",{children:"    "}),e.jsx("div",{children:"  "})]})]})]})]})})})]})]})})}function pve(){const{toast:t}=ls(),[s,r]=b.useState(null),[n,a]=b.useState(!1),i=o=>{var d;const c=(d=o.target.files)==null?void 0:d[0];c&&(r(c),t({title:"  ",description:`${c.name}    `}))},l=async()=>{if(!s){t({title:"  ",description:"  CSV   ",variant:"destructive"});return}a(!0),setTimeout(()=>{a(!1),t({title:"  ",description:"      "})},3e3)};return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-6",children:[e.jsx(tt,{href:"/",className:"hover:text-gray-700",children:""}),e.jsx("span",{children:"/"}),e.jsx(tt,{href:"/id-card/dashboard",className:"hover:text-gray-700",children:" "}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium",children:" "})]}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"   "}),e.jsx("p",{className:"text-gray-600 mt-1",children:"      "})]}),e.jsx(tt,{href:"/id-card/dashboard",children:e.jsxs(V,{variant:"outline",children:[e.jsx(qa,{size:16,className:"mr-2"})," "]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Wn,{size:20}),"CSV  "]})}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ke,{children:"CSV   "}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{type:"file",accept:".csv",onChange:i,className:"hidden",id:"csv-upload"}),e.jsxs(V,{variant:"outline",onClick:()=>{var o;return(o=document.getElementById("csv-upload"))==null?void 0:o.click()},className:"w-full",children:[e.jsx(Wn,{size:16,className:"mr-2"}),"CSV   "]})]}),s&&e.jsxs("p",{className:"text-sm text-green-600 mt-2",children:[" : ",s.name]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"CSV  "}),e.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("p",{children:"CSV     :"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"studentName ( )"}),e.jsx("li",{children:"studentNameBn ( )"}),e.jsx("li",{children:"studentId ( )"}),e.jsx("li",{children:"rollNumber ( )"}),e.jsx("li",{children:"className ()"}),e.jsx("li",{children:"section ()"}),e.jsx("li",{children:"bloodGroup ( )"}),e.jsx("li",{children:"fatherName ( )"}),e.jsx("li",{children:"motherName ( )"})]})]})]}),e.jsxs(V,{onClick:l,disabled:!s||n,className:"w-full",children:[e.jsx(ss,{size:16,className:"mr-2"}),n?" ...":"   "]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:""})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:" : CSV   "}),e.jsx("p",{className:"text-sm text-gray-600",children:" CSV            "})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:" :   "}),e.jsx("p",{className:"text-sm text-gray-600",children:"  CSV        MB  "})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:" :   "}),e.jsx("p",{className:"text-sm text-gray-600",children:'"   "         '})]}),e.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-1",children:""}),e.jsx("p",{className:"text-sm text-yellow-700",children:"             "})]}),e.jsxs(V,{variant:"outline",className:"w-full",children:[e.jsx(Ts,{size:16,className:"mr-2"})," CSV  "]})]})]})]})]})})}function gve(){const[t]=b.useState([{id:"portrait",name:"Portrait ID Card",nameBn:"  ",category:"portrait",description:"   -  ",isActive:!0,createdAt:new Date().toISOString()},{id:"landscape",name:"Landscape ID Card",nameBn:"  ",category:"landscape",description:"   -  ",isActive:!0,createdAt:new Date().toISOString()}]),[s,r]=b.useState(""),n=t.filter(a=>a.nameBn.includes(s)||a.name.toLowerCase().includes(s.toLowerCase()));return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-6",children:[e.jsx(tt,{href:"/",className:"hover:text-gray-700",children:""}),e.jsx("span",{children:"/"}),e.jsx(tt,{href:"/id-card/dashboard",className:"hover:text-gray-700",children:" "}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium",children:""})]}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-gray-600 mt-1",children:"      "})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(tt,{href:"/id-card/dashboard",children:e.jsxs(V,{variant:"outline",children:[e.jsx(qa,{size:16,className:"mr-2"})," "]})}),e.jsxs(V,{children:[e.jsx(Ls,{size:16,className:"mr-2"})," "]})]})]}),e.jsx(H,{className:"mb-6",children:e.jsx(M,{className:"pt-6",children:e.jsx("div",{className:"flex gap-4",children:e.jsx("div",{className:"flex-1",children:e.jsx(de,{placeholder:" ...",value:s,onChange:a=>r(a.target.value)})})})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(a=>e.jsxs(H,{className:"group hover:shadow-lg transition-shadow",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(ce,{className:"text-lg",children:a.nameBn}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:a.description})]}),e.jsx(Oe,{variant:a.isActive?"default":"secondary",children:a.isActive?"":""})]})}),e.jsxs(M,{children:[e.jsx("div",{className:"aspect-[3/4] bg-gradient-to-br from-blue-50 to-indigo-100 rounded-lg mb-4 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-4xl text-blue-500 mb-2 block",children:""}),e.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-1",children:" "}),e.jsx("div",{className:"text-xs text-gray-500",children:a.category==="portrait"?"":""})]})}),e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx(Oe,{variant:a.category==="portrait"?"default":"secondary",className:"text-xs",children:a.category==="portrait"?"":""})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(cn,{size:14,className:"mr-1"}),""]}),e.jsxs(V,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(Yn,{size:14,className:"mr-1"}),""]}),e.jsx(V,{size:"sm",variant:"outline",className:"px-3",children:e.jsx(Ii,{size:14})})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t space-y-2",children:[e.jsx(tt,{href:`/id-card/create-single?template=${a.id}`,children:e.jsx(V,{size:"sm",className:"w-full",children:" "})}),e.jsx(tt,{href:`/id-card/batch-creation?template=${a.id}`,children:e.jsx(V,{size:"sm",variant:"outline",className:"w-full",children:" "})})]})]})]},a.id))}),n.length===0&&e.jsx(H,{children:e.jsxs(M,{className:"py-12 text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"   "}),e.jsx("p",{className:"text-gray-500 mb-6",children:"       "}),e.jsxs(V,{children:[e.jsx(Ls,{size:16,className:"mr-2"}),"   "]})]})})]})})}function vve(){const{toast:t}=ls(),[s,r]=b.useState({defaultTemplate:"portrait",autoSave:!0,watermarkEnabled:!0,watermarkText:"",defaultSchoolName:"  ",defaultSchoolAddress:", -",defaultEiin:"123456",cardValidityPeriod:"1",autoExpireDate:!0,printQuality:"high",cardSize:"credit-card",enableBarcodes:!1,enableQrCodes:!0}),n=()=>{t({title:" ",description:"      "})},a=(i,l)=>{r(o=>({...o,[i]:l}))};return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-6",children:[e.jsx(tt,{href:"/",className:"hover:text-gray-700",children:""}),e.jsx("span",{children:"/"}),e.jsx(tt,{href:"/id-card/dashboard",className:"hover:text-gray-700",children:" "}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium",children:""})]}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"  "}),e.jsx("p",{className:"text-gray-600 mt-1",children:"     "})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(tt,{href:"/id-card/dashboard",children:e.jsxs(V,{variant:"outline",children:[e.jsx(qa,{size:16,className:"mr-2"})," "]})}),e.jsxs(V,{onClick:n,children:[e.jsx(Xv,{size:16,className:"mr-2"})," "]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Ys,{size:20})," "]})}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ke,{children:" "}),e.jsxs(xt,{value:s.defaultTemplate,onValueChange:i=>a("defaultTemplate",i),children:[e.jsx(ht,{children:e.jsx(pt,{})}),e.jsxs(At,{children:[e.jsx(X,{value:"portrait",children:""}),e.jsx(X,{value:"landscape",children:""})]})]})]}),e.jsxs("div",{children:[e.jsx(ke,{children:"  "}),e.jsx(de,{value:s.defaultSchoolName,onChange:i=>a("defaultSchoolName",i.target.value),placeholder:" "})]}),e.jsxs("div",{children:[e.jsx(ke,{children:"  "}),e.jsx(de,{value:s.defaultSchoolAddress,onChange:i=>a("defaultSchoolAddress",i.target.value),placeholder:" "})]}),e.jsxs("div",{children:[e.jsx(ke,{children:" EIIN "}),e.jsx(de,{value:s.defaultEiin,onChange:i=>a("defaultEiin",i.target.value),placeholder:"EIIN "})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ke,{children:" "}),e.jsx("p",{className:"text-sm text-gray-500",children:"     "})]}),e.jsx(Ws,{checked:s.autoSave,onCheckedChange:i=>a("autoSave",i)})]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ke,{children:" "}),e.jsxs(xt,{value:s.cardSize,onValueChange:i=>a("cardSize",i),children:[e.jsx(ht,{children:e.jsx(pt,{})}),e.jsxs(At,{children:[e.jsx(X,{value:"credit-card",children:"   (. )"}),e.jsx(X,{value:"business-card",children:"   ( )"})]})]})]}),e.jsxs("div",{children:[e.jsx(ke,{children:"  ()"}),e.jsxs(xt,{value:s.cardValidityPeriod,onValueChange:i=>a("cardValidityPeriod",i),children:[e.jsx(ht,{children:e.jsx(pt,{})}),e.jsxs(At,{children:[e.jsx(X,{value:"1",children:" "}),e.jsx(X,{value:"2",children:" "}),e.jsx(X,{value:"3",children:" "}),e.jsx(X,{value:"5",children:" "})]})]})]}),e.jsxs("div",{children:[e.jsx(ke,{children:" "}),e.jsxs(xt,{value:s.printQuality,onValueChange:i=>a("printQuality",i),children:[e.jsx(ht,{children:e.jsx(pt,{})}),e.jsxs(At,{children:[e.jsx(X,{value:"standard",children:" ( DPI)"}),e.jsx(X,{value:"high",children:" ( DPI)"}),e.jsx(X,{value:"premium",children:" ( DPI)"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ke,{children:"  "}),e.jsx("p",{className:"text-sm text-gray-500",children:"    "})]}),e.jsx(Ws,{checked:s.autoExpireDate,onCheckedChange:i=>a("autoExpireDate",i)})]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ke,{children:" "}),e.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),e.jsx(Ws,{checked:s.watermarkEnabled,onCheckedChange:i=>a("watermarkEnabled",i)})]}),s.watermarkEnabled&&e.jsxs("div",{children:[e.jsx(ke,{children:" "}),e.jsx(de,{value:s.watermarkText,onChange:i=>a("watermarkText",i.target.value),placeholder:"  (     )"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ke,{children:"QR  "}),e.jsx("p",{className:"text-sm text-gray-500",children:"   QR "})]}),e.jsx(Ws,{checked:s.enableQrCodes,onCheckedChange:i=>a("enableQrCodes",i)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ke,{children:" "}),e.jsx("p",{className:"text-sm text-gray-500",children:"   "})]}),e.jsx(Ws,{checked:s.enableBarcodes,onCheckedChange:i=>a("enableBarcodes",i)})]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:""}),e.jsx("p",{className:"text-sm text-yellow-700",children:"       "})]}),e.jsx(V,{variant:"outline",className:"w-full",children:"  "}),e.jsx(V,{variant:"outline",className:"w-full",children:"  "}),e.jsx(V,{variant:"destructive",className:"w-full",children:"   "})]})]})]})]})})}function jve(){const[t,s]=b.useState(""),[r,n]=b.useState("all"),[a,i]=b.useState("all"),{data:l,isLoading:o}=st({queryKey:["/api/id-cards/history"],queryFn:async()=>{const h=await fetch("/api/id-cards/history?limit=50");if(!h.ok)throw new Error("Failed to fetch history");return h.json()}}),c=h=>new Date(h).toLocaleDateString("bn-BD",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),d=h=>{const A={generated:{label:" ",variant:"default"},downloaded:{label:" ",variant:"secondary"},printed:{label:" ",variant:"outline"}},m=A[h]||A.generated;return e.jsx(Oe,{variant:m.variant,children:m.label})},u=(l==null?void 0:l.filter(h=>{const A=h.studentName.toLowerCase().includes(t.toLowerCase())||h.studentId.toLowerCase().includes(t.toLowerCase()),m=r==="all"||h.status===r,p=a==="all"||h.template===a;return A&&m&&p}))||[];return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-6",children:[e.jsx(tt,{href:"/",className:"hover:text-gray-700",children:""}),e.jsx("span",{children:"/"}),e.jsx(tt,{href:"/id-card/dashboard",className:"hover:text-gray-700",children:" "}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium",children:""})]}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"  "}),e.jsx("p",{className:"text-gray-600 mt-1",children:"      "})]}),e.jsx(tt,{href:"/id-card/dashboard",children:e.jsxs(V,{variant:"outline",children:[e.jsx(qa,{size:16,className:"mr-2"})," "]})})]}),e.jsx(H,{className:"mb-6",children:e.jsx(M,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx(de,{placeholder:"    ...",value:t,onChange:h=>s(h.target.value),className:"pl-10"})]}),e.jsxs(xt,{value:r,onValueChange:n,children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:" "})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),e.jsx(X,{value:"generated",children:" "}),e.jsx(X,{value:"downloaded",children:" "}),e.jsx(X,{value:"printed",children:" "})]})]}),e.jsxs(xt,{value:a,onValueChange:i,children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:" "})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),e.jsx(X,{value:"portrait",children:""}),e.jsx(X,{value:"landscape",children:""})]})]}),e.jsxs(V,{variant:"outline",children:[e.jsx(Ts,{size:16,className:"mr-2"})," "]})]})})}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{children:["   (",u.length," )"]})}),e.jsx(M,{children:o?e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((h,A)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-12 bg-gray-200 rounded"})},A))}):u.length>0?e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:" "}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{className:"text-right",children:""})]})}),e.jsx(Wr,{children:u.map(h=>e.jsxs(ns,{children:[e.jsx(Ve,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:h.studentName}),e.jsxs("div",{className:"text-sm text-gray-500",children:[": ",h.studentId]})]})}),e.jsx(Ve,{children:e.jsxs("div",{className:"text-sm",children:[h.className," - ",h.section]})}),e.jsx(Ve,{children:e.jsx(Oe,{variant:"outline",children:h.template==="portrait"?"":""})}),e.jsx(Ve,{children:e.jsx("div",{className:"text-sm",children:c(h.createdAt)})}),e.jsx(Ve,{children:d(h.status)}),e.jsx(Ve,{children:e.jsx("div",{className:"text-sm",children:h.createdBy})}),e.jsx(Ve,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(cn,{size:14,className:"mr-1"}),""]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Ts,{size:14,className:"mr-1"}),""]}),e.jsx(V,{size:"sm",variant:"outline",children:e.jsx(I2,{size:14})})]})})]},h.id))})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"   "}),e.jsx("p",{className:"text-gray-500 mb-6",children:"        "}),e.jsx(tt,{href:"/id-card/create-single",children:e.jsx(V,{children:"    "})})]})})]})]})})}const AK=({className:t,...s})=>e.jsx("nav",{role:"navigation","aria-label":"pagination",className:at("mx-auto flex w-full justify-center",t),...s});AK.displayName="Pagination";const mK=b.forwardRef(({className:t,...s},r)=>e.jsx("ul",{ref:r,className:at("flex flex-row items-center gap-1",t),...s}));mK.displayName="PaginationContent";const mA=b.forwardRef(({className:t,...s},r)=>e.jsx("li",{ref:r,className:at("",t),...s}));mA.displayName="PaginationItem";const gx=({className:t,isActive:s,size:r="icon",...n})=>e.jsx("a",{"aria-current":s?"page":void 0,className:at(rb({variant:s?"outline":"ghost",size:r}),t),...n});gx.displayName="PaginationLink";const fK=({className:t,...s})=>e.jsxs(gx,{"aria-label":"Go to previous page",size:"default",className:at("gap-1 pl-2.5",t),...s,children:[e.jsx(j3,{className:"h-4 w-4"}),e.jsx("span",{children:"Previous"})]});fK.displayName="PaginationPrevious";const xK=({className:t,...s})=>e.jsxs(gx,{"aria-label":"Go to next page",size:"default",className:at("gap-1 pr-2.5",t),...s,children:[e.jsx("span",{children:"Next"}),e.jsx(Gd,{className:"h-4 w-4"})]});xK.displayName="PaginationNext";const pK=({className:t,...s})=>e.jsxs("span",{"aria-hidden":!0,className:at("flex h-9 w-9 items-center justify-center",t),...s,children:[e.jsx(I2,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"More pages"})]});pK.displayName="PaginationEllipsis";var Ub={};const gK=Ub.VITE_SUPABASE_URL||Ub.SUPABASE_URL||"",vK=Ub.VITE_SUPABASE_ANON_KEY||Ub.SUPABASE_ANON_KEY||"";(!gK||!vK)&&console.warn("Supabase configuration missing. Some features may not work.");const yve=pR(gK,vK,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}});class wve{constructor(s){wi(this,"client");this.client=s}get client(){return this.client}async signUp(s,r,n){const{data:a,error:i}=await this.client.auth.signUp({email:s,password:r,options:{data:n}});if(i)throw i;return a}async signIn(s,r){const{data:n,error:a}=await this.client.auth.signInWithPassword({email:s,password:r});if(a)throw a;return n}async signOut(){const{error:s}=await this.client.auth.signOut();if(s)throw s}async getCurrentUser(){const{data:{user:s},error:r}=await this.client.auth.getUser();if(r)throw r;return s}onAuthStateChange(s){return this.client.auth.onAuthStateChange(s)}async getUsers(s){let r=this.client.from("users").select(`
      *, 
      school:schools(name, name_bn),
      student:students(*),
      teacher:teachers(*)
    `);s&&(r=r.eq("school_id",s));const{data:n,error:a}=await r;if(a)throw a;return n||[]}async getUserById(s){const{data:r,error:n}=await this.client.from("users").select("*, school:schools(*), student:students(*), teacher:teachers(*)").eq("id",s).single();if(n&&n.code!=="PGRST116")throw n;return r}async createUser(s){const{data:r,error:n}=await this.client.from("users").insert(s).select().single();if(n)throw n;return r}async updateUser(s,r){const{data:n,error:a}=await this.client.from("users").update({...r,updated_at:new Date().toISOString()}).eq("id",s).select().single();if(a)throw a;return n}async getStudents(s,r){let n=this.client.from("students").select(`
        *, 
        user:users(name, email, phone_number, profile_picture),
        school:schools(name, name_bn)
      `).eq("school_id",s);r!=null&&r.class&&(n=n.eq("class",r.class)),r!=null&&r.section&&(n=n.eq("section",r.section)),r!=null&&r.status&&(n=n.eq("status",r.status));const{data:a,error:i}=await n.order("name");if(i)throw i;return a||[]}async getStudentById(s){const{data:r,error:n}=await this.client.from("students").select(`
        *, 
        user:users(*),
        school:schools(*),
        borrowed_books:library_borrowed_books(*, book:library_books(*)),
        attendance:attendance(*)
      `).eq("id",s).single();if(n&&n.code!=="PGRST116")throw n;return r}async createStudent(s){const{data:r,error:n}=await this.client.from("students").insert(s).select().single();if(n)throw n;return r}async updateStudent(s,r){const{data:n,error:a}=await this.client.from("students").update({...r,updated_at:new Date().toISOString()}).eq("id",s).select().single();if(a)throw a;return n}async getTeachers(s){const{data:r,error:n}=await this.client.from("teachers").select(`
        *, 
        user:users(name, email, phone_number, profile_picture),
        school:schools(name, name_bn)
      `).eq("school_id",s).order("user(name)");if(n)throw n;return r||[]}async createTeacher(s){const{data:r,error:n}=await this.client.from("teachers").insert(s).select().single();if(n)throw n;return r}async getLibraryBooks(s,r){let n=this.client.from("library_books").select("*").eq("school_id",s);r!=null&&r.category&&(n=n.eq("category",r.category)),r!=null&&r.available&&(n=n.gt("available_copies",0)),r!=null&&r.search&&(n=n.or(`title.ilike.%${r.search}%,author.ilike.%${r.search}%`));const{data:a,error:i}=await n.order("title");if(i)throw i;return a||[]}async createLibraryBook(s){const{data:r,error:n}=await this.client.from("library_books").insert(s).select().single();if(n)throw n;return r}async borrowBook(s,r,n,a){const{error:i}=await this.client.from("library_borrowed_books").insert({book_id:s,student_id:r,due_date:n,school_id:a,status:"borrowed"});if(i)throw i;const{error:l}=await this.client.from("library_books").update({available_copies:this.client.raw("available_copies - 1")}).eq("id",s);if(l)throw l}async getNotifications(s,r){let n=this.client.from("notifications").select("*").eq("school_id",s);r&&(n=n.or(`recipient_type.eq.all,recipient_ids.cs.{${r}}`));const{data:a,error:i}=await n.order("created_at",{ascending:!1});if(i)throw i;return a||[]}async createNotification(s){const{data:r,error:n}=await this.client.from("notifications").insert(s).select().single();if(n)throw n;return r}async markNotificationAsRead(s,r){const{error:n}=await this.client.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",s);if(n)throw n}async getDashboardStats(s){const[r,n,a,i,l]=await Promise.all([this.client.from("students").select("id",{count:"exact"}).eq("school_id",s),this.client.from("teachers").select("id",{count:"exact"}).eq("school_id",s),this.client.from("library_books").select("id",{count:"exact"}).eq("school_id",s),this.client.from("library_borrowed_books").select("id",{count:"exact"}).eq("school_id",s).eq("status","overdue"),this.client.from("events").select("*").eq("school_id",s).gte("start_date",new Date().toISOString()).order("start_date").limit(5)]);return{totalStudents:r.count||0,totalTeachers:n.count||0,totalBooks:a.count||0,overdueBooks:i.count||0,recentEvents:l.data||[]}}subscribeToNotifications(s,r){return this.client.channel(`notifications-${s}`).on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`school_id=eq.${s}`},r).subscribe()}subscribeToAttendance(s,r){return this.client.channel(`attendance-${s}`).on("postgres_changes",{event:"*",schema:"public",table:"attendance",filter:`school_id=eq.${s}`},r).subscribe()}async uploadFile(s,r,n){const{data:a,error:i}=await this.client.storage.from(s).upload(r,n);if(i)throw i;return a}getFileUrl(s,r){const{data:n}=this.client.storage.from(s).getPublicUrl(r);return n.publicUrl}async deleteFile(s,r){const{error:n}=await this.client.storage.from(s).remove([r]);if(n)throw n}}const ld=new wve(yve);function bve(t,s){return st({queryKey:["students",t,s],queryFn:()=>ld.getStudents(t,s),enabled:!0})}function Nve(){const t=Cs();return Bt({mutationFn:s=>ld.createStudent(s),onSuccess:s=>{t.invalidateQueries({queryKey:["students"]}),t.setQueryData(["students",s.id],s)}})}function Cve(){const t=Cs();return Bt({mutationFn:({id:s,updates:r})=>ld.updateStudent(s,r),onSuccess:s=>{t.invalidateQueries({queryKey:["students"]}),t.setQueryData(["students",s.id],s)}})}function Bve(t){return st({queryKey:["teachers",t],queryFn:()=>ld.getTeachers(t),enabled:!0})}function Sve(){const t=Cs();return Bt({mutationFn:s=>ld.createTeacher(s),onSuccess:s=>{t.invalidateQueries({queryKey:["teachers"]}),t.setQueryData(["teachers",s.id],s)}})}function kve(t,s){return st({queryKey:["library-books",t,s],queryFn:()=>ld.getLibraryBooks(t,s),enabled:!0})}function _ve(t,s){return st({queryKey:["notifications",t,s],queryFn:()=>ld.getNotifications(t,s),enabled:!0})}function Eve(t){return st({queryKey:["dashboard-stats",t],queryFn:()=>ld.getDashboardStats(t),enabled:!0,refetchInterval:5*60*1e3})}function Fve(t){return st({queryKey:["inventory-items",t],queryFn:async()=>{const{data:s,error:r}=await ld.client.from("inventory_items").select("*").eq("school_id",t).order("name");if(r)throw r;return s||[]},enabled:!0})}function Tve(t,s,r){return st({queryKey:["calendar-events",t,s,r],queryFn:()=>ld.getCalendarEvents(t,s,r),enabled:!0})}function R_({trigger:t,profile:s,type:r,language:n,onEdit:a}){const i=u=>!u||typeof u!="string"?"??":u.split(" ").map(h=>h[0]).join("").toUpperCase().slice(0,2),l=u=>u?new Date(u).toLocaleDateString():"N/A",o=()=>({student:{en:"Student",bn:"",ar:""},teacher:{en:"Teacher",bn:"",ar:""},staff:{en:"Staff",bn:"",ar:""},parent:{en:"Parent",bn:"",ar:" "}})[r][n],d={en:{personalInfo:"Personal Information",contactInfo:"Contact Information",academicInfo:"Academic Information",professionalInfo:"Professional Information",familyInfo:"Family Information",email:"Email",phone:"Phone",address:"Address",dateOfBirth:"Date of Birth",gender:"Gender",class:"Class",section:"Section",rollNumber:"Roll Number",admissionDate:"Admission Date",subject:"Subject",qualification:"Qualification",experience:"Experience",joiningDate:"Joining Date",department:"Department",position:"Position",fatherName:"Father Name",motherName:"Mother Name",occupation:"Occupation",relationship:"Relationship"},bn:{personalInfo:" ",contactInfo:" ",academicInfo:" ",professionalInfo:" ",familyInfo:" ",email:"",phone:"",address:"",dateOfBirth:" ",gender:"",class:"",section:"",rollNumber:" ",admissionDate:" ",subject:"",qualification:"",experience:"",joiningDate:" ",department:"",position:"",fatherName:" ",motherName:" ",occupation:"",relationship:""},ar:{personalInfo:" ",contactInfo:" ",academicInfo:" ",professionalInfo:" ",familyInfo:" ",email:" ",phone:"",address:"",dateOfBirth:" ",gender:"",class:"",section:"",rollNumber:" ",admissionDate:" ",subject:"",qualification:"",experience:"",joiningDate:" ",department:"",position:"",fatherName:" ",motherName:" ",occupation:"",relationship:""}}[n];return e.jsxs(pr,{children:[e.jsx(fn,{asChild:!0,children:t}),e.jsxs(or,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(cr,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(dr,{className:"text-xl font-semibold",children:[o()," Profile"]}),a&&e.jsxs(V,{variant:"outline",size:"sm",onClick:a,className:"flex items-center gap-2",children:[e.jsx(Yn,{className:"h-4 w-4"}),n==="bn"?"":n==="ar"?"":"Edit"]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg",children:[e.jsxs(wm,{className:"h-20 w-20 border-4 border-white shadow-lg",children:[e.jsx(y0,{src:s.photo,alt:s.name}),e.jsx(bm,{className:"text-xl font-semibold bg-gradient-to-br from-blue-500 to-indigo-600 text-white",children:i(s.name)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:s.name||"Name not provided"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(Oe,{variant:"secondary",className:"text-xs",children:o()}),r==="student"&&s.studentId&&e.jsxs(Oe,{variant:"outline",className:"text-xs",children:["ID: ",s.studentId]}),r==="teacher"&&s.teacherId&&e.jsxs(Oe,{variant:"outline",className:"text-xs",children:["ID: ",s.teacherId]}),r==="staff"&&s.staffId&&e.jsxs(Oe,{variant:"outline",className:"text-xs",children:["ID: ",s.staffId]}),r==="parent"&&s.parentId&&e.jsxs(Oe,{variant:"outline",className:"text-xs",children:["ID: ",s.parentId]}),s.bloodGroup&&e.jsxs(Oe,{variant:"destructive",className:"text-xs flex items-center gap-1",children:[e.jsx(bte,{className:"h-3 w-3"}),s.bloodGroup]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-600 dark:text-gray-400",children:[s.email&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(uo,{className:"h-4 w-4"}),s.email]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($o,{className:"h-4 w-4"}),s.phone]})]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{className:"pb-3",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center",children:[e.jsx(ui,{className:"h-4 w-4 mr-2"}),d.personalInfo]})}),e.jsx(M,{className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.dateOfBirth&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bs,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.dateOfBirth,":"]}),e.jsx("span",{className:"text-sm font-medium",children:l(s.dateOfBirth)})]}),s.gender&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ui,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.gender,":"]}),e.jsx("span",{className:"text-sm font-medium",children:s.gender})]})]})})]}),e.jsxs(H,{children:[e.jsx(oe,{className:"pb-3",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center",children:[e.jsx($o,{className:"h-4 w-4 mr-2"}),d.contactInfo]})}),e.jsxs(M,{className:"space-y-3",children:[s.email&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(uo,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.email,":"]}),e.jsx("span",{className:"text-sm font-medium",children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($o,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.phone,":"]}),e.jsx("span",{className:"text-sm font-medium",children:s.phone})]}),s.address&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(em,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.address,":"]}),e.jsx("span",{className:"text-sm font-medium",children:s.address})]})]})]}),(s.presentAddress||s.permanentAddress||s.village||s.district)&&e.jsxs(H,{children:[e.jsx(oe,{className:"pb-3",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center",children:[e.jsx(nc,{className:"h-4 w-4 mr-2"}),n==="bn"?" ":n==="ar"?" ":"Address Information"]})}),e.jsxs(M,{className:"space-y-3",children:[s.presentAddress&&e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(em,{className:"h-4 w-4 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n==="bn"?" :":n==="ar"?" :":"Present Address:"}),e.jsx("p",{className:"text-sm font-medium",children:s.presentAddress})]})]}),s.permanentAddress&&e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(nc,{className:"h-4 w-4 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n==="bn"?" :":n==="ar"?" :":"Permanent Address:"}),e.jsx("p",{className:"text-sm font-medium",children:s.permanentAddress})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.village&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n==="bn"?":":n==="ar"?":":"Village:"}),e.jsx("p",{className:"text-sm font-medium",children:s.village})]}),s.postOffice&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n==="bn"?" :":n==="ar"?" :":"Post Office:"}),e.jsx("p",{className:"text-sm font-medium",children:s.postOffice})]}),s.thana&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n==="bn"?":":n==="ar"?":":"Thana:"}),e.jsx("p",{className:"text-sm font-medium",children:s.thana})]}),s.district&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n==="bn"?":":n==="ar"?":":"District:"}),e.jsx("p",{className:"text-sm font-medium",children:s.district})]}),s.division&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n==="bn"?":":n==="ar"?":":"Division:"}),e.jsx("p",{className:"text-sm font-medium",children:s.division})]})]})]})]}),(s.emergencyContactName||s.emergencyContactPhone||s.guardianName)&&e.jsxs(H,{children:[e.jsx(oe,{className:"pb-3",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center",children:[e.jsx(ss,{className:"h-4 w-4 mr-2"}),n==="bn"?" ":n==="ar"?"  ":"Emergency Contact"]})}),e.jsxs(M,{className:"space-y-3",children:[s.emergencyContactName&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ui,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n==="bn"?"  :":n==="ar"?"   :":"Emergency Contact Name:"}),e.jsx("span",{className:"text-sm font-medium",children:s.emergencyContactName})]}),s.emergencyContactPhone&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($o,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n==="bn"?" :":n==="ar"?" :":"Emergency Phone:"}),e.jsx("span",{className:"text-sm font-medium",children:s.emergencyContactPhone})]}),s.guardianName&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ui,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n==="bn"?":":n==="ar"?":":"Guardian:"}),e.jsx("span",{className:"text-sm font-medium",children:s.guardianName})]}),s.guardianPhone&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($o,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:n==="bn"?" :":n==="ar"?" :":"Guardian Phone:"}),e.jsx("span",{className:"text-sm font-medium",children:s.guardianPhone})]})]})]}),r==="student"&&e.jsxs(H,{children:[e.jsx(oe,{className:"pb-3",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center",children:[e.jsx(dn,{className:"h-4 w-4 mr-2"}),d.academicInfo]})}),e.jsx(M,{className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.class&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.class,":"]}),e.jsx("span",{className:"text-sm font-medium",children:s.class})]}),s.section&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.section,":"]}),e.jsx("span",{className:"text-sm font-medium",children:s.section})]}),s.rollNumber&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.rollNumber,":"]}),e.jsx("span",{className:"text-sm font-medium",children:s.rollNumber})]}),s.admissionDate&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.admissionDate,":"]}),e.jsx("span",{className:"text-sm font-medium",children:l(s.admissionDate)})]})]})})]}),r==="teacher"&&e.jsxs(H,{children:[e.jsx(oe,{className:"pb-3",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center",children:[e.jsx(Kw,{className:"h-4 w-4 mr-2"}),d.professionalInfo]})}),e.jsx(M,{className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.subject&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.subject,":"]}),e.jsx("span",{className:"text-sm font-medium",children:s.subject})]}),s.qualification&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.qualification,":"]}),e.jsx("span",{className:"text-sm font-medium",children:s.qualification})]}),s.experience&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.experience,":"]}),e.jsx("span",{className:"text-sm font-medium",children:s.experience})]}),s.joiningDate&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.joiningDate,":"]}),e.jsx("span",{className:"text-sm font-medium",children:l(s.joiningDate)})]})]})})]}),r==="staff"&&e.jsxs(H,{children:[e.jsx(oe,{className:"pb-3",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center",children:[e.jsx(Kw,{className:"h-4 w-4 mr-2"}),d.professionalInfo]})}),e.jsx(M,{className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.department&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.department,":"]}),e.jsx("span",{className:"text-sm font-medium",children:s.department})]}),s.position&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.position,":"]}),e.jsx("span",{className:"text-sm font-medium",children:s.position})]}),s.joiningDate&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.joiningDate,":"]}),e.jsx("span",{className:"text-sm font-medium",children:l(s.joiningDate)})]})]})})]}),r==="parent"&&e.jsxs(H,{children:[e.jsx(oe,{className:"pb-3",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center",children:[e.jsx(ss,{className:"h-4 w-4 mr-2"}),d.familyInfo]})}),e.jsx(M,{className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.fatherName&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.fatherName,":"]}),e.jsx("span",{className:"text-sm font-medium",children:s.fatherName})]}),s.motherName&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.motherName,":"]}),e.jsx("span",{className:"text-sm font-medium",children:s.motherName})]}),s.occupation&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.occupation,":"]}),e.jsx("span",{className:"text-sm font-medium",children:s.occupation})]}),s.relationship&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.relationship,":"]}),e.jsx("span",{className:"text-sm font-medium",children:s.relationship})]})]})})]})]})]})]})}function Lve(){const{toast:t}=ls();Cs();const[s,r]=b.useState("all"),[n,a]=b.useState(""),[i,l]=b.useState("all"),[o,c]=b.useState(!1),[d,u]=b.useState(null),[h,A]=b.useState({studentId:"",name:"",nameInBangla:"",fatherName:"",motherName:"",class:"",section:"",rollNumber:"",phone:"",email:"",guardianName:"",guardianPhone:"",presentAddress:"",bloodGroup:"",gender:"",dateOfBirth:""}),{data:m=[],isLoading:p,error:f,refetch:x}=bve(1),g=Nve(),v=Cve(),j=Bt({mutationFn:C=>apiRequest(`/api/students/${C}`,{method:"DELETE"}),onSuccess:async(C,_)=>{console.log("Delete successful for student ID:",_),await x(),t({title:" !",description:"   "})},onError:C=>{console.error("Delete error:",C),t({title:"!",description:C.message||"   ",variant:"destructive"})}}),B=()=>{A({studentId:"",name:"",nameInBangla:"",fatherName:"",motherName:"",class:"",section:"",rollNumber:"",phone:"",email:"",guardianName:"",guardianPhone:"",presentAddress:"",bloodGroup:"",gender:"",dateOfBirth:""}),u(null)},F=(m||[]).filter(C=>{if(!C)return!1;const _=s==="all"||s==="active"&&C.status==="active"||s==="inactive"&&C.status==="inactive",k=n.toLowerCase(),D=!n||C.name&&C.name.toLowerCase().includes(k)||C.nameInBangla&&C.nameInBangla.includes(n)||C.studentId&&C.studentId.includes(n)||C.rollNumber&&C.rollNumber.includes(n),z=i==="all"||C.class===i;return _&&D&&z}),P=()=>{if(console.log("Form data:",h),!h.name||!h.class||!h.rollNumber){console.log("Validation failed:",{name:h.name,class:h.class,rollNumber:h.rollNumber}),t({title:"!",description:" ,     ",variant:"destructive"});return}const C={...h,studentId:h.studentId||`STU${Date.now()}`,dateOfBirth:h.dateOfBirth||null,schoolId:1};d?v.mutate({id:d.id,...C}):g.mutate(C)},E=C=>{u(C),A({studentId:C.studentId||"",name:C.name||"",nameInBangla:C.nameInBangla||"",fatherName:C.fatherName||"",motherName:C.motherName||"",class:C.class||"",section:C.section||"",rollNumber:C.rollNumber||"",phone:C.phone||"",email:C.email||"",guardianName:C.guardianName||"",guardianPhone:C.guardianPhone||"",presentAddress:C.presentAddress||"",bloodGroup:C.bloodGroup||"",gender:C.gender||"",dateOfBirth:C.dateOfBirth||""}),c(!0)},N=C=>{console.log("Delete request for student ID:",C),confirm("        ?")&&(console.log("User confirmed delete, calling mutation..."),j.mutate(C))};return p?e.jsx(is,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"  ..."})]})})}):f?e.jsx(is,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600",children:"    "}),e.jsx(V,{onClick:()=>window.location.reload(),className:"mt-4",children:"  "})]})})}):e.jsxs(is,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-gray-600 mt-2",children:"   ,       "})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx(H,{className:"border-l-4 border-l-blue-500",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Array.isArray(m)?m.length:0})]}),e.jsx(ss,{className:"w-8 h-8 text-blue-500"})]})})}),e.jsx(H,{className:"border-l-4 border-l-green-500",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:Array.isArray(m)?m.filter(C=>C.status==="active").length:0})]}),e.jsx(ks,{className:"w-8 h-8 text-green-500"})]})})}),e.jsx(H,{className:"border-l-4 border-l-orange-500",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Array.isArray(m)?m.filter(C=>C.status==="inactive").length:0})]}),e.jsx(aa,{className:"w-8 h-8 text-orange-500"})]})})}),e.jsx(H,{className:"border-l-4 border-l-purple-500",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Array.isArray(m)?m.filter(C=>{const _=new Date(C.createdAt),k=new Date;return k.setDate(k.getDate()-30),_>k}).length:0})]}),e.jsx(Ls,{className:"w-8 h-8 text-purple-500"})]})})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(de,{placeholder:" ,      ...",value:n,onChange:C=>a(C.target.value),className:"pl-10 pr-4 py-2"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"w-4 h-4"}),""]}),e.jsxs(pr,{open:o,onOpenChange:c,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{className:"flex items-center gap-2",onClick:()=>{B()},children:[e.jsx("span",{className:"material-icons text-sm",children:"add"})," "]})}),e.jsxs(or,{className:"sm:max-w-[625px]",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"   "}),e.jsx(Nr,{children:"       "})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(ke,{htmlFor:"name",children:" ()"}),e.jsx(de,{id:"name",placeholder:"  ",value:h.name,onChange:C=>A({...h,name:C.target.value})})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(ke,{htmlFor:"nameInBangla",children:" ()"}),e.jsx(de,{id:"nameInBangla",placeholder:"  ",value:h.nameInBangla,onChange:C=>A({...h,nameInBangla:C.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(ke,{htmlFor:"fatherName",children:" "}),e.jsx(de,{id:"fatherName",placeholder:" ",value:h.fatherName,onChange:C=>A({...h,fatherName:C.target.value})})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(ke,{htmlFor:"motherName",children:" "}),e.jsx(de,{id:"motherName",placeholder:" ",value:h.motherName,onChange:C=>A({...h,motherName:C.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(ke,{htmlFor:"class",children:""}),e.jsxs(xt,{onValueChange:C=>A({...h,class:C}),value:h.class,children:[e.jsx(ht,{id:"class",children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:" ",children:" "}),e.jsx(X,{value:" ",children:" "}),e.jsx(X,{value:" ",children:" "}),e.jsx(X,{value:" ",children:" "}),e.jsx(X,{value:" ",children:" "})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(ke,{htmlFor:"section",children:""}),e.jsxs(xt,{onValueChange:C=>A({...h,section:C}),value:h.section,children:[e.jsx(ht,{id:"section",children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:"A",children:"A"}),e.jsx(X,{value:"B",children:"B"}),e.jsx(X,{value:"C",children:"C"}),e.jsx(X,{value:"D",children:"D"})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(ke,{htmlFor:"rollNumber",children:" "}),e.jsx(de,{id:"rollNumber",placeholder:" ",value:h.rollNumber,onChange:C=>A({...h,rollNumber:C.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(ke,{htmlFor:"phone",children:"  ()"}),e.jsx(de,{id:"phone",placeholder:"01XXXXXXXXX",value:h.phone,onChange:C=>A({...h,phone:C.target.value})})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(ke,{htmlFor:"email",children:" ()"}),e.jsx(de,{id:"email",type:"email",placeholder:"student@example.com",value:h.email,onChange:C=>A({...h,email:C.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(ke,{htmlFor:"gender",children:""}),e.jsxs(xt,{onValueChange:C=>A({...h,gender:C}),value:h.gender,children:[e.jsx(ht,{id:"gender",children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:"Male",children:""}),e.jsx(X,{value:"Female",children:""})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(ke,{htmlFor:"bloodGroup",children:"  ()"}),e.jsxs(xt,{onValueChange:C=>A({...h,bloodGroup:C}),value:h.bloodGroup,children:[e.jsx(ht,{id:"bloodGroup",children:e.jsx(pt,{placeholder:" "})}),e.jsxs(At,{children:[e.jsx(X,{value:"A+",children:"A+"}),e.jsx(X,{value:"A-",children:"A-"}),e.jsx(X,{value:"B+",children:"B+"}),e.jsx(X,{value:"B-",children:"B-"}),e.jsx(X,{value:"AB+",children:"AB+"}),e.jsx(X,{value:"AB-",children:"AB-"}),e.jsx(X,{value:"O+",children:"O+"}),e.jsx(X,{value:"O-",children:"O-"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(ke,{htmlFor:"presentAddress",children:""}),e.jsx(de,{id:"presentAddress",placeholder:" ",value:h.presentAddress,onChange:C=>A({...h,presentAddress:C.target.value})})]})]}),e.jsxs(Pl,{children:[e.jsx(V,{variant:"outline",onClick:()=>c(!1),children:""}),e.jsx(V,{onClick:P,children:" "})]})]})]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{className:"pb-1",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsx("div",{className:"w-full md:w-64",children:e.jsx(de,{placeholder:",     ",className:"w-full",value:n,onChange:C=>a(C.target.value)})}),e.jsxs(xt,{onValueChange:l,value:i,children:[e.jsx(ht,{className:"w-[180px]",children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),e.jsx(X,{value:" ",children:" "}),e.jsx(X,{value:" ",children:" "}),e.jsx(X,{value:" ",children:" "}),e.jsx(X,{value:" ",children:" "}),e.jsx(X,{value:" ",children:" "})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(V,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[e.jsx("span",{className:"material-icons text-gray-500 text-sm",children:"print"}),""]}),e.jsxs(V,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[e.jsx("span",{className:"material-icons text-gray-500 text-sm",children:"sms"}),"SMS "]})]})]})}),e.jsx(M,{children:e.jsxs(Ar,{value:s,onValueChange:r,className:"w-full mt-4",children:[e.jsxs(ir,{className:"grid w-full grid-cols-3",children:[e.jsxs(lt,{value:"all",children:["  (",(m||[]).length,")"]}),e.jsxs(lt,{value:"active",children:[" (",(m||[]).filter(C=>C.status==="active").length,")"]}),e.jsxs(lt,{value:"inactive",children:[" (",(m||[]).filter(C=>C.status==="inactive").length,")"]})]}),e.jsx(bt,{value:s,className:"mt-4",children:F.length>0?e.jsxs("div",{children:[e.jsx("div",{className:"rounded-md border",children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{className:"w-[50px]",children:""}),e.jsx(We,{className:"w-[80px]",children:""}),e.jsx(We,{className:"min-w-[200px]",children:""}),e.jsx(We,{children:"/"}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{className:"text-right",children:""})]})}),e.jsx(Wr,{children:F.map((C,_)=>e.jsxs(ns,{children:[e.jsx(Ve,{children:_+1}),e.jsx(Ve,{className:"font-medium",children:C.studentId}),e.jsx(Ve,{children:e.jsx(R_,{trigger:e.jsxs("button",{className:"flex items-center space-x-3 hover:bg-gray-50 dark:hover:bg-gray-800 p-2 rounded-md transition-colors w-full text-left",children:[e.jsx(wm,{className:"h-8 w-8",children:e.jsx(bm,{className:"bg-primary/10 text-primary text-xs",children:C.name&&C.name.split(" ").map(k=>k[0]||"").join("").slice(0,2)||"NA"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:C.nameInBangla||C.name}),e.jsx("div",{className:"text-xs text-gray-500",children:C.name})]})]}),profile:{id:C.id,name:C.name,studentId:C.studentId,email:C.email,phone:C.phone,address:C.address,dateOfBirth:C.dateOfBirth,gender:C.gender,class:C.class,section:C.section,rollNumber:C.rollNumber,admissionDate:C.createdAt},type:"student",language:"bn"})}),e.jsxs(Ve,{children:[C.class," / ",C.section]}),e.jsx(Ve,{children:C.rollNumber}),e.jsx(Ve,{children:C.status==="active"?e.jsx(Oe,{variant:"outline",className:"bg-green-50 text-green-700 hover:bg-green-50",children:""}):e.jsx(Oe,{variant:"outline",className:"bg-gray-50 text-gray-700 hover:bg-gray-50",children:""})}),e.jsx(Ve,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>E(C),children:e.jsx(Yn,{className:"h-4 w-4"})}),e.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700",onClick:()=>N(C.id),disabled:j.isPending,children:e.jsx(Ii,{className:"h-4 w-4"})})]})})]},C.id))})]})}),e.jsx("div",{className:"mt-4",children:e.jsx(AK,{children:e.jsxs(mK,{children:[e.jsx(mA,{children:e.jsx(fK,{href:"#"})}),e.jsx(mA,{children:e.jsx(gx,{href:"#",isActive:!0,children:"1"})}),e.jsx(mA,{children:e.jsx(gx,{href:"#",children:"2"})}),e.jsx(mA,{children:e.jsx(gx,{href:"#",children:"3"})}),e.jsx(mA,{children:e.jsx(pK,{})}),e.jsx(mA,{children:e.jsx(xK,{href:"#"})})]})})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("span",{className:"material-icons text-gray-400 text-5xl mb-2",children:"person_off"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"   "}),e.jsx(V,{onClick:()=>{a(""),l("all"),r("all")},children:"   "})]})})]})})]})]})}const Ive=Y.object({name:Y.string().min(2," "),nameInBangla:Y.string().min(2,"  "),teacherId:Y.string().min(1,"  "),designation:Y.string().min(1," "),department:Y.string().min(1," "),subject:Y.string().min(1," "),phone:Y.string().min(11,"  "),email:Y.string().email("  ").optional().or(Y.literal("")),address:Y.string().min(1," "),dateOfBirth:Y.string().min(1,"  "),joiningDate:Y.string().min(1,"  "),salary:Y.string().min(1," "),qualification:Y.string().min(1,"  "),experience:Y.string().min(1," "),isActive:Y.boolean().default(!0)}),Pve=[" ","  "," ",""," ",""," "],HL=["","","","","","","","","","","",""," ","",""," ",""," "," "];function Dve(){const{toast:t}=ls(),s=Cs(),[r,n]=b.useState("all"),[a,i]=b.useState(""),[l,o]=b.useState("all"),[c,d]=b.useState(!1),[u,h]=b.useState(null),{data:A=[],isLoading:m,error:p,refetch:f}=Bve(1),x=Sve(),g=Bt({mutationFn:({id:C,data:_})=>apiRequest(`/api/teachers/${C}`,{method:"PATCH",body:JSON.stringify(_)}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/teachers"]}),s.invalidateQueries({queryKey:["/api/teachers/stats"]}),t({title:" !",description:"    "}),h(null),d(!1),j.reset()},onError:C=>{t({title:"!",description:"     ",variant:"destructive"})}}),v=Bt({mutationFn:C=>apiRequest(`/api/teachers/${C}`,{method:"DELETE"}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/teachers"]}),s.invalidateQueries({queryKey:["/api/teachers/stats"]}),t({title:" !",description:"   "})},onError:C=>{t({title:"!",description:"   ",variant:"destructive"})}}),j=zs({resolver:qs(Ive),defaultValues:{name:"",nameInBangla:"",teacherId:"",designation:"",department:"",subject:"",phone:"",email:"",address:"",dateOfBirth:"",joiningDate:"",salary:"",qualification:"",experience:"",isActive:!0}}),B=C=>{u?g.mutate({id:u.id,data:C}):x.mutate(C)},F=C=>{h(C),j.reset({name:C.name||"",nameInBangla:C.nameInBangla||"",teacherId:C.teacherId||"",designation:C.designation||"",department:C.department||"",subject:C.subject||"",phone:C.phone||"",email:C.email||"",address:C.address||"",dateOfBirth:C.dateOfBirth||"",joiningDate:C.joiningDate||"",salary:C.salary||"",qualification:C.qualification||"",experience:C.experience||"",isActive:C.isActive??!0}),d(!0)},P=C=>{confirm("        ?")&&v.mutate(C)},E=()=>{j.reset(),h(null)},N=Array.isArray(A)?A.filter(C=>{var z,K,xe;const _=((z=C.name)==null?void 0:z.toLowerCase().includes(a.toLowerCase()))||((K=C.nameInBangla)==null?void 0:K.includes(a))||((xe=C.teacherId)==null?void 0:xe.toLowerCase().includes(a.toLowerCase())),k=l==="all"||C.department===l,D=r==="all"||r==="active"&&C.isActive||r==="inactive"&&!C.isActive;return _&&k&&D}):[];return m?e.jsx(is,{children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"   ..."})]})})})}):e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-gray-600 mt-2",children:"    "})]}),e.jsxs(pr,{open:c,onOpenChange:d,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{onClick:E,children:[e.jsx(Ls,{className:"w-4 h-4 mr-2"}),"   "]})}),e.jsxs(or,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:u?"  ":"   "}),e.jsx(Nr,{children:u?"   ":"     "})]}),e.jsx(Ms,{...j,children:e.jsxs("form",{onSubmit:j.handleSubmit(B),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:j.control,name:"name",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" ()"}),e.jsx(Be,{children:e.jsx(de,{placeholder:" ",...C})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:j.control,name:"nameInBangla",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" ()"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"  ",...C})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:j.control,name:"teacherId",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:"T001",...C})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:j.control,name:"designation",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsxs(xt,{onValueChange:C.onChange,value:C.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsx(At,{children:Pve.map(_=>e.jsx(X,{value:_,children:_},_))})]}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:j.control,name:"department",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsxs(xt,{onValueChange:C.onChange,value:C.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsx(At,{children:HL.map(_=>e.jsx(X,{value:_,children:_},_))})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:j.control,name:"subject",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{placeholder:" ",...C})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:j.control,name:"phone",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:"01XXXXXXXXX",...C})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:j.control,name:"email",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" ()"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"teacher@school.edu.bd",...C})}),e.jsx(_e,{})]})})]}),e.jsx(Se,{control:j.control,name:"address",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{placeholder:" ",...C})}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:j.control,name:"dateOfBirth",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"date",...C})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:j.control,name:"joiningDate",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"date",...C})}),e.jsx(_e,{})]})})]}),e.jsx(Se,{control:j.control,name:"salary",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" ()"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"50000",type:"number",...C})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:j.control,name:"qualification",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:", ",...C})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:j.control,name:"experience",render:({field:C})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{placeholder:" ",...C})}),e.jsx(_e,{})]})}),e.jsxs(Pl,{children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>d(!1),children:""}),e.jsx(V,{type:"submit",disabled:x.isPending||g.isPending,children:x.isPending||g.isPending?"  ...":u?" ":" "})]})]})})]})]})]}),stats&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(M,{children:e.jsx("div",{className:"text-2xl font-bold",children:stats.total||0})})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(Kc,{className:"h-4 w-4 text-green-600"})]}),e.jsx(M,{children:e.jsx("div",{className:"text-2xl font-bold text-green-600",children:stats.active||0})})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(Yw,{className:"h-4 w-4 text-red-600"})]}),e.jsx(M,{children:e.jsx("div",{className:"text-2xl font-bold text-red-600",children:stats.inactive||0})})]})]}),e.jsx(H,{className:"mb-6",children:e.jsx(M,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(de,{placeholder:",     ...",value:a,onChange:C=>i(C.target.value),className:"pl-10"})]})}),e.jsxs(xt,{value:l,onValueChange:o,children:[e.jsx(ht,{className:"w-full md:w-48",children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),HL.map(C=>e.jsx(X,{value:C,children:C},C))]})]}),e.jsxs(V,{variant:"outline",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),""]})]})})}),e.jsx(Ar,{value:r,onValueChange:n,className:"mb-6",children:e.jsxs(ir,{children:[e.jsxs(lt,{value:"all",children:["  (",N.length,")"]}),e.jsxs(lt,{value:"active",children:[" (",N.filter(C=>C.isActive).length,")"]}),e.jsxs(lt,{value:"inactive",children:[" (",N.filter(C=>!C.isActive).length,")"]})]})}),e.jsx(H,{children:e.jsxs(M,{className:"p-0",children:[e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:" "}),e.jsx(We,{children:"  "}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""})]})}),e.jsx(Wr,{children:N.map(C=>e.jsxs(ns,{children:[e.jsx(Ve,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:C.name}),e.jsx("div",{className:"text-sm text-gray-500",children:C.nameInBangla}),e.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",C.teacherId]})]})}),e.jsx(Ve,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:C.designation}),e.jsx("div",{className:"text-sm text-gray-500",children:C.department}),e.jsx("div",{className:"text-xs text-gray-400",children:C.subject})]})}),e.jsx(Ve,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx($o,{className:"w-3 h-3 mr-1"}),C.phone]}),C.email&&e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(uo,{className:"w-3 h-3 mr-1"}),C.email]})]})}),e.jsx(Ve,{children:e.jsx("div",{className:"text-sm",children:C.joiningDate?new Date(C.joiningDate).toLocaleDateString("bn-BD"):"N/A"})}),e.jsx(Ve,{children:e.jsx(Oe,{variant:C.isActive?"default":"secondary",children:C.isActive?e.jsxs(e.Fragment,{children:[e.jsx(ks,{className:"w-3 h-3 mr-1"}),""]}):e.jsxs(e.Fragment,{children:[e.jsx(aa,{className:"w-3 h-3 mr-1"}),""]})})}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(V,{variant:"outline",size:"sm",onClick:()=>F(C),children:e.jsx(Yn,{className:"w-4 h-4"})}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>P(C.id),className:"text-red-600 hover:text-red-700",children:e.jsx(Ii,{className:"w-4 h-4"})})]})})]},C.id))})]}),N.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ss,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"   "}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"       "})]})]})})]})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Ob={};Ob.version="0.18.5";var jK=1252,Uve=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],yK=function(t){Uve.indexOf(t)!=-1&&(jK=t)};function Ove(){yK(1252)}var Cv=function(t){yK(t)};function Rve(){Cv(1200),Ove()}var g1=function(s){return String.fromCharCode(s)},VL=function(s){return String.fromCharCode(s)},KL,ih="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Bv(t){for(var s="",r=0,n=0,a=0,i=0,l=0,o=0,c=0,d=0;d<t.length;)r=t.charCodeAt(d++),i=r>>2,n=t.charCodeAt(d++),l=(r&3)<<4|n>>4,a=t.charCodeAt(d++),o=(n&15)<<2|a>>6,c=a&63,isNaN(n)?o=c=64:isNaN(a)&&(c=64),s+=ih.charAt(i)+ih.charAt(l)+ih.charAt(o)+ih.charAt(c);return s}function eu(t){var s="",r=0,n=0,a=0,i=0,l=0,o=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)i=ih.indexOf(t.charAt(d++)),l=ih.indexOf(t.charAt(d++)),r=i<<2|l>>4,s+=String.fromCharCode(r),o=ih.indexOf(t.charAt(d++)),n=(l&15)<<4|o>>2,o!==64&&(s+=String.fromCharCode(n)),c=ih.indexOf(t.charAt(d++)),a=(o&3)<<6|c,c!==64&&(s+=String.fromCharCode(a));return s}var vr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),nu=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(s,r){return r?new Buffer(s,r):new Buffer(s)}:Buffer.from.bind(Buffer)}return function(){}}();function Am(t){return vr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function zL(t){return vr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Yo=function(s){return vr?nu(s,"binary"):s.split("").map(function(r){return r.charCodeAt(0)&255})};function pN(t){if(typeof ArrayBuffer>"u")return Yo(t);for(var s=new ArrayBuffer(t.length),r=new Uint8Array(s),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return s}function mj(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var s=[],r=0;r<t.length;++r)s[r]=String.fromCharCode(t[r]);return s.join("")}function Mve(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Ra=vr?function(t){return Buffer.concat(t.map(function(s){return Buffer.isBuffer(s)?s:nu(s)}))}:function(t){if(typeof Uint8Array<"u"){var s=0,r=0;for(s=0;s<t.length;++s)r+=t[s].length;var n=new Uint8Array(r),a=0;for(s=0,r=0;s<t.length;r+=a,++s)if(a=t[s].length,t[s]instanceof Uint8Array)n.set(t[s],r);else{if(typeof t[s]=="string")throw"wtf";n.set(new Uint8Array(t[s]),r)}return n}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Qve(t){for(var s=[],r=0,n=t.length+250,a=Am(t.length+255),i=0;i<t.length;++i){var l=t.charCodeAt(i);if(l<128)a[r++]=l;else if(l<2048)a[r++]=192|l>>6&31,a[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=t.charCodeAt(++i)&1023;a[r++]=240|l>>8&7,a[r++]=128|l>>2&63,a[r++]=128|o>>6&15|(l&3)<<4,a[r++]=128|o&63}else a[r++]=224|l>>12&15,a[r++]=128|l>>6&63,a[r++]=128|l&63;r>n&&(s.push(a.slice(0,r)),r=0,a=Am(65535),n=65530)}return s.push(a.slice(0,r)),Ra(s)}var wg=/\u0000/g,v1=/[\u0001-\u0006]/g;function vx(t){for(var s="",r=t.length-1;r>=0;)s+=t.charAt(r--);return s}function Zo(t,s){var r=""+t;return r.length>=s?r:Tn("0",s-r.length)+r}function M_(t,s){var r=""+t;return r.length>=s?r:Tn(" ",s-r.length)+r}function Rb(t,s){var r=""+t;return r.length>=s?r:r+Tn(" ",s-r.length)}function Hve(t,s){var r=""+Math.round(t);return r.length>=s?r:Tn("0",s-r.length)+r}function Vve(t,s){var r=""+t;return r.length>=s?r:Tn("0",s-r.length)+r}var qL=Math.pow(2,32);function vf(t,s){if(t>qL||t<-qL)return Hve(t,s);var r=Math.round(t);return Vve(r,s)}function Mb(t,s){return s=s||0,t.length>=7+s&&(t.charCodeAt(s)|32)===103&&(t.charCodeAt(s+1)|32)===101&&(t.charCodeAt(s+2)|32)===110&&(t.charCodeAt(s+3)|32)===101&&(t.charCodeAt(s+4)|32)===114&&(t.charCodeAt(s+5)|32)===97&&(t.charCodeAt(s+6)|32)===108}var $L=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],$5=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Kve(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var In={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},GL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},zve={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Qb(t,s,r){for(var n=t<0?-1:1,a=t*n,i=0,l=1,o=0,c=1,d=0,u=0,h=Math.floor(a);d<s&&(h=Math.floor(a),o=h*l+i,u=h*d+c,!(a-h<5e-8));)a=1/(a-h),i=l,l=o,c=d,d=u;if(u>s&&(d>s?(u=c,o=i):(u=d,o=l)),!r)return[0,n*o,u];var A=Math.floor(n*o/u);return[A,n*o-A*u,u]}function j1(t,s,r){if(t>2958465||t<0)return null;var n=t|0,a=Math.floor(86400*(t-n)),i=0,l=[],o={D:n,T:a,u:86400*(t-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),s&&s.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)l=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),l=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=Jve(c,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var wK=new Date(1899,11,31,0,0,0),qve=wK.getTime(),$ve=new Date(1900,2,1,0,0,0);function bK(t,s){var r=t.getTime();return s?r-=1461*24*60*60*1e3:t>=$ve&&(r+=24*60*60*1e3),(r-(qve+(t.getTimezoneOffset()-wK.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Q_(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Gve(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Wve(t){var s=t<0?12:11,r=Q_(t.toFixed(12));return r.length<=s||(r=t.toPrecision(10),r.length<=s)?r:t.toExponential(5)}function Yve(t){var s=Q_(t.toFixed(11));return s.length>(t<0?12:11)||s==="0"||s==="-0"?t.toPrecision(6):s}function Xve(t){var s=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return s>=-4&&s<=-1?r=t.toPrecision(10+s):Math.abs(s)<=9?r=Wve(t):s===10?r=t.toFixed(10).substr(0,12):r=Yve(t),Q_(Gve(r.toUpperCase()))}function RS(t,s){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Xve(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Lh(14,bK(t,s&&s.date1904),s)}throw new Error("unsupported value in General format: "+t)}function Jve(t,s){s[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function Zve(t,s,r,n){var a="",i=0,l=0,o=r.y,c,d=0;switch(t){case 98:o=r.y+543;case 121:switch(s.length){case 1:case 2:c=o%100,d=2;break;default:c=o%1e4,d=4;break}break;case 109:switch(s.length){case 1:case 2:c=r.m,d=s.length;break;case 3:return $5[r.m-1][1];case 5:return $5[r.m-1][0];default:return $5[r.m-1][2]}break;case 100:switch(s.length){case 1:case 2:c=r.d,d=s.length;break;case 3:return $L[r.q][0];default:return $L[r.q][1]}break;case 104:switch(s.length){case 1:case 2:c=1+(r.H+11)%12,d=s.length;break;default:throw"bad hour format: "+s}break;case 72:switch(s.length){case 1:case 2:c=r.H,d=s.length;break;default:throw"bad hour format: "+s}break;case 77:switch(s.length){case 1:case 2:c=r.M,d=s.length;break;default:throw"bad minute format: "+s}break;case 115:if(s!="s"&&s!="ss"&&s!=".0"&&s!=".00"&&s!=".000")throw"bad second format: "+s;return r.u===0&&(s=="s"||s=="ss")?Zo(r.S,s.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,i=Math.round(l*(r.S+r.u)),i>=60*l&&(i=0),s==="s"?i===0?"0":""+i/l:(a=Zo(i,2+n),s==="ss"?a.substr(0,2):"."+a.substr(2,s.length-1)));case 90:switch(s){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+s}d=s.length===3?1:2;break;case 101:c=o,d=1;break}var u=d>0?Zo(c,d):"";return u}function lh(t){var s=3;if(t.length<=s)return t;for(var r=t.length%s,n=t.substr(0,r);r!=t.length;r+=s)n+=(n.length>0?",":"")+t.substr(r,s);return n}var NK=/%/g;function eje(t,s,r){var n=s.replace(NK,""),a=s.length-n.length;return Ud(t,n,r*Math.pow(10,2*a))+Tn("%",a)}function tje(t,s,r){for(var n=s.length-1;s.charCodeAt(n-1)===44;)--n;return Ud(t,s.substr(0,n),r/Math.pow(10,3*(s.length-n)))}function CK(t,s){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(s==0)return"0.0E+0";if(s<0)return"-"+CK(t,-s);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(s)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(s/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var l=Math.floor(Math.log(s)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=s.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var BK=/# (\?+)( ?)\/( ?)(\d+)/;function sje(t,s,r){var n=parseInt(t[4],10),a=Math.round(s*n),i=Math.floor(a/n),l=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(l===0?Tn(" ",t[1].length+1+t[4].length):M_(l,t[1].length)+t[2]+"/"+t[3]+Zo(o,t[4].length))}function rje(t,s,r){return r+(s===0?"":""+s)+Tn(" ",t[1].length+2+t[4].length)}var SK=/^#*0*\.([0#]+)/,kK=/\).*[0#]/,_K=/\(###\) ###\\?-####/;function _i(t){for(var s="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:s+=" ";break;case 48:s+="0";break;default:s+=String.fromCharCode(r)}return s}function WL(t,s){var r=Math.pow(10,s);return""+Math.round(t*r)/r}function YL(t,s){var r=t-Math.floor(t),n=Math.pow(10,s);return s<(""+Math.round(r*n)).length?0:Math.round(r*n)}function nje(t,s){return s<(""+Math.round((t-Math.floor(t))*Math.pow(10,s))).length?1:0}function aje(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Yl(t,s,r){if(t.charCodeAt(0)===40&&!s.match(kK)){var n=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Yl("n",n,r):"("+Yl("n",n,-r)+")"}if(s.charCodeAt(s.length-1)===44)return tje(t,s,r);if(s.indexOf("%")!==-1)return eje(t,s,r);if(s.indexOf("E")!==-1)return CK(s,r);if(s.charCodeAt(0)===36)return"$"+Yl(t,s.substr(s.charAt(1)==" "?2:1),r);var a,i,l,o,c=Math.abs(r),d=r<0?"-":"";if(s.match(/^00+$/))return d+vf(c,s.length);if(s.match(/^[#?]+$/))return a=vf(r,0),a==="0"&&(a=""),a.length>s.length?a:_i(s.substr(0,s.length-a.length))+a;if(i=s.match(BK))return sje(i,c,d);if(s.match(/^#+0+$/))return d+vf(c,s.length-s.indexOf("0"));if(i=s.match(SK))return a=WL(r,i[1].length).replace(/^([^\.]+)$/,"$1."+_i(i[1])).replace(/\.$/,"."+_i(i[1])).replace(/\.(\d*)$/,function(p,f){return"."+f+Tn("0",_i(i[1]).length-f.length)}),s.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),i=s.match(/^(0*)\.(#*)$/))return d+WL(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=s.match(/^#{1,3},##0(\.?)$/))return d+lh(vf(c,0));if(i=s.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Yl(t,s,-r):lh(""+(Math.floor(r)+nje(r,i[1].length)))+"."+Zo(YL(r,i[1].length),i[1].length);if(i=s.match(/^#,#*,#0/))return Yl(t,s.replace(/^#,#*,/,""),r);if(i=s.match(/^([0#]+)(\\?-([0#]+))+$/))return a=vx(Yl(t,s.replace(/[\\-]/g,""),r)),l=0,vx(vx(s.replace(/\\/g,"")).replace(/[0#]/g,function(p){return l<a.length?a.charAt(l++):p==="0"?"0":""}));if(s.match(_K))return a=Yl(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=Qb(c,Math.pow(10,l)-1,!1),a=""+d,u=Ud("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Rb(o[2],l),u.length<i[4].length&&(u=_i(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=Qb(c,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?M_(o[1],l)+i[2]+"/"+i[3]+Rb(o[2],l):Tn(" ",2*l+1+i[2].length+i[3].length));if(i=s.match(/^[#0?]+$/))return a=vf(r,0),s.length<=a.length?a:_i(s.substr(0,s.length-a.length))+a;if(i=s.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var h=s.indexOf(".")-l,A=s.length-a.length-h;return _i(s.substr(0,h)+a+s.substr(s.length-A))}if(i=s.match(/^00,000\.([#0]*0)$/))return l=YL(r,i[1].length),r<0?"-"+Yl(t,s,-r):lh(aje(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Zo(0,3-p.length):"")+p})+"."+Zo(l,i[1].length);switch(s){case"###,##0.00":return Yl(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=lh(vf(c,0));return m!=="0"?d+m:"";case"###,###.00":return Yl(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Yl(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+s+"|")}function ije(t,s,r){for(var n=s.length-1;s.charCodeAt(n-1)===44;)--n;return Ud(t,s.substr(0,n),r/Math.pow(10,3*(s.length-n)))}function lje(t,s,r){var n=s.replace(NK,""),a=s.length-n.length;return Ud(t,n,r*Math.pow(10,2*a))+Tn("%",a)}function EK(t,s){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(s==0)return"0.0E+0";if(s<0)return"-"+EK(t,-s);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(s)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(s/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var l=Math.floor(Math.log(s)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=s.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ec(t,s,r){if(t.charCodeAt(0)===40&&!s.match(kK)){var n=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ec("n",n,r):"("+Ec("n",n,-r)+")"}if(s.charCodeAt(s.length-1)===44)return ije(t,s,r);if(s.indexOf("%")!==-1)return lje(t,s,r);if(s.indexOf("E")!==-1)return EK(s,r);if(s.charCodeAt(0)===36)return"$"+Ec(t,s.substr(s.charAt(1)==" "?2:1),r);var a,i,l,o,c=Math.abs(r),d=r<0?"-":"";if(s.match(/^00+$/))return d+Zo(c,s.length);if(s.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>s.length?a:_i(s.substr(0,s.length-a.length))+a;if(i=s.match(BK))return rje(i,c,d);if(s.match(/^#+0+$/))return d+Zo(c,s.length-s.indexOf("0"));if(i=s.match(SK))return a=(""+r).replace(/^([^\.]+)$/,"$1."+_i(i[1])).replace(/\.$/,"."+_i(i[1])),a=a.replace(/\.(\d*)$/,function(p,f){return"."+f+Tn("0",_i(i[1]).length-f.length)}),s.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),i=s.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=s.match(/^#{1,3},##0(\.?)$/))return d+lh(""+c);if(i=s.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ec(t,s,-r):lh(""+r)+"."+Tn("0",i[1].length);if(i=s.match(/^#,#*,#0/))return Ec(t,s.replace(/^#,#*,/,""),r);if(i=s.match(/^([0#]+)(\\?-([0#]+))+$/))return a=vx(Ec(t,s.replace(/[\\-]/g,""),r)),l=0,vx(vx(s.replace(/\\/g,"")).replace(/[0#]/g,function(p){return l<a.length?a.charAt(l++):p==="0"?"0":""}));if(s.match(_K))return a=Ec(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=Qb(c,Math.pow(10,l)-1,!1),a=""+d,u=Ud("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Rb(o[2],l),u.length<i[4].length&&(u=_i(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=Qb(c,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?M_(o[1],l)+i[2]+"/"+i[3]+Rb(o[2],l):Tn(" ",2*l+1+i[2].length+i[3].length));if(i=s.match(/^[#0?]+$/))return a=""+r,s.length<=a.length?a:_i(s.substr(0,s.length-a.length))+a;if(i=s.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var h=s.indexOf(".")-l,A=s.length-a.length-h;return _i(s.substr(0,h)+a+s.substr(s.length-A))}if(i=s.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ec(t,s,-r):lh(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Zo(0,3-p.length):"")+p})+"."+Zo(0,i[1].length);switch(s){case"###,###":case"##,###":case"#,###":var m=lh(""+c);return m!=="0"?d+m:"";default:if(s.match(/\.[0#?]*$/))return Ec(t,s.slice(0,s.lastIndexOf(".")),r)+_i(s.slice(s.lastIndexOf(".")))}throw new Error("unsupported format |"+s+"|")}function Ud(t,s,r){return(r|0)===r?Ec(t,s,r):Yl(t,s,r)}function oje(t){for(var s=[],r=!1,n=0,a=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:s[s.length]=t.substr(a,n-a),a=n+1}if(s[s.length]=t.substr(a),r===!0)throw new Error("Format |"+t+"| unterminated string ");return s}var FK=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function TK(t){for(var s=0,r="",n="";s<t.length;)switch(r=t.charAt(s)){case"G":Mb(t,s)&&(s+=6),s++;break;case'"':for(;t.charCodeAt(++s)!==34&&s<t.length;);++s;break;case"\\":s+=2;break;case"_":s+=2;break;case"@":++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(s,3).toUpperCase()==="A/P"||t.substr(s,5).toUpperCase()==="AM/PM"||t.substr(s,5).toUpperCase()==="/")return!0;++s;break;case"[":for(n=r;t.charAt(s++)!=="]"&&s<t.length;)n+=t.charAt(s);if(n.match(FK))return!0;break;case".":case"0":case"#":for(;s<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++s))>-1||r=="\\"&&t.charAt(s+1)=="-"&&"0#".indexOf(t.charAt(s+2))>-1););break;case"?":for(;t.charAt(++s)===r;);break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;);break;case" ":++s;break;default:++s;break}return!1}function cje(t,s,r,n){for(var a=[],i="",l=0,o="",c="t",d,u,h,A="H";l<t.length;)switch(o=t.charAt(l)){case"G":if(!Mb(t,l))throw new Error("unrecognized character "+o+" in "+t);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(h=t.charCodeAt(++l))!==34&&l<t.length;)i+=String.fromCharCode(h);a[a.length]={t:"t",v:i},++l;break;case"\\":var m=t.charAt(++l),p=m==="("||m===")"?m:"t";a[a.length]={t:p,v:m},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:s},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(d==null&&(d=j1(s,r,t.charAt(l+1)==="2"),d==null))return"";a[a.length]={t:"X",v:t.substr(l,2)},c=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(s<0||d==null&&(d=j1(s,r),d==null))return"";for(i=o;++l<t.length&&t.charAt(l).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=A),a[a.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var f={t:o,v:o};if(d==null&&(d=j1(s,r)),t.substr(l,3).toUpperCase()==="A/P"?(d!=null&&(f.v=d.H>=12?"P":"A"),f.t="T",A="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(d!=null&&(f.v=d.H>=12?"PM":"AM"),f.t="T",l+=5,A="h"):t.substr(l,5).toUpperCase()==="/"?(d!=null&&(f.v=d.H>=12?"":""),f.t="T",l+=5,A="h"):(f.t="t",++l),d==null&&f.t==="T")return"";a[a.length]=f,c=o;break;case"[":for(i=o;t.charAt(l++)!=="]"&&l<t.length;)i+=t.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(FK)){if(d==null&&(d=j1(s,r),d==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",TK(t)||(a[a.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=o;++l<t.length&&(o=t.charAt(l))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++l<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(l))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;t.charAt(++l)===o;)i+=o;a[a.length]={t:o,v:i},c=o;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)i+=t.charAt(l);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);a[a.length]={t:"t",v:o},++l;break}var x=0,g=0,v;for(l=a.length-1,c="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=A,c="h",x<1&&(x=1);break;case"s":(v=a[l].v.match(/\.0+$/))&&(g=Math.max(g,v[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[l].t;break;case"m":c==="s"&&(a[l].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[l].v.match(/[Hh]/)&&(x=1),x<2&&a[l].v.match(/[Mm]/)&&(x=2),x<3&&a[l].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var j="",B;for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=Zve(a[l].t.charCodeAt(0),a[l].v,d,g),a[l].t="t";break;case"n":case"?":for(B=l+1;a[B]!=null&&((o=a[B].t)==="?"||o==="D"||(o===" "||o==="t")&&a[B+1]!=null&&(a[B+1].t==="?"||a[B+1].t==="t"&&a[B+1].v==="/")||a[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[B].v==="/"||a[B].v===" "&&a[B+1]!=null&&a[B+1].t=="?"));)a[l].v+=a[B].v,a[B]={v:"",t:";"},++B;j+=a[l].v,l=B-1;break;case"G":a[l].t="t",a[l].v=RS(s,r);break}var F="",P,E;if(j.length>0){j.charCodeAt(0)==40?(P=s<0&&j.charCodeAt(0)===45?-s:s,E=Ud("n",j,P)):(P=s<0&&n>1?-s:s,E=Ud("n",j,P),P<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),B=E.length-1;var N=a.length;for(l=0;l<a.length;++l)if(a[l]!=null&&a[l].t!="t"&&a[l].v.indexOf(".")>-1){N=l;break}var C=a.length;if(N===a.length&&E.indexOf("E")===-1){for(l=a.length-1;l>=0;--l)a[l]==null||"n?".indexOf(a[l].t)===-1||(B>=a[l].v.length-1?(B-=a[l].v.length,a[l].v=E.substr(B+1,a[l].v.length)):B<0?a[l].v="":(a[l].v=E.substr(0,B+1),B=-1),a[l].t="t",C=l);B>=0&&C<a.length&&(a[C].v=E.substr(0,B+1)+a[C].v)}else if(N!==a.length&&E.indexOf("E")===-1){for(B=E.indexOf(".")-1,l=N;l>=0;--l)if(!(a[l]==null||"n?".indexOf(a[l].t)===-1)){for(u=a[l].v.indexOf(".")>-1&&l===N?a[l].v.indexOf(".")-1:a[l].v.length-1,F=a[l].v.substr(u+1);u>=0;--u)B>=0&&(a[l].v.charAt(u)==="0"||a[l].v.charAt(u)==="#")&&(F=E.charAt(B--)+F);a[l].v=F,a[l].t="t",C=l}for(B>=0&&C<a.length&&(a[C].v=E.substr(0,B+1)+a[C].v),B=E.indexOf(".")+1,l=N;l<a.length;++l)if(!(a[l]==null||"n?(".indexOf(a[l].t)===-1&&l!==N)){for(u=a[l].v.indexOf(".")>-1&&l===N?a[l].v.indexOf(".")+1:0,F=a[l].v.substr(0,u);u<a[l].v.length;++u)B<E.length&&(F+=E.charAt(B++));a[l].v=F,a[l].t="t",C=l}}}for(l=0;l<a.length;++l)a[l]!=null&&"n?".indexOf(a[l].t)>-1&&(P=n>1&&s<0&&l>0&&a[l-1].v==="-"?-s:s,a[l].v=Ud(a[l].t,a[l].v,P),a[l].t="t");var _="";for(l=0;l!==a.length;++l)a[l]!=null&&(_+=a[l].v);return _}var XL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function JL(t,s){if(s==null)return!1;var r=parseFloat(s[2]);switch(s[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function dje(t,s){var r=oje(t),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof s!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=s>0?r[0]:s<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(XL),o=r[1].match(XL);return JL(s,l)?[n,r[0]]:JL(s,o)?[n,r[1]]:[n,r[l!=null&&o!=null?2:1]]}return[n,i]}function Lh(t,s,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:In)[t],n==null&&(n=r.table&&r.table[GL[t]]||In[GL[t]]),n==null&&(n=zve[t]||"General");break}if(Mb(n,0))return RS(s,r);s instanceof Date&&(s=bK(s,r.date1904));var a=dje(n,s);if(Mb(a[1]))return RS(s,r);if(s===!0)s="TRUE";else if(s===!1)s="FALSE";else if(s===""||s==null)return"";return cje(a[1],s,r,a[0])}function LK(t,s){if(typeof s!="number"){s=+s||-1;for(var r=0;r<392;++r){if(In[r]==null){s<0&&(s=r);continue}if(In[r]==t){s=r;break}}s<0&&(s=391)}return In[s]=t,s}function gN(t){for(var s=0;s!=392;++s)t[s]!==void 0&&LK(t[s],s)}function vN(){In=Kve()}var IK=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function uje(t){var s=typeof t=="number"?In[t]:t;return s=s.replace(IK,"(\\d+)"),new RegExp("^"+s+"$")}function hje(t,s,r){var n=-1,a=-1,i=-1,l=-1,o=-1,c=-1;(s.match(IK)||[]).forEach(function(h,A){var m=parseInt(r[A+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":l=m;break;case"s":c=m;break;case"m":l>=0?o=m:a=m;break}}),c>=0&&o==-1&&a>=0&&(o=a,a=-1);var d=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return l==-1&&o==-1&&c==-1?d:n==-1&&a==-1&&i==-1?u:d+"T"+u}var Aje=function(){var t={};t.version="1.2.0";function s(){for(var E=0,N=new Array(256),C=0;C!=256;++C)E=C,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,N[C]=E;return typeof Int32Array<"u"?new Int32Array(N):N}var r=s();function n(E){var N=0,C=0,_=0,k=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(_=0;_!=256;++_)k[_]=E[_];for(_=0;_!=256;++_)for(C=E[_],N=256+_;N<4096;N+=256)C=k[N]=C>>>8^E[C&255];var D=[];for(_=1;_!=16;++_)D[_-1]=typeof Int32Array<"u"?k.subarray(_*256,_*256+256):k.slice(_*256,_*256+256);return D}var a=n(r),i=a[0],l=a[1],o=a[2],c=a[3],d=a[4],u=a[5],h=a[6],A=a[7],m=a[8],p=a[9],f=a[10],x=a[11],g=a[12],v=a[13],j=a[14];function B(E,N){for(var C=N^-1,_=0,k=E.length;_<k;)C=C>>>8^r[(C^E.charCodeAt(_++))&255];return~C}function F(E,N){for(var C=N^-1,_=E.length-15,k=0;k<_;)C=j[E[k++]^C&255]^v[E[k++]^C>>8&255]^g[E[k++]^C>>16&255]^x[E[k++]^C>>>24]^f[E[k++]]^p[E[k++]]^m[E[k++]]^A[E[k++]]^h[E[k++]]^u[E[k++]]^d[E[k++]]^c[E[k++]]^o[E[k++]]^l[E[k++]]^i[E[k++]]^r[E[k++]];for(_+=15;k<_;)C=C>>>8^r[(C^E[k++])&255];return~C}function P(E,N){for(var C=N^-1,_=0,k=E.length,D=0,z=0;_<k;)D=E.charCodeAt(_++),D<128?C=C>>>8^r[(C^D)&255]:D<2048?(C=C>>>8^r[(C^(192|D>>6&31))&255],C=C>>>8^r[(C^(128|D&63))&255]):D>=55296&&D<57344?(D=(D&1023)+64,z=E.charCodeAt(_++)&1023,C=C>>>8^r[(C^(240|D>>8&7))&255],C=C>>>8^r[(C^(128|D>>2&63))&255],C=C>>>8^r[(C^(128|z>>6&15|(D&3)<<4))&255],C=C>>>8^r[(C^(128|z&63))&255]):(C=C>>>8^r[(C^(224|D>>12&15))&255],C=C>>>8^r[(C^(128|D>>6&63))&255],C=C>>>8^r[(C^(128|D&63))&255]);return~C}return t.table=r,t.bstr=B,t.buf=F,t.str=P,t}(),Rr=function(){var s={};s.version="1.2.1";function r(se,ye){for(var he=se.split("/"),fe=ye.split("/"),je=0,we=0,Ge=Math.min(he.length,fe.length);je<Ge;++je){if(we=he[je].length-fe[je].length)return we;if(he[je]!=fe[je])return he[je]<fe[je]?-1:1}return he.length-fe.length}function n(se){if(se.charAt(se.length-1)=="/")return se.slice(0,-1).indexOf("/")===-1?se:n(se.slice(0,-1));var ye=se.lastIndexOf("/");return ye===-1?se:se.slice(0,ye+1)}function a(se){if(se.charAt(se.length-1)=="/")return a(se.slice(0,-1));var ye=se.lastIndexOf("/");return ye===-1?se:se.slice(ye+1)}function i(se,ye){typeof ye=="string"&&(ye=new Date(ye));var he=ye.getHours();he=he<<6|ye.getMinutes(),he=he<<5|ye.getSeconds()>>>1,se.write_shift(2,he);var fe=ye.getFullYear()-1980;fe=fe<<4|ye.getMonth()+1,fe=fe<<5|ye.getDate(),se.write_shift(2,fe)}function l(se){var ye=se.read_shift(2)&65535,he=se.read_shift(2)&65535,fe=new Date,je=he&31;he>>>=5;var we=he&15;he>>>=4,fe.setMilliseconds(0),fe.setFullYear(he+1980),fe.setMonth(we-1),fe.setDate(je);var Ge=ye&31;ye>>>=5;var rt=ye&63;return ye>>>=6,fe.setHours(ye),fe.setMinutes(rt),fe.setSeconds(Ge<<1),fe}function o(se){bl(se,0);for(var ye={},he=0;se.l<=se.length-4;){var fe=se.read_shift(2),je=se.read_shift(2),we=se.l+je,Ge={};switch(fe){case 21589:he=se.read_shift(1),he&1&&(Ge.mtime=se.read_shift(4)),je>5&&(he&2&&(Ge.atime=se.read_shift(4)),he&4&&(Ge.ctime=se.read_shift(4))),Ge.mtime&&(Ge.mt=new Date(Ge.mtime*1e3));break}se.l=we,ye[fe]=Ge}return ye}var c;function d(){return c||(c={})}function u(se,ye){if(se[0]==80&&se[1]==75)return sn(se,ye);if((se[0]|32)==109&&(se[1]|32)==105)return Ql(se,ye);if(se.length<512)throw new Error("CFB file size "+se.length+" < 512");var he=3,fe=512,je=0,we=0,Ge=0,rt=0,qe=0,Ze=[],et=se.slice(0,512);bl(et,0);var _t=h(et);switch(he=_t[0],he){case 3:fe=512;break;case 4:fe=4096;break;case 0:if(_t[1]==0)return sn(se,ye);default:throw new Error("Major Version: Expected 3 or 4 saw "+he)}fe!==512&&(et=se.slice(0,fe),bl(et,28));var Pt=se.slice(0,fe);A(et,he);var Gt=et.read_shift(4,"i");if(he===3&&Gt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Gt);et.l+=4,Ge=et.read_shift(4,"i"),et.l+=4,et.chk("00100000","Mini Stream Cutoff Size: "),rt=et.read_shift(4,"i"),je=et.read_shift(4,"i"),qe=et.read_shift(4,"i"),we=et.read_shift(4,"i");for(var It=-1,qt=0;qt<109&&(It=et.read_shift(4,"i"),!(It<0));++qt)Ze[qt]=It;var Ns=m(se,fe);x(qe,we,Ns,fe,Ze);var jr=v(Ns,Ge,Ze,fe);jr[Ge].name="!Directory",je>0&&rt!==z&&(jr[rt].name="!MiniFAT"),jr[Ze[0]].name="!FAT",jr.fat_addrs=Ze,jr.ssz=fe;var Ur={},Jn=[],bo=[],cd=[];j(Ge,jr,Ns,Jn,je,Ur,bo,rt),p(bo,cd,Jn),Jn.shift();var jc={FileIndex:bo,FullPaths:cd};return ye&&ye.raw&&(jc.raw={header:Pt,sectors:Ns}),jc}function h(se){if(se[se.l]==80&&se[se.l+1]==75)return[0,0];se.chk(K,"Header Signature: "),se.l+=16;var ye=se.read_shift(2,"u");return[se.read_shift(2,"u"),ye]}function A(se,ye){var he=9;switch(se.l+=2,he=se.read_shift(2)){case 9:if(ye!=3)throw new Error("Sector Shift: Expected 9 saw "+he);break;case 12:if(ye!=4)throw new Error("Sector Shift: Expected 12 saw "+he);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+he)}se.chk("0600","Mini Sector Shift: "),se.chk("000000000000","Reserved: ")}function m(se,ye){for(var he=Math.ceil(se.length/ye)-1,fe=[],je=1;je<he;++je)fe[je-1]=se.slice(je*ye,(je+1)*ye);return fe[he-1]=se.slice(he*ye),fe}function p(se,ye,he){for(var fe=0,je=0,we=0,Ge=0,rt=0,qe=he.length,Ze=[],et=[];fe<qe;++fe)Ze[fe]=et[fe]=fe,ye[fe]=he[fe];for(;rt<et.length;++rt)fe=et[rt],je=se[fe].L,we=se[fe].R,Ge=se[fe].C,Ze[fe]===fe&&(je!==-1&&Ze[je]!==je&&(Ze[fe]=Ze[je]),we!==-1&&Ze[we]!==we&&(Ze[fe]=Ze[we])),Ge!==-1&&(Ze[Ge]=fe),je!==-1&&fe!=Ze[fe]&&(Ze[je]=Ze[fe],et.lastIndexOf(je)<rt&&et.push(je)),we!==-1&&fe!=Ze[fe]&&(Ze[we]=Ze[fe],et.lastIndexOf(we)<rt&&et.push(we));for(fe=1;fe<qe;++fe)Ze[fe]===fe&&(we!==-1&&Ze[we]!==we?Ze[fe]=Ze[we]:je!==-1&&Ze[je]!==je&&(Ze[fe]=Ze[je]));for(fe=1;fe<qe;++fe)if(se[fe].type!==0){if(rt=fe,rt!=Ze[rt])do rt=Ze[rt],ye[fe]=ye[rt]+"/"+ye[fe];while(rt!==0&&Ze[rt]!==-1&&rt!=Ze[rt]);Ze[fe]=-1}for(ye[0]+="/",fe=1;fe<qe;++fe)se[fe].type!==2&&(ye[fe]+="/")}function f(se,ye,he){for(var fe=se.start,je=se.size,we=[],Ge=fe;he&&je>0&&Ge>=0;)we.push(ye.slice(Ge*D,Ge*D+D)),je-=D,Ge=jA(he,Ge*4);return we.length===0?ot(0):Ra(we).slice(0,se.size)}function x(se,ye,he,fe,je){var we=z;if(se===z){if(ye!==0)throw new Error("DIFAT chain shorter than expected")}else if(se!==-1){var Ge=he[se],rt=(fe>>>2)-1;if(!Ge)return;for(var qe=0;qe<rt&&(we=jA(Ge,qe*4))!==z;++qe)je.push(we);x(jA(Ge,fe-4),ye-1,he,fe,je)}}function g(se,ye,he,fe,je){var we=[],Ge=[];je||(je=[]);var rt=fe-1,qe=0,Ze=0;for(qe=ye;qe>=0;){je[qe]=!0,we[we.length]=qe,Ge.push(se[qe]);var et=he[Math.floor(qe*4/fe)];if(Ze=qe*4&rt,fe<4+Ze)throw new Error("FAT boundary crossed: "+qe+" 4 "+fe);if(!se[et])break;qe=jA(se[et],Ze)}return{nodes:we,data:iI([Ge])}}function v(se,ye,he,fe){var je=se.length,we=[],Ge=[],rt=[],qe=[],Ze=fe-1,et=0,_t=0,Pt=0,Gt=0;for(et=0;et<je;++et)if(rt=[],Pt=et+ye,Pt>=je&&(Pt-=je),!Ge[Pt]){qe=[];var It=[];for(_t=Pt;_t>=0;){It[_t]=!0,Ge[_t]=!0,rt[rt.length]=_t,qe.push(se[_t]);var qt=he[Math.floor(_t*4/fe)];if(Gt=_t*4&Ze,fe<4+Gt)throw new Error("FAT boundary crossed: "+_t+" 4 "+fe);if(!se[qt]||(_t=jA(se[qt],Gt),It[_t]))break}we[Pt]={nodes:rt,data:iI([qe])}}return we}function j(se,ye,he,fe,je,we,Ge,rt){for(var qe=0,Ze=fe.length?2:0,et=ye[se].data,_t=0,Pt=0,Gt;_t<et.length;_t+=128){var It=et.slice(_t,_t+128);bl(It,64),Pt=It.read_shift(2),Gt=q_(It,0,Pt-Ze),fe.push(Gt);var qt={name:Gt,type:It.read_shift(1),color:It.read_shift(1),L:It.read_shift(4,"i"),R:It.read_shift(4,"i"),C:It.read_shift(4,"i"),clsid:It.read_shift(16),state:It.read_shift(4,"i"),start:0,size:0},Ns=It.read_shift(2)+It.read_shift(2)+It.read_shift(2)+It.read_shift(2);Ns!==0&&(qt.ct=B(It,It.l-8));var jr=It.read_shift(2)+It.read_shift(2)+It.read_shift(2)+It.read_shift(2);jr!==0&&(qt.mt=B(It,It.l-8)),qt.start=It.read_shift(4,"i"),qt.size=It.read_shift(4,"i"),qt.size<0&&qt.start<0&&(qt.size=qt.type=0,qt.start=z,qt.name=""),qt.type===5?(qe=qt.start,je>0&&qe!==z&&(ye[qe].name="!StreamData")):qt.size>=4096?(qt.storage="fat",ye[qt.start]===void 0&&(ye[qt.start]=g(he,qt.start,ye.fat_addrs,ye.ssz)),ye[qt.start].name=qt.name,qt.content=ye[qt.start].data.slice(0,qt.size)):(qt.storage="minifat",qt.size<0?qt.size=0:qe!==z&&qt.start!==z&&ye[qe]&&(qt.content=f(qt,ye[qe].data,(ye[rt]||{}).data))),qt.content&&bl(qt.content,0),we[Gt]=qt,Ge.push(qt)}}function B(se,ye){return new Date((Bl(se,ye+4)/1e7*Math.pow(2,32)+Bl(se,ye)/1e7-11644473600)*1e3)}function F(se,ye){return d(),u(c.readFileSync(se),ye)}function P(se,ye){var he=ye&&ye.type;switch(he||vr&&Buffer.isBuffer(se)&&(he="buffer"),he||"base64"){case"file":return F(se,ye);case"base64":return u(Yo(eu(se)),ye);case"binary":return u(Yo(se),ye)}return u(se,ye)}function E(se,ye){var he=ye||{},fe=he.root||"Root Entry";if(se.FullPaths||(se.FullPaths=[]),se.FileIndex||(se.FileIndex=[]),se.FullPaths.length!==se.FileIndex.length)throw new Error("inconsistent CFB structure");se.FullPaths.length===0&&(se.FullPaths[0]=fe+"/",se.FileIndex[0]={name:fe,type:5}),he.CLSID&&(se.FileIndex[0].clsid=he.CLSID),N(se)}function N(se){var ye="Sh33tJ5";if(!Rr.find(se,"/"+ye)){var he=ot(4);he[0]=55,he[1]=he[3]=50,he[2]=54,se.FileIndex.push({name:ye,type:2,content:he,size:4,L:69,R:69,C:69}),se.FullPaths.push(se.FullPaths[0]+ye),C(se)}}function C(se,ye){E(se);for(var he=!1,fe=!1,je=se.FullPaths.length-1;je>=0;--je){var we=se.FileIndex[je];switch(we.type){case 0:fe?he=!0:(se.FileIndex.pop(),se.FullPaths.pop());break;case 1:case 2:case 5:fe=!0,isNaN(we.R*we.L*we.C)&&(he=!0),we.R>-1&&we.L>-1&&we.R==we.L&&(he=!0);break;default:he=!0;break}}if(!(!he&&!ye)){var Ge=new Date(1987,1,19),rt=0,qe=Object.create?Object.create(null):{},Ze=[];for(je=0;je<se.FullPaths.length;++je)qe[se.FullPaths[je]]=!0,se.FileIndex[je].type!==0&&Ze.push([se.FullPaths[je],se.FileIndex[je]]);for(je=0;je<Ze.length;++je){var et=n(Ze[je][0]);fe=qe[et],fe||(Ze.push([et,{name:a(et).replace("/",""),type:1,clsid:W,ct:Ge,mt:Ge,content:null}]),qe[et]=!0)}for(Ze.sort(function(Gt,It){return r(Gt[0],It[0])}),se.FullPaths=[],se.FileIndex=[],je=0;je<Ze.length;++je)se.FullPaths[je]=Ze[je][0],se.FileIndex[je]=Ze[je][1];for(je=0;je<Ze.length;++je){var _t=se.FileIndex[je],Pt=se.FullPaths[je];if(_t.name=a(Pt).replace("/",""),_t.L=_t.R=_t.C=-(_t.color=1),_t.size=_t.content?_t.content.length:0,_t.start=0,_t.clsid=_t.clsid||W,je===0)_t.C=Ze.length>1?1:-1,_t.size=0,_t.type=5;else if(Pt.slice(-1)=="/"){for(rt=je+1;rt<Ze.length&&n(se.FullPaths[rt])!=Pt;++rt);for(_t.C=rt>=Ze.length?-1:rt,rt=je+1;rt<Ze.length&&n(se.FullPaths[rt])!=n(Pt);++rt);_t.R=rt>=Ze.length?-1:rt,_t.type=1}else n(se.FullPaths[je+1]||"")==n(Pt)&&(_t.R=je+1),_t.type=2}}}function _(se,ye){var he=ye||{};if(he.fileType=="mad")return As(se,he);switch(C(se),he.fileType){case"zip":return wo(se,he)}var fe=function(Gt){for(var It=0,qt=0,Ns=0;Ns<Gt.FileIndex.length;++Ns){var jr=Gt.FileIndex[Ns];if(jr.content){var Ur=jr.content.length;Ur>0&&(Ur<4096?It+=Ur+63>>6:qt+=Ur+511>>9)}}for(var Jn=Gt.FullPaths.length+3>>2,bo=It+7>>3,cd=It+127>>7,jc=bo+qt+Jn+cd,No=jc+127>>7,yc=No<=109?0:Math.ceil((No-109)/127);jc+No+yc+127>>7>No;)yc=++No<=109?0:Math.ceil((No-109)/127);var hl=[1,yc,No,cd,Jn,qt,It,0];return Gt.FileIndex[0].size=It<<6,hl[7]=(Gt.FileIndex[0].start=hl[0]+hl[1]+hl[2]+hl[3]+hl[4]+hl[5])+(hl[6]+7>>3),hl}(se),je=ot(fe[7]<<9),we=0,Ge=0;{for(we=0;we<8;++we)je.write_shift(1,xe[we]);for(we=0;we<8;++we)je.write_shift(2,0);for(je.write_shift(2,62),je.write_shift(2,3),je.write_shift(2,65534),je.write_shift(2,9),je.write_shift(2,6),we=0;we<3;++we)je.write_shift(2,0);for(je.write_shift(4,0),je.write_shift(4,fe[2]),je.write_shift(4,fe[0]+fe[1]+fe[2]+fe[3]-1),je.write_shift(4,0),je.write_shift(4,4096),je.write_shift(4,fe[3]?fe[0]+fe[1]+fe[2]-1:z),je.write_shift(4,fe[3]),je.write_shift(-4,fe[1]?fe[0]-1:z),je.write_shift(4,fe[1]),we=0;we<109;++we)je.write_shift(-4,we<fe[2]?fe[1]+we:-1)}if(fe[1])for(Ge=0;Ge<fe[1];++Ge){for(;we<236+Ge*127;++we)je.write_shift(-4,we<fe[2]?fe[1]+we:-1);je.write_shift(-4,Ge===fe[1]-1?z:Ge+1)}var rt=function(Gt){for(Ge+=Gt;we<Ge-1;++we)je.write_shift(-4,we+1);Gt&&(++we,je.write_shift(-4,z))};for(Ge=we=0,Ge+=fe[1];we<Ge;++we)je.write_shift(-4,re.DIFSECT);for(Ge+=fe[2];we<Ge;++we)je.write_shift(-4,re.FATSECT);rt(fe[3]),rt(fe[4]);for(var qe=0,Ze=0,et=se.FileIndex[0];qe<se.FileIndex.length;++qe)et=se.FileIndex[qe],et.content&&(Ze=et.content.length,!(Ze<4096)&&(et.start=Ge,rt(Ze+511>>9)));for(rt(fe[6]+7>>3);je.l&511;)je.write_shift(-4,re.ENDOFCHAIN);for(Ge=we=0,qe=0;qe<se.FileIndex.length;++qe)et=se.FileIndex[qe],et.content&&(Ze=et.content.length,!(!Ze||Ze>=4096)&&(et.start=Ge,rt(Ze+63>>6)));for(;je.l&511;)je.write_shift(-4,re.ENDOFCHAIN);for(we=0;we<fe[4]<<2;++we){var _t=se.FullPaths[we];if(!_t||_t.length===0){for(qe=0;qe<17;++qe)je.write_shift(4,0);for(qe=0;qe<3;++qe)je.write_shift(4,-1);for(qe=0;qe<12;++qe)je.write_shift(4,0);continue}et=se.FileIndex[we],we===0&&(et.start=et.size?et.start-1:z);var Pt=we===0&&he.root||et.name;if(Ze=2*(Pt.length+1),je.write_shift(64,Pt,"utf16le"),je.write_shift(2,Ze),je.write_shift(1,et.type),je.write_shift(1,et.color),je.write_shift(-4,et.L),je.write_shift(-4,et.R),je.write_shift(-4,et.C),et.clsid)je.write_shift(16,et.clsid,"hex");else for(qe=0;qe<4;++qe)je.write_shift(4,0);je.write_shift(4,et.state||0),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(4,et.start),je.write_shift(4,et.size),je.write_shift(4,0)}for(we=1;we<se.FileIndex.length;++we)if(et=se.FileIndex[we],et.size>=4096)if(je.l=et.start+1<<9,vr&&Buffer.isBuffer(et.content))et.content.copy(je,je.l,0,et.size),je.l+=et.size+511&-512;else{for(qe=0;qe<et.size;++qe)je.write_shift(1,et.content[qe]);for(;qe&511;++qe)je.write_shift(1,0)}for(we=1;we<se.FileIndex.length;++we)if(et=se.FileIndex[we],et.size>0&&et.size<4096)if(vr&&Buffer.isBuffer(et.content))et.content.copy(je,je.l,0,et.size),je.l+=et.size+63&-64;else{for(qe=0;qe<et.size;++qe)je.write_shift(1,et.content[qe]);for(;qe&63;++qe)je.write_shift(1,0)}if(vr)je.l=je.length;else for(;je.l<je.length;)je.write_shift(1,0);return je}function k(se,ye){var he=se.FullPaths.map(function(qe){return qe.toUpperCase()}),fe=he.map(function(qe){var Ze=qe.split("/");return Ze[Ze.length-(qe.slice(-1)=="/"?2:1)]}),je=!1;ye.charCodeAt(0)===47?(je=!0,ye=he[0].slice(0,-1)+ye):je=ye.indexOf("/")!==-1;var we=ye.toUpperCase(),Ge=je===!0?he.indexOf(we):fe.indexOf(we);if(Ge!==-1)return se.FileIndex[Ge];var rt=!we.match(v1);for(we=we.replace(wg,""),rt&&(we=we.replace(v1,"!")),Ge=0;Ge<he.length;++Ge)if((rt?he[Ge].replace(v1,"!"):he[Ge]).replace(wg,"")==we||(rt?fe[Ge].replace(v1,"!"):fe[Ge]).replace(wg,"")==we)return se.FileIndex[Ge];return null}var D=64,z=-2,K="d0cf11e0a1b11ae1",xe=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",re={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:z,FREESECT:-1,HEADER_SIGNATURE:K,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function I(se,ye,he){d();var fe=_(se,he);c.writeFileSync(ye,fe)}function ie(se){for(var ye=new Array(se.length),he=0;he<se.length;++he)ye[he]=String.fromCharCode(se[he]);return ye.join("")}function ve(se,ye){var he=_(se,ye);switch(ye&&ye.type||"buffer"){case"file":return d(),c.writeFileSync(ye.filename,he),he;case"binary":return typeof he=="string"?he:ie(he);case"base64":return Bv(typeof he=="string"?he:ie(he));case"buffer":if(vr)return Buffer.isBuffer(he)?he:nu(he);case"array":return typeof he=="string"?Yo(he):he}return he}var De;function L(se){try{var ye=se.InflateRaw,he=new ye;if(he._processChunk(new Uint8Array([3,0]),he._finishFlushFlag),he.bytesRead)De=se;else throw new Error("zlib does not expose bytesRead")}catch(fe){console.error("cannot use native zlib: "+(fe.message||fe))}}function U(se,ye){if(!De)return Js(se,ye);var he=De.InflateRaw,fe=new he,je=fe._processChunk(se.slice(se.l),fe._finishFlushFlag);return se.l+=fe.bytesRead,je}function R(se){return De?De.deflateRawSync(se):cs(se)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function G(se){var ye=(se<<1|se<<11)&139536|(se<<5|se<<15)&558144;return(ye>>16|ye>>8|ye)&255}for(var O=typeof Uint8Array<"u",ee=O?new Uint8Array(256):[],Le=0;Le<256;++Le)ee[Le]=G(Le);function Re(se,ye){var he=ee[se&255];return ye<=8?he>>>8-ye:(he=he<<8|ee[se>>8&255],ye<=16?he>>>16-ye:(he=he<<8|ee[se>>16&255],he>>>24-ye))}function Ke(se,ye){var he=ye&7,fe=ye>>>3;return(se[fe]|(he<=6?0:se[fe+1]<<8))>>>he&3}function Me(se,ye){var he=ye&7,fe=ye>>>3;return(se[fe]|(he<=5?0:se[fe+1]<<8))>>>he&7}function $e(se,ye){var he=ye&7,fe=ye>>>3;return(se[fe]|(he<=4?0:se[fe+1]<<8))>>>he&15}function ge(se,ye){var he=ye&7,fe=ye>>>3;return(se[fe]|(he<=3?0:se[fe+1]<<8))>>>he&31}function mt(se,ye){var he=ye&7,fe=ye>>>3;return(se[fe]|(he<=1?0:se[fe+1]<<8))>>>he&127}function Ot(se,ye,he){var fe=ye&7,je=ye>>>3,we=(1<<he)-1,Ge=se[je]>>>fe;return he<8-fe||(Ge|=se[je+1]<<8-fe,he<16-fe)||(Ge|=se[je+2]<<16-fe,he<24-fe)||(Ge|=se[je+3]<<24-fe),Ge&we}function Ye(se,ye,he){var fe=ye&7,je=ye>>>3;return fe<=5?se[je]|=(he&7)<<fe:(se[je]|=he<<fe&255,se[je+1]=(he&7)>>8-fe),ye+3}function St(se,ye,he){var fe=ye&7,je=ye>>>3;return he=(he&1)<<fe,se[je]|=he,ye+1}function gt(se,ye,he){var fe=ye&7,je=ye>>>3;return he<<=fe,se[je]|=he&255,he>>>=8,se[je+1]=he,ye+8}function me(se,ye,he){var fe=ye&7,je=ye>>>3;return he<<=fe,se[je]|=he&255,he>>>=8,se[je+1]=he&255,se[je+2]=he>>>8,ye+16}function Ee(se,ye){var he=se.length,fe=2*he>ye?2*he:ye+5,je=0;if(he>=ye)return se;if(vr){var we=zL(fe);if(se.copy)se.copy(we);else for(;je<se.length;++je)we[je]=se[je];return we}else if(O){var Ge=new Uint8Array(fe);if(Ge.set)Ge.set(se);else for(;je<he;++je)Ge[je]=se[je];return Ge}return se.length=fe,se}function Qe(se){for(var ye=new Array(se),he=0;he<se;++he)ye[he]=0;return ye}function ft(se,ye,he){var fe=1,je=0,we=0,Ge=0,rt=0,qe=se.length,Ze=O?new Uint16Array(32):Qe(32);for(we=0;we<32;++we)Ze[we]=0;for(we=qe;we<he;++we)se[we]=0;qe=se.length;var et=O?new Uint16Array(qe):Qe(qe);for(we=0;we<qe;++we)Ze[je=se[we]]++,fe<je&&(fe=je),et[we]=0;for(Ze[0]=0,we=1;we<=fe;++we)Ze[we+16]=rt=rt+Ze[we-1]<<1;for(we=0;we<qe;++we)rt=se[we],rt!=0&&(et[we]=Ze[rt+16]++);var _t=0;for(we=0;we<qe;++we)if(_t=se[we],_t!=0)for(rt=Re(et[we],fe)>>fe-_t,Ge=(1<<fe+4-_t)-1;Ge>=0;--Ge)ye[rt|Ge<<_t]=_t&15|we<<4;return fe}var vt=O?new Uint16Array(512):Qe(512),ut=O?new Uint16Array(32):Qe(32);if(!O){for(var Et=0;Et<512;++Et)vt[Et]=0;for(Et=0;Et<32;++Et)ut[Et]=0}(function(){for(var se=[],ye=0;ye<32;ye++)se.push(5);ft(se,ut,32);var he=[];for(ye=0;ye<=143;ye++)he.push(8);for(;ye<=255;ye++)he.push(9);for(;ye<=279;ye++)he.push(7);for(;ye<=287;ye++)he.push(8);ft(he,vt,288)})();var Mt=function(){for(var ye=O?new Uint8Array(32768):[],he=0,fe=0;he<Ae.length-1;++he)for(;fe<Ae[he+1];++fe)ye[fe]=he;for(;fe<32768;++fe)ye[fe]=29;var je=O?new Uint8Array(259):[];for(he=0,fe=0;he<ae.length-1;++he)for(;fe<ae[he+1];++fe)je[fe]=he;function we(rt,qe){for(var Ze=0;Ze<rt.length;){var et=Math.min(65535,rt.length-Ze),_t=Ze+et==rt.length;for(qe.write_shift(1,+_t),qe.write_shift(2,et),qe.write_shift(2,~et&65535);et-- >0;)qe[qe.l++]=rt[Ze++]}return qe.l}function Ge(rt,qe){for(var Ze=0,et=0,_t=O?new Uint16Array(32768):[];et<rt.length;){var Pt=Math.min(65535,rt.length-et);if(Pt<10){for(Ze=Ye(qe,Ze,+(et+Pt==rt.length)),Ze&7&&(Ze+=8-(Ze&7)),qe.l=Ze/8|0,qe.write_shift(2,Pt),qe.write_shift(2,~Pt&65535);Pt-- >0;)qe[qe.l++]=rt[et++];Ze=qe.l*8;continue}Ze=Ye(qe,Ze,+(et+Pt==rt.length)+2);for(var Gt=0;Pt-- >0;){var It=rt[et];Gt=(Gt<<5^It)&32767;var qt=-1,Ns=0;if((qt=_t[Gt])&&(qt|=et&-32768,qt>et&&(qt-=32768),qt<et))for(;rt[qt+Ns]==rt[et+Ns]&&Ns<250;)++Ns;if(Ns>2){It=je[Ns],It<=22?Ze=gt(qe,Ze,ee[It+1]>>1)-1:(gt(qe,Ze,3),Ze+=5,gt(qe,Ze,ee[It-23]>>5),Ze+=3);var jr=It<8?0:It-4>>2;jr>0&&(me(qe,Ze,Ns-ae[It]),Ze+=jr),It=ye[et-qt],Ze=gt(qe,Ze,ee[It]>>3),Ze-=3;var Ur=It<4?0:It-2>>1;Ur>0&&(me(qe,Ze,et-qt-Ae[It]),Ze+=Ur);for(var Jn=0;Jn<Ns;++Jn)_t[Gt]=et&32767,Gt=(Gt<<5^rt[et])&32767,++et;Pt-=Ns-1}else It<=143?It=It+48:Ze=St(qe,Ze,1),Ze=gt(qe,Ze,ee[It]),_t[Gt]=et&32767,++et}Ze=gt(qe,Ze,0)-1}return qe.l=(Ze+7)/8|0,qe.l}return function(qe,Ze){return qe.length<8?we(qe,Ze):Ge(qe,Ze)}}();function cs(se){var ye=ot(50+Math.floor(se.length*1.1)),he=Mt(se,ye);return ye.slice(0,he)}var Lt=O?new Uint16Array(32768):Qe(32768),Pn=O?new Uint16Array(32768):Qe(32768),Hs=O?new Uint16Array(128):Qe(128),ga=1,mr=1;function Br(se,ye){var he=ge(se,ye)+257;ye+=5;var fe=ge(se,ye)+1;ye+=5;var je=$e(se,ye)+4;ye+=4;for(var we=0,Ge=O?new Uint8Array(19):Qe(19),rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],qe=1,Ze=O?new Uint8Array(8):Qe(8),et=O?new Uint8Array(8):Qe(8),_t=Ge.length,Pt=0;Pt<je;++Pt)Ge[q[Pt]]=we=Me(se,ye),qe<we&&(qe=we),Ze[we]++,ye+=3;var Gt=0;for(Ze[0]=0,Pt=1;Pt<=qe;++Pt)et[Pt]=Gt=Gt+Ze[Pt-1]<<1;for(Pt=0;Pt<_t;++Pt)(Gt=Ge[Pt])!=0&&(rt[Pt]=et[Gt]++);var It=0;for(Pt=0;Pt<_t;++Pt)if(It=Ge[Pt],It!=0){Gt=ee[rt[Pt]]>>8-It;for(var qt=(1<<7-It)-1;qt>=0;--qt)Hs[Gt|qt<<It]=It&7|Pt<<3}var Ns=[];for(qe=1;Ns.length<he+fe;)switch(Gt=Hs[mt(se,ye)],ye+=Gt&7,Gt>>>=3){case 16:for(we=3+Ke(se,ye),ye+=2,Gt=Ns[Ns.length-1];we-- >0;)Ns.push(Gt);break;case 17:for(we=3+Me(se,ye),ye+=3;we-- >0;)Ns.push(0);break;case 18:for(we=11+mt(se,ye),ye+=7;we-- >0;)Ns.push(0);break;default:Ns.push(Gt),qe<Gt&&(qe=Gt);break}var jr=Ns.slice(0,he),Ur=Ns.slice(he);for(Pt=he;Pt<286;++Pt)jr[Pt]=0;for(Pt=fe;Pt<30;++Pt)Ur[Pt]=0;return ga=ft(jr,Lt,286),mr=ft(Ur,Pn,30),ye}function Qi(se,ye){if(se[0]==3&&!(se[1]&3))return[Am(ye),2];for(var he=0,fe=0,je=zL(ye||1<<18),we=0,Ge=je.length>>>0,rt=0,qe=0;!(fe&1);){if(fe=Me(se,he),he+=3,fe>>>1)fe>>1==1?(rt=9,qe=5):(he=Br(se,he),rt=ga,qe=mr);else{he&7&&(he+=8-(he&7));var Ze=se[he>>>3]|se[(he>>>3)+1]<<8;if(he+=32,Ze>0)for(!ye&&Ge<we+Ze&&(je=Ee(je,we+Ze),Ge=je.length);Ze-- >0;)je[we++]=se[he>>>3],he+=8;continue}for(;;){!ye&&Ge<we+32767&&(je=Ee(je,we+32767),Ge=je.length);var et=Ot(se,he,rt),_t=fe>>>1==1?vt[et]:Lt[et];if(he+=_t&15,_t>>>=4,!(_t>>>8&255))je[we++]=_t;else{if(_t==256)break;_t-=257;var Pt=_t<8?0:_t-4>>2;Pt>5&&(Pt=0);var Gt=we+ae[_t];Pt>0&&(Gt+=Ot(se,he,Pt),he+=Pt),et=Ot(se,he,qe),_t=fe>>>1==1?ut[et]:Pn[et],he+=_t&15,_t>>>=4;var It=_t<4?0:_t-2>>1,qt=Ae[_t];for(It>0&&(qt+=Ot(se,he,It),he+=It),!ye&&Ge<Gt&&(je=Ee(je,Gt+100),Ge=je.length);we<Gt;)je[we]=je[we-qt],++we}}}return ye?[je,he+7>>>3]:[je.slice(0,we),he+7>>>3]}function Js(se,ye){var he=se.slice(se.l||0),fe=Qi(he,ye);return se.l+=fe[1],fe[0]}function vc(se,ye){if(se)typeof console<"u"&&console.error(ye);else throw new Error(ye)}function sn(se,ye){var he=se;bl(he,0);var fe=[],je=[],we={FileIndex:fe,FullPaths:je};E(we,{root:ye.root});for(var Ge=he.length-4;(he[Ge]!=80||he[Ge+1]!=75||he[Ge+2]!=5||he[Ge+3]!=6)&&Ge>=0;)--Ge;he.l=Ge+4,he.l+=4;var rt=he.read_shift(2);he.l+=6;var qe=he.read_shift(4);for(he.l=qe,Ge=0;Ge<rt;++Ge){he.l+=20;var Ze=he.read_shift(4),et=he.read_shift(4),_t=he.read_shift(2),Pt=he.read_shift(2),Gt=he.read_shift(2);he.l+=8;var It=he.read_shift(4),qt=o(he.slice(he.l+_t,he.l+_t+Pt));he.l+=_t+Pt+Gt;var Ns=he.l;he.l=It+4,dl(he,Ze,et,we,qt),he.l=Ns}return we}function dl(se,ye,he,fe,je){se.l+=2;var we=se.read_shift(2),Ge=se.read_shift(2),rt=l(se);if(we&8257)throw new Error("Unsupported ZIP encryption");for(var qe=se.read_shift(4),Ze=se.read_shift(4),et=se.read_shift(4),_t=se.read_shift(2),Pt=se.read_shift(2),Gt="",It=0;It<_t;++It)Gt+=String.fromCharCode(se[se.l++]);if(Pt){var qt=o(se.slice(se.l,se.l+Pt));(qt[21589]||{}).mt&&(rt=qt[21589].mt),((je||{})[21589]||{}).mt&&(rt=je[21589].mt)}se.l+=Pt;var Ns=se.slice(se.l,se.l+Ze);switch(Ge){case 8:Ns=U(se,et);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ge)}var jr=!1;we&8&&(qe=se.read_shift(4),qe==134695760&&(qe=se.read_shift(4),jr=!0),Ze=se.read_shift(4),et=se.read_shift(4)),Ze!=ye&&vc(jr,"Bad compressed size: "+ye+" != "+Ze),et!=he&&vc(jr,"Bad uncompressed size: "+he+" != "+et),Hi(fe,Gt,Ns,{unsafe:!0,mt:rt})}function wo(se,ye){var he=ye||{},fe=[],je=[],we=ot(1),Ge=he.compression?8:0,rt=0,qe=0,Ze=0,et=0,_t=0,Pt=se.FullPaths[0],Gt=Pt,It=se.FileIndex[0],qt=[],Ns=0;for(qe=1;qe<se.FullPaths.length;++qe)if(Gt=se.FullPaths[qe].slice(Pt.length),It=se.FileIndex[qe],!(!It.size||!It.content||Gt=="Sh33tJ5")){var jr=et,Ur=ot(Gt.length);for(Ze=0;Ze<Gt.length;++Ze)Ur.write_shift(1,Gt.charCodeAt(Ze)&127);Ur=Ur.slice(0,Ur.l),qt[_t]=Aje.buf(It.content,0);var Jn=It.content;Ge==8&&(Jn=R(Jn)),we=ot(30),we.write_shift(4,67324752),we.write_shift(2,20),we.write_shift(2,rt),we.write_shift(2,Ge),It.mt?i(we,It.mt):we.write_shift(4,0),we.write_shift(-4,qt[_t]),we.write_shift(4,Jn.length),we.write_shift(4,It.content.length),we.write_shift(2,Ur.length),we.write_shift(2,0),et+=we.length,fe.push(we),et+=Ur.length,fe.push(Ur),et+=Jn.length,fe.push(Jn),we=ot(46),we.write_shift(4,33639248),we.write_shift(2,0),we.write_shift(2,20),we.write_shift(2,rt),we.write_shift(2,Ge),we.write_shift(4,0),we.write_shift(-4,qt[_t]),we.write_shift(4,Jn.length),we.write_shift(4,It.content.length),we.write_shift(2,Ur.length),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(4,0),we.write_shift(4,jr),Ns+=we.l,je.push(we),Ns+=Ur.length,je.push(Ur),++_t}return we=ot(22),we.write_shift(4,101010256),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,_t),we.write_shift(2,_t),we.write_shift(4,Ns),we.write_shift(4,et),we.write_shift(2,0),Ra([Ra(fe),Ra(je),we])}var Hr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Bs(se,ye){if(se.ctype)return se.ctype;var he=se.name||"",fe=he.match(/\.([^\.]+)$/);return fe&&Hr[fe[1]]||ye&&(fe=(he=ye).match(/[\.\\]([^\.\\])+$/),fe&&Hr[fe[1]])?Hr[fe[1]]:"application/octet-stream"}function fr(se){for(var ye=Bv(se),he=[],fe=0;fe<ye.length;fe+=76)he.push(ye.slice(fe,fe+76));return he.join(`\r
`)+`\r
`}function od(se){var ye=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ze){var et=Ze.charCodeAt(0).toString(16).toUpperCase();return"="+(et.length==1?"0"+et:et)});ye=ye.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ye.charAt(0)==`
`&&(ye="=0D"+ye.slice(1)),ye=ye.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var he=[],fe=ye.split(`\r
`),je=0;je<fe.length;++je){var we=fe[je];if(we.length==0){he.push("");continue}for(var Ge=0;Ge<we.length;){var rt=76,qe=we.slice(Ge,Ge+rt);qe.charAt(rt-1)=="="?rt--:qe.charAt(rt-2)=="="?rt-=2:qe.charAt(rt-3)=="="&&(rt-=3),qe=we.slice(Ge,Ge+rt),Ge+=rt,Ge<we.length&&(qe+="="),he.push(qe)}}return he.join(`\r
`)}function ca(se){for(var ye=[],he=0;he<se.length;++he){for(var fe=se[he];he<=se.length&&fe.charAt(fe.length-1)=="=";)fe=fe.slice(0,fe.length-1)+se[++he];ye.push(fe)}for(var je=0;je<ye.length;++je)ye[je]=ye[je].replace(/[=][0-9A-Fa-f]{2}/g,function(we){return String.fromCharCode(parseInt(we.slice(1),16))});return Yo(ye.join(`\r
`))}function Ml(se,ye,he){for(var fe="",je="",we="",Ge,rt=0;rt<10;++rt){var qe=ye[rt];if(!qe||qe.match(/^\s*$/))break;var Ze=qe.match(/^(.*?):\s*([^\s].*)$/);if(Ze)switch(Ze[1].toLowerCase()){case"content-location":fe=Ze[2].trim();break;case"content-type":we=Ze[2].trim();break;case"content-transfer-encoding":je=Ze[2].trim();break}}switch(++rt,je.toLowerCase()){case"base64":Ge=Yo(eu(ye.slice(rt).join("")));break;case"quoted-printable":Ge=ca(ye.slice(rt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+je)}var et=Hi(se,fe.slice(he.length),Ge,{unsafe:!0});we&&(et.ctype=we)}function Ql(se,ye){if(ie(se.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var he=ye&&ye.root||"",fe=(vr&&Buffer.isBuffer(se)?se.toString("binary"):ie(se)).split(`\r
`),je=0,we="";for(je=0;je<fe.length;++je)if(we=fe[je],!!/^Content-Location:/i.test(we)&&(we=we.slice(we.indexOf("file")),he||(he=we.slice(0,we.lastIndexOf("/")+1)),we.slice(0,he.length)!=he))for(;he.length>0&&(he=he.slice(0,he.length-1),he=he.slice(0,he.lastIndexOf("/")+1),we.slice(0,he.length)!=he););var Ge=(fe[1]||"").match(/boundary="(.*?)"/);if(!Ge)throw new Error("MAD cannot find boundary");var rt="--"+(Ge[1]||""),qe=[],Ze=[],et={FileIndex:qe,FullPaths:Ze};E(et);var _t,Pt=0;for(je=0;je<fe.length;++je){var Gt=fe[je];Gt!==rt&&Gt!==rt+"--"||(Pt++&&Ml(et,fe.slice(_t,je),he),_t=je)}return et}function As(se,ye){var he=ye||{},fe=he.boundary||"SheetJS";fe="------="+fe;for(var je=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+fe.slice(2)+'"',"","",""],we=se.FullPaths[0],Ge=we,rt=se.FileIndex[0],qe=1;qe<se.FullPaths.length;++qe)if(Ge=se.FullPaths[qe].slice(we.length),rt=se.FileIndex[qe],!(!rt.size||!rt.content||Ge=="Sh33tJ5")){Ge=Ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ns){return"_x"+Ns.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ns){return"_u"+Ns.charCodeAt(0).toString(16)+"_"});for(var Ze=rt.content,et=vr&&Buffer.isBuffer(Ze)?Ze.toString("binary"):ie(Ze),_t=0,Pt=Math.min(1024,et.length),Gt=0,It=0;It<=Pt;++It)(Gt=et.charCodeAt(It))>=32&&Gt<128&&++_t;var qt=_t>=Pt*4/5;je.push(fe),je.push("Content-Location: "+(he.root||"file:///C:/SheetJS/")+Ge),je.push("Content-Transfer-Encoding: "+(qt?"quoted-printable":"base64")),je.push("Content-Type: "+Bs(rt,Ge)),je.push(""),je.push(qt?od(et):fr(et))}return je.push(fe+`--\r
`),je.join(`\r
`)}function ul(se){var ye={};return E(ye,se),ye}function Hi(se,ye,he,fe){var je=fe&&fe.unsafe;je||E(se);var we=!je&&Rr.find(se,ye);if(!we){var Ge=se.FullPaths[0];ye.slice(0,Ge.length)==Ge?Ge=ye:(Ge.slice(-1)!="/"&&(Ge+="/"),Ge=(Ge+ye).replace("//","/")),we={name:a(ye),type:2},se.FileIndex.push(we),se.FullPaths.push(Ge),je||Rr.utils.cfb_gc(se)}return we.content=he,we.size=he?he.length:0,fe&&(fe.CLSID&&(we.clsid=fe.CLSID),fe.mt&&(we.mt=fe.mt),fe.ct&&(we.ct=fe.ct)),we}function Wa(se,ye){E(se);var he=Rr.find(se,ye);if(he){for(var fe=0;fe<se.FileIndex.length;++fe)if(se.FileIndex[fe]==he)return se.FileIndex.splice(fe,1),se.FullPaths.splice(fe,1),!0}return!1}function Dn(se,ye,he){E(se);var fe=Rr.find(se,ye);if(fe){for(var je=0;je<se.FileIndex.length;++je)if(se.FileIndex[je]==fe)return se.FileIndex[je].name=a(he),se.FullPaths[je]=he,!0}return!1}function Cn(se){C(se,!0)}return s.find=k,s.read=P,s.parse=u,s.write=ve,s.writeFile=I,s.utils={cfb_new:ul,cfb_add:Hi,cfb_del:Wa,cfb_mov:Dn,cfb_gc:Cn,ReadShift:Ng,CheckField:JK,prep_blob:bl,bconcat:Ra,use_zlib:L,_deflateRaw:cs,_inflateRaw:Js,consts:re},s}();function mje(t){return typeof t=="string"?pN(t):Array.isArray(t)?Mve(t):t}function fj(t,s,r){if(typeof Deno<"u"){if(r&&typeof s=="string")switch(r){case"utf8":s=new TextEncoder(r).encode(s);break;case"binary":s=pN(s);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,s)}var n=r=="utf8"?kv(s):s;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var a=new Blob([mje(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,t);if(typeof saveAs<"u")return saveAs(a,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=t,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(s)&&(s=mj(s)),o.write(s),o.close(),s}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+t)}function $a(t){for(var s=Object.keys(t),r=[],n=0;n<s.length;++n)Object.prototype.hasOwnProperty.call(t,s[n])&&r.push(s[n]);return r}function ZL(t,s){for(var r=[],n=$a(t),a=0;a!==n.length;++a)r[t[n[a]][s]]==null&&(r[t[n[a]][s]]=n[a]);return r}function H_(t){for(var s=[],r=$a(t),n=0;n!==r.length;++n)s[t[r[n]]]=r[n];return s}function jN(t){for(var s=[],r=$a(t),n=0;n!==r.length;++n)s[t[r[n]]]=parseInt(r[n],10);return s}function fje(t){for(var s=[],r=$a(t),n=0;n!==r.length;++n)s[t[r[n]]]==null&&(s[t[r[n]]]=[]),s[t[r[n]]].push(r[n]);return s}var Hb=new Date(1899,11,30,0,0,0);function ll(t,s){var r=t.getTime(),n=Hb.getTime()+(t.getTimezoneOffset()-Hb.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var PK=new Date,xje=Hb.getTime()+(PK.getTimezoneOffset()-Hb.getTimezoneOffset())*6e4,eI=PK.getTimezoneOffset();function DK(t){var s=new Date;return s.setTime(t*24*60*60*1e3+xje),s.getTimezoneOffset()!==eI&&s.setTime(s.getTime()+(s.getTimezoneOffset()-eI)*6e4),s}var tI=new Date("2017-02-19T19:06:09.000Z"),UK=isNaN(tI.getFullYear())?new Date("2/19/17"):tI,pje=UK.getFullYear()==2017;function Li(t,s){var r=new Date(t);if(pje)return s>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):s<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(UK.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function yN(t,s){if(vr&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=t.length;++a)n.push(String.fromCharCode(t[a]));return n.join("")}function ol(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=ol(t[r]));return s}function Tn(t,s){for(var r="";r.length<s;)r+=t;return r}function Od(t){var s=Number(t);if(!isNaN(s))return isFinite(s)?s:NaN;if(!/\d/.test(t))return s;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(s=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(s=Number(n)))?s/r:s}var gje=["january","february","march","april","may","june","july","august","september","october","november","december"];function Sv(t){var s=new Date(t),r=new Date(NaN),n=s.getYear(),a=s.getMonth(),i=s.getDate();if(isNaN(i))return r;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&gje.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?s:t.match(/[^-0-9:,\/\\]/)?r:s}function Rs(t,s,r){if(t.FullPaths){if(typeof r=="string"){var n;return vr?n=nu(r):n=Qve(r),Rr.utils.cfb_add(t,s,n)}Rr.utils.cfb_add(t,s,r)}else t.file(s,r)}function V_(){return Rr.utils.cfb_new()}var oa=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,vje={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},K_=H_(vje),z_=/[&<>'"]/g,jje=/[\u0000-\u0008\u000b-\u001f]/g;function Lr(t){var s=t+"";return s.replace(z_,function(r){return K_[r]}).replace(jje,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function sI(t){return Lr(t).replace(/ /g,"_x0020_")}var OK=/[\u0000-\u001f]/g;function yje(t){var s=t+"";return s.replace(z_,function(r){return K_[r]}).replace(/\n/g,"<br/>").replace(OK,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function wje(t){var s=t+"";return s.replace(z_,function(r){return K_[r]}).replace(OK,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function bje(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Nje(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function G5(t){for(var s="",r=0,n=0,a=0,i=0,l=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){s+=String.fromCharCode(n);continue}if(a=t.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=a&63,s+=String.fromCharCode(l);continue}if(i=t.charCodeAt(r++),n<240){s+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}l=t.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|l&63)-65536,s+=String.fromCharCode(55296+(o>>>10&1023)),s+=String.fromCharCode(56320+(o&1023))}return s}function rI(t){var s=Am(2*t.length),r,n,a=1,i=0,l=0,o;for(n=0;n<t.length;n+=a)a=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(s[i++]=l&255,s[i++]=l>>>8,l=0),s[i++]=r%256,s[i++]=r>>>8;return s.slice(0,i).toString("ucs2")}function nI(t){return nu(t,"binary").toString("utf8")}var y1="foo bar baz",bg=vr&&(nI(y1)==G5(y1)&&nI||rI(y1)==G5(y1)&&rI)||G5,kv=vr?function(t){return nu(t,"utf8").toString("binary")}:function(t){for(var s=[],r=0,n=0,a=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:s.push(String.fromCharCode(n));break;case n<2048:s.push(String.fromCharCode(192+(n>>6))),s.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=t.charCodeAt(r++)-56320+(n<<10),s.push(String.fromCharCode(240+(a>>18&7))),s.push(String.fromCharCode(144+(a>>12&63))),s.push(String.fromCharCode(128+(a>>6&63))),s.push(String.fromCharCode(128+(a&63)));break;default:s.push(String.fromCharCode(224+(n>>12))),s.push(String.fromCharCode(128+(n>>6&63))),s.push(String.fromCharCode(128+(n&63)))}return s.join("")},Cje=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(s){return[new RegExp("&"+s[0]+";","ig"),s[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)n=n.replace(t[a][0],t[a][1]);return n}}(),RK=/(^\s|\s$|\n)/;function Ma(t,s){return"<"+t+(s.match(RK)?' xml:space="preserve"':"")+">"+s+"</"+t+">"}function _v(t){return $a(t).map(function(s){return" "+s+'="'+t[s]+'"'}).join("")}function Dt(t,s,r){return"<"+t+(r!=null?_v(r):"")+(s!=null?(s.match(RK)?' xml:space="preserve"':"")+">"+s+"</"+t:"/")+">"}function MS(t,s){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(s)throw r}return""}function Bje(t,s){switch(typeof t){case"string":var r=Dt("vt:lpwstr",Lr(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Dt((t|0)==t?"vt:i4":"vt:r8",Lr(String(t)));case"boolean":return Dt("vt:bool",t?"true":"false")}if(t instanceof Date)return Dt("vt:filetime",MS(t));throw new Error("Unable to serialize "+t)}var Ba={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},b0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Cl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Sje(t,s){for(var r=1-2*(t[s+7]>>>7),n=((t[s+7]&127)<<4)+(t[s+6]>>>4&15),a=t[s+6]&15,i=5;i>=0;--i)a=a*256+t[s+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function kje(t,s,r){var n=(s<0||1/s==-1/0?1:0)<<7,a=0,i=0,l=n?-s:s;isFinite(l)?l==0?a=i=0:(a=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(s)?26985:0);for(var o=0;o<=5;++o,i/=256)t[r+o]=i&255;t[r+6]=(a&15)<<4|i&15,t[r+7]=a>>4|n}var aI=function(t){for(var s=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var a=0,i=t[0][n].length;a<i;a+=r)s.push.apply(s,t[0][n].slice(a,a+r));return s},iI=vr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(s){return Buffer.isBuffer(s)?s:nu(s)})):aI(t)}:aI,lI=function(t,s,r){for(var n=[],a=s;a<r;a+=2)n.push(String.fromCharCode(Gp(t,a)));return n.join("").replace(wg,"")},q_=vr?function(t,s,r){return Buffer.isBuffer(t)?t.toString("utf16le",s,r).replace(wg,""):lI(t,s,r)}:lI,oI=function(t,s,r){for(var n=[],a=s;a<s+r;++a)n.push(("0"+t[a].toString(16)).slice(-2));return n.join("")},MK=vr?function(t,s,r){return Buffer.isBuffer(t)?t.toString("hex",s,s+r):oI(t,s,r)}:oI,cI=function(t,s,r){for(var n=[],a=s;a<r;a++)n.push(String.fromCharCode(_f(t,a)));return n.join("")},xj=vr?function(s,r,n){return Buffer.isBuffer(s)?s.toString("utf8",r,n):cI(s,r,n)}:cI,QK=function(t,s){var r=Bl(t,s);return r>0?xj(t,s+4,s+4+r-1):""},HK=QK,VK=function(t,s){var r=Bl(t,s);return r>0?xj(t,s+4,s+4+r-1):""},KK=VK,zK=function(t,s){var r=2*Bl(t,s);return r>0?xj(t,s+4,s+4+r-1):""},qK=zK,$K=function(s,r){var n=Bl(s,r);return n>0?q_(s,r+4,r+4+n):""},GK=$K,WK=function(t,s){var r=Bl(t,s);return r>0?xj(t,s+4,s+4+r):""},YK=WK,XK=function(t,s){return Sje(t,s)},Vb=XK,$_=function(s){return Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array};vr&&(HK=function(s,r){if(!Buffer.isBuffer(s))return QK(s,r);var n=s.readUInt32LE(r);return n>0?s.toString("utf8",r+4,r+4+n-1):""},KK=function(s,r){if(!Buffer.isBuffer(s))return VK(s,r);var n=s.readUInt32LE(r);return n>0?s.toString("utf8",r+4,r+4+n-1):""},qK=function(s,r){if(!Buffer.isBuffer(s))return zK(s,r);var n=2*s.readUInt32LE(r);return s.toString("utf16le",r+4,r+4+n-1)},GK=function(s,r){if(!Buffer.isBuffer(s))return $K(s,r);var n=s.readUInt32LE(r);return s.toString("utf16le",r+4,r+4+n)},YK=function(s,r){if(!Buffer.isBuffer(s))return WK(s,r);var n=s.readUInt32LE(r);return s.toString("utf8",r+4,r+4+n)},Vb=function(s,r){return Buffer.isBuffer(s)?s.readDoubleLE(r):XK(s,r)},$_=function(s){return Buffer.isBuffer(s)||Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array});var _f=function(t,s){return t[s]},Gp=function(t,s){return t[s+1]*256+t[s]},_je=function(t,s){var r=t[s+1]*256+t[s];return r<32768?r:(65535-r+1)*-1},Bl=function(t,s){return t[s+3]*(1<<24)+(t[s+2]<<16)+(t[s+1]<<8)+t[s]},jA=function(t,s){return t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]},Eje=function(t,s){return t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3]};function Ng(t,s){var r="",n,a,i=[],l,o,c,d;switch(s){case"dbcs":if(d=this.l,vr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)r+=String.fromCharCode(Gp(this,d)),d+=2;t*=2;break;case"utf8":r=xj(this,this.l,this.l+t);break;case"utf16le":t*=2,r=q_(this,this.l,this.l+t);break;case"wstr":return Ng.call(this,t,"dbcs");case"lpstr-ansi":r=HK(this,this.l),t=4+Bl(this,this.l);break;case"lpstr-cp":r=KK(this,this.l),t=4+Bl(this,this.l);break;case"lpwstr":r=qK(this,this.l),t=4+2*Bl(this,this.l);break;case"lpp4":t=4+Bl(this,this.l),r=GK(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Bl(this,this.l),r=YK(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(l=_f(this,this.l+t++))!==0;)i.push(g1(l));r=i.join("");break;case"_wstr":for(t=0,r="";(l=Gp(this,this.l+t))!==0;)i.push(g1(l)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return l=_f(this,d),this.l=d+1,o=Ng.call(this,t-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(g1(Gp(this,d))),d+=2}r=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return l=_f(this,d),this.l=d+1,o=Ng.call(this,t-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(g1(_f(this,d))),d+=1}r=i.join("");break;default:switch(t){case 1:return n=_f(this,this.l),this.l++,n;case 2:return n=(s==="i"?_je:Gp)(this,this.l),this.l+=2,n;case 4:case-4:return s==="i"||!(this[this.l+3]&128)?(n=(t>0?jA:Eje)(this,this.l),this.l+=4,n):(a=Bl(this,this.l),this.l+=4,a);case 8:case-8:if(s==="f")return t==8?a=Vb(this,this.l):a=Vb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:r=MK(this,this.l,t);break}}return this.l+=t,r}var Fje=function(t,s,r){t[r]=s&255,t[r+1]=s>>>8&255,t[r+2]=s>>>16&255,t[r+3]=s>>>24&255},Tje=function(t,s,r){t[r]=s&255,t[r+1]=s>>8&255,t[r+2]=s>>16&255,t[r+3]=s>>24&255},Lje=function(t,s,r){t[r]=s&255,t[r+1]=s>>>8&255};function Ije(t,s,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=s.length;++a)Lje(this,s.charCodeAt(a),this.l+2*a);n=2*s.length}else if(r==="sbcs"){for(s=s.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=s.length;++a)this[this.l+a]=s.charCodeAt(a)&255;n=s.length}else if(r==="hex"){for(;a<t;++a)this[this.l++]=parseInt(s.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+t,this.length);for(a=0;a<Math.min(s.length,t);++a){var l=s.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=s&255;break;case 2:n=2,this[this.l]=s&255,s>>>=8,this[this.l+1]=s&255;break;case 3:n=3,this[this.l]=s&255,s>>>=8,this[this.l+1]=s&255,s>>>=8,this[this.l+2]=s&255;break;case 4:n=4,Fje(this,s,this.l);break;case 8:if(n=8,r==="f"){kje(this,s,this.l);break}case 16:break;case-4:n=4,Tje(this,s,this.l);break}return this.l+=n,this}function JK(t,s){var r=MK(this,this.l,t.length>>1);if(r!==t)throw new Error(s+"Expected "+t+" saw "+r);this.l+=t.length>>1}function bl(t,s){t.l=s,t.read_shift=Ng,t.chk=JK,t.write_shift=Ije}function sd(t,s){t.l+=s}function ot(t){var s=Am(t);return bl(s,0),s}function nl(){var t=[],s=vr?256:2048,r=function(d){var u=ot(d);return bl(u,0),u},n=r(s),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},i=function(d){return n&&d<n.length-n.l?n:(a(),n=r(Math.max(d+1,s)))},l=function(){return a(),Ra(t)},o=function(d){a(),n=d,n.l==null&&(n.l=n.length),i(s)};return{next:i,push:o,end:l,_bufs:t}}function Nt(t,s,r,n){var a=+s,i;if(!isNaN(a)){n||(n=SNe[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var l=t.next(i);a<=127?l.write_shift(1,a):(l.write_shift(1,(a&127)+128),l.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&$_(r)&&t.push(r)}}function Cg(t,s,r){var n=ol(t);if(s.s?(n.cRel&&(n.c+=s.s.c),n.rRel&&(n.r+=s.s.r)):(n.cRel&&(n.c+=s.c),n.rRel&&(n.r+=s.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function dI(t,s,r){var n=ol(t);return n.s=Cg(n.s,s.s,r),n.e=Cg(n.e,s.s,r),n}function Bg(t,s){if(t.cRel&&t.c<0)for(t=ol(t);t.c<0;)t.c+=s>8?16384:256;if(t.rRel&&t.r<0)for(t=ol(t);t.r<0;)t.r+=s>8?1048576:s>5?65536:16384;var r=Pr(t);return!t.cRel&&t.cRel!=null&&(r=Uje(r)),!t.rRel&&t.rRel!=null&&(r=Pje(r)),r}function W5(t,s){return t.s.r==0&&!t.s.rRel&&t.e.r==(s.biff>=12?1048575:s.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+fi(t.s.c)+":"+(t.e.cRel?"":"$")+fi(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(s.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Va(t.s.r)+":"+(t.e.rRel?"":"$")+Va(t.e.r):Bg(t.s,s.biff)+":"+Bg(t.e,s.biff)}function G_(t){return parseInt(Dje(t),10)-1}function Va(t){return""+(t+1)}function Pje(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Dje(t){return t.replace(/\$(\d+)$/,"$1")}function W_(t){for(var s=Oje(t),r=0,n=0;n!==s.length;++n)r=26*r+s.charCodeAt(n)-64;return r-1}function fi(t){if(t<0)throw new Error("invalid column "+t);var s="";for(++t;t;t=Math.floor((t-1)/26))s=String.fromCharCode((t-1)%26+65)+s;return s}function Uje(t){return t.replace(/^([A-Z])/,"$$$1")}function Oje(t){return t.replace(/^\$([A-Z])/,"$1")}function Rje(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Sa(t){for(var s=0,r=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);a>=48&&a<=57?s=10*s+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:s-1}}function Pr(t){for(var s=t.c+1,r="";s;s=(s-1)/26|0)r=String.fromCharCode((s-1)%26+65)+r;return r+(t.r+1)}function Dl(t){var s=t.indexOf(":");return s==-1?{s:Sa(t),e:Sa(t)}:{s:Sa(t.slice(0,s)),e:Sa(t.slice(s+1))}}function ia(t,s){return typeof s>"u"||typeof s=="number"?ia(t.s,t.e):(typeof t!="string"&&(t=Pr(t)),typeof s!="string"&&(s=Pr(s)),t==s?t:t+":"+s)}function hn(t){var s={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=t.length;for(r=0;n<i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(s.s.c=--r,r=0;n<i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(s.s.r=--r,n===i||a!=10)return s.e.c=s.s.c,s.e.r=s.s.r,s;for(++n,r=0;n!=i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(s.e.c=--r,r=0;n!=i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return s.e.r=--r,s}function uI(t,s){var r=t.t=="d"&&s instanceof Date;if(t.z!=null)try{return t.w=Lh(t.z,r?ll(s):s)}catch{}try{return t.w=Lh((t.XF||{}).numFmtId||(r?14:0),r?ll(s):s)}catch{return""+s}}function tu(t,s,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?pj[t.v]||t.v:s==null?uI(t,t.v):uI(t,s))}function Bm(t,s){var r=s&&s.sheet?s.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function ZK(t,s,r){var n=r||{},a=t?Array.isArray(t):n.dense,i=t||(a?[]:{}),l=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var c=typeof n.origin=="string"?Sa(n.origin):n.origin;l=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=hn(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),l==-1&&(d.e.r=l=u.e.r+1)}for(var h=0;h!=s.length;++h)if(s[h]){if(!Array.isArray(s[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var A=0;A!=s[h].length;++A)if(!(typeof s[h][A]>"u")){var m={v:s[h][A]},p=l+h,f=o+A;if(d.s.r>p&&(d.s.r=p),d.s.c>f&&(d.s.c=f),d.e.r<p&&(d.e.r=p),d.e.c<f&&(d.e.c=f),s[h][A]&&typeof s[h][A]=="object"&&!Array.isArray(s[h][A])&&!(s[h][A]instanceof Date))m=s[h][A];else if(Array.isArray(m.v)&&(m.f=s[h][A][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||In[14],n.cellDates?(m.t="d",m.w=Lh(m.z,ll(m.v))):(m.t="n",m.v=ll(m.v),m.w=Lh(m.z,m.v))):m.t="s";if(a)i[p]||(i[p]=[]),i[p][f]&&i[p][f].z&&(m.z=i[p][f].z),i[p][f]=m;else{var x=Pr({c:f,r:p});i[x]&&i[x].z&&(m.z=i[x].z),i[x]=m}}}return d.s.c<1e7&&(i["!ref"]=ia(d)),i}function N0(t,s){return ZK(null,t,s)}function Mje(t){return t.read_shift(4,"i")}function lc(t,s){return s||(s=ot(4)),s.write_shift(4,t),s}function xi(t){var s=t.read_shift(4);return s===0?"":t.read_shift(s,"dbcs")}function ka(t,s){var r=!1;return s==null&&(r=!0,s=ot(4+2*t.length)),s.write_shift(4,t.length),t.length>0&&s.write_shift(0,t,"dbcs"),r?s.slice(0,s.l):s}function Qje(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Hje(t,s){return s||(s=ot(4)),s.write_shift(2,0),s.write_shift(2,0),s}function Y_(t,s){var r=t.l,n=t.read_shift(1),a=xi(t),i=[],l={t:a,h:a};if(n&1){for(var o=t.read_shift(4),c=0;c!=o;++c)i.push(Qje(t));l.r=i}else l.r=[{ich:0,ifnt:0}];return t.l=r+s,l}function Vje(t,s){var r=!1;return s==null&&(r=!0,s=ot(15+4*t.t.length)),s.write_shift(1,0),ka(t.t,s),r?s.slice(0,s.l):s}var Kje=Y_;function zje(t,s){var r=!1;return s==null&&(r=!0,s=ot(23+4*t.t.length)),s.write_shift(1,1),ka(t.t,s),s.write_shift(4,1),Hje({},s),r?s.slice(0,s.l):s}function yo(t){var s=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:s,iStyleRef:r}}function Sm(t,s){return s==null&&(s=ot(8)),s.write_shift(-4,t.c),s.write_shift(3,t.iStyleRef||t.s),s.write_shift(1,0),s}function km(t){var s=t.read_shift(2);return s+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:s}}function _m(t,s){return s==null&&(s=ot(4)),s.write_shift(3,t.iStyleRef||t.s),s.write_shift(1,0),s}var qje=xi,ez=ka;function X_(t){var s=t.read_shift(4);return s===0||s===4294967295?"":t.read_shift(s,"dbcs")}function Kb(t,s){var r=!1;return s==null&&(r=!0,s=ot(127)),s.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&s.write_shift(0,t,"dbcs"),r?s.slice(0,s.l):s}var $je=xi,QS=X_,J_=Kb;function tz(t){var s=t.slice(t.l,t.l+4),r=s[0]&1,n=s[0]&2;t.l+=4;var a=n===0?Vb([0,0,0,0,s[0]&252,s[1],s[2],s[3]],0):jA(s,0)>>2;return r?a/100:a}function sz(t,s){s==null&&(s=ot(4));var r=0,n=0,a=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)s.write_shift(-4,((r?a:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function rz(t){var s={s:{},e:{}};return s.s.r=t.read_shift(4),s.e.r=t.read_shift(4),s.s.c=t.read_shift(4),s.e.c=t.read_shift(4),s}function Gje(t,s){return s||(s=ot(16)),s.write_shift(4,t.s.r),s.write_shift(4,t.e.r),s.write_shift(4,t.s.c),s.write_shift(4,t.e.c),s}var Em=rz,C0=Gje;function B0(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function mm(t,s){return(s||ot(8)).write_shift(8,t,"f")}function Wje(t){var s={},r=t.read_shift(1),n=r>>>1,a=t.read_shift(1),i=t.read_shift(2,"i"),l=t.read_shift(1),o=t.read_shift(1),c=t.read_shift(1);switch(t.l++,n){case 0:s.auto=1;break;case 1:s.index=a;var d=nye[a];d&&(s.rgb=wI(d));break;case 2:s.rgb=wI([l,o,c]);break;case 3:s.theme=a;break}return i!=0&&(s.tint=i>0?i/32767:i/32768),s}function zb(t,s){if(s||(s=ot(8)),!t||t.auto)return s.write_shift(4,0),s.write_shift(4,0),s;t.index!=null?(s.write_shift(1,2),s.write_shift(1,t.index)):t.theme!=null?(s.write_shift(1,6),s.write_shift(1,t.theme)):(s.write_shift(1,5),s.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),s.write_shift(2,r),!t.rgb||t.theme!=null)s.write_shift(2,0),s.write_shift(1,0),s.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),s.write_shift(1,parseInt(n.slice(0,2),16)),s.write_shift(1,parseInt(n.slice(2,4),16)),s.write_shift(1,parseInt(n.slice(4,6),16)),s.write_shift(1,255)}return s}function Yje(t){var s=t.read_shift(1);t.l++;var r={fBold:s&1,fItalic:s&2,fUnderline:s&4,fStrikeout:s&8,fOutline:s&16,fShadow:s&32,fCondense:s&64,fExtend:s&128};return r}function Xje(t,s){s||(s=ot(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return s.write_shift(1,r),s.write_shift(1,0),s}var nz=2,vl=3,w1=11,qb=19,b1=64,Jje=65,Zje=71,eye=4108,tye=4126,Ua=80,hI={1:{n:"CodePage",t:nz},2:{n:"Category",t:Ua},3:{n:"PresentationFormat",t:Ua},4:{n:"ByteCount",t:vl},5:{n:"LineCount",t:vl},6:{n:"ParagraphCount",t:vl},7:{n:"SlideCount",t:vl},8:{n:"NoteCount",t:vl},9:{n:"HiddenCount",t:vl},10:{n:"MultimediaClipCount",t:vl},11:{n:"ScaleCrop",t:w1},12:{n:"HeadingPairs",t:eye},13:{n:"TitlesOfParts",t:tye},14:{n:"Manager",t:Ua},15:{n:"Company",t:Ua},16:{n:"LinksUpToDate",t:w1},17:{n:"CharacterCount",t:vl},19:{n:"SharedDoc",t:w1},22:{n:"HyperlinksChanged",t:w1},23:{n:"AppVersion",t:vl,p:"version"},24:{n:"DigSig",t:Jje},26:{n:"ContentType",t:Ua},27:{n:"ContentStatus",t:Ua},28:{n:"Language",t:Ua},29:{n:"Version",t:Ua},255:{},2147483648:{n:"Locale",t:qb},2147483651:{n:"Behavior",t:qb},1919054434:{}},AI={1:{n:"CodePage",t:nz},2:{n:"Title",t:Ua},3:{n:"Subject",t:Ua},4:{n:"Author",t:Ua},5:{n:"Keywords",t:Ua},6:{n:"Comments",t:Ua},7:{n:"Template",t:Ua},8:{n:"LastAuthor",t:Ua},9:{n:"RevNumber",t:Ua},10:{n:"EditTime",t:b1},11:{n:"LastPrinted",t:b1},12:{n:"CreatedDate",t:b1},13:{n:"ModifiedDate",t:b1},14:{n:"PageCount",t:vl},15:{n:"WordCount",t:vl},16:{n:"CharCount",t:vl},17:{n:"Thumbnail",t:Zje},18:{n:"Application",t:Ua},19:{n:"DocSecurity",t:vl},255:{},2147483648:{n:"Locale",t:qb},2147483651:{n:"Behavior",t:qb},1919054434:{}};function sye(t){return t.map(function(s){return[s>>16&255,s>>8&255,s&255]})}var rye=sye([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),nye=ol(rye),pj={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},aye={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},N1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function az(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function iz(t,s){var r=fje(aye),n=[],a;n[n.length]=oa,n[n.length]=Dt("Types",null,{xmlns:Ba.CT,"xmlns:xsd":Ba.xsd,"xmlns:xsi":Ba.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Dt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){t[c]&&t[c].length>0&&(a=t[c][0],n[n.length]=Dt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:N1[c][s.bookType]||N1[c].xlsx}))},l=function(c){(t[c]||[]).forEach(function(d){n[n.length]=Dt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:N1[c][s.bookType]||N1[c].xlsx})})},o=function(c){(t[c]||[]).forEach(function(d){n[n.length]=Dt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var xr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function lz(t){var s=t.lastIndexOf("/");return t.slice(0,s+1)+"_rels/"+t.slice(s+1)+".rels"}function jx(t){var s=[oa,Dt("Relationships",null,{xmlns:Ba.RELS})];return $a(t["!id"]).forEach(function(r){s[s.length]=Dt("Relationship",null,t["!id"][r])}),s.length>2&&(s[s.length]="</Relationships>",s[1]=s[1].replace("/>",">")),s.join("")}function Fr(t,s,r,n,a,i){if(a||(a={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),s<0)for(s=t["!idx"];t["!id"]["rId"+s];++s);if(t["!idx"]=s+1,a.Id="rId"+s,a.Type=n,a.Target=r,[xr.HLINK,xr.XPATH,xr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),t["!id"][a.Id])throw new Error("Cannot rewrite rId "+s);return t["!id"][a.Id]=a,t[("/"+a.Target).replace("//","/")]=a,s}function iye(t){var s=[oa];s.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),s.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)s.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return s.push("</manifest:manifest>"),s.join("")}function mI(t,s,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+s+`"/>
`,`  </rdf:Description>
`].join("")}function lye(t,s){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+s+`"/>
`,`  </rdf:Description>
`].join("")}function oye(t){var s=[oa];s.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)s.push(mI(t[r][0],t[r][1])),s.push(lye("",t[r][0]));return s.push(mI("","Document","pkg")),s.push("</rdf:RDF>"),s.join("")}function oz(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ob.version+"</meta:generator></office:meta></office:document-meta>"}var zA=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Y5(t,s,r,n,a){a[t]!=null||s==null||s===""||(a[t]=s,s=Lr(s),n[n.length]=r?Dt(t,s,r):Ma(t,s))}function cz(t,s){var r=s||{},n=[oa,Dt("cp:coreProperties",null,{"xmlns:cp":Ba.CORE_PROPS,"xmlns:dc":Ba.dc,"xmlns:dcterms":Ba.dcterms,"xmlns:dcmitype":Ba.dcmitype,"xmlns:xsi":Ba.xsi})],a={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&Y5("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:MS(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),t.ModifiedDate!=null&&Y5("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:MS(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=zA.length;++i){var l=zA[i],o=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:t?t[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Y5(l[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var yx=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],dz=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function uz(t){var s=[],r=Dt;return t||(t={}),t.Application="SheetJS",s[s.length]=oa,s[s.length]=Dt("Properties",null,{xmlns:Ba.EXT_PROPS,"xmlns:vt":Ba.vt}),yx.forEach(function(n){if(t[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Lr(String(t[n[1]]));break;case"bool":a=t[n[1]]?"true":"false";break}a!==void 0&&(s[s.length]=r(n[0],a))}}),s[s.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),s[s.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Lr(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),s.length>2&&(s[s.length]="</Properties>",s[1]=s[1].replace("/>",">")),s.join("")}function hz(t){var s=[oa,Dt("Properties",null,{xmlns:Ba.CUST_PROPS,"xmlns:vt":Ba.vt})];if(!t)return s.join("");var r=1;return $a(t).forEach(function(a){++r,s[s.length]=Dt("property",Bje(t[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Lr(a)})}),s.length>2&&(s[s.length]="</Properties>",s[1]=s[1].replace("/>",">")),s.join("")}var fI={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function cye(t,s){var r=[];return $a(fI).map(function(n){for(var a=0;a<zA.length;++a)if(zA[a][1]==n)return zA[a];for(a=0;a<yx.length;++a)if(yx[a][1]==n)return yx[a];throw n}).forEach(function(n){if(t[n[1]]!=null){var a=s&&s.Props&&s.Props[n[1]]!=null?s.Props[n[1]]:t[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Ma(fI[n[1]]||n[1],a))}}),Dt("DocumentProperties",r.join(""),{xmlns:Cl.o})}function dye(t,s){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return t&&$a(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var l=0;l<zA.length;++l)if(i==zA[l][1])return;for(l=0;l<yx.length;++l)if(i==yx[l][1])return;for(l=0;l<r.length;++l)if(i==r[l])return;var o=t[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),a.push(Dt(sI(i),o,{"dt:dt":c}))}}),s&&$a(s).forEach(function(i){if(Object.prototype.hasOwnProperty.call(s,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var l=s[i],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),a.push(Dt(sI(i),l,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Cl.o+'">'+a.join("")+"</"+n+">"}function uye(t){var s=typeof t=="string"?new Date(Date.parse(t)):t,r=s.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var l=ot(8);return l.write_shift(4,n),l.write_shift(4,a),l}function xI(t,s){var r=ot(4),n=ot(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,s);break;case 5:n=ot(8),n.write_shift(8,s,"f");break;case 11:n.write_shift(4,s?1:0);break;case 64:n=uye(s);break;case 31:case 80:for(n=ot(4+2*(s.length+1)+(s.length%2?0:2)),n.write_shift(4,s.length+1),n.write_shift(0,s,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+s)}return Ra([r,n])}var Az=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function hye(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function pI(t,s,r){var n=ot(8),a=[],i=[],l=8,o=0,c=ot(8),d=ot(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),a.push(d),l+=8+c.length,!s){d=ot(8),d.write_shift(4,0),a.unshift(d);var u=[ot(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var h=t[o][0];for(c=ot(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Ra(u),i.unshift(c),l+=8+c.length}for(o=0;o<t.length;++o)if(!(s&&!s[t[o][0]])&&!(Az.indexOf(t[o][0])>-1||dz.indexOf(t[o][0])>-1)&&t[o][1]!=null){var A=t[o][1],m=0;if(s){m=+s[t[o][0]];var p=r[m];if(p.p=="version"&&typeof A=="string"){var f=A.split(".");A=(+f[0]<<16)+(+f[1]||0)}c=xI(p.t,A)}else{var x=hye(A);x==-1&&(x=31,A=String(A)),c=xI(x,A)}i.push(c),d=ot(8),d.write_shift(4,s?m:2+o),a.push(d),l+=8+c.length}var g=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,g),g+=i[o].length;return n.write_shift(4,l),n.write_shift(4,i.length),Ra([n].concat(a).concat(i))}function gI(t,s,r,n,a,i){var l=ot(a?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,Rr.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,a?2:1),l.write_shift(16,s,"hex"),l.write_shift(4,a?68:48);var c=pI(t,r,n);if(o.push(c),a){var d=pI(a,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+c.length),o.push(d)}return Ra(o)}function Aye(t,s){s||(s=ot(t));for(var r=0;r<t;++r)s.write_shift(1,0);return s}function mye(t,s){return t.read_shift(s)===1}function Ei(t,s){return s||(s=ot(2)),s.write_shift(2,+!!t),s}function mz(t){return t.read_shift(2,"u")}function to(t,s){return s||(s=ot(2)),s.write_shift(2,t),s}function fz(t,s,r){return r||(r=ot(2)),r.write_shift(1,s=="e"?+t:+!!t),r.write_shift(1,s=="e"?1:0),r}function xz(t,s,r){var n=t.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=t.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var l=n?t.read_shift(n,a):"";return l}function fye(t){var s=t.t||"",r=ot(3);r.write_shift(2,s.length),r.write_shift(1,1);var n=ot(2*s.length);n.write_shift(2*s.length,s,"utf16le");var a=[r,n];return Ra(a)}function xye(t,s,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(s,"cpstr");if(r.biff>=12)return t.read_shift(s,"dbcs-cont")}var a=t.read_shift(1);return a===0?n=t.read_shift(s,"sbcs-cont"):n=t.read_shift(s,"dbcs-cont"),n}function pye(t,s,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):xye(t,n,r)}function gye(t,s,r){if(r.biff>5)return pye(t,s,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function pz(t,s,r){return r||(r=ot(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function vI(t,s){s||(s=ot(6+t.length*2)),s.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)s.write_shift(2,t.charCodeAt(r));return s.write_shift(2,0),s}function vye(t){var s=ot(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}s.write_shift(4,2),s.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)s.write_shift(4,l[r]);if(i==28)n=n.slice(1),vI(n,s);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)s.write_shift(1,parseInt(l[r],16));var o=a>-1?n.slice(0,a):n;for(s.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)s.write_shift(2,o.charCodeAt(r));s.write_shift(2,0),i&8&&vI(a>-1?n.slice(a+1):"",s)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)s.write_shift(1,parseInt(l[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(s.write_shift(2,c),s.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)s.write_shift(1,n.charCodeAt(r+3*c)&255);for(s.write_shift(1,0),s.write_shift(2,65535),s.write_shift(2,57005),r=0;r<6;++r)s.write_shift(4,0)}return s.slice(0,s.l)}function fm(t,s,r,n){return n||(n=ot(6)),n.write_shift(2,t),n.write_shift(2,s),n.write_shift(2,r||0),n}function jye(t,s,r){var n=r.biff>8?4:2,a=t.read_shift(n),i=t.read_shift(n,"i"),l=t.read_shift(n,"i");return[a,i,l]}function yye(t){var s=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2);return{s:{c:n,r:s},e:{c:a,r}}}function gz(t,s){return s||(s=ot(8)),s.write_shift(2,t.s.r),s.write_shift(2,t.e.r),s.write_shift(2,t.s.c),s.write_shift(2,t.e.c),s}function Z_(t,s,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=ot(a);return i.write_shift(2,n),i.write_shift(2,s),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function wye(t,s){var r=!s||s.biff==8,n=ot(r?112:54);for(n.write_shift(s.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function bye(t,s){var r=!s||s.biff>=8?2:1,n=ot(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),s.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,s.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Nye(t,s){var r=ot(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],a=0;a<t.length;++a)n[a]=fye(t[a]);var i=Ra([r].concat(n));return i.parts=[r.length].concat(n.map(function(l){return l.length})),i}function Cye(){var t=ot(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Bye(t){var s=ot(18),r=1718;return t&&t.RTL&&(r|=64),s.write_shift(2,r),s.write_shift(4,0),s.write_shift(4,64),s.write_shift(4,0),s.write_shift(4,0),s}function Sye(t,s){var r=t.name||"Arial",n=s&&s.biff==5,a=n?15+r.length:16+2*r.length,i=ot(a);return i.write_shift(2,t.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function kye(t,s,r,n){var a=ot(10);return fm(t,s,n,a),a.write_shift(4,r),a}function _ye(t,s,r,n,a){var i=!a||a.biff==8,l=ot(8+ +i+(1+i)*r.length);return fm(t,s,n,l),l.write_shift(2,r.length),i&&l.write_shift(1,1),l.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),l}function Eye(t,s,r,n){var a=r&&r.biff==5;n||(n=ot(a?3+s.length:5+2*s.length)),n.write_shift(2,t),n.write_shift(a?1:2,s.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*s.length,s,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function Fye(t,s){var r=s.biff==8||!s.biff?4:2,n=ot(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function jI(t,s,r,n){var a=r&&r.biff==5;n||(n=ot(a?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,s<<4));var i=0;return t.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function Tye(t){var s=ot(8);return s.write_shift(4,0),s.write_shift(2,0),s.write_shift(2,0),s}function Lye(t,s,r,n,a,i){var l=ot(8);return fm(t,s,n,l),fz(r,i,l),l}function Iye(t,s,r,n){var a=ot(14);return fm(t,s,n,a),mm(r,a),a}function Pye(t,s,r){if(r.biff<8)return Dye(t,s,r);for(var n=[],a=t.l+s,i=t.read_shift(r.biff>8?4:2);i--!==0;)n.push(jye(t,r.biff>8?12:6,r));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return n}function Dye(t,s,r){t[t.l+1]==3&&t[t.l]++;var n=xz(t,s,r);return n.charCodeAt(0)==3?n.slice(1):n}function Uye(t){var s=ot(2+t.length*8);s.write_shift(2,t.length);for(var r=0;r<t.length;++r)gz(t[r],s);return s}function Oye(t){var s=ot(24),r=Sa(t[0]);s.write_shift(2,r.r),s.write_shift(2,r.r),s.write_shift(2,r.c),s.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)s.write_shift(1,parseInt(n[a],16));return Ra([s,vye(t[1])])}function Rye(t){var s=t[1].Tooltip,r=ot(10+2*(s.length+1));r.write_shift(2,2048);var n=Sa(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<s.length;++a)r.write_shift(2,s.charCodeAt(a));return r.write_shift(2,0),r}function Mye(t){return t||(t=ot(4)),t.write_shift(2,1),t.write_shift(2,1),t}function Qye(t,s,r){if(!r.cellStyles)return sd(t,s);var n=r&&r.biff>=12?4:2,a=t.read_shift(n),i=t.read_shift(n),l=t.read_shift(n),o=t.read_shift(n),c=t.read_shift(2);n==2&&(t.l+=2);var d={s:a,e:i,w:l,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function Hye(t,s){var r=ot(12);r.write_shift(2,s),r.write_shift(2,s),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Vye(t){for(var s=ot(2*t),r=0;r<t;++r)s.write_shift(2,r+1);return s}function Kye(t,s,r){var n=ot(15);return vj(n,t,s),n.write_shift(8,r,"f"),n}function zye(t,s,r){var n=ot(9);return vj(n,t,s),n.write_shift(2,r),n}var qye=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},s=H_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var d=[],u=Am(1);switch(c.type){case"base64":u=Yo(eu(o));break;case"binary":u=Yo(o);break;case"buffer":case"array":u=o;break}bl(u,0);var h=u.read_shift(1),A=!!(h&136),m=!1,p=!1;switch(h){case 2:break;case 3:break;case 48:m=!0,A=!0;break;case 49:m=!0,A=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var f=0,x=521;h==2&&(f=u.read_shift(2)),u.l+=3,h!=2&&(f=u.read_shift(4)),f>1048576&&(f=1e6),h!=2&&(x=u.read_shift(2));var g=u.read_shift(2),v=c.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(v=t[u[u.l]]),u.l+=1,u.l+=2),p&&(u.l+=36);for(var j=[],B={},F=Math.min(u.length,h==2?521:x-10-(m?264:0)),P=p?32:11;u.l<F&&u[u.l]!=13;)switch(B={},B.name=KL.utils.decode(v,u.slice(u.l,u.l+P)).replace(/[\u0000\r\n].*$/g,""),u.l+=P,B.type=String.fromCharCode(u.read_shift(1)),h!=2&&!p&&(B.offset=u.read_shift(4)),B.len=u.read_shift(1),h==2&&(B.offset=u.read_shift(2)),B.dec=u.read_shift(1),B.name.length&&j.push(B),h!=2&&(u.l+=p?13:14),B.type){case"B":(!m||B.len!=8)&&c.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+B.type)}if(u[u.l]!==13&&(u.l=x-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=x;var E=0,N=0;for(d[0]=[],N=0;N!=j.length;++N)d[0][N]=j[N].name;for(;f-- >0;){if(u[u.l]===42){u.l+=g;continue}for(++u.l,d[++E]=[],N=0,N=0;N!=j.length;++N){var C=u.slice(u.l,u.l+j[N].len);u.l+=j[N].len,bl(C,0);var _=KL.utils.decode(v,C);switch(j[N].type){case"C":_.trim().length&&(d[E][N]=_.replace(/\s+$/,""));break;case"D":_.length===8?d[E][N]=new Date(+_.slice(0,4),+_.slice(4,6)-1,+_.slice(6,8)):d[E][N]=_;break;case"F":d[E][N]=parseFloat(_.trim());break;case"+":case"I":d[E][N]=p?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(_.trim().toUpperCase()){case"Y":case"T":d[E][N]=!0;break;case"N":case"F":d[E][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+_+"|")}break;case"M":if(!A)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));d[E][N]="##MEMO##"+(p?parseInt(_.trim(),10):C.read_shift(4));break;case"N":_=_.replace(/\u0000/g,"").trim(),_&&_!="."&&(d[E][N]=+_||0);break;case"@":d[E][N]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":d[E][N]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":d[E][N]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[E][N]=-C.read_shift(-8,"f");break;case"B":if(m&&j[N].len==8){d[E][N]=C.read_shift(8,"f");break}case"G":case"P":C.l+=j[N].len;break;case"0":if(j[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[N].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=j,d}function n(o,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=N0(r(o,d),d);return u["!cols"]=d.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete d.DBF,u}function a(o,c){try{return Bm(n(o,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,c){var d=c||{};if(+d.codepage>=0&&Cv(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=nl(),h=Xb(o,{header:1,raw:!0,cellDates:!0}),A=h[0],m=h.slice(1),p=o["!cols"]||[],f=0,x=0,g=0,v=1;for(f=0;f<A.length;++f){if(((p[f]||{}).DBF||{}).name){A[f]=p[f].DBF.name,++g;continue}if(A[f]!=null){if(++g,typeof A[f]=="number"&&(A[f]=A[f].toString(10)),typeof A[f]!="string")throw new Error("DBF Invalid column name "+A[f]+" |"+typeof A[f]+"|");if(A.indexOf(A[f])!==f){for(x=0;x<1024;++x)if(A.indexOf(A[f]+"_"+x)==-1){A[f]+="_"+x;break}}}}var j=hn(o["!ref"]),B=[],F=[],P=[];for(f=0;f<=j.e.c-j.s.c;++f){var E="",N="",C=0,_=[];for(x=0;x<m.length;++x)m[x][f]!=null&&_.push(m[x][f]);if(_.length==0||A[f]==null){B[f]="?";continue}for(x=0;x<_.length;++x){switch(typeof _[x]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=_[x]instanceof Date?"D":"C";break;default:N="C"}C=Math.max(C,String(_[x]).length),E=E&&E!=N?"C":N}C>250&&(C=250),N=((p[f]||{}).DBF||{}).type,N=="C"&&p[f].DBF.len>C&&(C=p[f].DBF.len),E=="B"&&N=="N"&&(E="N",P[f]=p[f].DBF.dec,C=p[f].DBF.len),F[f]=E=="C"||N=="N"?C:i[E]||0,v+=F[f],B[f]=E}var k=u.next(32);for(k.write_shift(4,318902576),k.write_shift(4,m.length),k.write_shift(2,296+32*g),k.write_shift(2,v),f=0;f<4;++f)k.write_shift(4,0);for(k.write_shift(4,0|(+s[jK]||3)<<8),f=0,x=0;f<A.length;++f)if(A[f]!=null){var D=u.next(32),z=(A[f].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);D.write_shift(1,z,"sbcs"),D.write_shift(1,B[f]=="?"?"C":B[f],"sbcs"),D.write_shift(4,x),D.write_shift(1,F[f]||i[B[f]]||0),D.write_shift(1,P[f]||0),D.write_shift(1,2),D.write_shift(4,0),D.write_shift(1,0),D.write_shift(4,0),D.write_shift(4,0),x+=F[f]||i[B[f]]||0}var K=u.next(264);for(K.write_shift(4,13),f=0;f<65;++f)K.write_shift(4,0);for(f=0;f<m.length;++f){var xe=u.next(v);for(xe.write_shift(1,0),x=0;x<A.length;++x)if(A[x]!=null)switch(B[x]){case"L":xe.write_shift(1,m[f][x]==null?63:m[f][x]?84:70);break;case"B":xe.write_shift(8,m[f][x]||0,"f");break;case"N":var W="0";for(typeof m[f][x]=="number"&&(W=m[f][x].toFixed(P[x]||0)),g=0;g<F[x]-W.length;++g)xe.write_shift(1,32);xe.write_shift(1,W,"sbcs");break;case"D":m[f][x]?(xe.write_shift(4,("0000"+m[f][x].getFullYear()).slice(-4),"sbcs"),xe.write_shift(2,("00"+(m[f][x].getMonth()+1)).slice(-2),"sbcs"),xe.write_shift(2,("00"+m[f][x].getDate()).slice(-2),"sbcs")):xe.write_shift(8,"00000000","sbcs");break;case"C":var re=String(m[f][x]!=null?m[f][x]:"").slice(0,F[x]);for(xe.write_shift(1,re,"sbcs"),g=0;g<F[x]-re.length;++g)xe.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:l}}(),$ye=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},s=new RegExp("\x1BN("+$a(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(A,m){var p=t[m];return typeof p=="number"?VL(p):p},n=function(A,m,p){var f=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return f==59?A:VL(f)};t["|"]=254;function a(A,m){switch(m.type){case"base64":return i(eu(A),m);case"binary":return i(A,m);case"buffer":return i(vr&&Buffer.isBuffer(A)?A.toString("binary"):mj(A),m);case"array":return i(yN(A),m)}throw new Error("Unrecognized type "+m.type)}function i(A,m){var p=A.split(/[\n\r]+/),f=-1,x=-1,g=0,v=0,j=[],B=[],F=null,P={},E=[],N=[],C=[],_=0,k;for(+m.codepage>=0&&Cv(+m.codepage);g!==p.length;++g){_=0;var D=p[g].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(s,r),z=D.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),K=z[0],xe;if(D.length>0)switch(K){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":z[1].charAt(0)=="P"&&B.push(D.slice(3).replace(/;;/g,";"));break;case"C":var W=!1,re=!1,I=!1,ie=!1,ve=-1,De=-1;for(v=1;v<z.length;++v)switch(z[v].charAt(0)){case"A":break;case"X":x=parseInt(z[v].slice(1))-1,re=!0;break;case"Y":for(f=parseInt(z[v].slice(1))-1,re||(x=0),k=j.length;k<=f;++k)j[k]=[];break;case"K":xe=z[v].slice(1),xe.charAt(0)==='"'?xe=xe.slice(1,xe.length-1):xe==="TRUE"?xe=!0:xe==="FALSE"?xe=!1:isNaN(Od(xe))?isNaN(Sv(xe).getDate())||(xe=Li(xe)):(xe=Od(xe),F!==null&&TK(F)&&(xe=DK(xe))),W=!0;break;case"E":ie=!0;var L=z1e(z[v].slice(1),{r:f,c:x});j[f][x]=[j[f][x],L];break;case"S":I=!0,j[f][x]=[j[f][x],"S5S"];break;case"G":break;case"R":ve=parseInt(z[v].slice(1))-1;break;case"C":De=parseInt(z[v].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+D)}if(W&&(j[f][x]&&j[f][x].length==2?j[f][x][0]=xe:j[f][x]=xe,F=null),I){if(ie)throw new Error("SYLK shared formula cannot have own formula");var U=ve>-1&&j[ve][De];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");j[f][x][1]=q1e(U[1],{r:f-ve,c:x-De})}break;case"F":var R=0;for(v=1;v<z.length;++v)switch(z[v].charAt(0)){case"X":x=parseInt(z[v].slice(1))-1,++R;break;case"Y":for(f=parseInt(z[v].slice(1))-1,k=j.length;k<=f;++k)j[k]=[];break;case"M":_=parseInt(z[v].slice(1))/20;break;case"F":break;case"G":break;case"P":F=B[parseInt(z[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=z[v].slice(1).split(" "),k=parseInt(C[0],10);k<=parseInt(C[1],10);++k)_=parseInt(C[2],10),N[k-1]=_===0?{hidden:!0}:{wch:_},eE(N[k-1]);break;case"C":x=parseInt(z[v].slice(1))-1,N[x]||(N[x]={});break;case"R":f=parseInt(z[v].slice(1))-1,E[f]||(E[f]={}),_>0?(E[f].hpt=_,E[f].hpx=bz(_)):_===0&&(E[f].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+D)}R<1&&(F=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+D)}}return E.length>0&&(P["!rows"]=E),N.length>0&&(P["!cols"]=N),m&&m.sheetRows&&(j=j.slice(0,m.sheetRows)),[j,P]}function l(A,m){var p=a(A,m),f=p[0],x=p[1],g=N0(f,m);return $a(x).forEach(function(v){g[v]=x[v]}),g}function o(A,m){return Bm(l(A,m),m)}function c(A,m,p,f){var x="C;Y"+(p+1)+";X"+(f+1)+";K";switch(A.t){case"n":x+=A.v||0,A.f&&!A.F&&(x+=";E"+sE(A.f,{r:p,c:f}));break;case"b":x+=A.v?"TRUE":"FALSE";break;case"e":x+=A.w||A.v;break;case"d":x+='"'+(A.w||A.v)+'"';break;case"s":x+='"'+A.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function d(A,m){m.forEach(function(p,f){var x="F;W"+(f+1)+" "+(f+1)+" ";p.hidden?x+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=$b(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=Gb(p.wpx)),typeof p.wch=="number"&&(x+=Math.round(p.wch))),x.charAt(x.length-1)!=" "&&A.push(x)})}function u(A,m){m.forEach(function(p,f){var x="F;";p.hidden?x+="M0;":p.hpt?x+="M"+20*p.hpt+";":p.hpx&&(x+="M"+20*Wb(p.hpx)+";"),x.length>2&&A.push(x+"R"+(f+1))})}function h(A,m){var p=["ID;PWXL;N;E"],f=[],x=hn(A["!ref"]),g,v=Array.isArray(A),j=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),A["!cols"]&&d(p,A["!cols"]),A["!rows"]&&u(p,A["!rows"]),p.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var B=x.s.r;B<=x.e.r;++B)for(var F=x.s.c;F<=x.e.c;++F){var P=Pr({r:B,c:F});g=v?(A[B]||[])[F]:A[P],!(!g||g.v==null&&(!g.f||g.F))&&f.push(c(g,A,B,F))}return p.join(j)+j+f.join(j)+j+"E"+j}return{to_workbook:o,to_sheet:l,from_sheet:h}}(),Gye=function(){function t(i,l){switch(l.type){case"base64":return s(eu(i),l);case"binary":return s(i,l);case"buffer":return s(vr&&Buffer.isBuffer(i)?i.toString("binary"):mj(i),l);case"array":return s(yN(i),l)}throw new Error("Unrecognized type "+l.type)}function s(i,l){for(var o=i.split(`
`),c=-1,d=-1,u=0,h=[];u!==o.length;++u){if(o[u].trim()==="BOT"){h[++c]=[],d=0;continue}if(!(c<0)){var A=o[u].trim().split(","),m=A[0],p=A[1];++u;for(var f=o[u]||"";(f.match(/["]/g)||[]).length&1&&u<o.length-1;)f+=`
`+o[++u];switch(f=f.trim(),+m){case-1:if(f==="BOT"){h[++c]=[],d=0;continue}else if(f!=="EOD")throw new Error("Unrecognized DIF special command "+f);break;case 0:f==="TRUE"?h[c][d]=!0:f==="FALSE"?h[c][d]=!1:isNaN(Od(p))?isNaN(Sv(p).getDate())?h[c][d]=p:h[c][d]=Li(p):h[c][d]=Od(p),++d;break;case 1:f=f.slice(1,f.length-1),f=f.replace(/""/g,'"'),f&&f.match(/^=".*"$/)&&(f=f.slice(2,-1)),h[c][d++]=f!==""?f:null;break}if(f==="EOD")break}}return l&&l.sheetRows&&(h=h.slice(0,l.sheetRows)),h}function r(i,l){return N0(t(i,l),l)}function n(i,l){return Bm(r(i,l),l)}var a=function(){var i=function(c,d,u,h,A){c.push(d),c.push(u+","+h),c.push('"'+A.replace(/"/g,'""')+'"')},l=function(c,d,u,h){c.push(d+","+u),c.push(d==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var d=[],u=hn(c["!ref"]),h,A=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var m=u.s.r;m<=u.e.r;++m){l(d,-1,0,"BOT");for(var p=u.s.c;p<=u.e.c;++p){var f=Pr({r:m,c:p});if(h=A?(c[m]||[])[p]:c[f],!h){l(d,1,0,"");continue}switch(h.t){case"n":var x=h.w;!x&&h.v!=null&&(x=h.v),x==null?h.f&&!h.F?l(d,1,0,"="+h.f):l(d,1,0,""):l(d,0,x,"V");break;case"b":l(d,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":l(d,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Lh(h.z||In[14],ll(Li(h.v)))),l(d,0,h.w,"V");break;default:l(d,1,0,"")}}}l(d,-1,0,"EOD");var g=`\r
`,v=d.join(g);return v}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),vz=function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function s(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,A){for(var m=h.split(`
`),p=-1,f=-1,x=0,g=[];x!==m.length;++x){var v=m[x].trim().split(":");if(v[0]==="cell"){var j=Sa(v[1]);if(g.length<=j.r)for(p=g.length;p<=j.r;++p)g[p]||(g[p]=[]);switch(p=j.r,f=j.c,v[2]){case"t":g[p][f]=t(v[3]);break;case"v":g[p][f]=+v[3];break;case"vtf":var B=v[v.length-1];case"vtc":switch(v[3]){case"nl":g[p][f]=!!+v[4];break;default:g[p][f]=+v[4];break}v[2]=="vtf"&&(g[p][f]=[g[p][f],B])}}}return A&&A.sheetRows&&(g=g.slice(0,A.sheetRows)),g}function n(h,A){return N0(r(h,A),A)}function a(h,A){return Bm(n(h,A),A)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(h){if(!h||!h["!ref"])return"";for(var A=[],m=[],p,f="",x=Dl(h["!ref"]),g=Array.isArray(h),v=x.s.r;v<=x.e.r;++v)for(var j=x.s.c;j<=x.e.c;++j)if(f=Pr({r:v,c:j}),p=g?(h[v]||[])[j]:h[f],!(!p||p.v==null||p.t==="z")){switch(m=["cell",f,"t"],p.t){case"s":case"str":m.push(s(p.v));break;case"n":p.f?(m[2]="vtf",m[3]="n",m[4]=p.v,m[5]=s(p.f)):(m[2]="v",m[3]=p.v);break;case"b":m[2]="vt"+(p.f?"f":"c"),m[3]="nl",m[4]=p.v?"1":"0",m[5]=s(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var B=ll(Li(p.v));m[2]="vtc",m[3]="nd",m[4]=""+B,m[5]=p.w||Lh(p.z||In[14],B);break;case"e":continue}A.push(m.join(":"))}return A.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),A.push("valueformat:1:text-wiki"),A.join(`
`)}function u(h){return[i,l,o,l,d(h),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),Wye=function(){function t(u,h,A,m,p){p.raw?h[A][m]=u:u===""||(u==="TRUE"?h[A][m]=!0:u==="FALSE"?h[A][m]=!1:isNaN(Od(u))?isNaN(Sv(u).getDate())?h[A][m]=u:h[A][m]=Li(u):h[A][m]=Od(u))}function s(u,h){var A=h||{},m=[];if(!u||u.length===0)return m;for(var p=u.split(/[\r\n]/),f=p.length-1;f>=0&&p[f].length===0;)--f;for(var x=10,g=0,v=0;v<=f;++v)g=p[v].indexOf(" "),g==-1?g=p[v].length:g++,x=Math.max(x,g);for(v=0;v<=f;++v){m[v]=[];var j=0;for(t(p[v].slice(0,x).trim(),m,v,j,A),j=1;j<=(p[v].length-x)/10+1;++j)t(p[v].slice(x+(j-1)*10,x+j*10).trim(),m,v,j,A)}return A.sheetRows&&(m=m.slice(0,A.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var h={},A=!1,m=0,p=0;m<u.length;++m)(p=u.charCodeAt(m))==34?A=!A:!A&&p in r&&(h[p]=(h[p]||0)+1);p=[];for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&p.push([h[m],m]);if(!p.length){h=n;for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&p.push([h[m],m])}return p.sort(function(f,x){return f[0]-x[0]||n[f[1]]-n[x[1]]}),r[p.pop()[1]]||44}function i(u,h){var A=h||{},m="",p=A.dense?[]:{},f={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=a(u.slice(0,1024)):A&&A.FS?m=A.FS:m=a(u.slice(0,1024));var x=0,g=0,v=0,j=0,B=0,F=m.charCodeAt(0),P=!1,E=0,N=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var C=A.dateNF!=null?uje(A.dateNF):null;function _(){var k=u.slice(j,B),D={};if(k.charAt(0)=='"'&&k.charAt(k.length-1)=='"'&&(k=k.slice(1,-1).replace(/""/g,'"')),k.length===0)D.t="z";else if(A.raw)D.t="s",D.v=k;else if(k.trim().length===0)D.t="s",D.v=k;else if(k.charCodeAt(0)==61)k.charCodeAt(1)==34&&k.charCodeAt(k.length-1)==34?(D.t="s",D.v=k.slice(2,-1).replace(/""/g,'"')):$1e(k)?(D.t="n",D.f=k.slice(1)):(D.t="s",D.v=k);else if(k=="TRUE")D.t="b",D.v=!0;else if(k=="FALSE")D.t="b",D.v=!1;else if(!isNaN(v=Od(k)))D.t="n",A.cellText!==!1&&(D.w=k),D.v=v;else if(!isNaN(Sv(k).getDate())||C&&k.match(C)){D.z=A.dateNF||In[14];var z=0;C&&k.match(C)&&(k=hje(k,A.dateNF,k.match(C)||[]),z=1),A.cellDates?(D.t="d",D.v=Li(k,z)):(D.t="n",D.v=ll(Li(k,z))),A.cellText!==!1&&(D.w=Lh(D.z,D.v instanceof Date?ll(D.v):D.v)),A.cellNF||delete D.z}else D.t="s",D.v=k;if(D.t=="z"||(A.dense?(p[x]||(p[x]=[]),p[x][g]=D):p[Pr({c:g,r:x})]=D),j=B+1,N=u.charCodeAt(j),f.e.c<g&&(f.e.c=g),f.e.r<x&&(f.e.r=x),E==F)++g;else if(g=0,++x,A.sheetRows&&A.sheetRows<=x)return!0}e:for(;B<u.length;++B)switch(E=u.charCodeAt(B)){case 34:N===34&&(P=!P);break;case F:case 10:case 13:if(!P&&_())break e;break}return B-j>0&&_(),p["!ref"]=ia(f),p}function l(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,h):N0(s(u,h),h)}function o(u,h){var A="",m=h.type=="string"?[0,0,0,0]:l4e(u,h);switch(h.type){case"base64":A=eu(u);break;case"binary":A=u;break;case"buffer":h.codepage==65001?A=u.toString("utf8"):(h.codepage,A=vr&&Buffer.isBuffer(u)?u.toString("binary"):mj(u));break;case"array":A=yN(u);break;case"string":A=u;break;default:throw new Error("Unrecognized type "+h.type)}return m[0]==239&&m[1]==187&&m[2]==191?A=bg(A.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?A=bg(A):h.type=="binary",A.slice(0,19)=="socialcalc:version:"?vz.to_sheet(h.type=="string"?A:bg(A),h):l(A,h)}function c(u,h){return Bm(o(u,h),h)}function d(u){for(var h=[],A=hn(u["!ref"]),m,p=Array.isArray(u),f=A.s.r;f<=A.e.r;++f){for(var x=[],g=A.s.c;g<=A.e.c;++g){var v=Pr({r:f,c:g});if(m=p?(u[f]||[])[g]:u[v],!m||m.v==null){x.push("          ");continue}for(var j=(m.w||(tu(m),m.w)||"").slice(0,10);j.length<10;)j+=" ";x.push(j+(g===0?" ":""))}h.push(x.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:d}}(),yI=function(){function t(L,U,R){if(L){bl(L,L.l||0);for(var q=R.Enum||ve;L.l<L.length;){var ae=L.read_shift(2),Ae=q[ae]||q[65535],G=L.read_shift(2),O=L.l+G,ee=Ae.f&&Ae.f(L,G,R);if(L.l=O,U(ee,Ae,ae))return}}}function s(L,U){switch(U.type){case"base64":return r(Yo(eu(L)),U);case"binary":return r(Yo(L),U);case"buffer":case"array":return r(L,U)}throw"Unsupported type "+U.type}function r(L,U){if(!L)return L;var R=U||{},q=R.dense?[]:{},ae="Sheet1",Ae="",G=0,O={},ee=[],Le=[],Re={s:{r:0,c:0},e:{r:0,c:0}},Ke=R.sheetRows||0;if(L[2]==0&&(L[3]==8||L[3]==9)&&L.length>=16&&L[14]==5&&L[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(L[2]==2)R.Enum=ve,t(L,function(mt,Ot,Ye){switch(Ye){case 0:R.vers=mt,mt>=4096&&(R.qpro=!0);break;case 6:Re=mt;break;case 204:mt&&(Ae=mt);break;case 222:Ae=mt;break;case 15:case 51:R.qpro||(mt[1].v=mt[1].v.slice(1));case 13:case 14:case 16:Ye==14&&(mt[2]&112)==112&&(mt[2]&15)>1&&(mt[2]&15)<15&&(mt[1].z=R.dateNF||In[14],R.cellDates&&(mt[1].t="d",mt[1].v=DK(mt[1].v))),R.qpro&&mt[3]>G&&(q["!ref"]=ia(Re),O[ae]=q,ee.push(ae),q=R.dense?[]:{},Re={s:{r:0,c:0},e:{r:0,c:0}},G=mt[3],ae=Ae||"Sheet"+(G+1),Ae="");var St=R.dense?(q[mt[0].r]||[])[mt[0].c]:q[Pr(mt[0])];if(St){St.t=mt[1].t,St.v=mt[1].v,mt[1].z!=null&&(St.z=mt[1].z),mt[1].f!=null&&(St.f=mt[1].f);break}R.dense?(q[mt[0].r]||(q[mt[0].r]=[]),q[mt[0].r][mt[0].c]=mt[1]):q[Pr(mt[0])]=mt[1];break}},R);else if(L[2]==26||L[2]==14)R.Enum=De,L[2]==14&&(R.qpro=!0,L.l=0),t(L,function(mt,Ot,Ye){switch(Ye){case 204:ae=mt;break;case 22:mt[1].v=mt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(mt[3]>G&&(q["!ref"]=ia(Re),O[ae]=q,ee.push(ae),q=R.dense?[]:{},Re={s:{r:0,c:0},e:{r:0,c:0}},G=mt[3],ae="Sheet"+(G+1)),Ke>0&&mt[0].r>=Ke)break;R.dense?(q[mt[0].r]||(q[mt[0].r]=[]),q[mt[0].r][mt[0].c]=mt[1]):q[Pr(mt[0])]=mt[1],Re.e.c<mt[0].c&&(Re.e.c=mt[0].c),Re.e.r<mt[0].r&&(Re.e.r=mt[0].r);break;case 27:mt[14e3]&&(Le[mt[14e3][0]]=mt[14e3][1]);break;case 1537:Le[mt[0]]=mt[1],mt[0]==G&&(ae=mt[1]);break}},R);else throw new Error("Unrecognized LOTUS BOF "+L[2]);if(q["!ref"]=ia(Re),O[Ae||ae]=q,ee.push(Ae||ae),!Le.length)return{SheetNames:ee,Sheets:O};for(var Me={},$e=[],ge=0;ge<Le.length;++ge)O[ee[ge]]?($e.push(Le[ge]||ee[ge]),Me[Le[ge]]=O[Le[ge]]||O[ee[ge]]):($e.push(Le[ge]),Me[Le[ge]]={"!ref":"A1"});return{SheetNames:$e,Sheets:Me}}function n(L,U){var R=U||{};if(+R.codepage>=0&&Cv(+R.codepage),R.type=="string")throw new Error("Cannot write WK1 to JS string");var q=nl(),ae=hn(L["!ref"]),Ae=Array.isArray(L),G=[];Ut(q,0,i(1030)),Ut(q,6,c(ae));for(var O=Math.min(ae.e.r,8191),ee=ae.s.r;ee<=O;++ee)for(var Le=Va(ee),Re=ae.s.c;Re<=ae.e.c;++Re){ee===ae.s.r&&(G[Re]=fi(Re));var Ke=G[Re]+Le,Me=Ae?(L[ee]||[])[Re]:L[Ke];if(!(!Me||Me.t=="z"))if(Me.t=="n")(Me.v|0)==Me.v&&Me.v>=-32768&&Me.v<=32767?Ut(q,13,m(ee,Re,Me.v)):Ut(q,14,f(ee,Re,Me.v));else{var $e=tu(Me);Ut(q,15,h(ee,Re,$e.slice(0,239)))}}return Ut(q,1),q.end()}function a(L,U){var R=U||{};if(+R.codepage>=0&&Cv(+R.codepage),R.type=="string")throw new Error("Cannot write WK3 to JS string");var q=nl();Ut(q,0,l(L));for(var ae=0,Ae=0;ae<L.SheetNames.length;++ae)(L.Sheets[L.SheetNames[ae]]||{})["!ref"]&&Ut(q,27,ie(L.SheetNames[ae],Ae++));var G=0;for(ae=0;ae<L.SheetNames.length;++ae){var O=L.Sheets[L.SheetNames[ae]];if(!(!O||!O["!ref"])){for(var ee=hn(O["!ref"]),Le=Array.isArray(O),Re=[],Ke=Math.min(ee.e.r,8191),Me=ee.s.r;Me<=Ke;++Me)for(var $e=Va(Me),ge=ee.s.c;ge<=ee.e.c;++ge){Me===ee.s.r&&(Re[ge]=fi(ge));var mt=Re[ge]+$e,Ot=Le?(O[Me]||[])[ge]:O[mt];if(!(!Ot||Ot.t=="z"))if(Ot.t=="n")Ut(q,23,_(Me,ge,G,Ot.v));else{var Ye=tu(Ot);Ut(q,22,E(Me,ge,G,Ye.slice(0,239)))}}++G}}return Ut(q,1),q.end()}function i(L){var U=ot(2);return U.write_shift(2,L),U}function l(L){var U=ot(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var R=0,q=0,ae=0,Ae=0;Ae<L.SheetNames.length;++Ae){var G=L.SheetNames[Ae],O=L.Sheets[G];if(!(!O||!O["!ref"])){++ae;var ee=Dl(O["!ref"]);R<ee.e.r&&(R=ee.e.r),q<ee.e.c&&(q=ee.e.c)}}return R>8191&&(R=8191),U.write_shift(2,R),U.write_shift(1,ae),U.write_shift(1,q),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function o(L,U,R){var q={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&R.qpro?(q.s.c=L.read_shift(1),L.l++,q.s.r=L.read_shift(2),q.e.c=L.read_shift(1),L.l++,q.e.r=L.read_shift(2),q):(q.s.c=L.read_shift(2),q.s.r=L.read_shift(2),U==12&&R.qpro&&(L.l+=2),q.e.c=L.read_shift(2),q.e.r=L.read_shift(2),U==12&&R.qpro&&(L.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function c(L){var U=ot(8);return U.write_shift(2,L.s.c),U.write_shift(2,L.s.r),U.write_shift(2,L.e.c),U.write_shift(2,L.e.r),U}function d(L,U,R){var q=[{c:0,r:0},{t:"n",v:0},0,0];return R.qpro&&R.vers!=20768?(q[0].c=L.read_shift(1),q[3]=L.read_shift(1),q[0].r=L.read_shift(2),L.l+=2):(q[2]=L.read_shift(1),q[0].c=L.read_shift(2),q[0].r=L.read_shift(2)),q}function u(L,U,R){var q=L.l+U,ae=d(L,U,R);if(ae[1].t="s",R.vers==20768){L.l++;var Ae=L.read_shift(1);return ae[1].v=L.read_shift(Ae,"utf8"),ae}return R.qpro&&L.l++,ae[1].v=L.read_shift(q-L.l,"cstr"),ae}function h(L,U,R){var q=ot(7+R.length);q.write_shift(1,255),q.write_shift(2,U),q.write_shift(2,L),q.write_shift(1,39);for(var ae=0;ae<q.length;++ae){var Ae=R.charCodeAt(ae);q.write_shift(1,Ae>=128?95:Ae)}return q.write_shift(1,0),q}function A(L,U,R){var q=d(L,U,R);return q[1].v=L.read_shift(2,"i"),q}function m(L,U,R){var q=ot(7);return q.write_shift(1,255),q.write_shift(2,U),q.write_shift(2,L),q.write_shift(2,R,"i"),q}function p(L,U,R){var q=d(L,U,R);return q[1].v=L.read_shift(8,"f"),q}function f(L,U,R){var q=ot(13);return q.write_shift(1,255),q.write_shift(2,U),q.write_shift(2,L),q.write_shift(8,R,"f"),q}function x(L,U,R){var q=L.l+U,ae=d(L,U,R);if(ae[1].v=L.read_shift(8,"f"),R.qpro)L.l=q;else{var Ae=L.read_shift(2);B(L.slice(L.l,L.l+Ae),ae),L.l+=Ae}return ae}function g(L,U,R){var q=U&32768;return U&=-32769,U=(q?L:0)+(U>=8192?U-16384:U),(q?"":"$")+(R?fi(U):Va(U))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function B(L,U){bl(L,0);for(var R=[],q=0,ae="",Ae="",G="",O="";L.l<L.length;){var ee=L[L.l++];switch(ee){case 0:R.push(L.read_shift(8,"f"));break;case 1:Ae=g(U[0].c,L.read_shift(2),!0),ae=g(U[0].r,L.read_shift(2),!1),R.push(Ae+ae);break;case 2:{var Le=g(U[0].c,L.read_shift(2),!0),Re=g(U[0].r,L.read_shift(2),!1);Ae=g(U[0].c,L.read_shift(2),!0),ae=g(U[0].r,L.read_shift(2),!1),R.push(Le+Re+":"+Ae+ae)}break;case 3:if(L.l<L.length){console.error("WK1 premature formula end");return}break;case 4:R.push("("+R.pop()+")");break;case 5:R.push(L.read_shift(2));break;case 6:{for(var Ke="";ee=L[L.l++];)Ke+=String.fromCharCode(ee);R.push('"'+Ke.replace(/"/g,'""')+'"')}break;case 8:R.push("-"+R.pop());break;case 23:R.push("+"+R.pop());break;case 22:R.push("NOT("+R.pop()+")");break;case 20:case 21:O=R.pop(),G=R.pop(),R.push(["AND","OR"][ee-20]+"("+G+","+O+")");break;default:if(ee<32&&j[ee])O=R.pop(),G=R.pop(),R.push(G+j[ee]+O);else if(v[ee]){if(q=v[ee][1],q==69&&(q=L[L.l++]),q>R.length){console.error("WK1 bad formula parse 0x"+ee.toString(16)+":|"+R.join("|")+"|");return}var Me=R.slice(-q);R.length-=q,R.push(v[ee][0]+"("+Me.join(",")+")")}else return ee<=7?console.error("WK1 invalid opcode "+ee.toString(16)):ee<=24?console.error("WK1 unsupported op "+ee.toString(16)):ee<=30?console.error("WK1 invalid opcode "+ee.toString(16)):ee<=115?console.error("WK1 unsupported function opcode "+ee.toString(16)):console.error("WK1 unrecognized opcode "+ee.toString(16))}}R.length==1?U[1].f=""+R[0]:console.error("WK1 bad formula parse |"+R.join("|")+"|")}function F(L){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=L.read_shift(2),U[3]=L[L.l++],U[0].c=L[L.l++],U}function P(L,U){var R=F(L);return R[1].t="s",R[1].v=L.read_shift(U-4,"cstr"),R}function E(L,U,R,q){var ae=ot(6+q.length);ae.write_shift(2,L),ae.write_shift(1,R),ae.write_shift(1,U),ae.write_shift(1,39);for(var Ae=0;Ae<q.length;++Ae){var G=q.charCodeAt(Ae);ae.write_shift(1,G>=128?95:G)}return ae.write_shift(1,0),ae}function N(L,U){var R=F(L);R[1].v=L.read_shift(2);var q=R[1].v>>1;if(R[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return R[1].v=q,R}function C(L,U){var R=F(L),q=L.read_shift(4),ae=L.read_shift(4),Ae=L.read_shift(2);if(Ae==65535)return q===0&&ae===3221225472?(R[1].t="e",R[1].v=15):q===0&&ae===3489660928?(R[1].t="e",R[1].v=42):R[1].v=0,R;var G=Ae&32768;return Ae=(Ae&32767)-16446,R[1].v=(1-G*2)*(ae*Math.pow(2,Ae+32)+q*Math.pow(2,Ae)),R}function _(L,U,R,q){var ae=ot(14);if(ae.write_shift(2,L),ae.write_shift(1,R),ae.write_shift(1,U),q==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var Ae=0,G=0,O=0,ee=0;return q<0&&(Ae=1,q=-q),G=Math.log2(q)|0,q/=Math.pow(2,G-31),ee=q>>>0,ee&2147483648||(q/=2,++G,ee=q>>>0),q-=ee,ee|=2147483648,ee>>>=0,q*=Math.pow(2,32),O=q>>>0,ae.write_shift(4,O),ae.write_shift(4,ee),G+=16383+(Ae?32768:0),ae.write_shift(2,G),ae}function k(L,U){var R=C(L);return L.l+=U-14,R}function D(L,U){var R=F(L),q=L.read_shift(4);return R[1].v=q>>6,R}function z(L,U){var R=F(L),q=L.read_shift(8,"f");return R[1].v=q,R}function K(L,U){var R=z(L);return L.l+=U-10,R}function xe(L,U){return L[L.l+U-1]==0?L.read_shift(U,"cstr"):""}function W(L,U){var R=L[L.l++];R>U-1&&(R=U-1);for(var q="";q.length<R;)q+=String.fromCharCode(L[L.l++]);return q}function re(L,U,R){if(!(!R.qpro||U<21)){var q=L.read_shift(1);L.l+=17,L.l+=1,L.l+=2;var ae=L.read_shift(U-21,"cstr");return[q,ae]}}function I(L,U){for(var R={},q=L.l+U;L.l<q;){var ae=L.read_shift(2);if(ae==14e3){for(R[ae]=[0,""],R[ae][0]=L.read_shift(2);L[L.l];)R[ae][1]+=String.fromCharCode(L[L.l]),L.l++;L.l++}}return R}function ie(L,U){var R=ot(5+L.length);R.write_shift(2,14e3),R.write_shift(2,U);for(var q=0;q<L.length;++q){var ae=L.charCodeAt(q);R[R.l++]=ae>127?95:ae}return R[R.l++]=0,R}var ve={0:{n:"BOF",f:mz},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:A},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:xe},222:{n:"SHEETNAMELP",f:W},65535:{n:""}},De={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:k},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:I},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:D},38:{n:"??"},39:{n:"NUMBER27",f:z},40:{n:"FORMULA28",f:K},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:xe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:re},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:s}}(),Yye=/^\s|\s$|[\t\n\r]/;function jz(t,s){if(!s.bookSST)return"";var r=[oa];r[r.length]=Dt("sst",null,{xmlns:b0[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var a=t[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(Yye)&&(i+=' xml:space="preserve"'),i+=">"+Lr(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Xye(t){return[t.read_shift(4),t.read_shift(4)]}function Jye(t,s){return s||(s=ot(8)),s.write_shift(4,t.Count),s.write_shift(4,t.Unique),s}var Zye=Vje;function e1e(t){var s=nl();Nt(s,159,Jye(t));for(var r=0;r<t.length;++r)Nt(s,19,Zye(t[r]));return Nt(s,160),s.end()}function t1e(t){for(var s=[],r=t.split(""),n=0;n<r.length;++n)s[n]=r[n].charCodeAt(0);return s}function yz(t){var s=0,r,n=t1e(t),a=n.length+1,i,l,o,c,d;for(r=Am(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)l=r[i],o=s&16384?1:0,c=s<<1&32767,d=o|c,s=d^l;return s^52811}var s1e=function(){function t(a,i){switch(i.type){case"base64":return s(eu(a),i);case"binary":return s(a,i);case"buffer":return s(vr&&Buffer.isBuffer(a)?a.toString("binary"):mj(a),i);case"array":return s(yN(a),i)}throw new Error("Unrecognized type "+i.type)}function s(a,i){var l=i||{},o=l.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,h){Array.isArray(o)&&(o[h]=[]);for(var A=/\\\w+\b/g,m=0,p,f=-1;p=A.exec(u);){switch(p[0]){case"\\cell":var x=u.slice(m,A.lastIndex-p[0].length);if(x[0]==" "&&(x=x.slice(1)),++f,x.length){var g={v:x,t:"s"};Array.isArray(o)?o[h][f]=g:o[Pr({r:h,c:f})]=g}break}m=A.lastIndex}f>d.e.c&&(d.e.c=f)}),o["!ref"]=ia(d),o}function r(a,i){return Bm(t(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],l=hn(a["!ref"]),o,c=Array.isArray(a),d=l.s.r;d<=l.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=l.s.c;u<=l.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=l.s.c;u<=l.e.c;++u){var h=Pr({r:d,c:u});o=c?(a[d]||[])[u]:a[h],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(tu(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function wI(t){for(var s=0,r=1;s!=3;++s)r=r*256+(t[s]>255?255:t[s]<0?0:t[s]);return r.toString(16).toUpperCase().slice(1)}var r1e=6,Rd=r1e;function $b(t){return Math.floor((t+Math.round(128/Rd)/256)*Rd)}function Gb(t){return Math.floor((t-5)/Rd*100+.5)/100}function HS(t){return Math.round((t*Rd+5)/Rd*256)/256}function eE(t){t.width?(t.wpx=$b(t.width),t.wch=Gb(t.wpx),t.MDW=Rd):t.wpx?(t.wch=Gb(t.wpx),t.width=HS(t.wch),t.MDW=Rd):typeof t.wch=="number"&&(t.width=HS(t.wch),t.wpx=$b(t.width),t.MDW=Rd),t.customWidth&&delete t.customWidth}var n1e=96,wz=n1e;function Wb(t){return t*96/wz}function bz(t){return t*wz/96}function a1e(t){var s=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(s[s.length]=Dt("numFmt",null,{numFmtId:n,formatCode:Lr(t[n])}))}),s.length===1?"":(s[s.length]="</numFmts>",s[0]=Dt("numFmts",null,{count:s.length-2}).replace("/>",">"),s.join(""))}function i1e(t){var s=[];return s[s.length]=Dt("cellXfs",null),t.forEach(function(r){s[s.length]=Dt("xf",null,r)}),s[s.length]="</cellXfs>",s.length===2?"":(s[0]=Dt("cellXfs",null,{count:s.length-2}).replace("/>",">"),s.join(""))}function Nz(t,s){var r=[oa,Dt("styleSheet",null,{xmlns:b0[0],"xmlns:vt":Ba.vt})],n;return t.SSF&&(n=a1e(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=i1e(s.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function l1e(t,s){var r=t.read_shift(2),n=xi(t);return[r,n]}function o1e(t,s,r){r||(r=ot(6+4*s.length)),r.write_shift(2,t),ka(s,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function c1e(t,s,r){var n={};n.sz=t.read_shift(2)/20;var a=Yje(t);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=t.read_shift(2);switch(i===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(n.underline=l);var o=t.read_shift(1);o>0&&(n.family=o);var c=t.read_shift(1);switch(c>0&&(n.charset=c),t.l++,n.color=Wje(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=xi(t),n}function d1e(t,s){s||(s=ot(25+4*32)),s.write_shift(2,t.sz*20),Xje(t,s),s.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),s.write_shift(2,r),s.write_shift(1,t.underline||0),s.write_shift(1,t.family||0),s.write_shift(1,t.charset||0),s.write_shift(1,0),zb(t.color,s);var n=0;return n=2,s.write_shift(1,n),ka(t.name,s),s.length>s.l?s.slice(0,s.l):s}var u1e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],X5,h1e=sd;function bI(t,s){s||(s=ot(4*3+8*7+16*1)),X5||(X5=H_(u1e));var r=X5[t.patternType];r==null&&(r=40),s.write_shift(4,r);var n=0;if(r!=40)for(zb({auto:1},s),zb({auto:1},s);n<12;++n)s.write_shift(4,0);else{for(;n<4;++n)s.write_shift(4,0);for(;n<12;++n)s.write_shift(4,0)}return s.length>s.l?s.slice(0,s.l):s}function A1e(t,s){var r=t.l+s,n=t.read_shift(2),a=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:a}}function Cz(t,s,r){r||(r=ot(16)),r.write_shift(2,s||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Sp(t,s){return s||(s=ot(10)),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(4,0),s.write_shift(4,0),s}var m1e=sd;function f1e(t,s){return s||(s=ot(51)),s.write_shift(1,0),Sp(null,s),Sp(null,s),Sp(null,s),Sp(null,s),Sp(null,s),s.length>s.l?s.slice(0,s.l):s}function x1e(t,s){return s||(s=ot(12+4*10)),s.write_shift(4,t.xfId),s.write_shift(2,1),s.write_shift(1,0),s.write_shift(1,0),Kb(t.name||"",s),s.length>s.l?s.slice(0,s.l):s}function p1e(t,s,r){var n=ot(2052);return n.write_shift(4,t),Kb(s,n),Kb(r,n),n.length>n.l?n.slice(0,n.l):n}function g1e(t,s){if(s){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)s[a]!=null&&++r}),r!=0&&(Nt(t,615,lc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)s[a]!=null&&Nt(t,44,o1e(a,s[a]))}),Nt(t,616))}}function v1e(t){var s=1;Nt(t,611,lc(s)),Nt(t,43,d1e({sz:12,color:{theme:1},name:"Calibri",family:2})),Nt(t,612)}function j1e(t){var s=2;Nt(t,603,lc(s)),Nt(t,45,bI({patternType:"none"})),Nt(t,45,bI({patternType:"gray125"})),Nt(t,604)}function y1e(t){var s=1;Nt(t,613,lc(s)),Nt(t,46,f1e()),Nt(t,614)}function w1e(t){var s=1;Nt(t,626,lc(s)),Nt(t,47,Cz({numFmtId:0},65535)),Nt(t,627)}function b1e(t,s){Nt(t,617,lc(s.length)),s.forEach(function(r){Nt(t,47,Cz(r,0))}),Nt(t,618)}function N1e(t){var s=1;Nt(t,619,lc(s)),Nt(t,48,x1e({xfId:0,name:"Normal"})),Nt(t,620)}function C1e(t){var s=0;Nt(t,505,lc(s)),Nt(t,506)}function B1e(t){var s=0;Nt(t,508,p1e(s,"TableStyleMedium9","PivotStyleMedium4")),Nt(t,509)}function S1e(t,s){var r=nl();return Nt(r,278),g1e(r,t.SSF),v1e(r),j1e(r),y1e(r),w1e(r),b1e(r,s.cellXfs),N1e(r),C1e(r),B1e(r),Nt(r,279),r.end()}function Bz(t,s){if(s&&s.themeXLSX)return s.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[oa];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function k1e(t,s){return{flags:t.read_shift(4),version:t.read_shift(4),name:xi(t)}}function _1e(t){var s=ot(12+2*t.name.length);return s.write_shift(4,t.flags),s.write_shift(4,t.version),ka(t.name,s),s.slice(0,s.l)}function E1e(t){for(var s=[],r=t.read_shift(4);r-- >0;)s.push([t.read_shift(4),t.read_shift(4)]);return s}function F1e(t){var s=ot(4+8*t.length);s.write_shift(4,t.length);for(var r=0;r<t.length;++r)s.write_shift(4,t[r][0]),s.write_shift(4,t[r][1]);return s}function T1e(t,s){var r=ot(8+2*s.length);return r.write_shift(4,t),ka(s,r),r.slice(0,r.l)}function L1e(t){return t.l+=4,t.read_shift(4)!=0}function I1e(t,s){var r=ot(8);return r.write_shift(4,t),r.write_shift(4,1),r}function P1e(){var t=nl();return Nt(t,332),Nt(t,334,lc(1)),Nt(t,335,_1e({name:"XLDAPR",version:12e4,flags:3496657072})),Nt(t,336),Nt(t,339,T1e(1,"XLDAPR")),Nt(t,52),Nt(t,35,lc(514)),Nt(t,4096,lc(0)),Nt(t,4097,to(1)),Nt(t,36),Nt(t,53),Nt(t,340),Nt(t,337,I1e(1)),Nt(t,51,F1e([[1,0]])),Nt(t,338),Nt(t,333),t.end()}function Sz(){var t=[oa];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function D1e(t){var s={};s.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),s.r=Pr(r);var n=t.read_shift(1);return n&2&&(s.l="1"),n&8&&(s.a="1"),s}var $f=1024;function kz(t,s){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Dt("xml",null,{"xmlns:v":Cl.v,"xmlns:o":Cl.o,"xmlns:x":Cl.x,"xmlns:mv":Cl.mv}).replace(/\/>/,">"),Dt("o:shapelayout",Dt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Dt("v:shapetype",[Dt("v:stroke",null,{joinstyle:"miter"}),Dt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];$f<t*1e3;)$f+=1e3;return s.forEach(function(i){var l=Sa(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?Dt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Dt("v:fill",c,o),u={on:"t",obscured:"t"};++$f,a=a.concat(["<v:shape"+_v({id:"_x0000_s"+$f,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Dt("v:shadow",null,u),Dt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ma("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),Ma("x:AutoFill","False"),Ma("x:Row",String(l.r)),Ma("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function _z(t){var s=[oa,Dt("comments",null,{xmlns:b0[0]})],r=[];return s.push("<authors>"),t.forEach(function(n){n[1].forEach(function(a){var i=Lr(a.a);r.indexOf(i)==-1&&(r.push(i),s.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),s.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),s.push("<author>SheetJ5</author>")),s.push("</authors>"),s.push("<commentList>"),t.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Lr(c.a))),i.push(c.t||"")}),s.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)s.push(Ma("t",Lr(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)l+=`Reply:
    `+i[o]+`
`;s.push(Ma("t",Lr(l)))}s.push("</text></comment>")}),s.push("</commentList>"),s.length>2&&(s[s.length]="</comments>",s[1]=s[1].replace("/>",">")),s.join("")}function U1e(t,s,r){var n=[oa,Dt("ThreadedComments",null,{xmlns:Ba.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(a){var i="";(a[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&s.indexOf(l.a)==-1&&s.push(l.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,l.ID=c.id,l.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+s.indexOf(l.a)).slice(-12)+"}"),n.push(Dt("threadedComment",Ma("text",l.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function O1e(t){var s=[oa,Dt("personList",null,{xmlns:Ba.TCMNT,"xmlns:x":b0[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){s.push(Dt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),s.push("</personList>"),s.join("")}function R1e(t){var s={};s.iauthor=t.read_shift(4);var r=Em(t);return s.rfx=r.s,s.ref=Pr(r.s),t.l+=16,s}function M1e(t,s){return s==null&&(s=ot(36)),s.write_shift(4,t[1].iauthor),C0(t[0],s),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s}var Q1e=xi;function H1e(t){return ka(t.slice(0,54))}function V1e(t){var s=nl(),r=[];return Nt(s,628),Nt(s,630),t.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Nt(s,632,H1e(a.a)))})}),Nt(s,631),Nt(s,633),t.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Sa(n[0]),e:Sa(n[0])};Nt(s,635,M1e([i,a])),a.t&&a.t.length>0&&Nt(s,637,zje(a)),Nt(s,636),delete a.iauthor})}),Nt(s,634),Nt(s,629),s.end()}function K1e(t,s){s.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Rr.utils.cfb_add(t,a,s.FileIndex[n].content)}})}var Ez=["xlsb","xlsm","xlam","biff8","xla"],z1e=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,s={r:0,c:0};function r(n,a,i,l){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=l.length>0?parseInt(l,10)|0:0;return o?u+=s.c:--u,c?d+=s.r:--d,a+(o?"":"$")+fi(u)+(c?"":"$")+Va(d)}return function(a,i){return s=i,a.replace(t,r)}}(),tE=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,sE=function(){return function(s,r){return s.replace(tE,function(n,a,i,l,o,c){var d=W_(l)-(i?0:r.c),u=G_(c)-(o?0:r.r),h=u==0?"":o?u+1:"["+u+"]",A=d==0?"":i?d+1:"["+d+"]";return a+"R"+h+"C"+A})}}();function q1e(t,s){return t.replace(tE,function(r,n,a,i,l,o){return n+(a=="$"?a+i:fi(W_(i)+s.c))+(l=="$"?l+o:Va(G_(o)+s.r))})}function $1e(t){return t.length!=1}function sa(t){t.l+=1}function Ih(t,s){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Fz(t,s,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Tz(t);r.biff==12&&(n=4)}var a=t.read_shift(n),i=t.read_shift(n),l=Ih(t),o=Ih(t);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function Tz(t){var s=Ih(t),r=Ih(t),n=t.read_shift(1),a=t.read_shift(1);return{s:{r:s[0],c:n,cRel:s[1],rRel:s[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function G1e(t,s,r){if(r.biff<8)return Tz(t);var n=t.read_shift(r.biff==12?4:2),a=t.read_shift(r.biff==12?4:2),i=Ih(t),l=Ih(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function Lz(t,s,r){if(r&&r.biff>=2&&r.biff<=5)return W1e(t);var n=t.read_shift(r&&r.biff==12?4:2),a=Ih(t);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function W1e(t){var s=Ih(t),r=t.read_shift(1);return{r:s[0],c:r,cRel:s[1],rRel:s[2]}}function Y1e(t){var s=t.read_shift(2),r=t.read_shift(2);return{r:s,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function X1e(t,s,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return J1e(t);var a=t.read_shift(n>=12?4:2),i=t.read_shift(2),l=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:l,rRel:o}}function J1e(t){var s=t.read_shift(2),r=t.read_shift(1),n=(s&32768)>>15,a=(s&16384)>>14;return s&=16383,n==1&&s>=8192&&(s=s-16384),a==1&&r>=128&&(r=r-256),{r:s,c:r,cRel:a,rRel:n}}function Z1e(t,s,r){var n=(t[t.l++]&96)>>5,a=Fz(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function ewe(t,s,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var l=Fz(t,i,r);return[n,a,l]}function twe(t,s,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function swe(t,s,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[n,a]}function rwe(t,s,r){var n=(t[t.l++]&96)>>5,a=G1e(t,s-1,r);return[n,a]}function nwe(t,s,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function NI(t){var s=t[t.l+1]&1,r=1;return t.l+=4,[s,r]}function awe(t,s,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(t.read_shift(r&&r.biff==2?1:2));return a}function iwe(t,s,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function lwe(t,s,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function owe(t){var s=t[t.l+1]&255?1:0;return t.l+=2,[s,t.read_shift(2)]}function cwe(t,s,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function Iz(t){var s=t.read_shift(1),r=t.read_shift(1);return[s,r]}function dwe(t){return t.read_shift(2),Iz(t)}function uwe(t){return t.read_shift(2),Iz(t)}function hwe(t,s,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=Lz(t,0,r);return[n,a]}function Awe(t,s,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=X1e(t,0,r);return[n,a]}function mwe(t,s,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=Lz(t,0,r);return[n,a,i]}function fwe(t,s,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(r&&r.biff<=3?1:2);return[fbe[a],Uz[a],n]}function xwe(t,s,r){var n=t[t.l++],a=t.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:pwe(t);return[a,(i[0]===0?Uz:mbe)[i[1]]]}function pwe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function gwe(t,s,r){t.l+=r&&r.biff==2?3:4}function vwe(t,s,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function jwe(t){return t.l++,pj[t.read_shift(1)]}function ywe(t){return t.l++,t.read_shift(2)}function wwe(t){return t.l++,t.read_shift(1)!==0}function bwe(t){return t.l++,B0(t)}function Nwe(t,s,r){return t.l++,xz(t,s-1,r)}function Cwe(t,s){var r=[t.read_shift(1)];if(s==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=mye(t,1)?"TRUE":"FALSE",s!=12&&(t.l+=7);break;case 37:case 16:r[1]=pj[t[t.l]],t.l+=s==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=B0(t);break;case 2:r[1]=gye(t,0,{biff:s>0&&s<8?2:s});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Bwe(t,s,r){for(var n=t.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Em:yye)(t));return a}function Swe(t,s,r){var n=0,a=0;r.biff==12?(n=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,l=[];i!=n&&(l[i]=[]);++i)for(var o=0;o!=a;++o)l[i][o]=Cwe(t,r.biff);return l}function kwe(t,s,r){var n=t.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=t.read_shift(a);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,i]}function _we(t,s,r){if(r.biff==5)return Ewe(t);var n=t.read_shift(1)>>>5&3,a=t.read_shift(2),i=t.read_shift(4);return[n,a,i]}function Ewe(t){var s=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[s,r,n]}function Fwe(t,s,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function Twe(t,s,r){var n=t.read_shift(1)>>>5&3,a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function Lwe(t,s,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function Iwe(t,s,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[n,a]}var Pwe=sd,Dwe=sd,Uwe=sd;function gj(t,s,r){return t.l+=2,[Y1e(t)]}function rE(t){return t.l+=6,[]}var Owe=gj,Rwe=rE,Mwe=rE,Qwe=gj;function Pz(t){return t.l+=2,[mz(t),t.read_shift(2)&1]}var Hwe=gj,Vwe=Pz,Kwe=rE,zwe=gj,qwe=gj,$we=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Gwe(t){t.l+=2;var s=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a=t.read_shift(2),i=t.read_shift(2),l=$we[r>>2&31];return{ixti:s,coltype:r&3,rt:l,idx:n,c:a,C:i}}function Wwe(t){return t.l+=2,[t.read_shift(4)]}function Ywe(t,s,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function Xwe(t,s,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Jwe(t){var s=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[s,r]}function Zwe(t){var s=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[s,r]}function ebe(t){return t.l+=4,[0,0]}var CI={1:{n:"PtgExp",f:vwe},2:{n:"PtgTbl",f:Uwe},3:{n:"PtgAdd",f:sa},4:{n:"PtgSub",f:sa},5:{n:"PtgMul",f:sa},6:{n:"PtgDiv",f:sa},7:{n:"PtgPower",f:sa},8:{n:"PtgConcat",f:sa},9:{n:"PtgLt",f:sa},10:{n:"PtgLe",f:sa},11:{n:"PtgEq",f:sa},12:{n:"PtgGe",f:sa},13:{n:"PtgGt",f:sa},14:{n:"PtgNe",f:sa},15:{n:"PtgIsect",f:sa},16:{n:"PtgUnion",f:sa},17:{n:"PtgRange",f:sa},18:{n:"PtgUplus",f:sa},19:{n:"PtgUminus",f:sa},20:{n:"PtgPercent",f:sa},21:{n:"PtgParen",f:sa},22:{n:"PtgMissArg",f:sa},23:{n:"PtgStr",f:Nwe},26:{n:"PtgSheet",f:Ywe},27:{n:"PtgEndSheet",f:Xwe},28:{n:"PtgErr",f:jwe},29:{n:"PtgBool",f:wwe},30:{n:"PtgInt",f:ywe},31:{n:"PtgNum",f:bwe},32:{n:"PtgArray",f:nwe},33:{n:"PtgFunc",f:fwe},34:{n:"PtgFuncVar",f:xwe},35:{n:"PtgName",f:kwe},36:{n:"PtgRef",f:hwe},37:{n:"PtgArea",f:Z1e},38:{n:"PtgMemArea",f:Fwe},39:{n:"PtgMemErr",f:Pwe},40:{n:"PtgMemNoMem",f:Dwe},41:{n:"PtgMemFunc",f:Twe},42:{n:"PtgRefErr",f:Lwe},43:{n:"PtgAreaErr",f:twe},44:{n:"PtgRefN",f:Awe},45:{n:"PtgAreaN",f:rwe},46:{n:"PtgMemAreaN",f:Jwe},47:{n:"PtgMemNoMemN",f:Zwe},57:{n:"PtgNameX",f:_we},58:{n:"PtgRef3d",f:mwe},59:{n:"PtgArea3d",f:ewe},60:{n:"PtgRefErr3d",f:Iwe},61:{n:"PtgAreaErr3d",f:swe},255:{}},tbe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},sbe={1:{n:"PtgElfLel",f:Pz},2:{n:"PtgElfRw",f:zwe},3:{n:"PtgElfCol",f:Owe},6:{n:"PtgElfRwV",f:qwe},7:{n:"PtgElfColV",f:Qwe},10:{n:"PtgElfRadical",f:Hwe},11:{n:"PtgElfRadicalS",f:Kwe},13:{n:"PtgElfColS",f:Rwe},15:{n:"PtgElfColSV",f:Mwe},16:{n:"PtgElfRadicalLel",f:Vwe},25:{n:"PtgList",f:Gwe},29:{n:"PtgSxName",f:Wwe},255:{}},rbe={0:{n:"PtgAttrNoop",f:ebe},1:{n:"PtgAttrSemi",f:cwe},2:{n:"PtgAttrIf",f:lwe},4:{n:"PtgAttrChoose",f:awe},8:{n:"PtgAttrGoto",f:iwe},16:{n:"PtgAttrSum",f:gwe},32:{n:"PtgAttrBaxcel",f:NI},33:{n:"PtgAttrBaxcel",f:NI},64:{n:"PtgAttrSpace",f:dwe},65:{n:"PtgAttrSpaceSemi",f:uwe},128:{n:"PtgAttrIfError",f:owe},255:{}};function nbe(t,s,r,n){if(n.biff<8)return sd(t,s);for(var a=t.l+s,i=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=Swe(t,0,n),i.push(r[l][1]);break;case"PtgMemArea":r[l][2]=Bwe(t,r[l][1],n),i.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=t.read_shift(4),i.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return s=a-t.l,s!==0&&i.push(sd(t,s)),i}function abe(t,s,r){for(var n=t.l+s,a,i,l=[];n!=t.l;)s=n-t.l,i=t[t.l],a=CI[i]||CI[tbe[i]],(i===24||i===25)&&(a=(i===24?sbe:rbe)[t[t.l+1]]),!a||!a.f?sd(t,s):l.push([a.n,a.f(t,s,r)]);return l}function ibe(t){for(var s=[],r=0;r<t.length;++r){for(var n=t[r],a=[],i=0;i<n.length;++i){var l=n[i];if(l)switch(l[0]){case 2:a.push('"'+l[1].replace(/"/g,'""')+'"');break;default:a.push(l[1])}else a.push("")}s.push(a.join(","))}return s.join(";")}var lbe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function obe(t,s){if(!t&&!(s&&s.biff<=5&&s.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function Dz(t,s,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[s]))return t.SheetNames[s];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[s];if(r.biff<8)return s>1e4&&(s-=65536),s<0&&(s=-s),s==0?"":t.XTI[s-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(t[n[0]][0]){case 357:return a=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[n[0]][0][3]?(a=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function BI(t,s,r){var n=Dz(t,s,r);return n=="#REF"?n:obe(n,r)}function t0(t,s,r,n,a){var i=a&&a.biff||8,l={s:{c:0,r:0}},o=[],c,d,u,h=0,A=0,m,p="";if(!t[0]||!t[0][0])return"";for(var f=-1,x="",g=0,v=t[0].length;g<v;++g){var j=t[0][g];switch(j[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),d=o.pop(),f>=0){switch(t[0][f][1][0]){case 0:x=Tn(" ",t[0][f][1][1]);break;case 1:x=Tn("\r",t[0][f][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][f][1][0])}d=d+x,f=-1}o.push(d+lbe[j[0]]+c);break;case"PtgIsect":c=o.pop(),d=o.pop(),o.push(d+" "+c);break;case"PtgUnion":c=o.pop(),d=o.pop(),o.push(d+","+c);break;case"PtgRange":c=o.pop(),d=o.pop(),o.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Cg(j[1][1],l,a),o.push(Bg(u,i));break;case"PtgRefN":u=r?Cg(j[1][1],r,a):j[1][1],o.push(Bg(u,i));break;case"PtgRef3d":h=j[1][1],u=Cg(j[1][2],l,a),p=BI(n,h,a),o.push(p+"!"+Bg(u,i));break;case"PtgFunc":case"PtgFuncVar":var B=j[1][0],F=j[1][1];B||(B=0),B&=127;var P=B==0?[]:o.slice(-B);o.length-=B,F==="User"&&(F=P.shift()),o.push(F+"("+P.join(",")+")");break;case"PtgBool":o.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(j[1]);break;case"PtgNum":o.push(String(j[1]));break;case"PtgStr":o.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(j[1]);break;case"PtgAreaN":m=dI(j[1][1],r?{s:r}:l,a),o.push(W5(m,a));break;case"PtgArea":m=dI(j[1][1],l,a),o.push(W5(m,a));break;case"PtgArea3d":h=j[1][1],m=j[1][2],p=BI(n,h,a),o.push(p+"!"+W5(m,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":A=j[1][2];var E=(n.names||[])[A-1]||(n[0]||[])[A],N=E?E.Name:"SH33TJSNAME"+String(A);N&&N.slice(0,6)=="_xlfn."&&!a.xlfn&&(N=N.slice(6)),o.push(N);break;case"PtgNameX":var C=j[1][1];A=j[1][2];var _;if(a.biff<=5)C<0&&(C=-C),n[C]&&(_=n[C][A]);else{var k="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][A]&&n[C][A].itab>0&&(k=n.SheetNames[n[C][A].itab-1]+"!"):k=n.SheetNames[A-1]+"!"),n[C]&&n[C][A])k+=n[C][A].Name;else if(n[0]&&n[0][A])k+=n[0][A].Name;else{var D=(Dz(n,C,a)||"").split(";;");D[A-1]?k=D[A-1]:k+="SH33TJSERRX"}o.push(k);break}_||(_={Name:"SH33TJSERRY"}),o.push(_.Name);break;case"PtgParen":var z="(",K=")";if(f>=0){switch(x="",t[0][f][1][0]){case 2:z=Tn(" ",t[0][f][1][1])+z;break;case 3:z=Tn("\r",t[0][f][1][1])+z;break;case 4:K=Tn(" ",t[0][f][1][1])+K;break;case 5:K=Tn("\r",t[0][f][1][1])+K;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][f][1][0])}f=-1}o.push(z+o.pop()+K);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:j[1][1],r:j[1][0]};var xe={c:r.c,r:r.r};if(n.sharedf[Pr(u)]){var W=n.sharedf[Pr(u)];o.push(t0(W,l,xe,n,a))}else{var re=!1;for(c=0;c!=n.arrayf.length;++c)if(d=n.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){o.push(t0(d[1],l,xe,n,a)),re=!0;break}re||o.push(j[1])}break;case"PtgArray":o.push("{"+ibe(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":f=g;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var I=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&f>=0&&I.indexOf(t[0][g][0])==-1){j=t[0][f];var ie=!0;switch(j[1][0]){case 4:ie=!1;case 0:x=Tn(" ",j[1][1]);break;case 5:ie=!1;case 1:x=Tn("\r",j[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}o.push((ie?x:"")+o.pop()+(ie?"":x)),f=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function cbe(t){if(t==null){var s=ot(8);return s.write_shift(1,3),s.write_shift(1,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,65535),s}else if(typeof t=="number")return mm(t);return mm(0)}function dbe(t,s,r,n,a){var i=fm(s,r,a),l=cbe(t.v),o=ot(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var d=ot(t.bf.length),u=0;u<t.bf.length;++u)d[u]=t.bf[u];var h=Ra([i,l,o,d]);return h}function wN(t,s,r){var n=t.read_shift(4),a=abe(t,n,r),i=t.read_shift(4),l=i>0?nbe(t,i,a,r):null;return[a,l]}var ube=wN,bN=wN,hbe=wN,Abe=wN,mbe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Uz={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},fbe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function xbe(t){var s="of:="+t.replace(tE,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return s.replace(/;/g,"|").replace(/,/g,";")}function pbe(t){return t.replace(/\./,"!")}var Sg=typeof Map<"u";function nE(t,s,r){var n=0,a=t.length;if(r){if(Sg?r.has(s):Object.prototype.hasOwnProperty.call(r,s)){for(var i=Sg?r.get(s):r[s];n<i.length;++n)if(t[i[n]].t===s)return t.Count++,i[n]}}else for(;n<a;++n)if(t[n].t===s)return t.Count++,n;return t[a]={t:s},t.Count++,t.Unique++,r&&(Sg?(r.has(s)||r.set(s,[]),r.get(s).push(a)):(Object.prototype.hasOwnProperty.call(r,s)||(r[s]=[]),r[s].push(a))),a}function NN(t,s){var r={min:t+1,max:t+1},n=-1;return s.MDW&&(Rd=s.MDW),s.width!=null?r.customWidth=1:s.wpx!=null?n=Gb(s.wpx):s.wch!=null&&(n=s.wch),n>-1?(r.width=HS(n),r.customWidth=1):s.width!=null&&(r.width=s.width),s.hidden&&(r.hidden=!0),s.level!=null&&(r.outlineLevel=r.level=s.level),r}function Oz(t,s){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function zh(t,s,r){var n=r.revssf[s.z!=null?s.z:"General"],a=60,i=t.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){LK(s.z,a),r.ssf[a]=s.z,r.revssf[s.z]=n=a;break}}for(a=0;a!=i;++a)if(t[a].numFmtId===n)return a;return t[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function gbe(t,s,r){if(t&&t["!ref"]){var n=hn(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function vbe(t){if(t.length===0)return"";for(var s='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)s+='<mergeCell ref="'+ia(t[r])+'"/>';return s+"</mergeCells>"}function jbe(t,s,r,n,a){var i=!1,l={},o=null;if(n.bookType!=="xlsx"&&s.vbaraw){var c=s.SheetNames[r];try{s.Workbook&&(c=s.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,l.codeName=kv(Lr(c))}if(t&&t["!outline"]){var d={summaryBelow:1,summaryRight:1};t["!outline"].above&&(d.summaryBelow=0),t["!outline"].left&&(d.summaryRight=0),o=(o||"")+Dt("outlinePr",null,d)}!i&&!o||(a[a.length]=Dt("sheetPr",o,l))}var ybe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],wbe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function bbe(t){var s={sheet:1};return ybe.forEach(function(r){t[r]!=null&&t[r]&&(s[r]="1")}),wbe.forEach(function(r){t[r]!=null&&!t[r]&&(s[r]="0")}),t.password&&(s.password=yz(t.password).toString(16).toUpperCase()),Dt("sheetProtection",null,s)}function Nbe(t){return Oz(t),Dt("pageMargins",null,t)}function Cbe(t,s){for(var r=["<cols>"],n,a=0;a!=s.length;++a)(n=s[a])&&(r[r.length]=Dt("col",null,NN(a,n)));return r[r.length]="</cols>",r.join("")}function Bbe(t,s,r,n){var a=typeof t.ref=="string"?t.ref:ia(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,l=Dl(a);l.s.r==l.e.r&&(l.e.r=Dl(s["!ref"]).e.r,a=ia(l));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Dt("autoFilter",null,{ref:a})}function Sbe(t,s,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Dt("sheetViews",Dt("sheetView",null,a),{})}function kbe(t,s,r,n){if(t.c&&r["!comments"].push([s,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var a="",i=t.t,l=t.v;if(t.t!=="z")switch(t.t){case"b":a=t.v?"1":"0";break;case"n":a=""+t.v;break;case"e":a=pj[t.v];break;case"d":n&&n.cellDates?a=Li(t.v,-1).toISOString():(t=ol(t),t.t="n",a=""+(t.v=ll(Li(t.v)))),typeof t.z>"u"&&(t.z=In[14]);break;default:a=t.v;break}var o=Ma("v",Lr(a)),c={r:s},d=zh(n.cellXfs,t,n);switch(d!==0&&(c.s=d),t.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Ma("v",""+nE(n.Strings,t.v,n.revStrings)),c.t="s";break}c.t="str";break}if(t.t!=i&&(t.t=i,t.v=l),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,s.length)==s?{t:"array",ref:t.F}:null;o=Dt("f",Lr(t.f),u)+(t.v!=null?o:"")}return t.l&&r["!links"].push([s,t.l]),t.D&&(c.cm=1),Dt("c",o,c)}function _be(t,s,r,n){var a=[],i=[],l=hn(t["!ref"]),o="",c,d="",u=[],h=0,A=0,m=t["!rows"],p=Array.isArray(t),f={r:d},x,g=-1;for(A=l.s.c;A<=l.e.c;++A)u[A]=fi(A);for(h=l.s.r;h<=l.e.r;++h){for(i=[],d=Va(h),A=l.s.c;A<=l.e.c;++A){c=u[A]+d;var v=p?(t[h]||[])[A]:t[c];v!==void 0&&(o=kbe(v,c,t,s))!=null&&i.push(o)}(i.length>0||m&&m[h])&&(f={r:d},m&&m[h]&&(x=m[h],x.hidden&&(f.hidden=1),g=-1,x.hpx?g=Wb(x.hpx):x.hpt&&(g=x.hpt),g>-1&&(f.ht=g,f.customHeight=1),x.level&&(f.outlineLevel=x.level)),a[a.length]=Dt("row",i.join(""),f))}if(m)for(;h<m.length;++h)m&&m[h]&&(f={r:h+1},x=m[h],x.hidden&&(f.hidden=1),g=-1,x.hpx?g=Wb(x.hpx):x.hpt&&(g=x.hpt),g>-1&&(f.ht=g,f.customHeight=1),x.level&&(f.outlineLevel=x.level),a[a.length]=Dt("row","",f));return a.join("")}function Rz(t,s,r,n){var a=[oa,Dt("worksheet",null,{xmlns:b0[0],"xmlns:r":Ba.r})],i=r.SheetNames[t],l=0,o="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=hn(d);if(u.e.c>16383||u.e.r>1048575){if(s.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=ia(u)}n||(n={}),c["!comments"]=[];var h=[];jbe(c,r,t,s,a),a[a.length]=Dt("dimension",null,{ref:d}),a[a.length]=Sbe(c,s,t,r),s.sheetFormat&&(a[a.length]=Dt("sheetFormatPr",null,{defaultRowHeight:s.sheetFormat.defaultRowHeight||"16",baseColWidth:s.sheetFormat.baseColWidth||"10",outlineLevelRow:s.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=Cbe(c,c["!cols"])),a[l=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=_be(c,s),o.length>0&&(a[a.length]=o)),a.length>l+1&&(a[a.length]="</sheetData>",a[l]=a[l].replace("/>",">")),c["!protect"]&&(a[a.length]=bbe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=Bbe(c["!autofilter"],c,r,t)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=vbe(c["!merges"]));var A=-1,m,p=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(f){f[1].Target&&(m={ref:f[0]},f[1].Target.charAt(0)!="#"&&(p=Fr(n,-1,Lr(f[1].Target).replace(/#.*$/,""),xr.HLINK),m["r:id"]="rId"+p),(A=f[1].Target.indexOf("#"))>-1&&(m.location=Lr(f[1].Target.slice(A+1))),f[1].Tooltip&&(m.tooltip=Lr(f[1].Tooltip)),a[a.length]=Dt("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=Nbe(c["!margins"])),(!s||s.ignoreEC||s.ignoreEC==null)&&(a[a.length]=Ma("ignoredErrors",Dt("ignoredError",null,{numberStoredAsText:1,sqref:d}))),h.length>0&&(p=Fr(n,-1,"../drawings/drawing"+(t+1)+".xml",xr.DRAW),a[a.length]=Dt("drawing",null,{"r:id":"rId"+p}),c["!drawing"]=h),c["!comments"].length>0&&(p=Fr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",xr.VML),a[a.length]=Dt("legacyDrawing",null,{"r:id":"rId"+p}),c["!legacy"]=p),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Ebe(t,s){var r={},n=t.l+s;r.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function Fbe(t,s,r){var n=ot(145),a=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var i=320;a.hpx?i=Wb(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var l=0;a.level&&(l|=a.level),a.hidden&&(l|=16),(a.hpx||a.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var d={r:t,c:0},u=0;u<16;++u)if(!(s.s.c>u+1<<10||s.e.c<u<<10)){for(var h=-1,A=-1,m=u<<10;m<u+1<<10;++m){d.c=m;var p=Array.isArray(r)?(r[d.r]||[])[d.c]:r[Pr(d)];p&&(h<0&&(h=m),A=m)}h<0||(++o,n.write_shift(4,h),n.write_shift(4,A))}var f=n.l;return n.l=c,n.write_shift(4,o),n.l=f,n.length>n.l?n.slice(0,n.l):n}function Tbe(t,s,r,n){var a=Fbe(n,r,s);(a.length>17||(s["!rows"]||[])[n])&&Nt(t,0,a)}var Lbe=Em,Ibe=C0;function Pbe(){}function Dbe(t,s){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=qje(t),r}function Ube(t,s,r){r==null&&(r=ot(84+4*t.length));var n=192;s&&(s.above&&(n&=-65),s.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return zb({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),ez(t,r),r.slice(0,r.l)}function Obe(t){var s=yo(t);return[s]}function Rbe(t,s,r){return r==null&&(r=ot(8)),Sm(s,r)}function Mbe(t){var s=km(t);return[s]}function Qbe(t,s,r){return r==null&&(r=ot(4)),_m(s,r)}function Hbe(t){var s=yo(t),r=t.read_shift(1);return[s,r,"b"]}function Vbe(t,s,r){return r==null&&(r=ot(9)),Sm(s,r),r.write_shift(1,t.v?1:0),r}function Kbe(t){var s=km(t),r=t.read_shift(1);return[s,r,"b"]}function zbe(t,s,r){return r==null&&(r=ot(5)),_m(s,r),r.write_shift(1,t.v?1:0),r}function qbe(t){var s=yo(t),r=t.read_shift(1);return[s,r,"e"]}function $be(t,s,r){return r==null&&(r=ot(9)),Sm(s,r),r.write_shift(1,t.v),r}function Gbe(t){var s=km(t),r=t.read_shift(1);return[s,r,"e"]}function Wbe(t,s,r){return r==null&&(r=ot(8)),_m(s,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function Ybe(t){var s=yo(t),r=t.read_shift(4);return[s,r,"s"]}function Xbe(t,s,r){return r==null&&(r=ot(12)),Sm(s,r),r.write_shift(4,s.v),r}function Jbe(t){var s=km(t),r=t.read_shift(4);return[s,r,"s"]}function Zbe(t,s,r){return r==null&&(r=ot(8)),_m(s,r),r.write_shift(4,s.v),r}function e2e(t){var s=yo(t),r=B0(t);return[s,r,"n"]}function t2e(t,s,r){return r==null&&(r=ot(16)),Sm(s,r),mm(t.v,r),r}function s2e(t){var s=km(t),r=B0(t);return[s,r,"n"]}function r2e(t,s,r){return r==null&&(r=ot(12)),_m(s,r),mm(t.v,r),r}function n2e(t){var s=yo(t),r=tz(t);return[s,r,"n"]}function a2e(t,s,r){return r==null&&(r=ot(12)),Sm(s,r),sz(t.v,r),r}function i2e(t){var s=km(t),r=tz(t);return[s,r,"n"]}function l2e(t,s,r){return r==null&&(r=ot(8)),_m(s,r),sz(t.v,r),r}function o2e(t){var s=yo(t),r=Y_(t);return[s,r,"is"]}function c2e(t){var s=yo(t),r=xi(t);return[s,r,"str"]}function d2e(t,s,r){return r==null&&(r=ot(12+4*t.v.length)),Sm(s,r),ka(t.v,r),r.length>r.l?r.slice(0,r.l):r}function u2e(t){var s=km(t),r=xi(t);return[s,r,"str"]}function h2e(t,s,r){return r==null&&(r=ot(8+4*t.v.length)),_m(s,r),ka(t.v,r),r.length>r.l?r.slice(0,r.l):r}function A2e(t,s,r){var n=t.l+s,a=yo(t);a.r=r["!row"];var i=t.read_shift(1),l=[a,i,"b"];if(r.cellFormula){t.l+=2;var o=bN(t,n-t.l,r);l[3]=t0(o,null,a,r.supbooks,r)}else t.l=n;return l}function m2e(t,s,r){var n=t.l+s,a=yo(t);a.r=r["!row"];var i=t.read_shift(1),l=[a,i,"e"];if(r.cellFormula){t.l+=2;var o=bN(t,n-t.l,r);l[3]=t0(o,null,a,r.supbooks,r)}else t.l=n;return l}function f2e(t,s,r){var n=t.l+s,a=yo(t);a.r=r["!row"];var i=B0(t),l=[a,i,"n"];if(r.cellFormula){t.l+=2;var o=bN(t,n-t.l,r);l[3]=t0(o,null,a,r.supbooks,r)}else t.l=n;return l}function x2e(t,s,r){var n=t.l+s,a=yo(t);a.r=r["!row"];var i=xi(t),l=[a,i,"str"];if(r.cellFormula){t.l+=2;var o=bN(t,n-t.l,r);l[3]=t0(o,null,a,r.supbooks,r)}else t.l=n;return l}var p2e=Em,g2e=C0;function v2e(t,s){return s==null&&(s=ot(4)),s.write_shift(4,t),s}function j2e(t,s){var r=t.l+s,n=Em(t),a=X_(t),i=xi(t),l=xi(t),o=xi(t);t.l=r;var c={rfx:n,relId:a,loc:i,display:o};return l&&(c.Tooltip=l),c}function y2e(t,s){var r=ot(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));C0({s:Sa(t[0]),e:Sa(t[0])},r),J_("rId"+s,r);var n=t[1].Target.indexOf("#"),a=n==-1?"":t[1].Target.slice(n+1);return ka(a||"",r),ka(t[1].Tooltip||"",r),ka("",r),r.slice(0,r.l)}function w2e(){}function b2e(t,s,r){var n=t.l+s,a=rz(t),i=t.read_shift(1),l=[a];if(l[2]=i,r.cellFormula){var o=ube(t,n-t.l,r);l[1]=o}else t.l=n;return l}function N2e(t,s,r){var n=t.l+s,a=Em(t),i=[a];if(r.cellFormula){var l=Abe(t,n-t.l,r);i[1]=l,t.l=n}else t.l=n;return i}function C2e(t,s,r){r==null&&(r=ot(18));var n=NN(t,s);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return s.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),s.level&&(a|=s.level<<8),r.write_shift(2,a),r}var Mz=["left","right","top","bottom","header","footer"];function B2e(t){var s={};return Mz.forEach(function(r){s[r]=B0(t)}),s}function S2e(t,s){return s==null&&(s=ot(6*8)),Oz(t),Mz.forEach(function(r){mm(t[r],s)}),s}function k2e(t){var s=t.read_shift(2);return t.l+=28,{RTL:s&32}}function _2e(t,s,r){r==null&&(r=ot(30));var n=924;return(((s||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function E2e(t){var s=ot(24);return s.write_shift(4,4),s.write_shift(4,1),C0(t,s),s}function F2e(t,s){return s==null&&(s=ot(16*4+2)),s.write_shift(2,t.password?yz(t.password):0),s.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?s.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):s.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),s}function T2e(){}function L2e(){}function I2e(t,s,r,n,a,i,l){if(s.v===void 0)return!1;var o="";switch(s.t){case"b":o=s.v?"1":"0";break;case"d":s=ol(s),s.z=s.z||In[14],s.v=ll(Li(s.v)),s.t="n";break;case"n":case"e":o=""+s.v;break;default:o=s.v;break}var c={r,c:n};switch(c.s=zh(a.cellXfs,s,a),s.l&&i["!links"].push([Pr(c),s.l]),s.c&&i["!comments"].push([Pr(c),s.c]),s.t){case"s":case"str":return a.bookSST?(o=nE(a.Strings,s.v,a.revStrings),c.t="s",c.v=o,l?Nt(t,18,Zbe(s,c)):Nt(t,7,Xbe(s,c))):(c.t="str",l?Nt(t,17,h2e(s,c)):Nt(t,6,d2e(s,c))),!0;case"n":return s.v==(s.v|0)&&s.v>-1e3&&s.v<1e3?l?Nt(t,13,l2e(s,c)):Nt(t,2,a2e(s,c)):l?Nt(t,16,r2e(s,c)):Nt(t,5,t2e(s,c)),!0;case"b":return c.t="b",l?Nt(t,15,zbe(s,c)):Nt(t,4,Vbe(s,c)),!0;case"e":return c.t="e",l?Nt(t,14,Wbe(s,c)):Nt(t,3,$be(s,c)),!0}return l?Nt(t,12,Qbe(s,c)):Nt(t,1,Rbe(s,c)),!0}function P2e(t,s,r,n){var a=hn(s["!ref"]||"A1"),i,l="",o=[];Nt(t,145);var c=Array.isArray(s),d=a.e.r;s["!rows"]&&(d=Math.max(a.e.r,s["!rows"].length-1));for(var u=a.s.r;u<=d;++u){l=Va(u),Tbe(t,s,a,u);var h=!1;if(u<=a.e.r)for(var A=a.s.c;A<=a.e.c;++A){u===a.s.r&&(o[A]=fi(A)),i=o[A]+l;var m=c?(s[u]||[])[A]:s[i];if(!m){h=!1;continue}h=I2e(t,m,u,A,n,s,h)}}Nt(t,146)}function D2e(t,s){!s||!s["!merges"]||(Nt(t,177,v2e(s["!merges"].length)),s["!merges"].forEach(function(r){Nt(t,176,g2e(r))}),Nt(t,178))}function U2e(t,s){!s||!s["!cols"]||(Nt(t,390),s["!cols"].forEach(function(r,n){r&&Nt(t,60,C2e(n,r))}),Nt(t,391))}function O2e(t,s){!s||!s["!ref"]||(Nt(t,648),Nt(t,649,E2e(hn(s["!ref"]))),Nt(t,650))}function R2e(t,s,r){s["!links"].forEach(function(n){if(n[1].Target){var a=Fr(r,-1,n[1].Target.replace(/#.*$/,""),xr.HLINK);Nt(t,494,y2e(n,a))}}),delete s["!links"]}function M2e(t,s,r,n){if(s["!comments"].length>0){var a=Fr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",xr.VML);Nt(t,551,J_("rId"+a)),s["!legacy"]=a}}function Q2e(t,s,r,n){if(s["!autofilter"]){var a=s["!autofilter"],i=typeof a.ref=="string"?a.ref:ia(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,o=Dl(i);o.s.r==o.e.r&&(o.e.r=Dl(s["!ref"]).e.r,i=ia(o));for(var c=0;c<l.length;++c){var d=l[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Nt(t,161,C0(hn(i))),Nt(t,162)}}function H2e(t,s,r){Nt(t,133),Nt(t,137,_2e(s,r)),Nt(t,138),Nt(t,134)}function V2e(t,s){s["!protect"]&&Nt(t,535,F2e(s["!protect"]))}function K2e(t,s,r,n){var a=nl(),i=r.SheetNames[t],l=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var c=hn(l["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(s.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Nt(a,129),(r.vbaraw||l["!outline"])&&Nt(a,147,Ube(o,l["!outline"])),Nt(a,148,Ibe(c)),H2e(a,l,r.Workbook),U2e(a,l),P2e(a,l,t,s),V2e(a,l),Q2e(a,l,r,t),D2e(a,l),R2e(a,l,n),l["!margins"]&&Nt(a,476,S2e(l["!margins"])),(!s||s.ignoreEC||s.ignoreEC==null)&&O2e(a,l),M2e(a,l,t,n),Nt(a,130),a.end()}function z2e(t,s){t.l+=10;var r=xi(t);return{name:r}}var q2e=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function $2e(t){return!t.Workbook||!t.Workbook.WBProps?"false":Nje(t.Workbook.WBProps.date1904)?"true":"false"}var G2e="][*?/\\".split("");function Qz(t,s){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return G2e.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function W2e(t,s,r){t.forEach(function(n,a){Qz(n);for(var i=0;i<a;++i)if(n==t[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var l=s&&s[a]&&s[a].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function Y2e(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var s=t.Workbook&&t.Workbook.Sheets||[];W2e(t.SheetNames,s,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)gbe(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function Hz(t){var s=[oa];s[s.length]=Dt("workbook",null,{xmlns:b0[0],"xmlns:r":Ba.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(q2e.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),s[s.length]=Dt("workbookPr",null,n);var a=t.Workbook&&t.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(s[s.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==t.SheetNames.length&&(i=0),s[s.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',s[s.length]="</bookViews>"}for(s[s.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var l={name:Lr(t.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}s[s.length]=Dt("sheet",null,l)}return s[s.length]="</sheets>",r&&(s[s.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(s[s.length]=Dt("definedName",Lr(o.Ref),c))}),s[s.length]="</definedNames>"),s.length>2&&(s[s.length]="</workbook>",s[1]=s[1].replace("/>",">")),s.join("")}function X2e(t,s){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=QS(t),r.name=xi(t),r}function J2e(t,s){return s||(s=ot(127)),s.write_shift(4,t.Hidden),s.write_shift(4,t.iTabID),J_(t.strRelID,s),ka(t.name.slice(0,31),s),s.length>s.l?s.slice(0,s.l):s}function Z2e(t,s){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var a=s>8?xi(t):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function eNe(t,s){s||(s=ot(72));var r=0;return t&&t.filterPrivacy&&(r|=8),s.write_shift(4,r),s.write_shift(4,0),ez(t&&t.CodeName||"ThisWorkbook",s),s.slice(0,s.l)}function tNe(t,s,r){var n=t.l+s;t.l+=4,t.l+=1;var a=t.read_shift(4),i=$je(t),l=hbe(t,0,r),o=X_(t);t.l=n;var c={Name:i,Ptg:l};return a<268435455&&(c.Sheet=a),o&&(c.Comment=o),c}function sNe(t,s){Nt(t,143);for(var r=0;r!=s.SheetNames.length;++r){var n=s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[r]&&s.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:s.SheetNames[r]};Nt(t,156,J2e(a))}Nt(t,144)}function rNe(t,s){s||(s=ot(127));for(var r=0;r!=4;++r)s.write_shift(4,0);return ka("SheetJS",s),ka(Ob.version,s),ka(Ob.version,s),ka("7262",s),s.length>s.l?s.slice(0,s.l):s}function nNe(t,s){s||(s=ot(29)),s.write_shift(-4,0),s.write_shift(-4,460),s.write_shift(4,28800),s.write_shift(4,17600),s.write_shift(4,500),s.write_shift(4,t),s.write_shift(4,t);var r=120;return s.write_shift(1,r),s.length>s.l?s.slice(0,s.l):s}function aNe(t,s){if(!(!s.Workbook||!s.Workbook.Sheets)){for(var r=s.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(Nt(t,135),Nt(t,158,nNe(a)),Nt(t,136))}}function iNe(t,s){var r=nl();return Nt(r,131),Nt(r,128,rNe()),Nt(r,153,eNe(t.Workbook&&t.Workbook.WBProps||null)),aNe(r,t),sNe(r,t),Nt(r,132),r.end()}function lNe(t,s,r){return(s.slice(-4)===".bin"?iNe:Hz)(t)}function oNe(t,s,r,n,a){return(s.slice(-4)===".bin"?K2e:Rz)(t,r,n,a)}function cNe(t,s,r){return(s.slice(-4)===".bin"?S1e:Nz)(t,r)}function dNe(t,s,r){return(s.slice(-4)===".bin"?e1e:jz)(t,r)}function uNe(t,s,r){return(s.slice(-4)===".bin"?V1e:_z)(t)}function hNe(t){return(t.slice(-4)===".bin"?P1e:Sz)()}function ANe(t,s){var r=[];return t.Props&&r.push(cye(t.Props,s)),t.Custprops&&r.push(dye(t.Props,t.Custprops)),r.join("")}function mNe(){return""}function fNe(t,s){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return s.cellXfs.forEach(function(n,a){var i=[];i.push(Dt("NumberFormat",null,{"ss:Format":Lr(In[n.numFmtId])}));var l={"ss:ID":"s"+(21+a)};r.push(Dt("Style",i.join(""),l))}),Dt("Styles",r.join(""))}function Vz(t){return Dt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+sE(t.Ref,{r:0,c:0})})}function xNe(t){if(!((t||{}).Workbook||{}).Names)return"";for(var s=t.Workbook.Names,r=[],n=0;n<s.length;++n){var a=s[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(Vz(a)))}return Dt("Names",r.join(""))}function pNe(t,s,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],l=0;l<a.length;++l){var o=a[l];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(Vz(o)))}return i.join("")}function gNe(t,s,r,n){if(!t)return"";var a=[];if(t["!margins"]&&(a.push("<PageSetup>"),t["!margins"].header&&a.push(Dt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&a.push(Dt("Footer",null,{"x:Margin":t["!margins"].footer})),a.push(Dt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Dt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),t["!protect"]&&(a.push(Ma("ProtectContents","True")),t["!protect"].objects&&a.push(Ma("ProtectObjects","True")),t["!protect"].scenarios&&a.push(Ma("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?a.push(Ma("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&a.push(Ma("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){t["!protect"][l[0]]&&a.push("<"+l[1]+"/>")})),a.length==0?"":Dt("WorksheetOptions",a.join(""),{xmlns:Cl.x})}function vNe(t){return t.map(function(s){var r=bje(s.t||""),n=Dt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Dt("Comment",n,{"ss:Author":s.a})}).join("")}function jNe(t,s,r,n,a,i,l){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Lr(sE(t.f,l))),t.F&&t.F.slice(0,s.length)==s){var c=Sa(t.F.slice(s.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==l.r?"":"["+(c.r-l.r)+"]")+"C"+(c.c==l.c?"":"["+(c.c-l.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Lr(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Lr(t.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=l.c||d[u].s.r!=l.r||(d[u].e.c>d[u].s.c&&(o["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(o["ss:MergeDown"]=d[u].e.r-d[u].s.r));var h="",A="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",A=String(t.v);break;case"b":h="Boolean",A=t.v?"1":"0";break;case"e":h="Error",A=pj[t.v];break;case"d":h="DateTime",A=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||In[14]);break;case"s":h="String",A=wje(t.v||"");break}var m=zh(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=l.c+1;var p=t.v!=null?A:"",f=t.t=="z"?"":'<Data ss:Type="'+h+'">'+p+"</Data>";return(t.c||[]).length>0&&(f+=vNe(t.c)),Dt("Cell",f,o)}function yNe(t,s){var r='<Row ss:Index="'+(t+1)+'"';return s&&(s.hpt&&!s.hpx&&(s.hpx=bz(s.hpt)),s.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+s.hpx+'"'),s.hidden&&(r+=' ss:Hidden="1"')),r+">"}function wNe(t,s,r,n){if(!t["!ref"])return"";var a=hn(t["!ref"]),i=t["!merges"]||[],l=0,o=[];t["!cols"]&&t["!cols"].forEach(function(x,g){eE(x);var v=!!x.width,j=NN(g,x),B={"ss:Index":g+1};v&&(B["ss:Width"]=$b(j.width)),x.hidden&&(B["ss:Hidden"]="1"),o.push(Dt("Column",null,B))});for(var c=Array.isArray(t),d=a.s.r;d<=a.e.r;++d){for(var u=[yNe(d,(t["!rows"]||[])[d])],h=a.s.c;h<=a.e.c;++h){var A=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>h)&&!(i[l].s.r>d)&&!(i[l].e.c<h)&&!(i[l].e.r<d)){(i[l].s.c!=h||i[l].s.r!=d)&&(A=!0);break}if(!A){var m={r:d,c:h},p=Pr(m),f=c?(t[d]||[])[h]:t[p];u.push(jNe(f,p,t,s,r,n,m))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function bNe(t,s,r){var n=[],a=r.SheetNames[t],i=r.Sheets[a],l=i?pNe(i,s,t,r):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=i?wNe(i,s,t,r):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(gNe(i,s,t,r)),n.join("")}function NNe(t,s){s||(s={}),t.SSF||(t.SSF=ol(In)),t.SSF&&(vN(),gN(t.SSF),s.revssf=jN(t.SSF),s.revssf[t.SSF[65535]]=0,s.ssf=t.SSF,s.cellXfs=[],zh(s.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(ANe(t,s)),r.push(mNe()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Dt("Worksheet",bNe(n,s,t),{"ss:Name":Lr(t.SheetNames[n])}));return r[2]=fNe(t,s),r[3]=xNe(t),oa+Dt("Workbook",r.join(""),{xmlns:Cl.ss,"xmlns:o":Cl.o,"xmlns:x":Cl.x,"xmlns:ss":Cl.ss,"xmlns:dt":Cl.dt,"xmlns:html":Cl.html})}var J5={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function CNe(t,s){var r=[],n=[],a=[],i=0,l,o=ZL(hI,"n"),c=ZL(AI,"n");if(t.Props)for(l=$a(t.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(o,l[i])?r:Object.prototype.hasOwnProperty.call(c,l[i])?n:a).push([l[i],t.Props[l[i]]]);if(t.Custprops)for(l=$a(t.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(o,l[i])?r:Object.prototype.hasOwnProperty.call(c,l[i])?n:a).push([l[i],t.Custprops[l[i]]]);var d=[];for(i=0;i<a.length;++i)Az.indexOf(a[i][0])>-1||dz.indexOf(a[i][0])>-1||a[i][1]!=null&&d.push(a[i]);n.length&&Rr.utils.cfb_add(s,"/SummaryInformation",gI(n,J5.SI,c,AI)),(r.length||d.length)&&Rr.utils.cfb_add(s,"/DocumentSummaryInformation",gI(r,J5.DSI,o,hI,d.length?d:null,J5.UDI))}function BNe(t,s){var r=s||{},n=Rr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Rr.utils.cfb_add(n,a,Kz(t,r)),r.biff==8&&(t.Props||t.Custprops)&&CNe(t,n),r.biff==8&&t.vbaraw&&K1e(n,Rr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var SNe={0:{f:Ebe},1:{f:Obe},2:{f:n2e},3:{f:qbe},4:{f:Hbe},5:{f:e2e},6:{f:c2e},7:{f:Ybe},8:{f:x2e},9:{f:f2e},10:{f:A2e},11:{f:m2e},12:{f:Mbe},13:{f:i2e},14:{f:Gbe},15:{f:Kbe},16:{f:s2e},17:{f:u2e},18:{f:Jbe},19:{f:Y_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:tNe},40:{},42:{},43:{f:c1e},44:{f:l1e},45:{f:h1e},46:{f:m1e},47:{f:A1e},48:{},49:{f:Mje},50:{},51:{f:E1e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Qye},62:{f:o2e},63:{f:D1e},64:{f:T2e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:sd,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:k2e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Dbe},148:{f:Lbe,p:16},151:{f:w2e},152:{},153:{f:Z2e},154:{},155:{},156:{f:X2e},157:{},158:{},159:{T:1,f:Xye},160:{T:-1},161:{T:1,f:Em},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:p2e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:k1e},336:{T:-1},337:{f:L1e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:QS},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Pye},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:b2e},427:{f:N2e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:B2e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Pbe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:j2e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:QS},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Q1e},633:{T:1},634:{T:-1},635:{T:1,f:R1e},636:{T:-1},637:{f:Kje},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:z2e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:L2e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ut(t,s,r,n){var a=s;if(!isNaN(a)){var i=n||(r||[]).length||0,l=t.next(4);l.write_shift(2,a),l.write_shift(2,i),i>0&&$_(r)&&t.push(r)}}function kNe(t,s,r,n){var a=(r||[]).length||0;if(a<=8224)return Ut(t,s,r,a);var i=s;if(!isNaN(i)){for(var l=r.parts||[],o=0,c=0,d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,i),u.write_shift(2,d),t.push(r.slice(c,c+d)),c+=d;c<a;){for(u=t.next(4),u.write_shift(2,60),d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;u.write_shift(2,d),t.push(r.slice(c,c+d)),c+=d}}}function vj(t,s,r){return t||(t=ot(7)),t.write_shift(2,s),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function _Ne(t,s,r,n){var a=ot(9);return vj(a,t,s),fz(r,n||"b",a),a}function ENe(t,s,r){var n=ot(8+2*r.length);return vj(n,t,s),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function FNe(t,s,r,n){if(s.v!=null)switch(s.t){case"d":case"n":var a=s.t=="d"?ll(Li(s.v)):s.v;a==(a|0)&&a>=0&&a<65536?Ut(t,2,zye(r,n,a)):Ut(t,3,Kye(r,n,a));return;case"b":case"e":Ut(t,5,_Ne(r,n,s.v,s.t));return;case"s":case"str":Ut(t,4,ENe(r,n,(s.v||"").slice(0,255)));return}Ut(t,1,vj(null,r,n))}function TNe(t,s,r,n){var a=Array.isArray(s),i=hn(s["!ref"]||"A1"),l,o="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=ia(i)}for(var d=i.s.r;d<=i.e.r;++d){o=Va(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=fi(u)),l=c[u]+o;var h=a?(s[d]||[])[u]:s[l];h&&FNe(t,h,d,u)}}}function LNe(t,s){for(var r=s||{},n=nl(),a=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ut(n,r.biff==4?1033:r.biff==3?521:9,Z_(t,16,r)),TNe(n,t.Sheets[t.SheetNames[a]],a,r),Ut(n,10),n.end()}function INe(t,s,r){Ut(t,49,Sye({sz:12,name:"Arial"},r))}function PNe(t,s,r){s&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)s[a]!=null&&Ut(t,1054,Eye(a,s[a],r))})}function DNe(t,s){var r=ot(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ut(t,2151,r),r=ot(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),gz(hn(s["!ref"]||"A1"),r),r.write_shift(4,4),Ut(t,2152,r)}function UNe(t,s){for(var r=0;r<16;++r)Ut(t,224,jI({numFmtId:0,style:!0},0,s));s.cellXfs.forEach(function(n){Ut(t,224,jI(n,0,s))})}function ONe(t,s){for(var r=0;r<s["!links"].length;++r){var n=s["!links"][r];Ut(t,440,Oye(n)),n[1].Tooltip&&Ut(t,2048,Rye(n))}delete s["!links"]}function RNe(t,s){if(s){var r=0;s.forEach(function(n,a){++r<=256&&n&&Ut(t,125,Hye(NN(a,n),a))})}}function MNe(t,s,r,n,a){var i=16+zh(a.cellXfs,s,a);if(s.v==null&&!s.bf){Ut(t,513,fm(r,n,i));return}if(s.bf)Ut(t,6,dbe(s,r,n,a,i));else switch(s.t){case"d":case"n":var l=s.t=="d"?ll(Li(s.v)):s.v;Ut(t,515,Iye(r,n,l,i));break;case"b":case"e":Ut(t,517,Lye(r,n,s.v,i,a,s.t));break;case"s":case"str":if(a.bookSST){var o=nE(a.Strings,s.v,a.revStrings);Ut(t,253,kye(r,n,o,i))}else Ut(t,516,_ye(r,n,(s.v||"").slice(0,255),i,a));break;default:Ut(t,513,fm(r,n,i))}}function QNe(t,s,r){var n=nl(),a=r.SheetNames[t],i=r.Sheets[a]||{},l=(r||{}).Workbook||{},o=(l.Sheets||[])[t]||{},c=Array.isArray(i),d=s.biff==8,u,h="",A=[],m=hn(i["!ref"]||"A1"),p=d?65536:16384;if(m.e.c>255||m.e.r>=p){if(s.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,p-1)}Ut(n,2057,Z_(r,16,s)),Ut(n,13,to(1)),Ut(n,12,to(100)),Ut(n,15,Ei(!0)),Ut(n,17,Ei(!1)),Ut(n,16,mm(.001)),Ut(n,95,Ei(!0)),Ut(n,42,Ei(!1)),Ut(n,43,Ei(!1)),Ut(n,130,to(1)),Ut(n,128,Tye()),Ut(n,131,Ei(!1)),Ut(n,132,Ei(!1)),d&&RNe(n,i["!cols"]),Ut(n,512,Fye(m,s)),d&&(i["!links"]=[]);for(var f=m.s.r;f<=m.e.r;++f){h=Va(f);for(var x=m.s.c;x<=m.e.c;++x){f===m.s.r&&(A[x]=fi(x)),u=A[x]+h;var g=c?(i[f]||[])[x]:i[u];g&&(MNe(n,g,f,x,s),d&&g.l&&i["!links"].push([u,g.l]))}}var v=o.CodeName||o.name||a;return d&&Ut(n,574,Bye((l.Views||[])[0])),d&&(i["!merges"]||[]).length&&Ut(n,229,Uye(i["!merges"])),d&&ONe(n,i),Ut(n,442,pz(v)),d&&DNe(n,i),Ut(n,10),n.end()}function HNe(t,s,r){var n=nl(),a=(t||{}).Workbook||{},i=a.Sheets||[],l=a.WBProps||{},o=r.biff==8,c=r.biff==5;if(Ut(n,2057,Z_(t,5,r)),r.bookType=="xla"&&Ut(n,135),Ut(n,225,o?to(1200):null),Ut(n,193,Aye(2)),c&&Ut(n,191),c&&Ut(n,192),Ut(n,226),Ut(n,92,wye("SheetJS",r)),Ut(n,66,to(o?1200:1252)),o&&Ut(n,353,to(0)),o&&Ut(n,448),Ut(n,317,Vye(t.SheetNames.length)),o&&t.vbaraw&&Ut(n,211),o&&t.vbaraw){var d=l.CodeName||"ThisWorkbook";Ut(n,442,pz(d))}Ut(n,156,to(17)),Ut(n,25,Ei(!1)),Ut(n,18,Ei(!1)),Ut(n,19,to(0)),o&&Ut(n,431,Ei(!1)),o&&Ut(n,444,to(0)),Ut(n,61,Cye()),Ut(n,64,Ei(!1)),Ut(n,141,to(0)),Ut(n,34,Ei($2e(t)=="true")),Ut(n,14,Ei(!0)),o&&Ut(n,439,Ei(!1)),Ut(n,218,to(0)),INe(n,t,r),PNe(n,t.SSF,r),UNe(n,r),o&&Ut(n,352,Ei(!1));var u=n.end(),h=nl();o&&Ut(h,140,Mye()),o&&r.Strings&&kNe(h,252,Nye(r.Strings)),Ut(h,10);var A=h.end(),m=nl(),p=0,f=0;for(f=0;f<t.SheetNames.length;++f)p+=(o?12:11)+(o?2:1)*t.SheetNames[f].length;var x=u.length+p+A.length;for(f=0;f<t.SheetNames.length;++f){var g=i[f]||{};Ut(m,133,bye({pos:x,hs:g.Hidden||0,dt:0,name:t.SheetNames[f]},r)),x+=s[f].length}var v=m.end();if(p!=v.length)throw new Error("BS8 "+p+" != "+v.length);var j=[];return u.length&&j.push(u),v.length&&j.push(v),A.length&&j.push(A),Ra(j)}function VNe(t,s){var r=s||{},n=[];t&&!t.SSF&&(t.SSF=ol(In)),t&&t.SSF&&(vN(),gN(t.SSF),r.revssf=jN(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,aE(r),r.cellXfs=[],zh(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var a=0;a<t.SheetNames.length;++a)n[n.length]=QNe(a,r,t);return n.unshift(HNe(t,n,r)),Ra(n)}function Kz(t,s){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Dl(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=s||{};switch(i.biff||2){case 8:case 5:return VNe(t,s);case 4:case 3:case 2:return LNe(t,s)}throw new Error("invalid type "+i.bookType+" for BIFF")}function KNe(t,s,r,n){for(var a=t["!merges"]||[],i=[],l=s.s.c;l<=s.e.c;++l){for(var o=0,c=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>l)&&!(a[d].e.r<r||a[d].e.c<l)){if(a[d].s.r<r||a[d].s.c<l){o=-1;break}o=a[d].e.r-a[d].s.r+1,c=a[d].e.c-a[d].s.c+1;break}if(!(o<0)){var u=Pr({r,c:l}),h=n.dense?(t[r]||[])[l]:t[u],A=h&&h.v!=null&&(h.h||yje(h.w||(tu(h),h.w)||""))||"",m={};o>1&&(m.rowspan=o),c>1&&(m.colspan=c),n.editable?A='<span contenteditable="true">'+A+"</span>":h&&(m["data-t"]=h&&h.t||"z",h.v!=null&&(m["data-v"]=h.v),h.z!=null&&(m["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(A='<a href="'+h.l.Target+'">'+A+"</a>")),m.id=(n.id||"sjs")+"-"+u,i.push(Dt("td",A,m))}}var p="<tr>";return p+i.join("")+"</tr>"}var zNe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',qNe="</body></html>";function $Ne(t,s,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function zz(t,s){var r=s||{},n=r.header!=null?r.header:zNe,a=r.footer!=null?r.footer:qNe,i=[n],l=Dl(t["!ref"]);r.dense=Array.isArray(t),i.push($Ne(t,l,r));for(var o=l.s.r;o<=l.e.r;++o)i.push(KNe(t,l,o,r));return i.push("</table>"+a),i.join("")}function qz(t,s,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Sa(n.origin):n.origin;a=l.r,i=l.c}var o=s.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),d={s:{r:0,c:0},e:{r:a,c:i}};if(t["!ref"]){var u=Dl(t["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),a==-1&&(d.e.r=a=u.e.r+1)}var h=[],A=0,m=t["!rows"]||(t["!rows"]=[]),p=0,f=0,x=0,g=0,v=0,j=0;for(t["!cols"]||(t["!cols"]=[]);p<o.length&&f<c;++p){var B=o[p];if(SI(B)){if(n.display)continue;m[f]={hidden:!0}}var F=B.children;for(x=g=0;x<F.length;++x){var P=F[x];if(!(n.display&&SI(P))){var E=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):Cje(P.innerHTML),N=P.getAttribute("data-z")||P.getAttribute("z");for(A=0;A<h.length;++A){var C=h[A];C.s.c==g+i&&C.s.r<f+a&&f+a<=C.e.r&&(g=C.e.c+1-i,A=-1)}j=+P.getAttribute("colspan")||1,((v=+P.getAttribute("rowspan")||1)>1||j>1)&&h.push({s:{r:f+a,c:g+i},e:{r:f+a+(v||1)-1,c:g+i+(j||1)-1}});var _={t:"s",v:E},k=P.getAttribute("data-t")||P.getAttribute("t")||"";E!=null&&(E.length==0?_.t=k||"z":n.raw||E.trim().length==0||k=="s"||(E==="TRUE"?_={t:"b",v:!0}:E==="FALSE"?_={t:"b",v:!1}:isNaN(Od(E))?isNaN(Sv(E).getDate())||(_={t:"d",v:Li(E)},n.cellDates||(_={t:"n",v:ll(_.v)}),_.z=n.dateNF||In[14]):_={t:"n",v:Od(E)})),_.z===void 0&&N!=null&&(_.z=N);var D="",z=P.getElementsByTagName("A");if(z&&z.length)for(var K=0;K<z.length&&!(z[K].hasAttribute("href")&&(D=z[K].getAttribute("href"),D.charAt(0)!="#"));++K);D&&D.charAt(0)!="#"&&(_.l={Target:D}),n.dense?(t[f+a]||(t[f+a]=[]),t[f+a][g+i]=_):t[Pr({c:g+i,r:f+a})]=_,d.e.c<g+i&&(d.e.c=g+i),g+=j}}++f}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),d.e.r=Math.max(d.e.r,f-1+a),t["!ref"]=ia(d),f>=c&&(t["!fullref"]=ia((d.e.r=o.length-p+f-1+a,d))),t}function $z(t,s){var r=s||{},n=r.dense?[]:{};return qz(n,t,s)}function GNe(t,s){return Bm($z(t,s),s)}function SI(t){var s="",r=WNe(t);return r&&(s=r(t).getPropertyValue("display")),s||(s=t.style&&t.style.display),s==="none"}function WNe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var YNe=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),s="<office:document-styles "+_v({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return oa+s}}(),kI=function(){var t=function(i){return Lr(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},s=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,l,o){var c=[];c.push('      <table:table table:name="'+Lr(l.SheetNames[o])+`" table:style-name="ta1">
`);var d=0,u=0,h=Dl(i["!ref"]||"A1"),A=i["!merges"]||[],m=0,p=Array.isArray(i);if(i["!cols"])for(u=0;u<=h.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var f="",x=i["!rows"]||[];for(d=0;d<h.s.r;++d)f=x[d]?' table:style-name="ro'+x[d].ods+'"':"",c.push("        <table:table-row"+f+`></table:table-row>
`);for(;d<=h.e.r;++d){for(f=x[d]?' table:style-name="ro'+x[d].ods+'"':"",c.push("        <table:table-row"+f+`>
`),u=0;u<h.s.c;++u)c.push(s);for(;u<=h.e.c;++u){var g=!1,v={},j="";for(m=0;m!=A.length;++m)if(!(A[m].s.c>u)&&!(A[m].s.r>d)&&!(A[m].e.c<u)&&!(A[m].e.r<d)){(A[m].s.c!=u||A[m].s.r!=d)&&(g=!0),v["table:number-columns-spanned"]=A[m].e.c-A[m].s.c+1,v["table:number-rows-spanned"]=A[m].e.r-A[m].s.r+1;break}if(g){c.push(r);continue}var B=Pr({r:d,c:u}),F=p?(i[d]||[])[u]:i[B];if(F&&F.f&&(v["table:formula"]=Lr(xbe(F.f)),F.F&&F.F.slice(0,B.length)==B)){var P=Dl(F.F);v["table:number-matrix-columns-spanned"]=P.e.c-P.s.c+1,v["table:number-matrix-rows-spanned"]=P.e.r-P.s.r+1}if(!F){c.push(s);continue}switch(F.t){case"b":j=F.v?"TRUE":"FALSE",v["office:value-type"]="boolean",v["office:boolean-value"]=F.v?"true":"false";break;case"n":j=F.w||String(F.v||0),v["office:value-type"]="float",v["office:value"]=F.v||0;break;case"s":case"str":j=F.v==null?"":F.v,v["office:value-type"]="string";break;case"d":j=F.w||Li(F.v).toISOString(),v["office:value-type"]="date",v["office:date-value"]=Li(F.v).toISOString(),v["table:style-name"]="ce1";break;default:c.push(s);continue}var E=t(j);if(F.l&&F.l.Target){var N=F.l.Target;N=N.charAt(0)=="#"?"#"+pbe(N.slice(1)):N,N.charAt(0)!="#"&&!N.match(/^\w+:/)&&(N="../"+N),E=Dt("text:a",E,{"xlink:href":N.replace(/&/g,"&amp;")})}c.push("          "+Dt("table:table-cell",Dt("text:p",E,{}),v)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var h=d["!cols"][u];if(h.width==null&&h.wpx==null&&h.wch==null)continue;eE(h),h.ods=o;var A=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+A+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var h=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,o){var c=[oa],d=_v({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=_v({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(oz().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),a(c,l),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=l.SheetNames.length;++h)c.push(n(l.Sheets[l.SheetNames[h]],l,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function Gz(t,s){if(s.bookType=="fods")return kI(t,s);var r=V_(),n="",a=[],i=[];return n="mimetype",Rs(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Rs(r,n,kI(t,s)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Rs(r,n,YNe(t,s)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Rs(r,n,oa+oz()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Rs(r,n,oye(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Rs(r,n,iye(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Yb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function XNe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Yo(kv(t))}function JNe(t,s){e:for(var r=0;r<=t.length-s.length;++r){for(var n=0;n<s.length;++n)if(t[r+n]!=s[n])continue e;return!0}return!1}function Ph(t){var s=t.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(s),n=0;return t.forEach(function(a){r.set(a,n),n+=a.length}),r}function ZNe(t,s,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);t[s+15]|=n>>7,t[s+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)t[s+i]=a&255;t[s+15]|=r>=0?0:128}function Ev(t,s){var r=s?s[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return s&&(s[0]=r),n}function _r(t){var s=new Uint8Array(7);s[0]=t&127;var r=1;e:if(t>127){if(s[r-1]|=128,s[r]=t>>7&127,++r,t<=16383||(s[r-1]|=128,s[r]=t>>14&127,++r,t<=2097151)||(s[r-1]|=128,s[r]=t>>21&127,++r,t<=268435455)||(s[r-1]|=128,s[r]=t/256>>>21&127,++r,t<=34359738367)||(s[r-1]|=128,s[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;s[r-1]|=128,s[r]=t/16777216>>>21&127,++r}return s.slice(0,r)}function wx(t){var s=0,r=t[s]&127;e:if(t[s++]>=128){if(r|=(t[s]&127)<<7,t[s++]<128||(r|=(t[s]&127)<<14,t[s++]<128)||(r|=(t[s]&127)<<21,t[s++]<128))break e;r|=(t[s]&127)<<28}return r}function ha(t){for(var s=[],r=[0];r[0]<t.length;){var n=r[0],a=Ev(t,r),i=a&7;a=Math.floor(a/8);var l=0,o;if(a==0)break;switch(i){case 0:{for(var c=r[0];t[r[0]++]>=128;);o=t.slice(c,r[0])}break;case 5:l=4,o=t.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,o=t.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=Ev(t,r),o=t.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var d={data:o,type:i};s[a]==null?s[a]=[d]:s[a].push(d)}return s}function La(t){var s=[];return t.forEach(function(r,n){r.forEach(function(a){a.data&&(s.push(_r(n*8+a.type)),a.type==2&&s.push(_r(a.data.length)),s.push(a.data))})}),Ph(s)}function Lo(t){for(var s,r=[],n=[0];n[0]<t.length;){var a=Ev(t,n),i=ha(t.slice(n[0],n[0]+a));n[0]+=a;var l={id:wx(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=ha(o.data),d=wx(c[3][0].data);l.messages.push({meta:c,data:t.slice(n[0],n[0]+d)}),n[0]+=d}),(s=i[3])!=null&&s[0]&&(l.merge=wx(i[3][0].data)>>>0>0),r.push(l)}return r}function jf(t){var s=[];return t.forEach(function(r){var n=[];n[1]=[{data:_r(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:_r(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(l){a.push(l.data),l.meta[3]=[{type:0,data:_r(l.data.length)}],n[2].push({data:La(l.meta),type:2})});var i=La(n);s.push(_r(i.length)),s.push(i),a.forEach(function(l){return s.push(l)})}),Ph(s)}function e4e(t,s){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Ev(s,r),a=[];r[0]<s.length;){var i=s[r[0]]&3;if(i==0){var l=s[r[0]++]>>2;if(l<60)++l;else{var o=l-59;l=s[r[0]],o>1&&(l|=s[r[0]+1]<<8),o>2&&(l|=s[r[0]+2]<<16),o>3&&(l|=s[r[0]+3]<<24),l>>>=0,l++,r[0]+=o}a.push(s.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var c=0,d=0;if(i==1?(d=(s[r[0]]>>2&7)+4,c=(s[r[0]++]&224)<<3,c|=s[r[0]++]):(d=(s[r[0]++]>>2)+1,i==2?(c=s[r[0]]|s[r[0]+1]<<8,r[0]+=2):(c=(s[r[0]]|s[r[0]+1]<<8|s[r[0]+2]<<16|s[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Ph(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(a.push(a[0].slice(-c)),d-=c;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-c,-c+d))}}var u=Ph(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function Io(t){for(var s=[],r=0;r<t.length;){var n=t[r++],a=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,s.push(e4e(n,t.slice(r,r+a))),r+=a}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Ph(s)}function yf(t){for(var s=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),a=new Uint8Array(4);s.push(a);var i=_r(n),l=i.length;s.push(i),n<=60?(l++,s.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,s.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,s.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,s.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,s.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),s.push(t.slice(r,r+n)),l+=n,a[0]=0,a[1]=l&255,a[2]=l>>8&255,a[3]=l>>16&255,r+=n}return Ph(s)}function Z5(t,s){var r=new Uint8Array(32),n=Yb(r),a=12,i=0;switch(r[0]=5,t.t){case"n":r[1]=2,ZNe(r,a,t.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,t.v?1:0,!0),i|=2,a+=8;break;case"s":if(s.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(a,s.indexOf(t.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,i,!0),r.slice(0,a)}function eC(t,s){var r=new Uint8Array(32),n=Yb(r),a=12,i=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(a,t.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,t.v?1:0,!0),i|=32,a+=8;break;case"s":if(s.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(a,s.indexOf(t.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Cu(t){var s=ha(t);return Ev(s[1][0].data)}function t4e(t,s,r){var n,a,i,l;if(!((n=t[6])!=null&&n[0])||!((a=t[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(i=t[8])==null?void 0:i[0])==null?void 0:l.data)&&wx(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,d=Yb(t[7][0].data),u=0,h=[],A=Yb(t[4][0].data),m=0,p=[],f=0;f<s.length;++f){if(s[f]==null){d.setUint16(f*2,65535,!0),A.setUint16(f*2,65535);continue}d.setUint16(f*2,u,!0),A.setUint16(f*2,m,!0);var x,g;switch(typeof s[f]){case"string":x=Z5({t:"s",v:s[f]},r),g=eC({t:"s",v:s[f]},r);break;case"number":x=Z5({t:"n",v:s[f]},r),g=eC({t:"n",v:s[f]},r);break;case"boolean":x=Z5({t:"b",v:s[f]},r),g=eC({t:"b",v:s[f]},r);break;default:throw new Error("Unsupported value "+s[f])}h.push(x),u+=x.length,p.push(g),m+=g.length,++c}for(t[2][0].data=_r(c);f<t[7][0].data.length/2;++f)d.setUint16(f*2,65535,!0),A.setUint16(f*2,65535,!0);return t[6][0].data=Ph(h),t[3][0].data=Ph(p),c}function s4e(t,s){if(!s||!s.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Dl(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(ia(n)));var i=Xb(r,{range:n,header:1}),l=["~Sh33tJ5~"];i.forEach(function(U){return U.forEach(function(R){typeof R=="string"&&l.push(R)})});var o={},c=[],d=Rr.read(s.numbers,{type:"base64"});d.FileIndex.map(function(U,R){return[U,d.FullPaths[R]]}).forEach(function(U){var R=U[0],q=U[1];if(R.type==2&&R.name.match(/\.iwa/)){var ae=R.content,Ae=Io(ae),G=Lo(Ae);G.forEach(function(O){c.push(O.id),o[O.id]={deps:[],location:q,type:wx(O.messages[0].meta[1][0].data)}})}}),c.sort(function(U,R){return U-R});var u=c.filter(function(U){return U>1}).map(function(U){return[U,_r(U)]});d.FileIndex.map(function(U,R){return[U,d.FullPaths[R]]}).forEach(function(U){var R=U[0];if(U[1],!!R.name.match(/\.iwa/)){var q=Lo(Io(R.content));q.forEach(function(ae){ae.messages.forEach(function(Ae){u.forEach(function(G){ae.messages.some(function(O){return wx(O.meta[1][0].data)!=11006&&JNe(O.data,G[1])})&&o[G[0]].deps.push(ae.id)})})})}});for(var h=Rr.find(d,o[1].location),A=Lo(Io(h.content)),m,p=0;p<A.length;++p){var f=A[p];f.id==1&&(m=f)}var x=Cu(ha(m.messages[0].data)[1][0].data);for(h=Rr.find(d,o[x].location),A=Lo(Io(h.content)),p=0;p<A.length;++p)f=A[p],f.id==x&&(m=f);for(x=Cu(ha(m.messages[0].data)[2][0].data),h=Rr.find(d,o[x].location),A=Lo(Io(h.content)),p=0;p<A.length;++p)f=A[p],f.id==x&&(m=f);for(x=Cu(ha(m.messages[0].data)[2][0].data),h=Rr.find(d,o[x].location),A=Lo(Io(h.content)),p=0;p<A.length;++p)f=A[p],f.id==x&&(m=f);var g=ha(m.messages[0].data);{g[6][0].data=_r(n.e.r+1),g[7][0].data=_r(n.e.c+1);var v=Cu(g[46][0].data),j=Rr.find(d,o[v].location),B=Lo(Io(j.content));{for(var F=0;F<B.length&&B[F].id!=v;++F);if(B[F].id!=v)throw"Bad ColumnRowUIDMapArchive";var P=ha(B[F].messages[0].data);P[1]=[],P[2]=[],P[3]=[];for(var E=0;E<=n.e.c;++E){var N=[];N[1]=N[2]=[{type:0,data:_r(E+420690)}],P[1].push({type:2,data:La(N)}),P[2].push({type:0,data:_r(E)}),P[3].push({type:0,data:_r(E)})}P[4]=[],P[5]=[],P[6]=[];for(var C=0;C<=n.e.r;++C)N=[],N[1]=N[2]=[{type:0,data:_r(C+726270)}],P[4].push({type:2,data:La(N)}),P[5].push({type:0,data:_r(C)}),P[6].push({type:0,data:_r(C)});B[F].messages[0].data=La(P)}j.content=yf(jf(B)),j.size=j.content.length,delete g[46];var _=ha(g[4][0].data);{_[7][0].data=_r(n.e.r+1);var k=ha(_[1][0].data),D=Cu(k[2][0].data);j=Rr.find(d,o[D].location),B=Lo(Io(j.content));{if(B[0].id!=D)throw"Bad HeaderStorageBucket";var z=ha(B[0].messages[0].data);for(C=0;C<i.length;++C){var K=ha(z[2][0].data);K[1][0].data=_r(C),K[4][0].data=_r(i[C].length),z[2][C]={type:z[2][0].type,data:La(K)}}B[0].messages[0].data=La(z)}j.content=yf(jf(B)),j.size=j.content.length;var xe=Cu(_[2][0].data);j=Rr.find(d,o[xe].location),B=Lo(Io(j.content));{if(B[0].id!=xe)throw"Bad HeaderStorageBucket";for(z=ha(B[0].messages[0].data),E=0;E<=n.e.c;++E)K=ha(z[2][0].data),K[1][0].data=_r(E),K[4][0].data=_r(n.e.r+1),z[2][E]={type:z[2][0].type,data:La(K)};B[0].messages[0].data=La(z)}j.content=yf(jf(B)),j.size=j.content.length;var W=Cu(_[4][0].data);(function(){for(var U=Rr.find(d,o[W].location),R=Lo(Io(U.content)),q,ae=0;ae<R.length;++ae){var Ae=R[ae];Ae.id==W&&(q=Ae)}var G=ha(q.messages[0].data);{G[3]=[];var O=[];l.forEach(function(Re,Ke){O[1]=[{type:0,data:_r(Ke)}],O[2]=[{type:0,data:_r(1)}],O[3]=[{type:2,data:XNe(Re)}],G[3].push({type:2,data:La(O)})})}q.messages[0].data=La(G);var ee=jf(R),Le=yf(ee);U.content=Le,U.size=U.content.length})();var re=ha(_[3][0].data);{var I=re[1][0];delete re[2];var ie=ha(I.data);{var ve=Cu(ie[2][0].data);(function(){for(var U=Rr.find(d,o[ve].location),R=Lo(Io(U.content)),q,ae=0;ae<R.length;++ae){var Ae=R[ae];Ae.id==ve&&(q=Ae)}var G=ha(q.messages[0].data);{delete G[6],delete re[7];var O=new Uint8Array(G[5][0].data);G[5]=[];for(var ee=0,Le=0;Le<=n.e.r;++Le){var Re=ha(O);ee+=t4e(Re,i[Le],l),Re[1][0].data=_r(Le),G[5].push({data:La(Re),type:2})}G[1]=[{type:0,data:_r(n.e.c+1)}],G[2]=[{type:0,data:_r(n.e.r+1)}],G[3]=[{type:0,data:_r(ee)}],G[4]=[{type:0,data:_r(n.e.r+1)}]}q.messages[0].data=La(G);var Ke=jf(R),Me=yf(Ke);U.content=Me,U.size=U.content.length})()}I.data=La(ie)}_[3][0].data=La(re)}g[4][0].data=La(_)}m.messages[0].data=La(g);var De=jf(A),L=yf(De);return h.content=L,h.size=h.content.length,d}function r4e(t){return function(r){for(var n=0;n!=t.length;++n){var a=t[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function aE(t){r4e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function n4e(t,s){return s.bookType=="ods"?Gz(t,s):s.bookType=="numbers"?s4e(t,s):s.bookType=="xlsb"?a4e(t,s):i4e(t,s)}function a4e(t,s){$f=1024,t&&!t.SSF&&(t.SSF=ol(In)),t&&t.SSF&&(vN(),gN(t.SSF),s.revssf=jN(t.SSF),s.revssf[t.SSF[65535]]=0,s.ssf=t.SSF),s.rels={},s.wbrels={},s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,Sg?s.revStrings=new Map:(s.revStrings={},s.revStrings.foo=[],delete s.revStrings.foo);var r=s.bookType=="xlsb"?"bin":"xml",n=Ez.indexOf(s.bookType)>-1,a=az();aE(s=s||{});var i=V_(),l="",o=0;if(s.cellXfs=[],zh(s.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",Rs(i,l,cz(t.Props,s)),a.coreprops.push(l),Fr(s.rels,2,l,xr.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],d=0;d<t.SheetNames.length;++d)(t.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(t.SheetNames[d]);t.Props.SheetNames=c}for(t.Props.Worksheets=t.Props.SheetNames.length,Rs(i,l,uz(t.Props)),a.extprops.push(l),Fr(s.rels,3,l,xr.EXT_PROPS),t.Custprops!==t.Props&&$a(t.Custprops||{}).length>0&&(l="docProps/custom.xml",Rs(i,l,hz(t.Custprops)),a.custprops.push(l),Fr(s.rels,4,l,xr.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var u={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],A=(h||{})["!type"]||"sheet";switch(A){case"chart":default:l="xl/worksheets/sheet"+o+"."+r,Rs(i,l,oNe(o-1,l,s,t,u)),a.sheets.push(l),Fr(s.wbrels,-1,"worksheets/sheet"+o+"."+r,xr.WS[0])}if(h){var m=h["!comments"],p=!1,f="";m&&m.length>0&&(f="xl/comments"+o+"."+r,Rs(i,f,uNe(m,f)),a.comments.push(f),Fr(u,-1,"../comments"+o+"."+r,xr.CMNT),p=!0),h["!legacy"]&&p&&Rs(i,"xl/drawings/vmlDrawing"+o+".vml",kz(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&Rs(i,lz(l),jx(u))}return s.Strings!=null&&s.Strings.length>0&&(l="xl/sharedStrings."+r,Rs(i,l,dNe(s.Strings,l,s)),a.strs.push(l),Fr(s.wbrels,-1,"sharedStrings."+r,xr.SST)),l="xl/workbook."+r,Rs(i,l,lNe(t,l)),a.workbooks.push(l),Fr(s.rels,1,l,xr.WB),l="xl/theme/theme1.xml",Rs(i,l,Bz(t.Themes,s)),a.themes.push(l),Fr(s.wbrels,-1,"theme/theme1.xml",xr.THEME),l="xl/styles."+r,Rs(i,l,cNe(t,l,s)),a.styles.push(l),Fr(s.wbrels,-1,"styles."+r,xr.STY),t.vbaraw&&n&&(l="xl/vbaProject.bin",Rs(i,l,t.vbaraw),a.vba.push(l),Fr(s.wbrels,-1,"vbaProject.bin",xr.VBA)),l="xl/metadata."+r,Rs(i,l,hNe(l)),a.metadata.push(l),Fr(s.wbrels,-1,"metadata."+r,xr.XLMETA),Rs(i,"[Content_Types].xml",iz(a,s)),Rs(i,"_rels/.rels",jx(s.rels)),Rs(i,"xl/_rels/workbook."+r+".rels",jx(s.wbrels)),delete s.revssf,delete s.ssf,i}function i4e(t,s){$f=1024,t&&!t.SSF&&(t.SSF=ol(In)),t&&t.SSF&&(vN(),gN(t.SSF),s.revssf=jN(t.SSF),s.revssf[t.SSF[65535]]=0,s.ssf=t.SSF),s.rels={},s.wbrels={},s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,Sg?s.revStrings=new Map:(s.revStrings={},s.revStrings.foo=[],delete s.revStrings.foo);var r="xml",n=Ez.indexOf(s.bookType)>-1,a=az();aE(s=s||{});var i=V_(),l="",o=0;if(s.cellXfs=[],zh(s.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",Rs(i,l,cz(t.Props,s)),a.coreprops.push(l),Fr(s.rels,2,l,xr.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],d=0;d<t.SheetNames.length;++d)(t.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(t.SheetNames[d]);t.Props.SheetNames=c}t.Props.Worksheets=t.Props.SheetNames.length,Rs(i,l,uz(t.Props)),a.extprops.push(l),Fr(s.rels,3,l,xr.EXT_PROPS),t.Custprops!==t.Props&&$a(t.Custprops||{}).length>0&&(l="docProps/custom.xml",Rs(i,l,hz(t.Custprops)),a.custprops.push(l),Fr(s.rels,4,l,xr.CUST_PROPS));var u=["SheetJ5"];for(s.tcid=0,o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},A=t.Sheets[t.SheetNames[o-1]],m=(A||{})["!type"]||"sheet";switch(m){case"chart":default:l="xl/worksheets/sheet"+o+"."+r,Rs(i,l,Rz(o-1,s,t,h)),a.sheets.push(l),Fr(s.wbrels,-1,"worksheets/sheet"+o+"."+r,xr.WS[0])}if(A){var p=A["!comments"],f=!1,x="";if(p&&p.length>0){var g=!1;p.forEach(function(v){v[1].forEach(function(j){j.T==!0&&(g=!0)})}),g&&(x="xl/threadedComments/threadedComment"+o+"."+r,Rs(i,x,U1e(p,u,s)),a.threadedcomments.push(x),Fr(h,-1,"../threadedComments/threadedComment"+o+"."+r,xr.TCMNT)),x="xl/comments"+o+"."+r,Rs(i,x,_z(p)),a.comments.push(x),Fr(h,-1,"../comments"+o+"."+r,xr.CMNT),f=!0}A["!legacy"]&&f&&Rs(i,"xl/drawings/vmlDrawing"+o+".vml",kz(o,A["!comments"])),delete A["!comments"],delete A["!legacy"]}h["!id"].rId1&&Rs(i,lz(l),jx(h))}return s.Strings!=null&&s.Strings.length>0&&(l="xl/sharedStrings."+r,Rs(i,l,jz(s.Strings,s)),a.strs.push(l),Fr(s.wbrels,-1,"sharedStrings."+r,xr.SST)),l="xl/workbook."+r,Rs(i,l,Hz(t)),a.workbooks.push(l),Fr(s.rels,1,l,xr.WB),l="xl/theme/theme1.xml",Rs(i,l,Bz(t.Themes,s)),a.themes.push(l),Fr(s.wbrels,-1,"theme/theme1.xml",xr.THEME),l="xl/styles."+r,Rs(i,l,Nz(t,s)),a.styles.push(l),Fr(s.wbrels,-1,"styles."+r,xr.STY),t.vbaraw&&n&&(l="xl/vbaProject.bin",Rs(i,l,t.vbaraw),a.vba.push(l),Fr(s.wbrels,-1,"vbaProject.bin",xr.VBA)),l="xl/metadata."+r,Rs(i,l,Sz()),a.metadata.push(l),Fr(s.wbrels,-1,"metadata."+r,xr.XLMETA),u.length>1&&(l="xl/persons/person.xml",Rs(i,l,O1e(u)),a.people.push(l),Fr(s.wbrels,-1,"persons/person.xml",xr.PEOPLE)),Rs(i,"[Content_Types].xml",iz(a,s)),Rs(i,"_rels/.rels",jx(s.rels)),Rs(i,"xl/_rels/workbook."+r+".rels",jx(s.wbrels)),delete s.revssf,delete s.ssf,i}function l4e(t,s){var r="";switch((s||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=eu(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(s&&s.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Wz(t,s){switch(s.type){case"base64":case"binary":break;case"buffer":case"array":s.type="";break;case"file":return fj(s.file,Rr.write(t,{type:vr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+s.bookType+"' files");default:throw new Error("Unrecognized type "+s.type)}return Rr.write(t,s)}function o4e(t,s){var r=ol(s||{}),n=n4e(t,r);return c4e(n,r)}function c4e(t,s){var r={},n=vr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(s.compression&&(r.compression="DEFLATE"),s.password)r.type=n;else switch(s.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+s.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+s.type)}var a=t.FullPaths?Rr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!s.compression}):t.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(s.type=="binary"||s.type=="base64")return a;a=new Uint8Array(pN(a))}return s.password&&typeof encrypt_agile<"u"?Wz(encrypt_agile(a,s.password),s):s.type==="file"?fj(s.file,a):s.type=="string"?bg(a):a}function d4e(t,s){var r=s||{},n=BNe(t,r);return Wz(n,r)}function Fc(t,s,r){r||(r="");var n=r+t;switch(s.type){case"base64":return Bv(kv(n));case"binary":return kv(n);case"string":return t;case"file":return fj(s.file,n,"utf8");case"buffer":return vr?nu(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Fc(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+s.type)}function u4e(t,s){switch(s.type){case"base64":return Bv(t);case"binary":return t;case"string":return t;case"file":return fj(s.file,t,"binary");case"buffer":return vr?nu(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+s.type)}function C1(t,s){switch(s.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return s.type=="base64"?Bv(r):s.type=="string"?bg(r):r;case"file":return fj(s.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+s.type)}}function Yz(t,s){Rve(),Y2e(t);var r=ol(s||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=Yz(t,r);return r.type="array",pN(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=t.SheetNames.indexOf(r.sheet),!t.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Fc(NNe(t,r),r);case"slk":case"sylk":return Fc($ye.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"htm":case"html":return Fc(zz(t.Sheets[t.SheetNames[a]],r),r);case"txt":return u4e(Xz(t.Sheets[t.SheetNames[a]],r),r);case"csv":return Fc(iE(t.Sheets[t.SheetNames[a]],r),r,"\uFEFF");case"dif":return Fc(Gye.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"dbf":return C1(qye.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"prn":return Fc(Wye.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"rtf":return Fc(s1e.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"eth":return Fc(vz.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"fods":return Fc(Gz(t,r),r);case"wk1":return C1(yI.sheet_to_wk1(t.Sheets[t.SheetNames[a]],r),r);case"wk3":return C1(yI.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),C1(Kz(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),d4e(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return o4e(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function h4e(t){if(!t.bookType){var s={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=s[t.bookType]||t.bookType}}function A4e(t,s,r){var n={};return n.type="file",n.file=s,h4e(n),Yz(t,n)}function m4e(t,s,r,n,a,i,l,o){var c=Va(r),d=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,A=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(A,"__rowNum__",{value:r,enumerable:!1})}catch{A.__rowNum__=r}else A.__rowNum__=r;if(!l||t[r])for(var m=s.s.c;m<=s.e.c;++m){var p=l?t[r][m]:t[n[m]+c];if(p===void 0||p.t===void 0){if(d===void 0)continue;i[m]!=null&&(A[i[m]]=d);continue}var f=p.v;switch(p.t){case"z":if(f==null)break;continue;case"e":f=f==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[m]!=null){if(f==null)if(p.t=="e"&&f===null)A[i[m]]=null;else if(d!==void 0)A[i[m]]=d;else if(u&&f===null)A[i[m]]=null;else continue;else A[i[m]]=u&&(p.t!=="n"||p.t==="n"&&o.rawNumbers!==!1)?f:tu(p,f,o);f!=null&&(h=!1)}}return{row:A,isempty:h}}function Xb(t,s){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],l=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},d=s||{},u=d.range!=null?d.range:t["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)?n=3:d.header==null&&(n=0),typeof u){case"string":c=hn(u);break;case"number":c=hn(t["!ref"]),c.s.r=u;break;default:c=u}n>0&&(a=0);var h=Va(c.s.r),A=[],m=[],p=0,f=0,x=Array.isArray(t),g=c.s.r,v=0,j={};x&&!t[g]&&(t[g]=[]);var B=d.skipHidden&&t["!cols"]||[],F=d.skipHidden&&t["!rows"]||[];for(v=c.s.c;v<=c.e.c;++v)if(!(B[v]||{}).hidden)switch(A[v]=fi(v),r=x?t[g][v]:t[A[v]+h],n){case 1:i[v]=v-c.s.c;break;case 2:i[v]=A[v];break;case 3:i[v]=d.header[v-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=l=tu(r,null,d),f=j[l]||0,!f)j[l]=1;else{do o=l+"_"+f++;while(j[o]);j[l]=f,j[o]=1}i[v]=o}for(g=c.s.r+a;g<=c.e.r;++g)if(!(F[g]||{}).hidden){var P=m4e(t,c,g,A,n,i,x,d);(P.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows))&&(m[p++]=P.row)}return m.length=p,m}var _I=/"/g;function f4e(t,s,r,n,a,i,l,o){for(var c=!0,d=[],u="",h=Va(r),A=s.s.c;A<=s.e.c;++A)if(n[A]){var m=o.dense?(t[r]||[])[A]:t[n[A]+h];if(m==null)u="";else if(m.v!=null){c=!1,u=""+(o.rawNumbers&&m.t=="n"?m.v:tu(m,null,o));for(var p=0,f=0;p!==u.length;++p)if((f=u.charCodeAt(p))===a||f===i||f===34||o.forceQuotes){u='"'+u.replace(_I,'""')+'"';break}u=="ID"&&(u='"ID"')}else m.f!=null&&!m.F?(c=!1,u="="+m.f,u.indexOf(",")>=0&&(u='"'+u.replace(_I,'""')+'"')):u="";d.push(u)}return o.blankrows===!1&&c?null:d.join(l)}function iE(t,s){var r=[],n=s??{};if(t==null||t["!ref"]==null)return"";var a=hn(t["!ref"]),i=n.FS!==void 0?n.FS:",",l=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",h=[];n.dense=Array.isArray(t);for(var A=n.skipHidden&&t["!cols"]||[],m=n.skipHidden&&t["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(A[p]||{}).hidden||(h[p]=fi(p));for(var f=0,x=a.s.r;x<=a.e.r;++x)(m[x]||{}).hidden||(u=f4e(t,a,x,h,l,c,i,n),u!=null&&(n.strip&&(u=u.replace(d,"")),(u||n.blankrows!==!1)&&r.push((f++?o:"")+u)));return delete n.dense,r.join("")}function Xz(t,s){s||(s={}),s.FS="	",s.RS=`
`;var r=iE(t,s);return r}function x4e(t){var s="",r,n="";if(t==null||t["!ref"]==null)return[];var a=hn(t["!ref"]),i="",l=[],o,c=[],d=Array.isArray(t);for(o=a.s.c;o<=a.e.c;++o)l[o]=fi(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=Va(u),o=a.s.c;o<=a.e.c;++o)if(s=l[o]+i,r=d?(t[u]||[])[o]:t[s],n="",r!==void 0){if(r.F!=null){if(s=r.F,!r.f)continue;n=r.f,s.indexOf(":")==-1&&(s=s+":"+s)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=s+"="+n}return c}function Jz(t,s,r){var n=r||{},a=+!n.skipHeader,i=t||{},l=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var c=typeof n.origin=="string"?Sa(n.origin):n.origin;l=c.r,o=c.c}var d,u={s:{c:0,r:0},e:{c:o,r:l+s.length-1+a}};if(i["!ref"]){var h=hn(i["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),l==-1&&(l=h.e.r+1,u.e.r=l+s.length-1+a)}else l==-1&&(l=0,u.e.r=s.length-1+a);var A=n.header||[],m=0;s.forEach(function(f,x){$a(f).forEach(function(g){(m=A.indexOf(g))==-1&&(A[m=A.length]=g);var v=f[g],j="z",B="",F=Pr({c:o+m,r:l+x+a});d=Fv(i,F),v&&typeof v=="object"&&!(v instanceof Date)?i[F]=v:(typeof v=="number"?j="n":typeof v=="boolean"?j="b":typeof v=="string"?j="s":v instanceof Date?(j="d",n.cellDates||(j="n",v=ll(v)),B=n.dateNF||In[14]):v===null&&n.nullError&&(j="e",v=0),d?(d.t=j,d.v=v,delete d.w,delete d.R,B&&(d.z=B)):i[F]=d={t:j,v},B&&(d.z=B))})}),u.e.c=Math.max(u.e.c,o+A.length-1);var p=Va(l);if(a)for(m=0;m<A.length;++m)i[fi(m+o)+p]={t:"s",v:A[m]};return i["!ref"]=ia(u),i}function p4e(t,s){return Jz(null,t,s)}function Fv(t,s,r){if(typeof s=="string"){if(Array.isArray(t)){var n=Sa(s);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[s]||(t[s]={t:"z"})}return typeof s!="number"?Fv(t,Pr(s)):Fv(t,Pr({r:s,c:r||0}))}function g4e(t,s){if(typeof s=="number"){if(s>=0&&t.SheetNames.length>s)return s;throw new Error("Cannot find sheet # "+s)}else if(typeof s=="string"){var r=t.SheetNames.indexOf(s);if(r>-1)return r;throw new Error("Cannot find sheet name |"+s+"|")}else throw new Error("Cannot find sheet |"+s+"|")}function v4e(){return{SheetNames:[],Sheets:{}}}function j4e(t,s,r,n){var a=1;if(!r)for(;a<=65535&&t.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var l=i&&i[1]||r;for(++a;a<=65535&&t.SheetNames.indexOf(r=l+a)!=-1;++a);}if(Qz(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=s,r}function y4e(t,s,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=g4e(t,s);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function w4e(t,s){return t.z=s,t}function Zz(t,s,r){return s?(t.l={Target:s},r&&(t.l.Tooltip=r)):delete t.l,t}function b4e(t,s,r){return Zz(t,"#"+s,r)}function N4e(t,s,r){t.c||(t.c=[]),t.c.push({t:s,a:r||"SheetJS"})}function C4e(t,s,r,n){for(var a=typeof s!="string"?s:hn(s),i=typeof s=="string"?s:ia(s),l=a.s.r;l<=a.e.r;++l)for(var o=a.s.c;o<=a.e.c;++o){var c=Fv(t,l,o);c.t="n",c.F=i,delete c.v,l==a.s.r&&o==a.s.c&&(c.f=r,n&&(c.D=!0))}return t}var lA={encode_col:fi,encode_row:Va,encode_cell:Pr,encode_range:ia,decode_col:W_,decode_row:G_,split_cell:Rje,decode_cell:Sa,decode_range:Dl,format_cell:tu,sheet_add_aoa:ZK,sheet_add_json:Jz,sheet_add_dom:qz,aoa_to_sheet:N0,json_to_sheet:p4e,table_to_sheet:$z,table_to_book:GNe,sheet_to_csv:iE,sheet_to_txt:Xz,sheet_to_json:Xb,sheet_to_html:zz,sheet_to_formulae:x4e,sheet_to_row_object_array:Xb,sheet_get_cell:Fv,book_new:v4e,book_append_sheet:j4e,book_set_sheet_visibility:y4e,cell_set_number_format:w4e,cell_set_hyperlink:Zz,cell_set_internal_link:b4e,cell_add_comment:N4e,sheet_set_array_formula:C4e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const B4e=Y.object({transactionType:Y.enum(["income","expense"]),category:Y.string().min(1," "),amount:Y.string().min(1," "),description:Y.string().min(1," "),paymentMethod:Y.string().min(1,"  "),referenceNumber:Y.string().optional(),date:Y.string().min(1," ")}),B1=[" "," "," "," "," "," "," "," ","",""," "],S1=[" "," ",""," "," "," "," ",""," "," "," ",""," ","",""," "],S4e=["","",""," ",""],EI={income:"bg-green-100 text-green-800",expense:"bg-red-100 text-red-800"},FI={income:"",expense:""};function k4e(){const{toast:t}=ls(),s=Cs(),[r,n]=b.useState("overview"),[a,i]=b.useState(""),[l,o]=b.useState("all"),[c,d]=b.useState("all"),[u,h]=b.useState("all"),[A,m]=b.useState(!1),[p,f]=b.useState(null),[x,g]=b.useState(new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]),[v,j]=b.useState(new Date().toISOString().split("T")[0]),[B,F]=b.useState("summary"),[P,E]=b.useState(!1),{data:N}=st({queryKey:["/api/finance/stats"]}),{data:C=[],isLoading:_}=st({queryKey:["/api/finance/transactions"]}),k=zs({resolver:qs(B4e),defaultValues:{transactionType:"income",category:"",amount:"",description:"",paymentMethod:"",referenceNumber:"",date:new Date().toISOString().split("T")[0]}}),D=Bt({mutationFn:O=>Vt("/api/finance/transactions",{method:"POST",body:JSON.stringify(O)}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/finance/transactions"]}),s.invalidateQueries({queryKey:["/api/finance/stats"]}),t({title:" !",description:"    "}),m(!1),k.reset()}}),z=Bt({mutationFn:({id:O,data:ee})=>Vt(`/api/finance/transactions/${O}`,{method:"PATCH",body:JSON.stringify(ee)}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/finance/transactions"]}),s.invalidateQueries({queryKey:["/api/finance/stats"]}),t({title:" !",description:"    "}),f(null),m(!1)}}),K=Bt({mutationFn:O=>Vt(`/api/finance/transactions/${O}`,{method:"DELETE"}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/finance/transactions"]}),s.invalidateQueries({queryKey:["/api/finance/stats"]}),t({title:" !",description:"   "})}}),xe=()=>{f(null),k.reset({transactionType:"income",category:"",amount:"",description:"",paymentMethod:"",referenceNumber:"",date:new Date().toISOString().split("T")[0]}),m(!0)},W=O=>{var ee;f(O),k.reset({transactionType:O.transactionType||O.type||"income",category:O.category||"",amount:((ee=O.amount)==null?void 0:ee.toString())||"",description:O.description||"",paymentMethod:O.paymentMethod||"",referenceNumber:O.referenceNumber||O.reference||"",date:O.date?new Date(O.date).toISOString().split("T")[0]:""}),m(!0)},re=O=>{confirm("        ?")&&K.mutate(O)},I=O=>{p?z.mutate({id:p.id,data:O}):D.mutate(O)},ie=Array.isArray(C)?C.filter(O=>{var Me,$e;const ee=O.transactionType||O.type,Le=((Me=O.description)==null?void 0:Me.toLowerCase().includes(a.toLowerCase()))||(($e=O.category)==null?void 0:$e.toLowerCase().includes(a.toLowerCase())),Re=l==="all"||ee===l,Ke=c==="all"||O.category===c;return Le&&Re&&Ke}):[],ve=()=>k.watch("transactionType")==="income"?B1:S1,De=ie.filter(O=>(O.transactionType||O.type)==="income").reduce((O,ee)=>O+(parseFloat(ee.amount)||0),0),L=ie.filter(O=>(O.transactionType||O.type)==="expense").reduce((O,ee)=>O+(parseFloat(ee.amount)||0),0),U=De-L,R=()=>{const O=new Date(x),ee=new Date(v);return ee.setHours(23,59,59,999),ie.filter(Le=>{const Re=new Date(Le.date);return Re>=O&&Re<=ee})},q=()=>{const O=R(),ee=O.filter(Ye=>(Ye.transactionType||Ye.type)==="income").reduce((Ye,St)=>Ye+(parseFloat(St.amount)||0),0),Le=O.filter(Ye=>(Ye.transactionType||Ye.type)==="expense").reduce((Ye,St)=>Ye+(parseFloat(St.amount)||0),0),Re=ee-Le,Ke=O.filter(Ye=>(Ye.transactionType||Ye.type)==="income"),Me=O.filter(Ye=>(Ye.transactionType||Ye.type)==="expense"),$e=[...new Set(Ke.map(Ye=>Ye.category).filter(Boolean))],ge=[...new Set(Me.map(Ye=>Ye.category).filter(Boolean))],mt=$e.map(Ye=>({category:Ye,total:Ke.filter(St=>St.category===Ye).reduce((St,gt)=>St+(parseFloat(gt.amount)||0),0)})).filter(Ye=>Ye.total>0),Ot=ge.map(Ye=>({category:Ye,total:Me.filter(St=>St.category===Ye).reduce((St,gt)=>St+(parseFloat(gt.amount)||0),0)})).filter(Ye=>Ye.total>0);return{transactions:O,totalIncome:ee,totalExpense:Le,netBalance:Re,incomeByCategory:mt,expenseByCategory:Ot,transactionCount:O.length}},ae=()=>{const O=q(),ee=O.transactions.map(Ye=>({Date:Ye.date?new Date(Ye.date).toLocaleDateString("en-GB"):"N/A",Description:Ye.description||"",Category:Ye.category||"","Payment Method":Ye.paymentMethod||"",Type:(Ye.transactionType||Ye.type)==="income"?"Income":"Expense","Amount (BDT)":parseFloat(Ye.amount)||0,Reference:Ye.referenceNumber||""})),Le=[{Item:"Total Income","Amount (BDT)":O.totalIncome},{Item:"Total Expense","Amount (BDT)":O.totalExpense},{Item:"Net Balance","Amount (BDT)":O.netBalance}],Re=[...O.incomeByCategory.map(Ye=>({Category:Ye.category,Type:"Income","Amount (BDT)":Ye.total})),...O.expenseByCategory.map(Ye=>({Category:Ye.category,Type:"Expense","Amount (BDT)":Ye.total}))],Ke=lA.book_new(),Me=lA.json_to_sheet(ee);lA.book_append_sheet(Ke,Me,"Transactions");const $e=lA.json_to_sheet(Le);if(lA.book_append_sheet(Ke,$e,"Summary"),Re.length>0){const Ye=lA.json_to_sheet(Re);lA.book_append_sheet(Ke,Ye,"Category Analysis")}const ge=new Date(x).toLocaleDateString("en-GB").replace(/\//g,"-"),mt=new Date(v).toLocaleDateString("en-GB").replace(/\//g,"-"),Ot=`Financial_Report_${ge}_to_${mt}.xlsx`;A4e(Ke,Ot),t({title:" !",description:"    "})},Ae=async()=>{E(!0);try{const O=q(),ee=new fs({orientation:"portrait",unit:"mm",format:"a4"}),Le=ee.internal.pageSize.getWidth(),Re=ee.internal.pageSize.getHeight(),Ke=20;let Me=Ke;const $e=gt=>Me+gt>Re-Ke?(ee.addPage(),Me=Ke,!0):!1,ge=(gt,me,Ee,Qe)=>{if(Qe){const ft=ee.splitTextToSize(gt,Qe);return ee.text(ft,me,Ee),ft.length*5}else return ee.text(gt,me,Ee),5};ee.setFont("helvetica","bold"),ee.setFontSize(18),ee.text("Financial Report",Le/2,Me,{align:"center"}),Me+=8,ee.setFontSize(14),ee.text("(Financial Report)",Le/2,Me,{align:"center"}),Me+=15,ee.setFont("helvetica","normal"),ee.setFontSize(10);const mt=`Period: ${new Date(x).toLocaleDateString()} to ${new Date(v).toLocaleDateString()}`;ee.text(mt,Le/2,Me,{align:"center"}),Me+=7;const Ot=`Report Type: ${B.charAt(0).toUpperCase()+B.slice(1)}`;ee.text(Ot,Le/2,Me,{align:"center"}),Me+=15,$e(40),ee.setFont("helvetica","bold"),ee.setFontSize(12),ee.text("Financial Summary",Ke,Me),Me+=10,ee.setDrawColor(0),ee.setFillColor(245,245,245),ee.rect(Ke,Me,Le-2*Ke,30,"FD"),ee.setFont("helvetica","normal"),ee.setFontSize(10),ee.setTextColor(0,120,0),ee.text(`Total Income: $${O.totalIncome.toLocaleString()}`,Ke+5,Me+8),ee.setTextColor(200,0,0),ee.text(`Total Expense: $${O.totalExpense.toLocaleString()}`,Ke+5,Me+16),ee.setTextColor(O.netBalance>=0?0:200,O.netBalance>=0?120:0,0),ee.text(`Net Balance: $${O.netBalance.toLocaleString()}`,Ke+5,Me+24),ee.setTextColor(0,0,0),ee.text(`Total Transactions: ${O.transactionCount}`,Ke+100,Me+8),Me+=40,B!=="expense"&&O.incomeByCategory.length>0&&($e(30),ee.setFont("helvetica","bold"),ee.setFontSize(11),ee.text("Income Categories",Ke,Me),Me+=10,ee.setFillColor(240,240,240),ee.rect(Ke,Me,Le-2*Ke,8,"F"),ee.setFont("helvetica","bold"),ee.setFontSize(9),ee.text("Category",Ke+2,Me+6),ee.text("Amount ($)",Ke+80,Me+6),ee.text("Percentage",Ke+130,Me+6),Me+=8,ee.setFont("helvetica","normal"),O.incomeByCategory.slice(0,15).forEach((gt,me)=>{$e(6),me%2===0&&(ee.setFillColor(250,250,250),ee.rect(Ke,Me,Le-2*Ke,6,"F")),ee.setTextColor(0,0,0);const Ee=gt.category.length>25?gt.category.substring(0,22)+"...":gt.category;ee.text(Ee,Ke+2,Me+4),ee.text(`$${gt.total.toLocaleString()}`,Ke+80,Me+4);const Qe=O.totalIncome>0?(gt.total/O.totalIncome*100).toFixed(1):0;ee.text(`${Qe}%`,Ke+130,Me+4),Me+=6}),Me+=10),B!=="income"&&O.expenseByCategory.length>0&&($e(30),ee.setFont("helvetica","bold"),ee.setFontSize(11),ee.text("Expense Categories",Ke,Me),Me+=10,ee.setFillColor(240,240,240),ee.rect(Ke,Me,Le-2*Ke,8,"F"),ee.setFont("helvetica","bold"),ee.setFontSize(9),ee.text("Category",Ke+2,Me+6),ee.text("Amount ($)",Ke+80,Me+6),ee.text("Percentage",Ke+130,Me+6),Me+=8,ee.setFont("helvetica","normal"),O.expenseByCategory.slice(0,15).forEach((gt,me)=>{$e(6),me%2===0&&(ee.setFillColor(250,250,250),ee.rect(Ke,Me,Le-2*Ke,6,"F")),ee.setTextColor(0,0,0);const Ee=gt.category.length>25?gt.category.substring(0,22)+"...":gt.category;ee.text(Ee,Ke+2,Me+4),ee.text(`$${gt.total.toLocaleString()}`,Ke+80,Me+4);const Qe=O.totalExpense>0?(gt.total/O.totalExpense*100).toFixed(1):0;ee.text(`${Qe}%`,Ke+130,Me+4),Me+=6}),Me+=10),B==="detailed"&&O.transactions.length>0&&($e(30),ee.setFont("helvetica","bold"),ee.setFontSize(11),ee.text("Transaction Details",Ke,Me),Me+=10,ee.setFillColor(240,240,240),ee.rect(Ke,Me,Le-2*Ke,8,"F"),ee.setFont("helvetica","bold"),ee.setFontSize(8),ee.text("Date",Ke+2,Me+6),ee.text("Description",Ke+25,Me+6),ee.text("Category",Ke+70,Me+6),ee.text("Type",Ke+110,Me+6),ee.text("Amount",Ke+135,Me+6),Me+=8,ee.setFont("helvetica","normal"),O.transactions.slice(0,25).forEach((gt,me)=>{$e(6),me%2===0&&(ee.setFillColor(250,250,250),ee.rect(Ke,Me,Le-2*Ke,6,"F")),ee.setTextColor(0,0,0),ee.text(new Date(gt.date).toLocaleDateString(),Ke+2,Me+4);const Ee=gt.description.length>15?gt.description.substring(0,12)+"...":gt.description;ee.text(Ee,Ke+25,Me+4);const Qe=gt.category.length>12?gt.category.substring(0,9)+"...":gt.category;ee.text(Qe,Ke+70,Me+4);const ft=gt.transactionType||gt.type;ee.text(ft==="income"?"Income":"Expense",Ke+110,Me+4),ee.setTextColor(ft==="income"?0:200,ft==="income"?120:0,0),ee.text(`$${parseFloat(gt.amount).toLocaleString()}`,Ke+135,Me+4),Me+=6}));const Ye=ee.internal.getNumberOfPages();for(let gt=1;gt<=Ye;gt++){ee.setPage(gt),ee.setFont("helvetica","normal"),ee.setFontSize(8),ee.setTextColor(100,100,100);const me=`Generated: ${new Date().toLocaleDateString()} - Page ${gt}/${Ye}`;ee.text(me,Le/2,Re-10,{align:"center"})}const St=`financial-report-${x}-to-${v}.pdf`;ee.save(St),t({title:"PDF  !",description:"  PDF   "})}catch(O){console.error("PDF generation error:",O),t({title:"!",description:"PDF    ",variant:"destructive"})}finally{E(!1)}},G=O=>{const ee=new Date;let Le,Re=new Date;switch(O){case"current-month":Le=new Date(ee.getFullYear(),ee.getMonth(),1),F("summary");break;case"last-month":Le=new Date(ee.getFullYear(),ee.getMonth()-1,1),Re=new Date(ee.getFullYear(),ee.getMonth(),0),F("summary");break;case"yearly":Le=new Date(ee.getFullYear(),0,1),F("summary");break;case"category-analysis":Le=new Date(ee.getFullYear(),ee.getMonth(),1),F("category");break;default:return}g(Le.toISOString().split("T")[0]),j(Re.toISOString().split("T")[0]),setTimeout(()=>Ae(),100)};return _?e.jsx(is,{children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"   ..."})]})})})}):e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-gray-600 mt-2",children:"-    "})]}),e.jsxs(V,{onClick:xe,children:[e.jsx(Ls,{className:"w-4 h-4 mr-2"}),"   "]})]}),e.jsxs(Ar,{value:r,onValueChange:n,className:"mb-6",children:[e.jsxs(ir,{className:"grid w-full grid-cols-3",children:[e.jsx(lt,{value:"overview",children:""}),e.jsxs(lt,{value:"transactions",children:[" (",ie.length,")"]}),e.jsx(lt,{value:"reports",children:""})]}),e.jsxs(bt,{value:"overview",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(bn,{className:"h-4 w-4 text-green-600"})]}),e.jsx(M,{children:e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",De.toLocaleString()]})})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(ug,{className:"h-4 w-4 text-red-600"})]}),e.jsx(M,{children:e.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["",L.toLocaleString()]})})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(g3,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(M,{children:e.jsxs("div",{className:`text-2xl font-bold ${U>=0?"text-green-600":"text-red-600"}`,children:["",U.toLocaleString()]})})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(Wd,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(M,{children:e.jsxs("div",{className:"text-2xl font-bold",children:["",(N==null?void 0:N.monthlyIncome)||0]})})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""})]})}),e.jsx(Wr,{children:ie.slice(0,5).map(O=>e.jsxs(ns,{children:[e.jsx(Ve,{children:O.date?new Date(O.date).toLocaleDateString("bn-BD"):"N/A"}),e.jsx(Ve,{children:O.description}),e.jsx(Ve,{children:O.category}),e.jsx(Ve,{children:e.jsx(Oe,{className:EI[O.transactionType||O.type],children:FI[O.transactionType||O.type]})}),e.jsxs(Ve,{className:`font-medium ${(O.transactionType||O.type)==="income"?"text-green-600":"text-red-600"}`,children:[(O.transactionType||O.type)==="income"?"+":"-","",parseFloat(O.amount).toLocaleString()]})]},O.id))})]})})]})]}),e.jsxs(bt,{value:"transactions",children:[e.jsx(H,{className:"mb-6",children:e.jsx(M,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(de,{placeholder:"    ...",value:a,onChange:O=>i(O.target.value),className:"pl-10"})]})}),e.jsxs(xt,{value:l,onValueChange:o,children:[e.jsx(ht,{className:"w-full md:w-48",children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),e.jsx(X,{value:"income",children:""}),e.jsx(X,{value:"expense",children:""})]})]}),e.jsxs(xt,{value:c,onValueChange:d,children:[e.jsx(ht,{className:"w-full md:w-48",children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),l==="income"?B1.map(O=>e.jsx(X,{value:O,children:O},O)):l==="expense"?S1.map(O=>e.jsx(X,{value:O,children:O},O)):[...B1,...S1].map(O=>e.jsx(X,{value:O,children:O},O))]})]}),e.jsxs(V,{variant:"outline",onClick:ae,children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),""]})]})})}),e.jsx(H,{children:e.jsxs(M,{className:"p-0",children:[e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:" "}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""})]})}),e.jsx(Wr,{children:ie.map(O=>e.jsxs(ns,{children:[e.jsx(Ve,{children:O.date?new Date(O.date).toLocaleDateString("bn-BD"):"N/A"}),e.jsx(Ve,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:O.description}),O.referenceNumber&&e.jsxs("div",{className:"text-sm text-gray-500",children:["Ref: ",O.referenceNumber]})]})}),e.jsx(Ve,{children:O.category}),e.jsx(Ve,{children:O.paymentMethod}),e.jsx(Ve,{children:e.jsx(Oe,{className:EI[O.transactionType||O.type],children:FI[O.transactionType||O.type]})}),e.jsxs(Ve,{className:`font-medium ${(O.transactionType||O.type)==="income"?"text-green-600":"text-red-600"}`,children:[(O.transactionType||O.type)==="income"?"+":"-","",parseFloat(O.amount).toLocaleString()]}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(V,{variant:"outline",size:"sm",onClick:()=>W(O),children:e.jsx(Yn,{className:"w-4 h-4"})}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>re(O.id),className:"text-red-600 hover:text-red-700",children:e.jsx(Ii,{className:"w-4 h-4"})})]})})]},O.id))})]}),ie.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Wd,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"   "}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"       "})]})]})})]}),e.jsx(bt,{value:"reports",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"   "})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:B1.map(O=>{const ee=ie.filter(Re=>(Re.transactionType||Re.type)==="income"&&Re.category===O).reduce((Re,Ke)=>Re+(parseFloat(Ke.amount)||0),0);if(ee===0)return null;const Le=De>0?ee/De*100:0;return e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:O}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["",ee.toLocaleString()]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",Le.toFixed(1),"%)"]})]})]},O)})})})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"   "})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:S1.map(O=>{const ee=ie.filter(Re=>(Re.transactionType||Re.type)==="expense"&&Re.category===O).reduce((Re,Ke)=>Re+(parseFloat(Ke.amount)||0),0);if(ee===0)return null;const Le=L>0?ee/L*100:0;return e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:O}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["",ee.toLocaleString()]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",Le.toFixed(1),"%)"]})]})]},O)})})})]})]})}),e.jsxs(bt,{value:"reports",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"   "}),e.jsx("p",{className:"text-sm text-gray-600",children:"     "})]}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:" "}),e.jsx(de,{type:"date",value:x,onChange:O=>g(O.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:" "}),e.jsx(de,{type:"date",value:v,onChange:O=>j(O.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:" "}),e.jsxs(xt,{value:B,onValueChange:F,children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"   "})}),e.jsxs(At,{children:[e.jsx(X,{value:"summary",children:" "}),e.jsx(X,{value:"detailed",children:" "}),e.jsx(X,{value:"income",children:" "}),e.jsx(X,{value:"expense",children:" "}),e.jsx(X,{value:"category",children:"  "})]})]})]}),e.jsx(V,{className:"w-full",onClick:Ae,disabled:P,children:P?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"  ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"PDF   "]})})]})})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"  "})]}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(V,{variant:"outline",className:"w-full justify-start",onClick:()=>G("current-month"),disabled:P,children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"   "]}),e.jsxs(V,{variant:"outline",className:"w-full justify-start",onClick:()=>G("last-month"),disabled:P,children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"  - "]}),e.jsxs(V,{variant:"outline",className:"w-full justify-start",onClick:()=>G("yearly"),disabled:P,children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"  "]}),e.jsxs(V,{variant:"outline",className:"w-full justify-start",onClick:()=>G("category-analysis"),disabled:P,children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"   "]})]})})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{children:["  - ",new Date(x).toLocaleDateString("bn-BD"),"  ",new Date(v).toLocaleDateString("bn-BD")]})}),e.jsx(M,{children:(()=>{const O=q();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-800",children:" "}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",O.totalIncome.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-green-600",children:[O.transactions.filter(ee=>(ee.transactionType||ee.type)==="income").length,"  "]})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-red-800",children:" "}),e.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",O.totalExpense.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-red-600",children:[O.transactions.filter(ee=>(ee.transactionType||ee.type)==="expense").length,"  "]})]}),e.jsxs("div",{className:`p-4 rounded-lg ${O.netBalance>=0?"bg-blue-50":"bg-orange-50"}`,children:[e.jsx("h3",{className:`font-semibold ${O.netBalance>=0?"text-blue-800":"text-orange-800"}`,children:" "}),e.jsxs("p",{className:`text-2xl font-bold ${O.netBalance>=0?"text-blue-600":"text-orange-600"}`,children:["",O.netBalance.toLocaleString()]}),e.jsx("p",{className:`text-sm ${O.netBalance>=0?"text-blue-600":"text-orange-600"}`,children:O.netBalance>=0?" ":" "})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"  "}),e.jsxs("div",{className:"space-y-2",children:[O.incomeByCategory.sort((ee,Le)=>Le.total-ee.total).slice(0,5).map(({category:ee,total:Le})=>e.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-sm",children:ee}),e.jsxs("span",{className:"font-medium text-green-600",children:["",Le.toLocaleString()]})]},ee)),O.incomeByCategory.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500",children:e.jsx("p",{children:"    "})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"  "}),e.jsxs("div",{className:"space-y-2",children:[O.expenseByCategory.sort((ee,Le)=>Le.total-ee.total).slice(0,5).map(({category:ee,total:Le})=>e.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-sm",children:ee}),e.jsxs("span",{className:"font-medium text-red-600",children:["",Le.toLocaleString()]})]},ee)),O.expenseByCategory.length===0&&e.jsx("div",{className:"text-center py-4 text-gray-500",children:e.jsx("p",{children:"    "})})]})]})]})]})})()})]})]})]}),e.jsx(pr,{open:A,onOpenChange:m,children:e.jsxs(or,{className:"max-w-2xl",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:p?"  ":"   "}),e.jsx(Nr,{children:p?"   ":"     "})]}),e.jsx(Ms,{...k,children:e.jsxs("form",{onSubmit:k.handleSubmit(I),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:k.control,name:"transactionType",render:({field:O})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsxs(xt,{onValueChange:O.onChange,value:O.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"income",children:""}),e.jsx(X,{value:"expense",children:""})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:k.control,name:"category",render:({field:O})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsxs("div",{className:"relative",children:[e.jsx(de,{...O,placeholder:"       ",className:"mb-2"}),e.jsx("div",{className:"grid grid-cols-2 gap-1 max-h-32 overflow-y-auto border rounded p-2 bg-gray-50",children:ve().map(ee=>e.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"h-8 justify-start text-xs",onClick:()=>O.onChange(ee),children:ee},ee))})]})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:k.control,name:"amount",render:({field:O})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" ()"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"5000",type:"number",...O})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:k.control,name:"date",render:({field:O})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{type:"date",...O})}),e.jsx(_e,{})]})})]}),e.jsx(Se,{control:k.control,name:"description",render:({field:O})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{placeholder:"  ",...O})}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:k.control,name:"paymentMethod",render:({field:O})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsxs(xt,{onValueChange:O.onChange,value:O.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsx(At,{children:S4e.map(ee=>e.jsx(X,{value:ee,children:ee},ee))})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:k.control,name:"referenceNumber",render:({field:O})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" ()"}),e.jsx(Be,{children:e.jsx(de,{placeholder:" ,   ",...O})}),e.jsx(_e,{})]})})]}),e.jsxs(Pl,{children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>m(!1),children:""}),e.jsx(V,{type:"submit",disabled:D.isPending||z.isPending,children:D.isPending||z.isPending?"  ...":p?" ":" "})]})]})})]})})]})})}function _4e(){const{toast:t}=ls(),s=Cs(),[r,n]=b.useState("all"),[a,i]=b.useState(""),[l,o]=b.useState("all"),[c,d]=b.useState(!1),[u,h]=b.useState(null),[A,m]=b.useState({staffId:"",name:"",nameInBangla:"",department:"",designation:"",phone:"",email:"",address:"",joinDate:"",salary:""}),{data:p=[],isLoading:f,error:x,refetch:g}=st({queryKey:["/api/staff"],staleTime:0,gcTime:0}),v=Bt({mutationFn:async _=>{const k={..._,staffId:_.staffId||`STF${Date.now()}`,salary:parseInt(_.salary)||0,joinDate:_.joinDate||new Date().toISOString().split("T")[0],status:"active",schoolId:1};return Vt("/api/staff",{method:"POST",body:JSON.stringify(k)})},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/staff"]}),t({title:"   ",description:"     "}),d(!1),N()},onError:_=>{t({title:"",description:"    ",variant:"destructive"})}}),j=Bt({mutationFn:async({id:_,...k})=>{const D={...k,salary:parseInt(k.salary)||0};return Vt(`/api/staff/${_}`,{method:"PATCH",body:JSON.stringify(D)})},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/staff"]}),t({title:"   ",description:"     "}),h(null),N()},onError:_=>{t({title:"",description:"    ",variant:"destructive"})}}),B=Bt({mutationFn:async _=>Vt(`/api/staff/${_}`,{method:"DELETE"}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/staff"]}),t({title:"   ",description:"    "})},onError:_=>{t({title:"",description:"    ",variant:"destructive"})}}),F=_=>{_.preventDefault(),u?j.mutate({id:u.id,...A}):v.mutate(A)},P=_=>{var k;h(_),m({staffId:_.staffId||"",name:_.name||"",nameInBangla:_.nameInBangla||"",department:_.department||"",designation:_.designation||"",phone:_.phone||"",email:_.email||"",address:_.address||"",joinDate:_.joinDate||"",salary:((k=_.salary)==null?void 0:k.toString())||""}),d(!0)},E=_=>{confirm("        ?")&&B.mutate(_)},N=()=>{m({staffId:"",name:"",nameInBangla:"",department:"",designation:"",phone:"",email:"",address:"",joinDate:"",salary:""}),h(null)},C=(p||[]).filter(_=>{if(!_)return!1;const k=r==="all"||r==="active"&&_.status==="active"||r==="inactive"&&_.status==="inactive",D=a.toLowerCase(),z=!a||_.name&&_.name.toLowerCase().includes(D)||_.nameInBangla&&_.nameInBangla.includes(a)||_.staffId&&_.staffId.includes(a)||_.phone&&_.phone.includes(a),K=l==="all"||_.department===l;return k&&z&&K});return x?e.jsx(is,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"    "}),e.jsx(V,{onClick:()=>g(),variant:"outline",children:"  "})]})})}):e.jsxs(is,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-gray-600 mt-2",children:"   ,       "})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx(H,{className:"border-l-4 border-l-blue-500",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Array.isArray(p)?p.length:0})]}),e.jsx(ss,{className:"w-8 h-8 text-blue-500"})]})})}),e.jsx(H,{className:"border-l-4 border-l-green-500",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:Array.isArray(p)?p.filter(_=>_.status==="active").length:0})]}),e.jsx(ks,{className:"w-8 h-8 text-green-500"})]})})}),e.jsx(H,{className:"border-l-4 border-l-orange-500",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Array.isArray(p)?p.filter(_=>_.status==="inactive").length:0})]}),e.jsx(aa,{className:"w-8 h-8 text-orange-500"})]})})}),e.jsx(H,{className:"border-l-4 border-l-purple-500",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Array.isArray(p)?p.filter(_=>{const k=new Date(_.joinDate),D=new Date;return D.setDate(D.getDate()-30),k>D}).length:0})]}),e.jsx(Ls,{className:"w-8 h-8 text-purple-500"})]})})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(de,{placeholder:" ,      ...",value:a,onChange:_=>i(_.target.value),className:"pl-10 pr-4 py-2"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"w-4 h-4"}),""]}),e.jsxs(pr,{open:c,onOpenChange:d,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{className:"flex items-center gap-2",onClick:()=>{N(),d(!0)},children:[e.jsx(Ls,{className:"w-4 h-4"}),"   "]})}),e.jsxs(or,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:u?" ":"   "}),e.jsx(Nr,{children:"     "})]}),e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"staffId",children:" "}),e.jsx(de,{id:"staffId",value:A.staffId,onChange:_=>m({...A,staffId:_.target.value}),placeholder:"STF001"})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"name",children:" ()"}),e.jsx(de,{id:"name",value:A.name,onChange:_=>m({...A,name:_.target.value}),placeholder:"Staff Name",required:!0})]})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"nameInBangla",children:" ()"}),e.jsx(de,{id:"nameInBangla",value:A.nameInBangla,onChange:_=>m({...A,nameInBangla:_.target.value}),placeholder:" "})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"department",children:""}),e.jsxs(xt,{value:A.department,onValueChange:_=>m({...A,department:_}),children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:"Administration",children:""}),e.jsx(X,{value:"Accounts",children:""}),e.jsx(X,{value:"Library",children:""}),e.jsx(X,{value:"Laboratory",children:""}),e.jsx(X,{value:"Security",children:""}),e.jsx(X,{value:"Cleaning",children:""}),e.jsx(X,{value:"Transport",children:""})]})]})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"designation",children:""}),e.jsx(de,{id:"designation",value:A.designation,onChange:_=>m({...A,designation:_.target.value}),placeholder:" "})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"phone",children:" "}),e.jsx(de,{id:"phone",value:A.phone,onChange:_=>m({...A,phone:_.target.value}),placeholder:"+880123456789"})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"email",children:""}),e.jsx(de,{id:"email",type:"email",value:A.email,onChange:_=>m({...A,email:_.target.value}),placeholder:"staff@school.com"})]})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"address",children:""}),e.jsx(de,{id:"address",value:A.address,onChange:_=>m({...A,address:_.target.value}),placeholder:", "})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"joinDate",children:" "}),e.jsx(de,{id:"joinDate",type:"date",value:A.joinDate,onChange:_=>m({...A,joinDate:_.target.value})})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"salary",children:""}),e.jsx(de,{id:"salary",type:"number",value:A.salary,onChange:_=>m({...A,salary:_.target.value}),placeholder:"15000"})]})]}),e.jsxs(Pl,{children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>d(!1),children:""}),e.jsx(V,{type:"submit",disabled:v.isPending||j.isPending,children:u?" ":" "})]})]})]})]})]})]}),e.jsxs(Ar,{value:r,onValueChange:n,className:"mb-6",children:[e.jsxs(ir,{children:[e.jsxs(lt,{value:"all",children:["  (",Array.isArray(p)?p.length:0,")"]}),e.jsxs(lt,{value:"active",children:[" (",Array.isArray(p)?p.filter(_=>_.status==="active").length:0,")"]}),e.jsxs(lt,{value:"inactive",children:[" (",Array.isArray(p)?p.filter(_=>_.status==="inactive").length:0,")"]})]}),e.jsx(bt,{value:r,children:f?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"   ..."})]})}):e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""})]})}),e.jsx(Wr,{children:C.length===0?e.jsx(ns,{children:e.jsx(Ve,{colSpan:6,className:"text-center py-8",children:e.jsx("div",{className:"text-gray-500",children:"   "})})}):C.map((_,k)=>{var D;return e.jsxs(ns,{children:[e.jsx(Ve,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(wm,{children:[e.jsx(y0,{src:_.photo}),e.jsx(bm,{children:((D=_.name)==null?void 0:D.split(" ").map(z=>z[0]).join(""))||"S"})]}),e.jsxs("div",{children:[e.jsx(R_,{trigger:e.jsx("button",{className:"font-medium text-blue-600 hover:text-blue-800 hover:underline text-left",children:_.nameInBangla||_.name}),profile:_,type:"staff",language:"bn"}),e.jsx("div",{className:"text-sm text-gray-500",children:_.staffId})]})]})}),e.jsx(Ve,{children:_.department}),e.jsx(Ve,{children:_.designation}),e.jsx(Ve,{children:_.phone}),e.jsx(Ve,{children:e.jsx(Oe,{variant:_.status==="active"?"default":"secondary",children:_.status==="active"?"":""})}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"outline",size:"sm",onClick:()=>P(_),children:e.jsx(Yn,{className:"w-4 h-4"})}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>E(_.id),disabled:B.isPending,children:e.jsx(Ii,{className:"w-4 h-4"})})]})})]},_.id||k)})})]})})]})})]})]})}function E4e(){const{toast:t}=ls(),s=Cs(),[r,n]=b.useState("all"),[a,i]=b.useState(""),[l,o]=b.useState(!1),[c,d]=b.useState(null),[u,h]=b.useState({parentId:"",fatherName:"",fatherNameInBangla:"",motherName:"",motherNameInBangla:"",occupation:"",phone:"",email:"",address:"",nid:"",emergencyContact:""}),{data:A=[],isLoading:m,error:p,refetch:f}=st({queryKey:["/api/parents"],staleTime:0,gcTime:0}),x=Bt({mutationFn:async N=>{const C={...N,parentId:N.parentId||`P${Date.now()}`,status:"active",schoolId:1};return Vt("/api/parents",{method:"POST",body:JSON.stringify(C)})},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/parents"]}),t({title:"   ",description:"     "}),o(!1),P()},onError:N=>{t({title:"",description:"    ",variant:"destructive"})}}),g=Bt({mutationFn:async({id:N,...C})=>Vt(`/api/parents/${N}`,{method:"PATCH",body:JSON.stringify(C)}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/parents"]}),t({title:"   ",description:"     "}),d(null),P()},onError:N=>{t({title:"",description:"    ",variant:"destructive"})}}),v=Bt({mutationFn:async N=>Vt(`/api/parents/${N}`,{method:"DELETE"}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/parents"]}),t({title:"   ",description:"    "})},onError:N=>{t({title:"",description:"    ",variant:"destructive"})}}),j=N=>{N.preventDefault(),c?g.mutate({id:c.id,...u}):x.mutate(u)},B=N=>{d(N),h({parentId:N.parentId||"",fatherName:N.fatherName||"",fatherNameInBangla:N.fatherNameInBangla||"",motherName:N.motherName||"",motherNameInBangla:N.motherNameInBangla||"",occupation:N.occupation||"",phone:N.phone||"",email:N.email||"",address:N.address||"",nid:N.nid||"",emergencyContact:N.emergencyContact||""}),o(!0)},F=N=>{confirm("        ?")&&v.mutate(N)},P=()=>{h({parentId:"",fatherName:"",fatherNameInBangla:"",motherName:"",motherNameInBangla:"",occupation:"",phone:"",email:"",address:"",nid:"",emergencyContact:""}),d(null)},E=(A||[]).filter(N=>{if(!N)return!1;const C=r==="all"||r==="active"&&N.status==="active"||r==="inactive"&&N.status==="inactive",_=a.toLowerCase(),k=!a||N.fatherName&&N.fatherName.toLowerCase().includes(_)||N.fatherNameInBangla&&N.fatherNameInBangla.includes(a)||N.motherName&&N.motherName.toLowerCase().includes(_)||N.motherNameInBangla&&N.motherNameInBangla.includes(a)||N.parentId&&N.parentId.includes(a)||N.phone&&N.phone.includes(a);return C&&k});return p?e.jsx(is,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"    "}),e.jsx(V,{onClick:()=>f(),variant:"outline",children:"  "})]})})}):e.jsxs(is,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-gray-600 mt-2",children:"   ,       "})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx(H,{className:"border-l-4 border-l-blue-500",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Array.isArray(A)?A.length:0})]}),e.jsx(ss,{className:"w-8 h-8 text-blue-500"})]})})}),e.jsx(H,{className:"border-l-4 border-l-green-500",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:Array.isArray(A)?A.filter(N=>N.status==="active").length:0})]}),e.jsx(ks,{className:"w-8 h-8 text-green-500"})]})})}),e.jsx(H,{className:"border-l-4 border-l-orange-500",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Array.isArray(A)?A.filter(N=>N.status==="inactive").length:0})]}),e.jsx(aa,{className:"w-8 h-8 text-orange-500"})]})})}),e.jsx(H,{className:"border-l-4 border-l-purple-500",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Array.isArray(A)?A.filter(N=>{const C=new Date(N.createdAt),_=new Date;return _.setDate(_.getDate()-30),C>_}).length:0})]}),e.jsx(Ls,{className:"w-8 h-8 text-purple-500"})]})})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(de,{placeholder:" ,      ...",value:a,onChange:N=>i(N.target.value),className:"pl-10 pr-4 py-2"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"w-4 h-4"}),""]}),e.jsxs(pr,{open:l,onOpenChange:o,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{className:"flex items-center gap-2",onClick:()=>{P(),o(!0)},children:[e.jsx(Ls,{className:"w-4 h-4"}),"   "]})}),e.jsxs(or,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:c?" ":"   "}),e.jsx(Nr,{children:"     "})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"parentId",children:" "}),e.jsx(de,{id:"parentId",value:u.parentId,onChange:N=>h({...u,parentId:N.target.value}),placeholder:"P001"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"fatherName",children:"  ()"}),e.jsx(de,{id:"fatherName",value:u.fatherName,onChange:N=>h({...u,fatherName:N.target.value}),placeholder:"Father Name",required:!0})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"fatherNameInBangla",children:"  ()"}),e.jsx(de,{id:"fatherNameInBangla",value:u.fatherNameInBangla,onChange:N=>h({...u,fatherNameInBangla:N.target.value}),placeholder:" "})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"motherName",children:"  ()"}),e.jsx(de,{id:"motherName",value:u.motherName,onChange:N=>h({...u,motherName:N.target.value}),placeholder:"Mother Name",required:!0})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"motherNameInBangla",children:"  ()"}),e.jsx(de,{id:"motherNameInBangla",value:u.motherNameInBangla,onChange:N=>h({...u,motherNameInBangla:N.target.value}),placeholder:" "})]})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"occupation",children:""}),e.jsx(de,{id:"occupation",value:u.occupation,onChange:N=>h({...u,occupation:N.target.value}),placeholder:",  "})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"phone",children:" "}),e.jsx(de,{id:"phone",value:u.phone,onChange:N=>h({...u,phone:N.target.value}),placeholder:"+880123456789",required:!0})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"email",children:""}),e.jsx(de,{id:"email",type:"email",value:u.email,onChange:N=>h({...u,email:N.target.value}),placeholder:"parent@email.com"})]})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"address",children:""}),e.jsx(de,{id:"address",value:u.address,onChange:N=>h({...u,address:N.target.value}),placeholder:" ",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"nid",children:"  "}),e.jsx(de,{id:"nid",value:u.nid,onChange:N=>h({...u,nid:N.target.value}),placeholder:"1234567890123"})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"emergencyContact",children:" "}),e.jsx(de,{id:"emergencyContact",value:u.emergencyContact,onChange:N=>h({...u,emergencyContact:N.target.value}),placeholder:"+880987654321"})]})]}),e.jsxs(Pl,{children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>o(!1),children:""}),e.jsx(V,{type:"submit",disabled:x.isPending||g.isPending,children:c?" ":" "})]})]})]})]})]})]}),e.jsxs(Ar,{value:r,onValueChange:n,className:"mb-6",children:[e.jsxs(ir,{children:[e.jsxs(lt,{value:"all",children:["  (",Array.isArray(A)?A.length:0,")"]}),e.jsxs(lt,{value:"active",children:[" (",Array.isArray(A)?A.filter(N=>N.status==="active").length:0,")"]}),e.jsxs(lt,{value:"inactive",children:[" (",Array.isArray(A)?A.filter(N=>N.status==="inactive").length:0,")"]})]}),e.jsx(bt,{value:r,children:m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"   ..."})]})}):e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:""}),e.jsx(We,{children:"-"}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""})]})}),e.jsx(Wr,{children:E.length===0?e.jsx(ns,{children:e.jsx(Ve,{colSpan:6,className:"text-center py-8",children:e.jsx("div",{className:"text-gray-500",children:"   "})})}):E.map((N,C)=>{var _;return e.jsxs(ns,{children:[e.jsx(Ve,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(wm,{children:[e.jsx(y0,{src:N.photo}),e.jsx(bm,{children:((_=N.fatherName)==null?void 0:_.split(" ").map(k=>k[0]).join(""))||"P"})]}),e.jsxs("div",{children:[e.jsx(R_,{trigger:e.jsx("button",{className:"font-medium text-blue-600 hover:text-blue-800 hover:underline text-left",children:N.fatherNameInBangla||N.fatherName}),profile:N,type:"parent",language:"bn"}),e.jsx("div",{className:"text-sm text-gray-500",children:N.parentId})]})]})}),e.jsx(Ve,{children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{children:[": ",N.fatherNameInBangla||N.fatherName]}),e.jsxs("div",{children:[": ",N.motherNameInBangla||N.motherName]})]})}),e.jsx(Ve,{children:N.occupation}),e.jsx(Ve,{children:N.phone}),e.jsx(Ve,{children:e.jsx(Oe,{variant:N.status==="active"?"default":"secondary",children:N.status==="active"?"":""})}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"outline",size:"sm",onClick:()=>B(N),children:e.jsx(Yn,{className:"w-4 h-4"})}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>F(N.id),disabled:v.isPending,children:e.jsx(Ii,{className:"w-4 h-4"})})]})})]},N.id||C)})})]})})]})})]})]})}function Qr({title:t,description:s,children:r,primaryAction:n,secondaryActions:a=[],headerRight:i,className:l,breadcrumbs:o,backButton:c,onBackButtonClick:d}){const u=jo();return e.jsxs("div",{className:at("relative flex flex-col min-h-screen",l),dir:"ltr",children:[e.jsx("div",{className:"px-4 py-4 mb-4 bg-background sticky top-0 z-10 border-b",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[c&&d&&e.jsxs("button",{onClick:d,className:"flex items-center text-sm mb-2 text-muted-foreground hover:text-primary transition-colors",children:[e.jsx("span",{className:"material-icons text-sm mr-1",children:"arrow_back"}),e.jsx("span",{children:"Back"})]}),o&&o.length>0&&e.jsx("div",{className:"flex items-center text-sm mb-2 text-muted-foreground",children:o.map((h,A)=>e.jsxs(gs.Fragment,{children:[A>0&&e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("a",{href:h.path,className:"hover:text-primary transition-colors",children:h.label})]},A))}),e.jsx("h1",{className:"text-2xl font-bold text-primary",children:t}),s&&e.jsx("p",{className:"text-muted-foreground mt-1 text-base",children:s})]}),i&&!u&&e.jsx("div",{className:"flex items-center",children:i}),(n||a.length>0)&&!u&&e.jsxs("div",{className:"flex gap-3",children:[a.map((h,A)=>e.jsxs(V,{variant:h.variant||"outline",className:"flex items-center gap-2 px-4 py-2 h-10",onClick:h.onClick,children:[e.jsx("span",{className:"material-icons text-lg",children:h.icon}),h.label]},A)),n&&e.jsx(V,{className:"flex items-center gap-2 px-6 py-2 h-10",onClick:n.onClick,children:n.isLoading?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons animate-spin",children:"refresh"}),n.loadingText||"Loading..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons text-lg",children:n.icon}),n.label]})})]})]})}),e.jsx("div",{className:"flex-1 px-3 md:px-6 pb-24 md:pb-12",children:r}),(n||a.length>0)&&u&&e.jsxs("div",{className:"fixed bottom-16 right-4 z-20 flex flex-col gap-2",children:[a.map((h,A)=>e.jsx(V,{variant:h.variant||"outline",size:"icon",className:"rounded-full w-12 h-12 shadow-lg",onClick:h.onClick,children:e.jsx("span",{className:"material-icons text-xl",children:h.icon})},A)),n&&e.jsx(V,{size:"lg",className:"rounded-full w-14 h-14 shadow-lg",onClick:n.onClick,children:n.isLoading?e.jsx("span",{className:"material-icons animate-spin text-xl",children:"refresh"}):e.jsx("span",{className:"material-icons text-xl",children:n.icon})})]})]})}const F4e=()=>st({queryKey:["library-borrowed"],queryFn:async()=>{const{data:t,error:s}=await br.functions.invoke("complete-library-system/borrowed");if(s)throw s;return t},refetchInterval:3e4}),T4e=()=>st({queryKey:["library-stats"],queryFn:async()=>{const{data:t,error:s}=await br.functions.invoke("complete-library-system/stats");if(s)throw s;return t},refetchInterval:6e4}),L4e=()=>st({queryKey:["inventory-movements"],queryFn:async()=>{const{data:t,error:s}=await br.functions.invoke("complete-inventory-system/movements");if(s)throw s;return t},refetchInterval:3e4}),I4e=()=>st({queryKey:["inventory-stats"],queryFn:async()=>{const{data:t,error:s}=await br.functions.invoke("complete-inventory-system/stats");if(s)throw s;return t},refetchInterval:6e4}),P4e=()=>st({queryKey:["low-stock-items"],queryFn:async()=>{const{data:t,error:s}=await br.functions.invoke("complete-inventory-system/low-stock");if(s)throw s;return t},refetchInterval:6e4}),hw={totalRoutes:80,eliminatedRoutes:["/api/students","/api/teachers","/api/library/books","/api/inventory/items","/api/dashboard/stats","/api/notifications","/api/calendar/events","/api/documents/generate","/api/documents/templates","/api/payments/process","/api/library/borrow","/api/library/return","/api/library/stats","/api/inventory/movements","/api/inventory/stats","/api/users","/api/auth/signin","/api/auth/signup"],getProgress:()=>{const t=hw.eliminatedRoutes.length,s=hw.totalRoutes;return{eliminated:t,total:s,percentage:Math.round(t/s*100),remaining:s-t}},logProgress:()=>{const t=hw.getProgress();return console.log(` EXPRESS ELIMINATION: ${t.eliminated}/${t.total} routes (${t.percentage}%)`),console.log(` TARGET: 0 Express Server Count - ${t.remaining} routes remaining`),t}};hw.logProgress();const D4e=Y.object({title:Y.string().min(1,"  "),titleBn:Y.string().min(1,"  "),author:Y.string().min(1,"  "),isbn:Y.string().optional(),category:Y.string().min(1,"  "),publisher:Y.string().optional(),publishYear:Y.number().min(1900).max(new Date().getFullYear()),totalCopies:Y.number().min(1,"    "),location:Y.string().min(1," "),description:Y.string().optional()}),U4e=Y.object({studentId:Y.string().min(1,"  "),bookId:Y.string().min(1,"  "),dueDate:Y.date(),notes:Y.string().optional()});function TI(){const{toast:t}=ls(),s=Cs(),[r,n]=b.useState("dashboard"),[a,i]=b.useState(""),[l,o]=b.useState("all"),[c,d]=b.useState("all"),[u,h]=b.useState(!1),[A,m]=b.useState(!1),[p,f]=b.useState(!1),[x,g]=b.useState(null),v=zs({resolver:qs(D4e),defaultValues:{title:"",titleBn:"",author:"",isbn:"",category:"",publisher:"",publishYear:new Date().getFullYear(),totalCopies:1,location:"",description:""}}),j=zs({resolver:qs(U4e),defaultValues:{studentId:"",bookId:"",dueDate:new Date(Date.now()+14*24*60*60*1e3),notes:""}}),{data:B=[],isLoading:F}=kve(1),{data:P=[]}=useStudents(1),{data:E=[],isLoading:N}=F4e(),{data:C={},isLoading:_,error:k}=T4e(),D=Bt({mutationFn:W=>apiRequest("/api/library/books","POST",W),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/library/books"]}),s.invalidateQueries({queryKey:["/api/library/stats"]}),h(!1),v.reset(),t({title:"",description:"   "})},onError:()=>{t({title:"",description:"   ",variant:"destructive"})}});Bt({mutationFn:W=>apiRequest("/api/library/borrow","POST",W),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/library/borrowed"]}),s.invalidateQueries({queryKey:["/api/library/books"]}),s.invalidateQueries({queryKey:["/api/library/stats"]}),f(!1),j.reset(),t({title:"",description:"   "})},onError:()=>{t({title:"",description:"   ",variant:"destructive"})}}),Bt({mutationFn:W=>apiRequest("/api/library/return","POST",{borrowId:W}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/library/borrowed"]}),s.invalidateQueries({queryKey:["/api/library/books"]}),s.invalidateQueries({queryKey:["/api/library/stats"]}),t({title:"",description:"   "})},onError:()=>{t({title:"",description:"   ",variant:"destructive"})}}),Bt({mutationFn:W=>apiRequest(`/api/library/books/${W}`,"DELETE"),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/library/books"]}),s.invalidateQueries({queryKey:["/api/library/stats"]}),t({title:"",description:"   "})},onError:()=>{t({title:"",description:"   ",variant:"destructive"})}}),Bt({mutationFn:({id:W,data:re})=>apiRequest(`/api/library/books/${W}`,"PATCH",re),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/library/books"]}),s.invalidateQueries({queryKey:["/api/library/stats"]}),m(!1),editForm.reset(),t({title:"",description:"   "})},onError:()=>{t({title:"",description:"   ",variant:"destructive"})}});const z=b.useMemo(()=>B.filter(W=>{const re=a===""||W.title.toLowerCase().includes(a.toLowerCase())||W.titleBn.includes(a)||W.author.toLowerCase().includes(a.toLowerCase()),I=l==="all"||W.category===l;return re&&I}),[B,a,l]);b.useMemo(()=>E.filter(W=>{var ie,ve;const re=a===""||((ie=W.book)==null?void 0:ie.title.toLowerCase().includes(a.toLowerCase()))||((ve=W.student)==null?void 0:ve.name.toLowerCase().includes(a.toLowerCase())),I=c==="all"||c==="overdue"&&W.dueDate&&new Date(W.dueDate)<new Date||c==="active"&&W.dueDate&&new Date(W.dueDate)>=new Date;return re&&I}),[E,a,c]);const K=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 border-blue-200 dark:border-blue-800",children:[e.jsx(oe,{className:"pb-2",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Ks,{className:"h-4 w-4 text-blue-600"})," "]})}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:(C==null?void 0:C.totalBooks)||0}),e.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:[(C==null?void 0:C.availableBooks)||0,"  "]})]})]}),e.jsxs(H,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 border-green-200 dark:border-green-800",children:[e.jsx(oe,{className:"pb-2",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ss,{className:"h-4 w-4 text-green-600"})," "]})}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:(C==null?void 0:C.borrowedBooks)||0}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[(C==null?void 0:C.activeBorrowers)||0,"  "]})]})]}),e.jsxs(H,{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900 border-orange-200 dark:border-orange-800",children:[e.jsx(oe,{className:"pb-2",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(aa,{className:"h-4 w-4 text-orange-600"})," "]})}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300",children:C.overdueBooks||0}),e.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:[C.overdueBorrowers||0,"  "]})]})]}),e.jsxs(H,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 border-purple-200 dark:border-purple-800",children:[e.jsx(oe,{className:"pb-2",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(bn,{className:"h-4 w-4 text-purple-600"})," "]})}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:C.popularBooks||0}),e.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:" "})]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(hr,{className:"h-5 w-5"})," "]})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-3",children:E.slice(0,5).map(W=>{var re,I;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${W.dueDate&&new Date(W.dueDate)<new Date?"bg-red-500":"bg-green-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:(re=W.book)==null?void 0:re.title}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(I=W.student)==null?void 0:I.name,"  ",W.borrowDate?Vs(new Date(W.borrowDate),"dd/MM/yyyy"):" "]})]})]}),e.jsx(Oe,{variant:W.dueDate&&new Date(W.dueDate)<new Date?"destructive":"secondary",children:W.dueDate&&new Date(W.dueDate)<new Date?"":""})]},W.id)})})})]})]}),xe=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center flex-1",children:[e.jsxs("div",{className:"relative flex-1 min-w-64",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(de,{placeholder:"  (, )...",value:a,onChange:W=>i(W.target.value),className:"pl-10","aria-label":" "})]}),e.jsxs(xt,{value:l,onValueChange:o,children:[e.jsx(ht,{className:"w-48",children:e.jsx(pt,{placeholder:" "})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),e.jsx(X,{value:"textbook",children:""}),e.jsx(X,{value:"reference",children:""}),e.jsx(X,{value:"literature",children:""}),e.jsx(X,{value:"science",children:""}),e.jsx(X,{value:"history",children:""})]})]})]}),e.jsxs(pr,{open:u,onOpenChange:h,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{className:"gap-2",children:[e.jsx(Ls,{className:"h-4 w-4"})," "]})}),e.jsxs(or,{className:"max-w-2xl",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"  "}),e.jsx(Nr,{children:"    "})]}),e.jsx(Ms,{...v,children:e.jsxs("form",{onSubmit:v.handleSubmit(W=>D.mutate(W)),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Se,{control:v.control,name:"title",render:({field:W})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{...W,placeholder:"Book Title"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:v.control,name:"titleBn",render:({field:W})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{...W,placeholder:" "})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:v.control,name:"author",render:({field:W})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{...W,placeholder:" "})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:v.control,name:"isbn",render:({field:W})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"ISBN"}),e.jsx(Be,{children:e.jsx(de,{...W,placeholder:"978-1234567890"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:v.control,name:"category",render:({field:W})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsxs(xt,{onValueChange:W.onChange,defaultValue:W.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"textbook",children:""}),e.jsx(X,{value:"reference",children:""}),e.jsx(X,{value:"literature",children:""}),e.jsx(X,{value:"science",children:""}),e.jsx(X,{value:"history",children:""})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:v.control,name:"totalCopies",render:({field:W})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"number",...W,onChange:re=>W.onChange(parseInt(re.target.value)),placeholder:"1"})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>h(!1),children:""}),e.jsx(V,{type:"submit",disabled:D.isPending,children:D.isPending?"  ...":" "})]})]})})]})]})]}),e.jsx(H,{children:e.jsx(M,{className:"p-0",children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:" "}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:"/"}),e.jsx(We,{children:""}),e.jsx(We,{className:"text-right",children:""})]})}),e.jsx(Wr,{children:F?e.jsx(ns,{children:e.jsx(Ve,{colSpan:6,className:"text-center py-8",children:" ..."})}):z.length===0?e.jsx(ns,{children:e.jsx(Ve,{colSpan:6,className:"text-center py-8",children:"   "})}):z.map(W=>e.jsxs(ns,{children:[e.jsx(Ve,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:W.titleBn}),e.jsx("p",{className:"text-sm text-gray-600",children:W.title})]})}),e.jsx(Ve,{children:W.author}),e.jsx(Ve,{children:e.jsx(Oe,{variant:"secondary",children:W.category})}),e.jsx(Ve,{children:e.jsxs("span",{className:`font-medium ${W.availableCopies>0?"text-green-600":"text-red-600"}`,children:[W.availableCopies,"/",W.totalCopies]})}),e.jsx(Ve,{children:e.jsx(Oe,{variant:W.availableCopies>0?"success":"destructive",children:W.availableCopies>0?"":" "})}),e.jsx(Ve,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(V,{size:"sm",variant:"outline",children:e.jsx(cn,{className:"h-4 w-4"})}),e.jsx(V,{size:"sm",variant:"outline",children:e.jsx(Yn,{className:"h-4 w-4"})})]})})]},W.id))})]})})})]});return e.jsx(is,{children:e.jsx(Qr,{title:" ",description:" ,    ",actions:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Ute,{className:"h-4 w-4 mr-2"}),"QR "]})]}),children:e.jsxs(Ar,{value:r,onValueChange:n,className:"space-y-6",children:[e.jsxs(ir,{className:"grid w-full grid-cols-4",children:[e.jsx(lt,{value:"dashboard",children:""}),e.jsx(lt,{value:"books",children:" "}),e.jsx(lt,{value:"borrowed",children:""}),e.jsx(lt,{value:"reports",children:""})]}),e.jsx(bt,{value:"dashboard",className:"space-y-6",children:K()}),e.jsx(bt,{value:"books",className:"space-y-6",children:xe()}),e.jsx(bt,{value:"borrowed",className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ks,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:" "}),e.jsx("p",{className:"text-gray-600",children:"    "})]})}),e.jsx(bt,{value:"reports",className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(bn,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:" "}),e.jsx("p",{className:"text-gray-600",children:"   "})]})})]})})})}const O4e=Y.object({name:Y.string().min(1,"  "),name_bn:Y.string().min(1,"  "),category:Y.string().min(1,"  "),subcategory:Y.string().optional(),brand:Y.string().optional(),model:Y.string().optional(),serial_number:Y.string().optional(),unit_price:Y.string().min(0," "),current_quantity:Y.string().min(0," "),minimum_threshold:Y.string().min(0,"  "),unit:Y.string().min(1,"  "),supplier:Y.string().optional(),location:Y.string().min(1," "),condition:Y.string().min(1,"  "),description:Y.string().optional()}),R4e=Y.object({itemId:Y.string().min(1,"  "),type:Y.enum(["in","out","adjustment"]),quantity:Y.number().min(1,"       "),reason:Y.string().min(1," "),reference:Y.string().optional(),notes:Y.string().optional()});function LI(){const{toast:t}=ls(),s=Cs(),[r,n]=b.useState("dashboard"),[a,i]=b.useState(""),[l,o]=b.useState("all"),[c,d]=b.useState("all"),[u,h]=b.useState(!1),[A,m]=b.useState(!1),[p,f]=b.useState(!1),[x,g]=b.useState(null),[v,j]=b.useState(null),B=zs({resolver:qs(O4e),defaultValues:{name:"",name_bn:"",category:"",subcategory:"",brand:"",model:"",serial_number:"",unit_price:"0",current_quantity:"0",minimum_threshold:"10",unit:"",supplier:"",location:"",condition:"",description:""}}),F=zs({resolver:qs(R4e),defaultValues:{itemId:"",type:"in",quantity:1,reason:"",reference:"",notes:""}}),{data:P=[],isLoading:E}=Fve(1),{data:N=[],isLoading:C}=L4e(),{data:_={}}=I4e(),{data:k=[]}=P4e(),D=Bt({mutationFn:I=>apiRequest("/api/inventory/items","POST",I),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/inventory/items"]}),s.invalidateQueries({queryKey:["/api/inventory/stats"]}),h(!1),B.reset(),t({title:"",description:"   "})},onError:()=>{t({title:"",description:"   ",variant:"destructive"})}}),z=Bt({mutationFn:I=>apiRequest("/api/inventory/movements","POST",I),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/inventory/items"]}),s.invalidateQueries({queryKey:["/api/inventory/movements"]}),s.invalidateQueries({queryKey:["/api/inventory/stats"]}),f(!1),F.reset(),t({title:"",description:"   "})},onError:()=>{t({title:"",description:"   ",variant:"destructive"})}}),K=Bt({mutationFn:I=>apiRequest(`/api/inventory/items/${I}`,"DELETE"),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/inventory/items"]}),s.invalidateQueries({queryKey:["/api/inventory/movements"]}),t({title:"",description:"    "})},onError:I=>{t({title:"",description:"   ",variant:"destructive"})}});Bt({mutationFn:({id:I,data:ie})=>apiRequest(`/api/inventory/items/${I}`,"PUT",ie),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/inventory/items"]}),m(!1),j(null),B.reset(),t({title:"",description:"    "})},onError:I=>{t({title:"",description:"   ",variant:"destructive"})}});const xe=b.useMemo(()=>P.filter(I=>{const ie=a===""||I.name.toLowerCase().includes(a.toLowerCase())||I.name_bn&&I.name_bn.includes(a)||I.brand&&I.brand.toLowerCase().includes(a.toLowerCase()),ve=l==="all"||I.category===l,De=c==="all"||c==="low"&&I.current_quantity<=I.minimum_threshold||c==="out"&&I.current_quantity===0||c==="good"&&I.current_quantity>I.minimum_threshold;return ie&&ve&&De}),[P,a,l,c]),W=b.useMemo(()=>{const I=P.length,ie=new Set(P.map(U=>U.category)).size,ve=P.reduce((U,R)=>U+R.current_quantity*Number(R.unit_price),0),De=P.filter(U=>U.current_quantity<=U.minimum_threshold&&U.current_quantity>0).length,L=P.filter(U=>U.current_quantity===0).length;return{totalItems:I,totalCategories:ie,totalValue:ve,lowStockItems:De,outOfStockItems:L}},[P]),re=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 border-blue-200 dark:border-blue-800",children:[e.jsx(oe,{className:"pb-2",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(tm,{className:"h-4 w-4 text-blue-600"})," "]})}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:W.totalItems}),e.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:[W.totalCategories,"  "]})]})]}),e.jsxs(H,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 border-green-200 dark:border-green-800",children:[e.jsx(oe,{className:"pb-2",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(bn,{className:"h-4 w-4 text-green-600"})," "]})}),e.jsxs(M,{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:[" ",W.totalValue.toLocaleString()]}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:" "})]})]}),e.jsxs(H,{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900 border-orange-200 dark:border-orange-800",children:[e.jsx(oe,{className:"pb-2",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(yn,{className:"h-4 w-4 text-orange-600"})," "]})}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300",children:W.lowStockItems}),e.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:"  "})]})]}),e.jsxs(H,{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950 dark:to-red-900 border-red-200 dark:border-red-800",children:[e.jsx(oe,{className:"pb-2",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ug,{className:"h-4 w-4 text-red-600"})," "]})}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:W.outOfStockItems}),e.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:" "})]})]})]}),W.lowStockItems>0&&e.jsxs(H,{className:"border-orange-200 dark:border-orange-800",children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2 text-orange-700 dark:text-orange-300",children:[e.jsx(yn,{className:"h-5 w-5"}),"  "]}),e.jsx(ct,{children:"     "})]}),e.jsx(M,{children:e.jsx("div",{className:"space-y-3",children:P.filter(I=>I.current_quantity<=I.minimum_threshold&&I.current_quantity>0).slice(0,5).map(I=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 dark:bg-orange-950 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(yn,{className:"h-4 w-4 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:I.name_bn||I.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[": ",I.current_quantity," ",I.unit,"  : ",I.minimum_threshold," ",I.unit]})]})]}),e.jsx(V,{size:"sm",variant:"outline",children:" "})]},I.id))})})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(yl,{className:"h-5 w-5"}),"  "]})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-3",children:N.slice(0,5).map(I=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${I.type==="in"?"bg-green-500":I.type==="out"?"bg-red-500":"bg-blue-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:I.name||" "}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[I.type==="in"?"+":I.type==="out"?"-":"",I.quantity," ",I.unit||"","  ",I.reason]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(Oe,{variant:I.type==="in"?"default":I.type==="out"?"destructive":"secondary",children:I.type==="in"?"":I.type==="out"?"":""}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:I.created_at?Vs(new Date(I.created_at),"dd/MM/yyyy"):" "})]})]},I.id))})})]})]});return e.jsx(is,{children:e.jsx(Qr,{title:" ",description:"     ",actions:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Rte,{className:"h-4 w-4 mr-2"}),""]})]}),children:e.jsxs(Ar,{value:r,onValueChange:n,className:"space-y-6",children:[e.jsxs(ir,{className:"grid w-full grid-cols-4",children:[e.jsx(lt,{value:"dashboard",children:""}),e.jsx(lt,{value:"items",children:" "}),e.jsx(lt,{value:"movements",children:""}),e.jsx(lt,{value:"reports",children:""})]}),e.jsx(bt,{value:"dashboard",className:"space-y-6",children:re()}),e.jsxs(bt,{value:"items",className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Dr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(de,{placeholder:" ...",value:a,onChange:I=>i(I.target.value),className:"pl-9"})]}),e.jsxs(xt,{value:l,onValueChange:o,children:[e.jsx(ht,{className:"w-full sm:w-48",children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),e.jsx(X,{value:"Electronics",children:""}),e.jsx(X,{value:"Furniture",children:""}),e.jsx(X,{value:"Stationery",children:""}),e.jsx(X,{value:"Sports Equipment",children:" "}),e.jsx(X,{value:"Laboratory",children:""})]})]}),e.jsxs(xt,{value:c,onValueChange:d,children:[e.jsx(ht,{className:"w-full sm:w-48",children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),e.jsx(X,{value:"good",children:" "}),e.jsx(X,{value:"low",children:" "}),e.jsx(X,{value:"out",children:" "})]})]}),e.jsxs(pr,{open:u,onOpenChange:h,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"})," "]})}),e.jsxs(or,{className:"max-w-2xl",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"   "}),e.jsx(Nr,{children:"         "})]}),e.jsx(Ms,{...B,children:e.jsxs("form",{onSubmit:B.handleSubmit(I=>D.mutate(I)),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:B.control,name:"name",render:({field:I})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{...I,placeholder:": Projector"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:B.control,name:"nameBn",render:({field:I})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{...I,placeholder:": "})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:B.control,name:"category",render:({field:I})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsxs(xt,{onValueChange:I.onChange,value:I.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"Electronics",children:""}),e.jsx(X,{value:"Furniture",children:""}),e.jsx(X,{value:"Stationery",children:""}),e.jsx(X,{value:"Sports Equipment",children:" "}),e.jsx(X,{value:"Laboratory",children:""})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:B.control,name:"brand",render:({field:I})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{...I,placeholder:": Samsung"})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(Se,{control:B.control,name:"currentQuantity",render:({field:I})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"number",...I,onChange:ie=>I.onChange(Number(ie.target.value)),placeholder:": 10"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:B.control,name:"minimumThreshold",render:({field:I})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"number",...I,onChange:ie=>I.onChange(Number(ie.target.value)),placeholder:": 5"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:B.control,name:"unit",render:({field:I})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{...I,placeholder:": , "})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:B.control,name:"unitPrice",render:({field:I})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{type:"number",...I,onChange:ie=>I.onChange(Number(ie.target.value)),placeholder:": 1500"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:B.control,name:"location",render:({field:I})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{...I,placeholder:":   A"})}),e.jsx(_e,{})]})})]}),e.jsx(Se,{control:B.control,name:"description",render:({field:I})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{...I,placeholder:"  ..."})}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>h(!1),children:""}),e.jsx(V,{type:"submit",disabled:D.isPending,children:D.isPending?"  ...":"  "})]})]})})]})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:" "}),e.jsxs(ct,{children:[" ",xe.length,"  "]})]}),e.jsx(M,{children:E?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(yl,{className:"h-8 w-8 animate-spin"})}):e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:" "}),e.jsx(We,{children:""}),e.jsx(We,{children:" "}),e.jsx(We,{children:" "}),e.jsx(We,{children:" "}),e.jsx(We,{children:""}),e.jsx(We,{children:""})]})}),e.jsx(Wr,{children:xe.map(I=>e.jsxs(ns,{children:[e.jsx(Ve,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:I.name_bn||I.name}),e.jsx("p",{className:"text-sm text-gray-500",children:I.brand&&`${I.brand} ${I.model||""}`.trim()})]})}),e.jsx(Ve,{children:I.category}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-medium",children:I.current_quantity}),e.jsx("span",{className:"text-sm text-gray-500",children:I.unit})]})}),e.jsxs(Ve,{children:["",Number(I.unit_price).toLocaleString()]}),e.jsxs(Ve,{children:["",(Number(I.unit_price)*I.current_quantity).toLocaleString()]}),e.jsx(Ve,{children:e.jsx(Oe,{variant:I.current_quantity===0?"destructive":I.current_quantity<=I.minimum_threshold?"secondary":"default",children:I.current_quantity===0?" ":I.current_quantity<=I.minimum_threshold?" ":""})}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{size:"sm",variant:"outline",onClick:()=>{var ie,ve,De;j(I),B.reset({name:I.name||"",nameBn:I.name_bn||"",category:I.category||"",subcategory:I.subcategory||"",brand:I.brand||"",model:I.model||"",serialNumber:I.serial_number||"",unitPrice:((ie=I.unit_price)==null?void 0:ie.toString())||"0",currentQuantity:((ve=I.current_quantity)==null?void 0:ve.toString())||"0",minimumThreshold:((De=I.minimum_threshold)==null?void 0:De.toString())||"0",unit:I.unit||"",supplier:I.supplier||"",location:I.location||"",condition:I.condition||"New",description:I.description||""}),m(!0)},children:e.jsx(Yn,{className:"h-4 w-4"})}),e.jsx(V,{size:"sm",variant:"outline",onClick:()=>{confirm("      ?")&&K.mutate(I.id)},children:e.jsx(Ii,{className:"h-4 w-4"})})]})})]},I.id))})]})})]})]}),e.jsxs(bt,{value:"movements",className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[e.jsx("div",{className:"flex gap-2",children:e.jsxs(pr,{open:p,onOpenChange:f,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),"   "]})}),e.jsxs(or,{children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"  "}),e.jsx(Nr,{children:" /    "})]}),e.jsx(Ms,{...F,children:e.jsxs("form",{onSubmit:F.handleSubmit(I=>z.mutate(I)),className:"space-y-4",children:[e.jsx(Se,{control:F.control,name:"itemId",render:({field:I})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  "}),e.jsxs(xt,{onValueChange:I.onChange,value:I.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsx(At,{children:P.map(ie=>e.jsxs(X,{value:ie.id.toString(),children:[ie.name_bn||ie.name," - : ",ie.current_quantity," ",ie.unit]},ie.id))})]}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:F.control,name:"type",render:({field:I})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsxs(xt,{onValueChange:I.onChange,value:I.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"in",children:" "}),e.jsx(X,{value:"out",children:" "}),e.jsx(X,{value:"adjustment",children:""})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:F.control,name:"quantity",render:({field:I})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{type:"number",...I,onChange:ie=>I.onChange(Number(ie.target.value)),placeholder:": 5"})}),e.jsx(_e,{})]})})]}),e.jsx(Se,{control:F.control,name:"reason",render:({field:I})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{...I,placeholder:":  , , "})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:F.control,name:"reference",render:({field:I})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" ()"}),e.jsx(Be,{children:e.jsx(de,{...I,placeholder:":  ,  "})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:F.control,name:"notes",render:({field:I})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{...I,placeholder:" ..."})}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>f(!1),children:""}),e.jsx(V,{type:"submit",disabled:z.isPending,children:z.isPending?"  ...":" "})]})]})})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"})," "]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(A0,{className:"h-4 w-4 mr-2"}),""]})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"  "}),e.jsx(ct,{children:"    "})]}),e.jsx(M,{children:C?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(yl,{className:"h-8 w-8 animate-spin"})}):N.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(yl,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"  "}),e.jsx("p",{className:"text-gray-600",children:"      "})]}):e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:"  "}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""})]})}),e.jsx(Wr,{children:N.map(I=>e.jsxs(ns,{children:[e.jsx(Ve,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:I.created_at?Vs(new Date(I.created_at),"dd/MM/yyyy"):" "}),e.jsx("p",{className:"text-sm text-gray-500",children:I.created_at?Vs(new Date(I.created_at),"hh:mm a"):""})]})}),e.jsx(Ve,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:I.name||"  "}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",I.item_id]})]})}),e.jsx(Ve,{children:e.jsxs(Oe,{variant:I.type==="in"?"default":I.type==="out"?"destructive":"secondary",children:[I.type==="in"&&e.jsxs(e.Fragment,{children:[e.jsx(bn,{className:"h-3 w-3 mr-1"})," "]}),I.type==="out"&&e.jsxs(e.Fragment,{children:[e.jsx(ug,{className:"h-3 w-3 mr-1"})," "]}),I.type==="adjustment"&&e.jsxs(e.Fragment,{children:[e.jsx(yl,{className:"h-3 w-3 mr-1"}),""]})]})}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:`font-medium ${I.type==="in"?"text-green-600":I.type==="out"?"text-red-600":"text-blue-600"}`,children:[I.type==="in"?"+":I.type==="out"?"-":"",I.quantity]}),e.jsx("span",{className:"text-sm text-gray-500",children:I.unit||""})]})}),e.jsx(Ve,{children:I.reason||"  "}),e.jsx(Ve,{children:I.reference?e.jsx(Oe,{variant:"outline",children:I.reference}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx(Ve,{children:e.jsxs(Oe,{variant:"default",children:[e.jsx(ks,{className:"h-3 w-3 mr-1"}),""]})})]},I.id))})]})})]})]}),e.jsxs(bt,{value:"reports",className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(xt,{defaultValue:"all",children:[e.jsx(ht,{className:"w-48",children:e.jsx(pt,{placeholder:" "})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),e.jsx(X,{value:"stock",children:" "}),e.jsx(X,{value:"movements",children:" "}),e.jsx(X,{value:"valuation",children:" "}),e.jsx(X,{value:"low-stock",children:"  "})]})]}),e.jsxs(xt,{defaultValue:"month",children:[e.jsx(ht,{className:"w-48",children:e.jsx(pt,{placeholder:""})}),e.jsxs(At,{children:[e.jsx(X,{value:"today",children:""}),e.jsx(X,{value:"week",children:" "}),e.jsx(X,{value:"month",children:" "}),e.jsx(X,{value:"quarter",children:" "}),e.jsx(X,{value:"year",children:" "})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),"PDF "]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Excel "]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(yl,{className:"h-4 w-4 mr-2"}),""]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(H,{children:[e.jsx(oe,{className:"pb-2",children:e.jsx(ce,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"  "})}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:_.totalItems||0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" "})]})]}),e.jsxs(H,{children:[e.jsx(oe,{className:"pb-2",children:e.jsx(ce,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:" "})}),e.jsxs(M,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",Number(_.totalValue||0).toLocaleString()]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" "})]})]}),e.jsxs(H,{children:[e.jsx(oe,{className:"pb-2",children:e.jsx(ce,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:" "})}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:_.lowStockItems||0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" "})]})]}),e.jsxs(H,{children:[e.jsx(oe,{className:"pb-2",children:e.jsx(ce,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"  "})}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:N.length}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" "})]})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"   "}),e.jsx(ct,{children:"     "})]}),e.jsx(M,{children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:""}),e.jsx(We,{children:" "}),e.jsx(We,{children:" "}),e.jsx(We,{children:" "}),e.jsx(We,{children:" "}),e.jsx(We,{children:""})]})}),e.jsx(Wr,{children:Array.from(new Set(P.map(I=>I.category))).map(I=>{const ie=P.filter(U=>U.category===I),ve=ie.reduce((U,R)=>U+R.current_quantity,0),De=ie.reduce((U,R)=>U+R.current_quantity*Number(R.unit_price),0),L=ie.filter(U=>U.current_quantity<=U.minimum_threshold).length;return e.jsxs(ns,{children:[e.jsx(Ve,{className:"font-medium",children:I}),e.jsxs(Ve,{children:[ie.length," "]}),e.jsxs(Ve,{children:[ve," "]}),e.jsxs(Ve,{children:["",De.toLocaleString()]}),e.jsx(Ve,{children:L>0?e.jsxs(Oe,{variant:"secondary",className:"text-orange-600",children:[L," "]}):e.jsx(Oe,{variant:"default",children:" "})}),e.jsx(Ve,{children:e.jsx(Oe,{variant:L>0?"secondary":"default",children:L>0?"":""})})]},I)})})]})})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"   ( )"}),e.jsx(ct,{children:"    "})]}),e.jsx(M,{children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:""}),e.jsx(We,{children:" "}),e.jsx(We,{children:" "}),e.jsx(We,{children:" "}),e.jsx(We,{children:" "}),e.jsx(We,{children:""})]})}),e.jsx(Wr,{children:P.map(I=>({...I,totalValue:I.current_quantity*Number(I.unit_price)})).sort((I,ie)=>ie.totalValue-I.totalValue).slice(0,10).map((I,ie)=>e.jsxs(ns,{children:[e.jsx(Ve,{children:e.jsxs(Oe,{variant:"outline",children:["#",ie+1]})}),e.jsx(Ve,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:I.name_bn||I.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[I.brand," ",I.model]})]})}),e.jsxs(Ve,{children:[I.current_quantity," ",I.unit]}),e.jsxs(Ve,{children:["",Number(I.unit_price).toLocaleString()]}),e.jsxs(Ve,{className:"font-medium",children:["",I.totalValue.toLocaleString()]}),e.jsx(Ve,{children:I.location})]},I.id))})]})})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"   "}),e.jsx(ct,{children:"      "})]}),e.jsxs(M,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-950 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(bn,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"font-medium text-green-800 dark:text-green-200",children:" "})]}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:N.filter(I=>I.type==="in").length}),e.jsx("p",{className:"text-sm text-green-600",children:"  "})]}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-950 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ug,{className:"h-4 w-4 text-red-600"}),e.jsx("span",{className:"font-medium text-red-800 dark:text-red-200",children:" "})]}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:N.filter(I=>I.type==="out").length}),e.jsx("p",{className:"text-sm text-red-600",children:" "})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(yl,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"font-medium text-blue-800 dark:text-blue-200",children:""})]}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:N.filter(I=>I.type==="adjustment").length}),e.jsx("p",{className:"text-sm text-blue-600",children:""})]})]}),N.length>0?e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"  :"}),N.slice(0,5).map(I=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${I.type==="in"?"bg-green-500":I.type==="out"?"bg-red-500":"bg-blue-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:I.name||" "}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[I.type==="in"?"+":I.type==="out"?"-":"",I.quantity," ",I.unit||"","  ",I.reason]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(Oe,{variant:I.type==="in"?"default":I.type==="out"?"destructive":"secondary",children:I.type==="in"?"":I.type==="out"?"":""}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:I.created_at?Vs(new Date(I.created_at),"dd/MM/yyyy"):" "})]})]},I.id))]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(hr,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"      "})]})]})]})]})]})})})}const M4e=Y.object({vehicleNumber:Y.string().min(1,"  "),type:Y.string().min(1,"   "),capacity:Y.number().min(1," "),driverName:Y.string().min(1,"  "),driverPhone:Y.string().min(1,"   "),helperName:Y.string().optional(),helperPhone:Y.string().optional(),routeId:Y.string().optional(),isActive:Y.boolean().default(!0)}),Q4e=Y.object({name:Y.string().min(1,"  "),description:Y.string().optional(),startPoint:Y.string().min(1,"  "),endPoint:Y.string().min(1,"  "),distance:Y.number().min(0,"      "),estimatedTime:Y.number().min(0,"      "),fare:Y.number().min(0,"      "),stops:Y.array(Y.string()).optional()}),H4e=Y.object({studentId:Y.string().min(1,"  "),routeId:Y.string().min(1,"  "),pickupStop:Y.string().min(1,"-  "),dropStop:Y.string().min(1,"  "),monthlyFee:Y.number().min(0,"  "),isActive:Y.boolean().default(!0)});function II(){const{toast:t}=ls(),s=Cs(),[r,n]=b.useState("dashboard"),[a,i]=b.useState(""),[l,o]=b.useState("all"),[c,d]=b.useState(!1),[u,h]=b.useState(!1),[A,m]=b.useState(!1),[p,f]=b.useState(!1),[x,g]=b.useState(!1),[v,j]=b.useState(null),[B,F]=b.useState(null),P=zs({resolver:qs(M4e),defaultValues:{vehicleNumber:"",type:"",capacity:0,driverName:"",driverPhone:"",helperName:"",helperPhone:"",routeId:"",isActive:!0}}),E=zs({resolver:qs(Q4e),defaultValues:{name:"",description:"",startPoint:"",endPoint:"",distance:0,estimatedTime:0,fare:0,stops:[]}}),N=zs({resolver:qs(H4e),defaultValues:{studentId:"",routeId:"",pickupStop:"",dropStop:"",monthlyFee:0,isActive:!0}}),{data:C=[],isLoading:_}=st({queryKey:["/api/transport/vehicles"],refetchInterval:3e4}),{data:k=[],isLoading:D}=st({queryKey:["/api/transport/routes"],refetchInterval:3e4}),{data:z={}}=st({queryKey:["/api/transport/stats"],refetchInterval:6e4}),{data:K=[]}=st({queryKey:["/api/students"]}),{data:xe=[]}=st({queryKey:["/api/transport/students"],refetchInterval:3e4}),W=G=>{var O;j(G),P.reset({vehicleNumber:G.vehicleNumber,type:G.type,capacity:G.capacity,driverName:G.driverName,driverPhone:G.driverPhone,helperName:G.helperName||"",helperPhone:G.helperPhone||"",routeId:((O=G.routeId)==null?void 0:O.toString())||"",isActive:G.isActive}),f(!0)},re=G=>{F(G),E.reset({name:G.routeName||G.name,description:G.description||"",startPoint:G.startPoint||"",endPoint:G.endPoint||"",distance:G.distance||0,estimatedTime:G.estimatedTime||0,fare:G.monthlyFee||G.fare||0,stops:G.pickupPoints?G.pickupPoints.split(", "):[]}),g(!0)},I=Bt({mutationFn:G=>Vt("/api/transport/vehicles","POST"),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/transport/vehicles"]}),s.invalidateQueries({queryKey:["/api/transport/stats"]}),d(!1),P.reset(),t({title:"",description:"   "})},onError:()=>{t({title:"",description:"   ",variant:"destructive"})}}),ie=Bt({mutationFn:G=>Vt("/api/transport/routes","POST"),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/transport/routes"]}),h(!1),E.reset(),t({title:"",description:"   "})},onError:()=>{t({title:"",description:"   ",variant:"destructive"})}}),ve=Bt({mutationFn:G=>Vt("/api/transport/assignments","POST"),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/transport/students"]}),s.invalidateQueries({queryKey:["/api/transport/stats"]}),m(!1),N.reset(),t({title:"",description:"    "})},onError:()=>{t({title:"",description:"   ",variant:"destructive"})}}),De=Bt({mutationFn:G=>Vt(`/api/transport/vehicles/${v==null?void 0:v.id}`,"PUT"),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/transport/vehicles"]}),s.invalidateQueries({queryKey:["/api/transport/stats"]}),f(!1),j(null),P.reset(),t({title:"",description:"   "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}}),L=Bt({mutationFn:G=>Vt(`/api/transport/routes/${B==null?void 0:B.id}`,"PUT"),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/transport/routes"]}),s.invalidateQueries({queryKey:["/api/transport/stats"]}),g(!1),F(null),E.reset(),t({title:"",description:"   "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}}),U=b.useMemo(()=>C.filter(G=>{const O=a===""||G.vehicleNumber.toLowerCase().includes(a.toLowerCase())||G.driverName.toLowerCase().includes(a.toLowerCase()),ee=l==="all"||l==="active"&&G.isActive||l==="inactive"&&!G.isActive;return O&&ee}),[C,a,l]),R=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 border-blue-200 dark:border-blue-800",children:[e.jsx(oe,{className:"pb-2",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(zx,{className:"h-4 w-4 text-blue-600"})," "]})}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:z.totalVehicles||0}),e.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:[z.activeVehicles||0,"  "]})]})]}),e.jsxs(H,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 border-green-200 dark:border-green-800",children:[e.jsx(oe,{className:"pb-2",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(pT,{className:"h-4 w-4 text-green-600"})," "]})}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:z.totalRoutes||0}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[z.activeRoutes||0,"  "]})]})]}),e.jsxs(H,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 border-purple-200 dark:border-purple-800",children:[e.jsx(oe,{className:"pb-2",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ss,{className:"h-4 w-4 text-purple-600"})," "]})}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:z.transportStudents||0}),e.jsxs("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:[z.totalCapacity||0," "]})]})]}),e.jsxs(H,{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900 border-orange-200 dark:border-orange-800",children:[e.jsx(oe,{className:"pb-2",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Cte,{className:"h-4 w-4 text-orange-600"})," "]})}),e.jsxs(M,{children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300",children:[" ",(z.monthlyRevenue||0).toLocaleString()]}),e.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:" "})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(pT,{className:"h-5 w-5"})," "]})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-3",children:k.slice(0,5).map(G=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:G.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[G.startPoint,"  ",G.endPoint]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium",children:[" ",G.fare]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[G.distance," "]})]})]},G.id))})})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(zx,{className:"h-5 w-5"})," "]})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-3",children:C.slice(0,5).map(G=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${G.isActive?"bg-green-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:G.vehicleNumber}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:G.driverName})]})]}),e.jsx(Oe,{variant:G.isActive?"success":"destructive",children:G.isActive?"":""})]},G.id))})})]})]})]}),q=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center flex-1",children:[e.jsxs("div",{className:"relative flex-1 min-w-64",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(de,{placeholder:"  (, )...",value:a,onChange:G=>i(G.target.value),className:"pl-10","aria-label":" "})]}),e.jsxs(xt,{value:l,onValueChange:o,children:[e.jsx(ht,{className:"w-48",children:e.jsx(pt,{placeholder:" "})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),e.jsx(X,{value:"active",children:""}),e.jsx(X,{value:"inactive",children:""})]})]})]}),e.jsxs(pr,{open:c,onOpenChange:d,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{className:"gap-2",children:[e.jsx(Ls,{className:"h-4 w-4"})," "]})}),e.jsxs(or,{className:"max-w-2xl",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"  "}),e.jsx(Nr,{children:"     "})]}),e.jsx(Ms,{...P,children:e.jsxs("form",{onSubmit:P.handleSubmit(G=>I.mutate(G)),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Se,{control:P.control,name:"vehicleNumber",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{...G,placeholder:" --"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:P.control,name:"type",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsxs(xt,{onValueChange:G.onChange,defaultValue:G.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"   "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"bus",children:""}),e.jsx(X,{value:"microbus",children:""}),e.jsx(X,{value:"van",children:""}),e.jsx(X,{value:"car",children:""})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:P.control,name:"capacity",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{type:"number",...G,onChange:O=>G.onChange(parseInt(O.target.value)),placeholder:""})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:P.control,name:"routeId",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" ()"}),e.jsxs(xt,{onValueChange:G.onChange,defaultValue:G.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsx(At,{children:k.map(O=>e.jsx(X,{value:O.id,children:O.name},O.id))})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:P.control,name:"driverName",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{...G,placeholder:" "})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:P.control,name:"driverPhone",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{...G,placeholder:""})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>d(!1),children:""}),e.jsx(V,{type:"submit",disabled:I.isPending,children:I.isPending?"  ...":" "})]})]})})]})]})]}),e.jsx(H,{children:e.jsx(M,{className:"p-0",children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:" "}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{className:"text-right",children:""})]})}),e.jsx(Wr,{children:_?e.jsx(ns,{children:e.jsx(Ve,{colSpan:7,className:"text-center py-8",children:" ..."})}):U.length===0?e.jsx(ns,{children:e.jsx(Ve,{colSpan:7,className:"text-center py-8",children:"   "})}):U.map(G=>{var O;return e.jsxs(ns,{children:[e.jsx(Ve,{className:"font-medium",children:G.vehicleNumber}),e.jsx(Ve,{children:e.jsx(Oe,{variant:"secondary",children:G.type})}),e.jsxs(Ve,{children:[G.capacity," "]}),e.jsx(Ve,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:G.driverName}),e.jsx("p",{className:"text-sm text-gray-600",children:G.driverPhone})]})}),e.jsx(Ve,{children:((O=G.route)==null?void 0:O.name)||" "}),e.jsx(Ve,{children:e.jsx(Oe,{variant:G.isActive?"success":"destructive",children:G.isActive?"":""})}),e.jsx(Ve,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(V,{size:"sm",variant:"outline",children:e.jsx(cn,{className:"h-4 w-4"})}),e.jsx(V,{size:"sm",variant:"outline",onClick:()=>W(G),children:e.jsx(Yn,{className:"h-4 w-4"})})]})})]},G.id)})})]})})})]}),ae=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:" "}),e.jsx("p",{className:"text-gray-600",children:"    "})]}),e.jsxs(V,{onClick:()=>h(!0),children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"})," "]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:" "}),e.jsx(We,{children:" "}),e.jsx(We,{children:" "}),e.jsx(We,{children:""}),e.jsx(We,{children:" "}),e.jsx(We,{children:" "}),e.jsx(We,{className:"text-right",children:""})]})}),e.jsx(Wr,{children:D?e.jsx(ns,{children:e.jsx(Ve,{colSpan:7,className:"text-center py-8",children:" ..."})}):k.length===0?e.jsx(ns,{children:e.jsx(Ve,{colSpan:7,className:"text-center py-8",children:"   "})}):k.map(G=>e.jsxs(ns,{children:[e.jsx(Ve,{className:"font-medium",children:G.routeName||G.name}),e.jsx(Ve,{children:G.startPoint||" "}),e.jsx(Ve,{children:G.endPoint||" "}),e.jsxs(Ve,{children:[G.distance||0," "]}),e.jsxs(Ve,{children:["",G.monthlyFee||G.fare||0]}),e.jsx(Ve,{children:e.jsx("div",{className:"max-w-xs",children:G.pickupPoints?e.jsx("div",{className:"flex flex-wrap gap-1",children:(()=>{let O=[];return G.pickupPoints.startsWith("{")&&G.pickupPoints.endsWith("}")?O=G.pickupPoints.slice(1,-1).split(",").map(ee=>ee.trim()):O=G.pickupPoints.split(",").map(ee=>ee.trim()),e.jsxs(e.Fragment,{children:[O.slice(0,2).map((ee,Le)=>e.jsx(Oe,{variant:"outline",className:"text-xs",children:ee},Le)),O.length>2&&e.jsxs(Oe,{variant:"outline",className:"text-xs",children:["+",O.length-2," "]})]})})()}):e.jsx("span",{className:"text-gray-500",children:"  "})})}),e.jsx(Ve,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(V,{size:"sm",variant:"outline",children:e.jsx(cn,{className:"h-4 w-4"})}),e.jsx(V,{size:"sm",variant:"outline",onClick:()=>re(G),children:e.jsx(Yn,{className:"h-4 w-4"})})]})})]},G.id))})]})})]})]}),Ae=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:" "}),e.jsx("p",{className:"text-gray-600",children:"    "})]}),e.jsxs(V,{onClick:()=>m(!0),children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"})," "]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"  "})}),e.jsx(M,{children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:" "}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:"- "}),e.jsx(We,{children:" "}),e.jsx(We,{children:" "}),e.jsx(We,{children:""}),e.jsx(We,{className:"text-right",children:""})]})}),e.jsx(Wr,{children:xe.length===0?e.jsx(ns,{children:e.jsx(Ve,{colSpan:8,className:"text-center py-8",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx(ss,{className:"h-12 w-12 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-medium",children:"   "}),e.jsx("p",{className:"text-gray-500",children:'    " "   '})]})]})})}):xe.map(G=>e.jsxs(ns,{children:[e.jsx(Ve,{className:"font-medium",children:G.student_name||G.studentName}),e.jsx(Ve,{children:G.class&&G.section?`${G.class}-${G.section}`:" "}),e.jsx(Ve,{children:G.route_name||G.routeName||" "}),e.jsx(Ve,{children:G.pickup_point||G.pickupPoint||" "}),e.jsx(Ve,{children:G.drop_point||G.dropPoint||" "}),e.jsxs(Ve,{children:["",G.monthly_fee||G.monthlyFee||0]}),e.jsx(Ve,{children:e.jsx(Oe,{variant:G.is_active!==!1?"default":"destructive",children:G.is_active!==!1?"":""})}),e.jsx(Ve,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(V,{size:"sm",variant:"outline",children:e.jsx(cn,{className:"h-4 w-4"})}),e.jsx(V,{size:"sm",variant:"outline",children:e.jsx(Yn,{className:"h-4 w-4"})})]})})]},G.id))})]})})]})]});return e.jsx(is,{children:e.jsxs(Qr,{title:" ",description:"     ",actions:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Lte,{className:"h-4 w-4 mr-2"}),""]})]}),children:[e.jsxs(Ar,{value:r,onValueChange:n,className:"space-y-6",children:[e.jsxs(ir,{className:"grid w-full grid-cols-4",children:[e.jsx(lt,{value:"dashboard",children:""}),e.jsx(lt,{value:"vehicles",children:" "}),e.jsx(lt,{value:"routes",children:" "}),e.jsx(lt,{value:"students",children:""})]}),e.jsx(bt,{value:"dashboard",className:"space-y-6",children:R()}),e.jsx(bt,{value:"vehicles",className:"space-y-6",children:q()}),e.jsx(bt,{value:"routes",className:"space-y-6",children:ae()}),e.jsx(bt,{value:"students",className:"space-y-6",children:Ae()})]}),e.jsx(pr,{open:p,onOpenChange:f,children:e.jsxs(or,{className:"sm:max-w-[425px]",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"  "}),e.jsx(Nr,{children:"   "})]}),e.jsx(Ms,{...P,children:e.jsxs("form",{onSubmit:P.handleSubmit(G=>De.mutate(G)),className:"space-y-4",children:[e.jsx(Se,{control:P.control,name:"vehicleNumber",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:"   ",...G})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:P.control,name:"type",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsxs(xt,{onValueChange:G.onChange,value:G.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"   "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:P.control,name:"capacity",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"number",placeholder:"",...G,onChange:O=>G.onChange(parseInt(O.target.value)||0)})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:P.control,name:"driverName",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:" ",...G})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:P.control,name:"driverPhone",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:"",...G})}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>f(!1),children:""}),e.jsx(V,{type:"submit",disabled:De.isPending,children:De.isPending?" ...":" "})]})]})})]})}),e.jsx(pr,{open:x,onOpenChange:g,children:e.jsxs(or,{className:"sm:max-w-[425px]",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"  "}),e.jsx(Nr,{children:"   "})]}),e.jsx(Ms,{...E,children:e.jsxs("form",{onSubmit:E.handleSubmit(G=>L.mutate(G)),className:"space-y-4",children:[e.jsx(Se,{control:E.control,name:"name",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:" - ",...G})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:E.control,name:"startPoint",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:"",...G})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:E.control,name:"endPoint",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:"",...G})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:E.control,name:"distance",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" ()"}),e.jsx(Be,{children:e.jsx(de,{type:"number",placeholder:"",...G,onChange:O=>G.onChange(parseFloat(O.target.value)||0)})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:E.control,name:"fare",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{type:"number",placeholder:"",...G,onChange:O=>G.onChange(parseFloat(O.target.value)||0)})}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>g(!1),children:""}),e.jsx(V,{type:"submit",disabled:L.isPending,children:L.isPending?" ...":" "})]})]})})]})}),e.jsx(pr,{open:c,onOpenChange:d,children:e.jsxs(or,{className:"sm:max-w-[425px]",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"   "}),e.jsx(Nr,{children:"    "})]}),e.jsx(Ms,{...P,children:e.jsxs("form",{onSubmit:P.handleSubmit(G=>I.mutate(G)),className:"space-y-4",children:[e.jsx(Se,{control:P.control,name:"vehicleNumber",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:"   ",...G})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:P.control,name:"type",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsxs(xt,{onValueChange:G.onChange,value:G.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"   "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""}),e.jsx(X,{value:"",children:""})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:P.control,name:"capacity",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"number",placeholder:"",...G,onChange:O=>G.onChange(parseInt(O.target.value)||0)})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:P.control,name:"driverName",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:" ",...G})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:P.control,name:"driverPhone",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:"",...G})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:P.control,name:"routeId",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsxs(xt,{onValueChange:G.onChange,value:G.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"",children:"  "}),k.map(O=>e.jsx(X,{value:O.id.toString(),children:O.routeName||O.name},O.id))]})]}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>d(!1),children:""}),e.jsx(V,{type:"submit",disabled:I.isPending,children:I.isPending?" ...":" "})]})]})})]})}),e.jsx(pr,{open:u,onOpenChange:h,children:e.jsxs(or,{className:"sm:max-w-[425px]",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"   "}),e.jsx(Nr,{children:"    "})]}),e.jsx(Ms,{...E,children:e.jsxs("form",{onSubmit:E.handleSubmit(G=>ie.mutate(G)),className:"space-y-4",children:[e.jsx(Se,{control:E.control,name:"name",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:" - ",...G})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:E.control,name:"startPoint",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:"",...G})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:E.control,name:"endPoint",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:"",...G})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:E.control,name:"distance",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" ()"}),e.jsx(Be,{children:e.jsx(de,{type:"number",placeholder:"",...G,onChange:O=>G.onChange(parseFloat(O.target.value)||0)})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:E.control,name:"fare",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{type:"number",placeholder:"",...G,onChange:O=>G.onChange(parseFloat(O.target.value)||0)})}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>h(!1),children:""}),e.jsx(V,{type:"submit",disabled:ie.isPending,children:ie.isPending?" ...":" "})]})]})})]})}),e.jsx(pr,{open:A,onOpenChange:m,children:e.jsxs(or,{className:"sm:max-w-[425px]",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"  "}),e.jsx(Nr,{children:"    "})]}),e.jsx(Ms,{...N,children:e.jsxs("form",{onSubmit:N.handleSubmit(G=>ve.mutate(G)),className:"space-y-4",children:[e.jsx(Se,{control:N.control,name:"studentId",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  "}),e.jsxs(xt,{onValueChange:G.onChange,value:G.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsx(At,{children:K.map(O=>e.jsxs(X,{value:O.id.toString(),children:[O.name," - ",O.class||""," "]},O.id))})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:N.control,name:"routeId",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  "}),e.jsxs(xt,{onValueChange:G.onChange,value:G.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsx(At,{children:k.map(O=>e.jsxs(X,{value:O.id.toString(),children:[O.routeName||O.name," - ",O.monthlyFee||O.fare||0]},O.id))})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:N.control,name:"pickupStop",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"- "}),e.jsx(Be,{children:e.jsx(de,{placeholder:"  ",...G})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:N.control,name:"dropStop",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:" ",...G})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:N.control,name:"monthlyFee",render:({field:G})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{type:"number",placeholder:"",...G,onChange:O=>G.onChange(parseFloat(O.target.value)||0)})}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>m(!1),children:""}),e.jsx(V,{type:"submit",disabled:ve.isPending,children:ve.isPending?" ...":" "})]})]})})]})})]})})}const V4e=Y.object({name:Y.string().min(1,"  "),nameBn:Y.string().min(1,"  "),category:Y.string().min(1,"  "),description:Y.string().min(1," "),descriptionBn:Y.string().min(1,"  "),icon:Y.string().min(1,"  "),url:Y.string().url(" URL "),isActive:Y.boolean().default(!0),isInternal:Y.boolean().default(!0),permissions:Y.array(Y.string()).optional()});function K4e(){var E;const{toast:t}=ls(),s=Cs(),[r,n]=b.useState("dashboard"),[a,i]=b.useState(""),[l,o]=b.useState("all"),[c,d]=b.useState(!1),[u,h]=b.useState(null),[A,m]=b.useState("grid"),p=zs({resolver:qs(V4e),defaultValues:{name:"",nameBn:"",category:"",description:"",descriptionBn:"",icon:"",url:"",isActive:!0,isInternal:!0,permissions:[]}}),f=[{id:1,name:"Video Conference",nameBn:" ",category:"communication",description:"Host virtual meetings and classes",descriptionBn:"     ",icon:"Video",isActive:!0,isInternal:!0,usageCount:156,lastUsed:"  ",performance:98,url:"/video-conferencing"},{id:2,name:"Payment Gateway",nameBn:" ",category:"finance",description:"Process payments securely",descriptionBn:"   ",icon:"CreditCard",isActive:!0,isInternal:!0,usageCount:89,lastUsed:"  ",performance:95,url:"/financial"},{id:3,name:"Document Generator",nameBn:" ",category:"documents",description:"Generate official documents",descriptionBn:"   ",icon:"FileText",isActive:!0,isInternal:!0,usageCount:234,lastUsed:"  ",performance:99,url:"/documents"},{id:4,name:"Live Notifications",nameBn:" ",category:"communication",description:"Real-time notification system",descriptionBn:"-  ",icon:"Bell",isActive:!0,isInternal:!0,usageCount:345,lastUsed:"  ",performance:97,url:"/notifications/live"},{id:5,name:"Analytics Dashboard",nameBn:" ",category:"analytics",description:"Comprehensive data analytics",descriptionBn:"  ",icon:"BarChart3",isActive:!0,isInternal:!0,usageCount:178,lastUsed:"  ",performance:94,url:"/analytics"}],x={totalTools:12,activeTools:11,popularTools:5,averageUsageTime:25,weeklyGrowth:12.5},g=b.useMemo(()=>f.filter(N=>{const C=N.name.toLowerCase().includes(a.toLowerCase())||N.nameBn.includes(a)||N.description.toLowerCase().includes(a.toLowerCase()),_=l==="all"||N.category===l;return C&&_}),[f,a,l]),v={Video:no,CreditCard:zr,FileText:xs,Bell:Zg,BarChart3:pa,Calculator:g3,Calendar:bs,Users:ss,Settings:Ys,Download:Ts,Upload:Wn,Printer:Dte,Mail:uo,Phone:$o,Camera:Jg,Mic:WR,Globe:qx,Database:rc,Shield:jn},j=[{value:"all",label:" "},{value:"communication",label:""},{value:"finance",label:""},{value:"documents",label:""},{value:"analytics",label:""},{value:"management",label:""}],B=Bt({mutationFn:async N=>Vt("/api/tools",{method:"POST",body:JSON.stringify(N)}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/tools"]}),d(!1),p.reset(),t({title:"   ",description:"     "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}});Bt({mutationFn:async({id:N,isActive:C})=>Vt(`/api/tools/${N}/toggle`,{method:"PATCH",body:JSON.stringify({isActive:C})}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/tools"]}),t({title:"  ",description:"    "})}});const F=({tool:N})=>{const C=v[N.icon]||hg;return e.jsxs(H,{className:"group hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800 hover:scale-[1.02]",children:[e.jsx(oe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(C,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(ce,{className:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 transition-colors",children:N.nameBn}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:N.descriptionBn})]})]}),e.jsx(Oe,{variant:N.isActive?"default":"secondary",className:"text-xs",children:N.isActive?"":""})]})}),e.jsxs(M,{className:"pt-0",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-300 mb-3",children:[e.jsxs("span",{children:[": ",N.usageCount]}),e.jsxs("span",{children:[": ",N.lastUsed]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:""}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[N.performance,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 h-1.5 rounded-full transition-all duration-500",style:{width:`${N.performance}%`}})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{size:"sm",className:"flex-1 h-8 text-xs bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",onClick:()=>N.url&&(window.location.href=N.url),children:[e.jsx(xT,{className:"h-3 w-3 mr-1"})," "]}),e.jsx(V,{size:"sm",variant:"outline",className:"h-8 px-3",onClick:()=>h(N),children:e.jsx(Ys,{className:"h-3 w-3"})})]})]})]})},P=({tool:N})=>{const C=v[N.icon]||hg;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsx(C,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:N.nameBn}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:N.descriptionBn}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-500",children:[e.jsxs("span",{children:[": ",N.usageCount]}),e.jsxs("span",{children:[": ",N.lastUsed]}),e.jsxs("span",{children:[": ",N.performance,"%"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Oe,{variant:N.isActive?"default":"secondary",children:N.isActive?"":""}),e.jsxs(V,{size:"sm",onClick:()=>N.url&&(window.location.href=N.url),children:[e.jsx(xT,{className:"h-4 w-4 mr-1"})," "]})]})]})};return e.jsx(is,{children:e.jsx(Qr,{title:" ",description:"       ",children:e.jsxs(Ar,{defaultValue:"tools",className:"space-y-6",children:[e.jsxs(ir,{className:"grid w-full grid-cols-3",children:[e.jsx(lt,{value:"tools",children:" "}),e.jsx(lt,{value:"video-conference",children:" "}),e.jsx(lt,{value:"live-notifications",children:" "})]}),e.jsxs(bt,{value:"tools",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 border-blue-200 dark:border-blue-800",children:[e.jsx(oe,{className:"pb-2",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(hg,{className:"h-4 w-4 text-blue-600"})," "]})}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:x.totalTools}),e.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["+",x.weeklyGrowth,"%  "]})]})]}),e.jsxs(H,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 border-green-200 dark:border-green-800",children:[e.jsx(oe,{className:"pb-2",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ks,{className:"h-4 w-4 text-green-600"})," "]})}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:x.activeTools}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[(x.activeTools/x.totalTools*100).toFixed(1),"% "]})]})]}),e.jsxs(H,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 border-purple-200 dark:border-purple-800",children:[e.jsx(oe,{className:"pb-2",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(pa,{className:"h-4 w-4 text-purple-600"})," "]})}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:x.popularTools}),e.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:" "})]})]}),e.jsxs(H,{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900 border-orange-200 dark:border-orange-800",children:[e.jsx(oe,{className:"pb-2",children:e.jsxs(ce,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(hr,{className:"h-4 w-4 text-orange-600"}),"  "]})}),e.jsxs(M,{children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300",children:[x.averageUsageTime,""]}),e.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:" "})]})]})]}),e.jsx(H,{className:"border-0 shadow-sm",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1 max-w-2xl",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(de,{placeholder:" ...",value:a,onChange:N=>i(N.target.value),className:"pl-10 border-gray-200 dark:border-gray-700"})]}),e.jsxs(xt,{value:l,onValueChange:o,children:[e.jsxs(ht,{className:"w-full sm:w-48 border-gray-200 dark:border-gray-700",children:[e.jsx(A0,{className:"h-4 w-4 mr-2"}),e.jsx(pt,{placeholder:"  "})]}),e.jsx(At,{children:j.map(N=>e.jsx(X,{value:N.value,children:N.label},N.value))})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[e.jsx(V,{size:"sm",variant:A==="grid"?"default":"ghost",onClick:()=>m("grid"),className:"h-8 px-3",children:e.jsx(y3,{className:"h-4 w-4"})}),e.jsx(V,{size:"sm",variant:A==="list"?"default":"ghost",onClick:()=>m("list"),className:"h-8 px-3",children:e.jsx(w3,{className:"h-4 w-4"})})]}),e.jsxs(pr,{open:c,onOpenChange:d,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"})," "]})}),e.jsxs(or,{className:"max-w-md",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"   "}),e.jsx(Nr,{children:"      "})]}),e.jsx(Ms,{...p,children:e.jsxs("form",{onSubmit:p.handleSubmit(N=>B.mutate(N)),className:"space-y-4",children:[e.jsx(Se,{control:p.control,name:"nameBn",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{placeholder:":  ",...N})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:p.control,name:"name",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  (English)"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"e.g. Video Conference",...N})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:p.control,name:"category",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsxs(xt,{onValueChange:N.onChange,defaultValue:N.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsx(At,{children:j.slice(1).map(C=>e.jsx(X,{value:C.value,children:C.label},C.value))})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:p.control,name:"url",render:({field:N})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"URL"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"https://example.com",...N})}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>d(!1),children:""}),e.jsx(V,{type:"submit",disabled:B.isPending,className:"bg-gradient-to-r from-blue-500 to-purple-600",children:B.isPending?"  ...":" "})]})]})})]})]})]})]})})}),e.jsx("div",{className:"space-y-6",children:g.length===0?e.jsx(H,{className:"border-dashed border-2 border-gray-300 dark:border-gray-600",children:e.jsxs(M,{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Dr,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"   "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"       "}),e.jsx(V,{variant:"outline",onClick:()=>{i(""),o("all")},children:"  "})]})}):e.jsxs(e.Fragment,{children:[A==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:g.map(N=>e.jsx(F,{tool:N},N.id))}):e.jsx("div",{className:"space-y-3",children:g.map(N=>e.jsx(P,{tool:N},N.id))}),e.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400 pt-4",children:[g.length,"    ",a&&` "${a}"  `,l!=="all"&&` ${(E=j.find(N=>N.value===l))==null?void 0:E.label} `]})]})})]}),e.jsx(bt,{value:"video-conference",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(no,{className:"h-5 w-5 text-blue-500"}),"  "]}),e.jsx(ct,{children:"       "})]}),e.jsxs(M,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(no,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:" "}),e.jsx("p",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:""})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx(ss,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:""}),e.jsx("p",{className:"text-xl font-bold text-green-900 dark:text-green-100",children:""})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center",children:e.jsx(hr,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:" "}),e.jsx("p",{className:"text-xl font-bold text-purple-900 dark:text-purple-100",children:""})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(V,{size:"lg",className:"h-16 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",onClick:()=>window.location.href="/video-conferencing",children:[e.jsx(no,{className:"h-5 w-5 mr-2"}),"   "]}),e.jsxs(V,{size:"lg",variant:"outline",className:"h-16",onClick:()=>window.location.href="/video-conferencing",children:[e.jsx(bs,{className:"h-5 w-5 mr-2"}),"  "]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:" "}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(N=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:e.jsx(no,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"  -  "}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"      "})]})]}),e.jsx(V,{size:"sm",variant:"outline",children:""})]},N))})]})]})]})}),e.jsx(bt,{value:"live-notifications",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(qr,{className:"h-5 w-5 text-green-500"}),"  "]}),e.jsx(ct,{children:"-     "})]}),e.jsxs(M,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(qr,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:""}),e.jsx("p",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:""})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx(Ti,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:""}),e.jsx("p",{className:"text-xl font-bold text-green-900 dark:text-green-100",children:""})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(Nte,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-400",children:""}),e.jsx("p",{className:"text-xl font-bold text-orange-900 dark:text-orange-100",children:""})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center",children:e.jsx(cn,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:""}),e.jsx("p",{className:"text-xl font-bold text-purple-900 dark:text-purple-100",children:""})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs(V,{size:"lg",className:"h-16 bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700",onClick:()=>window.location.href="/notifications/live",children:[e.jsx(Ls,{className:"h-5 w-5 mr-2"}),"  "]}),e.jsxs(V,{size:"lg",variant:"outline",className:"h-16",onClick:()=>window.location.href="/notifications/live",children:[e.jsx(qr,{className:"h-5 w-5 mr-2"}),"  "]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:" "}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(N=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:e.jsx(qr,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"   "}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"    "})]})]}),e.jsx(Oe,{variant:"secondary",children:""})]},N))})]})]})]})})]})})})}function z4e(){var K,xe;const{toast:t}=ls(),s=Cs(),[r,n]=b.useState("all"),[a,i]=b.useState(""),[l,o]=b.useState("all"),[c,d]=b.useState("all"),[u,h]=b.useState(!1),[A,m]=b.useState(null),[p,f]=b.useState("grid"),{data:x=[],isLoading:g,error:v}=st({queryKey:["/api/document-templates"],queryFn:()=>fetch("/api/document-templates").then(W=>W.json())}),j=[{id:"tpl-001",name:"Standard ID Card",nameBn:"  ",type:"idCard",description:"Professional student ID card with photo and QR code",descriptionBn:"  QR      ",category:"student_documents",categoryBn:" ",isDefault:!0,isActive:!0,isFavorite:!0,usageCount:345,lastUsed:"  ",createdAt:"2023-01-15",lastModified:"2023-11-20",thumbnailColor:"#3b82f6",settings:{showLogo:!0,showSignature:!1,showQR:!0,colorScheme:"blue",layout:"standard",fontSize:"medium",orientation:"portrait"},createdBy:"System Admin",version:"2.1",tags:["id","student","photo","qr"]},{id:"tpl-002",name:"Digital Admit Card",nameBn:"  ",type:"admitCard",description:"Modern admit card with exam schedule and guidelines",descriptionBn:"       ",category:"exam_documents",categoryBn:" ",isDefault:!0,isActive:!0,isFavorite:!1,usageCount:210,lastUsed:"  ",createdAt:"2023-02-10",lastModified:"2023-10-15",thumbnailColor:"#8b5cf6",settings:{showLogo:!0,showSignature:!0,showQR:!1,colorScheme:"purple",layout:"modern",fontSize:"small",orientation:"portrait"},createdBy:"Exam Controller",version:"1.8",tags:["admit","exam","schedule"]},{id:"tpl-003",name:"Detailed Result Sheet",nameBn:"  ",type:"resultSheet",description:"Comprehensive result sheet with grades and analysis",descriptionBn:"      ",category:"academic_reports",categoryBn:" ",isDefault:!1,isActive:!0,isFavorite:!0,usageCount:156,lastUsed:"  ",createdAt:"2023-03-20",lastModified:"2023-12-01",thumbnailColor:"#10b981",settings:{showLogo:!0,showSignature:!0,showQR:!1,colorScheme:"green",layout:"detailed",fontSize:"small",orientation:"landscape"},createdBy:"Academic Head",version:"3.0",tags:["result","grade","analysis","academic"]},{id:"tpl-004",name:"Fee Receipt",nameBn:" ",type:"feeReceipt",description:"Standard fee payment receipt with payment details",descriptionBn:"      ",category:"financial_documents",categoryBn:" ",isDefault:!0,isActive:!0,isFavorite:!1,usageCount:892,lastUsed:"  ",createdAt:"2023-01-10",lastModified:"2023-11-25",thumbnailColor:"#f59e0b",settings:{showLogo:!0,showSignature:!0,showQR:!0,colorScheme:"amber",layout:"compact",fontSize:"medium",orientation:"portrait"},createdBy:"Accounts Department",version:"2.5",tags:["fee","receipt","payment","financial"]},{id:"tpl-005",name:"Achievement Certificate",nameBn:" ",type:"certificate",description:"Elegant certificate template for achievements and awards",descriptionBn:"      ",category:"certificates",categoryBn:"",isDefault:!1,isActive:!0,isFavorite:!0,usageCount:78,lastUsed:"  ",createdAt:"2023-04-05",lastModified:"2023-10-30",thumbnailColor:"#ef4444",settings:{showLogo:!0,showSignature:!0,showQR:!1,colorScheme:"red",layout:"elegant",fontSize:"large",orientation:"landscape"},createdBy:"Principal",version:"1.2",tags:["certificate","achievement","award","recognition"]}],B=x.length>0?x:j,F={totalTemplates:B.length,activeTemplates:B.filter(W=>W.isActive).length,popularTemplates:B.filter(W=>(W.usageCount||0)>200).length,totalUsage:B.reduce((W,re)=>W+(re.usageCount||0),0),favoriteCount:B.filter(W=>W.isFavorite).length},P=B.filter(W=>{var re,I;return!(r==="favorites"&&!W.isFavorite||r==="popular"&&(W.usageCount||0)<200||r==="recent"&&W.updatedAt&&new Date(W.updatedAt)<new Date(Date.now()-7*24*60*60*1e3)||a&&!((re=W.nameBn)!=null&&re.toLowerCase().includes(a.toLowerCase()))&&!((I=W.descriptionBn)!=null&&I.toLowerCase().includes(a.toLowerCase()))||l!=="all"&&W.category!==l||c!=="all"&&W.type!==c)}),E=[{value:"all",label:" "},{value:"student_documents",label:" "},{value:"exam_documents",label:" "},{value:"academic_reports",label:" "},{value:"financial_documents",label:" "},{value:"certificates",label:""}],N=[{value:"all",label:" "},{value:"idCard",label:" "},{value:"admitCard",label:" "},{value:"resultSheet",label:" "},{value:"feeReceipt",label:" "},{value:"certificate",label:""},{value:"testimonial",label:""}],C=Bt({mutationFn:async W=>Vt("/api/templates",{method:"POST",body:JSON.stringify(W)}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/templates"]}),h(!1),t({title:"  ",description:"     "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}}),_=Bt({mutationFn:async({id:W,isFavorite:re})=>Vt(`/api/templates/${W}/favorite`,{method:"PATCH",body:JSON.stringify({isFavorite:re})}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/templates"]})}}),k=W=>{switch(W){case"idCard":return{icon:ui,color:"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300"};case"admitCard":return{icon:bs,color:"bg-purple-100 text-purple-600 dark:bg-purple-900 dark:text-purple-300"};case"resultSheet":return{icon:pa,color:"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-300"};case"feeReceipt":return{icon:xs,color:"bg-amber-100 text-amber-600 dark:bg-amber-900 dark:text-amber-300"};case"certificate":return{icon:Qte,color:"bg-red-100 text-red-600 dark:bg-red-900 dark:text-red-300"};case"testimonial":return{icon:Ln,color:"bg-orange-100 text-orange-600 dark:bg-orange-900 dark:text-orange-300"};default:return{icon:xs,color:"bg-gray-100 text-gray-600 dark:bg-gray-900 dark:text-gray-300"}}},D=({template:W})=>{var ie;const re=k(W.type),I=re.icon;return e.jsxs(H,{className:"group hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800 hover:scale-[1.02]",children:[e.jsx(oe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:W.thumbnailColor+"20",color:W.thumbnailColor},children:e.jsx(I,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx(ce,{className:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 transition-colors",children:W.nameBn}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:W.descriptionBn})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[W.isDefault&&e.jsx(Oe,{variant:"outline",className:"text-xs",children:""}),e.jsx(V,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>_.mutate({id:W.id,isFavorite:!W.isFavorite}),children:W.isFavorite?e.jsx(Ln,{className:"h-4 w-4 text-yellow-500 fill-current"}):e.jsx(Hte,{className:"h-4 w-4 text-gray-400"})})]})]})}),e.jsx(M,{className:"pt-0",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-300",children:[e.jsxs("span",{children:[": ",W.usageCount]}),e.jsxs("span",{children:[": ",W.lastUsed]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(Oe,{className:re.color,children:(ie=N.find(ve=>ve.value===W.type))==null?void 0:ie.label}),e.jsxs("span",{className:"text-gray-500",children:["v",W.version]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(V,{size:"sm",className:"flex-1 h-8 text-xs bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",onClick:()=>m(W),children:[e.jsx(cn,{className:"h-3 w-3 mr-1"}),""]}),e.jsx(V,{size:"sm",variant:"outline",className:"h-8 px-3",children:e.jsx(q1,{className:"h-3 w-3"})}),e.jsx(V,{size:"sm",variant:"outline",className:"h-8 px-3",children:e.jsx(qw,{className:"h-3 w-3"})})]})]})})]})},z=({template:W})=>{var ie;const re=k(W.type),I=re.icon;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:W.thumbnailColor+"20",color:W.thumbnailColor},children:e.jsx(I,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:W.nameBn}),W.isDefault&&e.jsx(Oe,{variant:"outline",className:"text-xs",children:""}),W.isFavorite&&e.jsx(Ln,{className:"h-3 w-3 text-yellow-500 fill-current"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:W.descriptionBn}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-500",children:[e.jsxs("span",{children:[": ",W.usageCount]}),e.jsxs("span",{children:[": ",W.lastUsed]}),e.jsxs("span",{children:[": ",W.version]}),e.jsx(Oe,{className:re.color,children:(ie=N.find(ve=>ve.value===W.type))==null?void 0:ie.label})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{size:"sm",onClick:()=>m(W),children:[e.jsx(cn,{className:"h-4 w-4 mr-1"}),""]}),e.jsx(V,{size:"sm",variant:"outline",children:e.jsx(q1,{className:"h-4 w-4"})}),e.jsx(V,{size:"sm",variant:"outline",children:e.jsx(I2,{className:"h-4 w-4"})})]})]})};return e.jsx(is,{children:e.jsx(Qr,{title:" ",description:"      ",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 border-blue-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(xs,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:F.totalTemplates})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 border-green-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx(ks,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:F.activeTemplates})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 border-purple-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center",children:e.jsx(bn,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:F.popularTemplates})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900 border-orange-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(di,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300",children:F.totalUsage.toLocaleString()})]})]})})})]}),e.jsx(H,{className:"border-0 shadow-sm",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1 max-w-3xl",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(de,{placeholder:" ...",value:a,onChange:W=>i(W.target.value),className:"pl-10 border-gray-200 dark:border-gray-700"})]}),e.jsxs(xt,{value:l,onValueChange:o,children:[e.jsx(ht,{className:"w-full sm:w-48",children:e.jsx(pt,{placeholder:""})}),e.jsx(At,{children:E.map(W=>e.jsx(X,{value:W.value,children:W.label},W.value))})]}),e.jsxs(xt,{value:c,onValueChange:d,children:[e.jsx(ht,{className:"w-full sm:w-40",children:e.jsx(pt,{placeholder:""})}),e.jsx(At,{children:N.map(W=>e.jsx(X,{value:W.value,children:W.label},W.value))})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[e.jsx(V,{size:"sm",variant:p==="grid"?"default":"ghost",onClick:()=>f("grid"),className:"h-8 px-3",children:e.jsx(y3,{className:"h-4 w-4"})}),e.jsx(V,{size:"sm",variant:p==="list"?"default":"ghost",onClick:()=>f("list"),className:"h-8 px-3",children:e.jsx(w3,{className:"h-4 w-4"})})]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs(pr,{open:u,onOpenChange:h,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"})," "]})}),e.jsxs(or,{className:"max-w-md",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"   "}),e.jsx(Nr,{children:"       "})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"template-name",children:" "}),e.jsx(de,{id:"template-name",placeholder:":   "})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"template-type",children:" "}),e.jsxs(xt,{children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})}),e.jsx(At,{children:N.slice(1).map(W=>e.jsx(X,{value:W.value,children:W.label},W.value))})]})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"template-description",children:""}),e.jsx(Gs,{id:"template-description",placeholder:"  ..."})]})]}),e.jsxs(Pl,{children:[e.jsx(V,{variant:"outline",onClick:()=>h(!1),children:""}),e.jsx(V,{className:"bg-gradient-to-r from-blue-500 to-purple-600",onClick:()=>C.mutate({}),disabled:C.isPending,children:C.isPending?" ...":" "})]})]})]})]})]})})}),e.jsxs(Ar,{value:r,onValueChange:n,children:[e.jsxs(ir,{className:"grid w-full grid-cols-5 lg:w-fit",children:[e.jsxs(lt,{value:"all",children:[" (",F.totalTemplates,")"]}),e.jsxs(lt,{value:"favorites",children:[" (",F.favoriteCount,")"]}),e.jsxs(lt,{value:"popular",children:[" (",F.popularTemplates,")"]}),e.jsx(lt,{value:"recent",children:""}),e.jsx(lt,{value:"custom",children:""})]}),e.jsx(bt,{value:r,className:"space-y-4",children:P.length===0?e.jsx(H,{className:"border-dashed border-2 border-gray-300 dark:border-gray-600",children:e.jsxs(M,{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(xs,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"   "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"       "}),e.jsx(V,{variant:"outline",onClick:()=>{i(""),o("all"),d("all")},children:"  "})]})}):e.jsxs(e.Fragment,{children:[p==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:P.map(W=>e.jsx(D,{template:W},W.id))}):e.jsx("div",{className:"space-y-3",children:P.map(W=>e.jsx(z,{template:W},W.id))}),e.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400 pt-4",children:[P.length,"    ",a&&` "${a}"  `,l!=="all"&&` ${(K=E.find(W=>W.value===l))==null?void 0:K.label} `]})]})})]}),A&&e.jsx(pr,{open:!!A,onOpenChange:()=>m(null),children:e.jsxs(or,{className:"max-w-4xl",children:[e.jsxs(cr,{children:[e.jsxs(dr,{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"h-5 w-5"}),A.nameBn]}),e.jsx(Nr,{children:A.descriptionBn})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"aspect-[3/4] bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:" "}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:A.nameBn})]})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:" "}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{children:(xe=N.find(W=>W.value===A.type))==null?void 0:xe.label})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsxs("span",{children:[A.usageCount," "]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsxs("span",{children:["v",A.version]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{children:A.createdBy})]})]})]}),e.jsx(il,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:""}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:" "}),e.jsx(Ws,{checked:A.settings.showLogo,disabled:!0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:" "}),e.jsx(Ws,{checked:A.settings.showSignature,disabled:!0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"QR "}),e.jsx(Ws,{checked:A.settings.showQR,disabled:!0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" :"}),e.jsx("span",{className:"capitalize",children:A.settings.colorScheme})]})]})]}),e.jsx(il,{}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{size:"sm",className:"flex-1",children:[e.jsx(q1,{className:"h-4 w-4 mr-1"}),""]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(qw,{className:"h-4 w-4 mr-1"}),""]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Ts,{className:"h-4 w-4 mr-1"}),""]})]})]})]})})]})})]})})})}function q4e(){const t=Cs(),{toast:s}=ls(),{data:r,isLoading:n,error:a}=st({queryKey:["/api/admin/stats/public"],queryFn:()=>Vt("/api/admin/stats/public")}),i=r==null?void 0:r.stats,{data:l,isLoading:o}=st({queryKey:["/api/admin/users"],queryFn:()=>Vt("/api/admin/users")}),c=(l==null?void 0:l.users)||[],{data:d,isLoading:u}=st({queryKey:["/api/admin/schools"],queryFn:()=>Vt("/api/admin/schools")}),h=(d==null?void 0:d.schools)||[],A=Bt({mutationFn:async N=>Vt("/api/admin/users",{method:"POST",body:JSON.stringify(N)}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/users"]}),s({title:"",description:"    "})},onError:()=>{s({title:"",description:"    ",variant:"destructive"})}}),m=Bt({mutationFn:async({userId:N,status:C})=>Vt(`/api/admin/users/${N}/status`,{method:"PATCH",body:JSON.stringify({status:C})}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/users"]}),s({title:"",description:"   "})},onError:()=>{s({title:"",description:"    ",variant:"destructive"})}}),p=Bt({mutationFn:async N=>Vt(`/api/admin/users/${N}`,{method:"DELETE"}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/users"]}),s({title:"",description:"     "})},onError:()=>{s({title:"",description:"   ",variant:"destructive"})}}),f=Bt({mutationFn:async N=>Vt("/api/admin/schools",{method:"POST",body:JSON.stringify(N)}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/schools"]}),s({title:"",description:"    "})},onError:()=>{s({title:"",description:"    ",variant:"destructive"})}}),x=Bt({mutationFn:async({schoolId:N,data:C})=>Vt(`/api/admin/schools/${N}`,{method:"PATCH",body:JSON.stringify(C)}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/schools"]}),s({title:"",description:"   "})},onError:()=>{s({title:"",description:"    ",variant:"destructive"})}}),{data:g,isLoading:v}=st({queryKey:["/api/admin/system/health/public"],queryFn:()=>Vt("/api/admin/system/health/public"),refetchInterval:3e4}),j=g==null?void 0:g.health,{data:B,isLoading:F}=st({queryKey:["/api/admin/analytics/realtime"],queryFn:()=>Vt("/api/admin/analytics/realtime"),refetchInterval:1e4}),P=B==null?void 0:B.analytics,E=Bt({mutationFn:async N=>Vt("/api/admin/bulk/users/import",{method:"POST",body:JSON.stringify({csvData:N})}),onSuccess:N=>{t.invalidateQueries({queryKey:["/api/admin/users"]}),s({title:"",description:`${N.imported||0}     `})},onError:()=>{s({title:"",description:"    ",variant:"destructive"})}});return{adminStats:i,users:c,schools:h,systemHealth:j,realtimeAnalytics:P,adminStatsLoading:n,usersLoading:o,schoolsLoading:u,systemHealthLoading:v,analyticsLoading:F,createUserMutation:A,updateUserStatusMutation:m,deleteUserMutation:p,createSchoolMutation:f,updateSchoolMutation:x,bulkImportUsersMutation:E,isCreatingUser:A.isPending,isUpdatingUser:m.isPending,isDeletingUser:p.isPending,isCreatingSchool:f.isPending,isUpdatingSchool:x.isPending,isBulkImporting:E.isPending}}const $4e=Y.object({username:Y.string().min(3,{message:"      "}),email:Y.string().email({message:"   "}),password:Y.string().min(6,{message:"     "}),role:Y.enum(["admin","teacher","student","parent"]),schoolId:Y.string().optional()}),G4e=Y.object({name:Y.string().min(2,{message:"  "}),email:Y.string().email({message:"   "}),phone:Y.string().min(10,{message:"    "}),address:Y.string().min(5,{message:" "}),adminUsername:Y.string().min(3,{message:"   "}),adminPassword:Y.string().min(6,{message:"  "})});function W4e(){var De,L,U;ls();const[t,s]=b.useState("overview"),[r,n]=b.useState(null),[a,i]=b.useState(null),[l,o]=b.useState(!1),[c,d]=b.useState(!1),{adminStats:u,users:h,schools:A,systemHealth:m,realtimeAnalytics:p,adminStatsLoading:f,usersLoading:x,schoolsLoading:g,systemHealthLoading:v,analyticsLoading:j,createUserMutation:B,updateUserStatusMutation:F,deleteUserMutation:P,createSchoolMutation:E,bulkImportUsersMutation:N,isCreatingUser:C,isUpdatingUser:_,isDeletingUser:k,isCreatingSchool:D,isBulkImporting:z}=q4e(),K=zs({resolver:qs($4e),defaultValues:{username:"",email:"",password:"",role:"student",schoolId:""}}),xe=zs({resolver:qs(G4e),defaultValues:{name:"",email:"",phone:"",address:"",adminUsername:"",adminPassword:""}}),W=async R=>{await B.mutateAsync(R),o(!1),K.reset()},re=async R=>{await E.mutateAsync(R),d(!1),xe.reset()},I=async(R,q)=>{await F.mutateAsync({userId:R,status:q})},ie=async R=>{confirm("       ?")&&await P.mutateAsync(R)},ve=async()=>{const R=document.createElement("input");R.type="file",R.accept=".csv",R.onchange=async q=>{var G;const ae=(G=q.target.files)==null?void 0:G[0];if(!ae)return;const Ae=new FileReader;Ae.onload=async()=>{const O=Ae.result;await N.mutateAsync(O)},Ae.readAsText(ae)},R.click()};return f?e.jsx(is,{children:e.jsx(Qr,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Kn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-lg",children:"    ..."})]})})})}):e.jsx(is,{children:e.jsx(Qr,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:" "}),e.jsx("p",{className:"text-muted-foreground",children:"        "})]}),e.jsxs(Ar,{value:t,onValueChange:s,className:"space-y-6",children:[e.jsxs(ir,{className:"grid w-full grid-cols-5",children:[e.jsxs(lt,{value:"overview",className:"flex items-center gap-2",children:[e.jsx(di,{className:"h-4 w-4"}),""]}),e.jsxs(lt,{value:"users",className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-4 w-4"}),""]}),e.jsxs(lt,{value:"schools",className:"flex items-center gap-2",children:[e.jsx(Jc,{className:"h-4 w-4"}),""]}),e.jsxs(lt,{value:"system",className:"flex items-center gap-2",children:[e.jsx(rc,{className:"h-4 w-4"}),""]}),e.jsxs(lt,{value:"security",className:"flex items-center gap-2",children:[e.jsx(jn,{className:"h-4 w-4"}),""]})]}),e.jsxs(bt,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalUsers)||(h==null?void 0:h.length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(Jc,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalSchools)||(A==null?void 0:A.length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(di,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ks,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-2xl font-bold",children:""})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(rc,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:((De=m==null?void 0:m.database)==null?void 0:De.size)||"14 MB"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"- "}),e.jsx(ct,{children:"    "})]}),e.jsx(M,{children:j?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(Kn,{className:"h-6 w-6 animate-spin"})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(p==null?void 0:p.activeUsers)||"45"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:(p==null?void 0:p.responseTime)||"< 100ms"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(p==null?void 0:p.uptime)||"99.9%"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})})]})]}),e.jsx(bt,{value:"users",className:"space-y-6",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ce,{children:" "}),e.jsx(ct,{children:"    "})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(V,{variant:"outline",onClick:ve,disabled:z,children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),z?" ...":" "]}),e.jsxs(pr,{open:l,onOpenChange:o,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"})," "]})}),e.jsxs(or,{children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"   "}),e.jsx(Nr,{children:"    "})]}),e.jsx(Ms,{...K,children:e.jsxs("form",{onSubmit:K.handleSubmit(W),className:"space-y-4",children:[e.jsx(Se,{control:K.control,name:"username",render:({field:R})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:" ",...R})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:K.control,name:"email",render:({field:R})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{type:"email",placeholder:"user@example.com",...R})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:K.control,name:"role",render:({field:R})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsxs(xt,{onValueChange:R.onChange,defaultValue:R.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"admin",children:""}),e.jsx(X,{value:"teacher",children:""}),e.jsx(X,{value:"student",children:""}),e.jsx(X,{value:"parent",children:""})]})]}),e.jsx(_e,{})]})}),e.jsx(Pl,{children:e.jsxs(V,{type:"submit",disabled:C,children:[C&&e.jsx(Kn,{className:"mr-2 h-4 w-4 animate-spin"})," "]})})]})})]})]})]})]})}),e.jsx(M,{children:x?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(Kn,{className:"h-6 w-6 animate-spin"})}):e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""})]})}),e.jsx(Wr,{children:h.map(R=>e.jsxs(ns,{children:[e.jsx(Ve,{className:"font-medium",children:R.username}),e.jsx(Ve,{children:R.email}),e.jsx(Ve,{children:e.jsx(Oe,{variant:"outline",children:R.role})}),e.jsx(Ve,{children:e.jsx(Oe,{className:R.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:R.status==="active"?"":""})}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(V,{variant:"outline",size:"sm",onClick:()=>I(R.id,R.status==="active"?"inactive":"active"),disabled:_,children:e.jsx(Yn,{className:"h-4 w-4"})}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>ie(R.id),disabled:k,children:e.jsx(Ii,{className:"h-4 w-4"})})]})})]},R.id))})]})})]})}),e.jsx(bt,{value:"schools",className:"space-y-6",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ce,{children:" "}),e.jsx(ct,{children:"    "})]}),e.jsxs(pr,{open:c,onOpenChange:d,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),"  "]})}),e.jsxs(or,{className:"max-w-md",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"  "}),e.jsx(Nr,{children:"     "})]}),e.jsx(Ms,{...xe,children:e.jsxs("form",{onSubmit:xe.handleSubmit(re),className:"space-y-4",children:[e.jsx(Se,{control:xe.control,name:"name",render:({field:R})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:" ",...R})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:xe.control,name:"email",render:({field:R})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{type:"email",placeholder:"school@example.com",...R})}),e.jsx(_e,{})]})}),e.jsx(Pl,{children:e.jsxs(V,{type:"submit",disabled:D,children:[D&&e.jsx(Kn,{className:"mr-2 h-4 w-4 animate-spin"})," "]})})]})})]})]})]})}),e.jsx(M,{children:g?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(Kn,{className:"h-6 w-6 animate-spin"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(R=>e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{className:"text-lg",children:R.name}),e.jsx(ct,{children:R.email})]}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:""}),e.jsx("span",{className:"font-medium",children:R.studentCount||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:""}),e.jsx("span",{className:"font-medium",children:R.teacherCount||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:""}),e.jsx(Oe,{className:"bg-green-100 text-green-800",children:""})]})]})})]},R.id))})})]})}),e.jsx(bt,{value:"system",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(rc,{className:"h-5 w-5"})," "]}),e.jsx(ct,{children:"     "})]}),e.jsx(M,{children:v?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(Kn,{className:"h-6 w-6 animate-spin"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ks,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{children:" "})]}),e.jsx(Oe,{className:"bg-green-100 text-green-800",children:""})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ks,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{children:"API "})]}),e.jsx(Oe,{className:"bg-green-100 text-green-800",children:""})]})]}),e.jsx(il,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:" "}),e.jsx("span",{className:"font-medium",children:((L=m==null?void 0:m.database)==null?void 0:L.size)||"14 MB"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:" "}),e.jsx("span",{className:"font-medium",children:((U=m==null?void 0:m.database)==null?void 0:U.tables)||"41"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:" "}),e.jsx("span",{className:"font-medium",children:m!=null&&m.lastBackup?new Date(m.lastBackup).toLocaleString("bn-BD"):"  : "})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:""}),e.jsx("span",{className:"font-medium",children:"99.9%"})]})]})]})})]})}),e.jsx(bt,{value:"security",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(jn,{className:"h-5 w-5"})," "]}),e.jsx(ct,{children:"    "})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"- "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),e.jsx(Oe,{className:"bg-yellow-100 text-yellow-800",children:""})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"API  "}),e.jsx("p",{className:"text-sm text-gray-600",children:" API  "})]}),e.jsx(Oe,{className:"bg-green-100 text-green-800",children:""})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"   "})]}),e.jsx(Oe,{className:"bg-green-100 text-green-800",children:""})]})]})]})})]})]})})})}function Y4e(){const t=Cs(),{toast:s}=ls(),{data:r,isLoading:n,error:a}=st({queryKey:["/api/supabase/school/settings"],queryFn:()=>Vt("/api/supabase/school/settings")}),i=r==null?void 0:r.data,l=Bt({mutationFn:async p=>Vt("/api/supabase/school/settings",{method:"POST",body:JSON.stringify(p)}),onSuccess:p=>{t.invalidateQueries({queryKey:["/api/supabase/school/settings"]}),s({title:"",description:`    - ${p.action}`})},onError:()=>{s({title:"",description:"    ",variant:"destructive"})}}),o=Bt({mutationFn:async({type:p,fileName:f,fileData:x})=>Vt(`/api/supabase/school/upload/${p}`,{method:"POST",body:JSON.stringify({fileName:f,fileData:x})}),onSuccess:p=>{t.invalidateQueries({queryKey:["/api/supabase/school/settings"]}),s({title:"  ",description:`${p.type}    `})},onError:()=>{s({title:"",description:"    ",variant:"destructive"})}}),c=Bt({mutationFn:async()=>Vt("/api/supabase/school/backup"),onSuccess:p=>{s({title:"  ",description:"     "});const f=JSON.stringify(p.backup,null,2),x=new Blob([f],{type:"application/json"}),g=URL.createObjectURL(x),v=document.createElement("a");v.href=g,v.download=`school-backup-${new Date().toISOString().split("T")[0]}.json`,v.click(),URL.revokeObjectURL(g)},onError:()=>{s({title:"",description:"    ",variant:"destructive"})}}),d=Bt({mutationFn:async p=>Vt("/api/supabase/school/restore",{method:"POST",body:JSON.stringify({backupData:p})}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/supabase/school/settings"]}),s({title:"  ",description:"     "})},onError:()=>{s({title:"",description:"    ",variant:"destructive"})}}),u=Bt({mutationFn:async()=>Vt("/api/supabase/school/data",{method:"DELETE"}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/supabase/school/settings"]}),s({title:"   ",description:"        ",variant:"destructive"})},onError:()=>{s({title:"",description:"   ",variant:"destructive"})}}),{data:h,isLoading:A}=st({queryKey:["/api/supabase/school/stats"],queryFn:()=>Vt("/api/supabase/school/stats"),refetchInterval:3e4}),m=h==null?void 0:h.stats;return{schoolSettings:i,systemStats:m,settingsLoading:n,statsLoading:A,updateSettingsMutation:l,uploadFileMutation:o,createBackupMutation:c,restoreDataMutation:d,deleteAllDataMutation:u,isUpdating:l.isPending,isUploading:o.isPending,isBackingUp:c.isPending,isRestoring:d.isPending,isDeleting:u.isPending}}const X4e=Y.object({name:Y.string().min(2,{message:"  "}),nameInBangla:Y.string().min(2,{message:"   "}),address:Y.string().min(5,{message:" "}),addressInBangla:Y.string().min(5,{message:"  "}),email:Y.string().email({message:"   "}),phone:Y.string().min(10,{message:"    "}),website:Y.string().url({message:"  URL  "}).optional().or(Y.literal("")),schoolType:Y.enum(["school","college","madrasha","nurani"]),establishmentYear:Y.coerce.number().int().min(1900).max(new Date().getFullYear()),eiin:Y.string().min(5,{message:" EIIN   "}),registrationNumber:Y.string().optional(),principalName:Y.string().min(2,{message:"  "}),principalPhone:Y.string().min(10,{message:"    "}),description:Y.string().optional(),descriptionInBangla:Y.string().optional()}),J4e=Y.object({primaryColor:Y.string().min(4,{message:"  "}),secondaryColor:Y.string().min(4,{message:"  "}),accentColor:Y.string().min(4,{message:"  "}),motto:Y.string().optional(),mottoBn:Y.string().optional(),useWatermark:Y.boolean(),useLetterhead:Y.boolean()}),Z4e=Y.object({timezone:Y.string(),language:Y.enum(["bn","en"]),dateFormat:Y.string(),currency:Y.string(),academicYearStart:Y.string(),weekStartsOn:Y.enum(["sunday","monday"]),enableNotifications:Y.boolean(),enableSMS:Y.boolean(),enableEmail:Y.boolean(),autoBackup:Y.boolean(),dataRetention:Y.coerce.number().min(30).max(3650),maxStudents:Y.coerce.number().min(50).max(1e4),maxTeachers:Y.coerce.number().min(5).max(500),allowOnlinePayments:Y.boolean()});function e5e(){var _,k,D,z,K,xe,W;const{toast:t}=ls(),[s,r]=b.useState("basic");b.useRef(null);const{schoolSettings:n,systemStats:a,settingsLoading:i,updateSettingsMutation:l,uploadFileMutation:o,createBackupMutation:c,restoreDataMutation:d,deleteAllDataMutation:u,isUpdating:h,isUploading:A,isBackingUp:m,isRestoring:p,isDeleting:f}=Y4e(),x=async re=>{const I=document.createElement("input");I.type="file",I.accept="image/*",I.onchange=async ie=>{var L;const ve=(L=ie.target.files)==null?void 0:L[0];if(!ve)return;const De=new FileReader;De.onload=async()=>{const U=De.result;await o.mutateAsync({type:re,fileName:ve.name,fileData:U})},De.readAsDataURL(ve)},I.click()},g=async()=>{await c.mutateAsync()},v=async()=>{const re=document.createElement("input");re.type="file",re.accept=".json",re.onchange=async I=>{var De;const ie=(De=I.target.files)==null?void 0:De[0];if(!ie)return;const ve=new FileReader;ve.onload=async()=>{try{const L=JSON.parse(ve.result);await d.mutateAsync(L)}catch{t({title:"",description:"    ",variant:"destructive"})}},ve.readAsText(ie)},re.click()},j=async()=>{confirm("        ?      ")&&await u.mutateAsync()},B=zs({resolver:qs(X4e),defaultValues:{name:"",nameInBangla:"",address:"",addressInBangla:"",email:"",phone:"",website:"",schoolType:"school",establishmentYear:new Date().getFullYear(),eiin:"",registrationNumber:"",principalName:"",principalPhone:"",description:"",descriptionInBangla:""}});gs.useEffect(()=>{n&&B.reset({name:n.name||"",nameInBangla:n.nameInBangla||"",address:n.address||"",addressInBangla:n.addressInBangla||"",email:n.email||"",phone:n.phone||"",website:n.website||"",schoolType:n.schoolType||"school",establishmentYear:n.establishmentYear||new Date().getFullYear(),eiin:n.eiin||"",registrationNumber:n.registrationNumber||"",principalName:n.principalName||"",principalPhone:n.principalPhone||"",description:n.description||"",descriptionInBangla:n.descriptionInBangla||""})},[n,B]);const F=zs({resolver:qs(J4e),defaultValues:{primaryColor:"#3B82F6",secondaryColor:"#10B981",accentColor:"#F59E0B",motto:"",mottoBn:"",useWatermark:!1,useLetterhead:!1}}),P=zs({resolver:qs(Z4e),defaultValues:{timezone:"Asia/Dhaka",language:"bn",dateFormat:"DD/MM/YYYY",currency:"BDT",academicYearStart:"01/01",weekStartsOn:"sunday",enableNotifications:!1,enableSMS:!1,enableEmail:!1,autoBackup:!1,dataRetention:365,maxStudents:500,maxTeachers:50,allowOnlinePayments:!1}});gs.useEffect(()=>{n&&F.reset({primaryColor:n.primaryColor||"#3B82F6",secondaryColor:n.secondaryColor||"#10B981",accentColor:n.accentColor||"#F59E0B",motto:n.motto||"",mottoBn:n.mottoBn||"",useWatermark:n.useWatermark||!1,useLetterhead:n.useLetterhead||!1})},[n,F]),gs.useEffect(()=>{n&&P.reset({timezone:n.timezone||"Asia/Dhaka",language:n.language||"bn",dateFormat:n.dateFormat||"DD/MM/YYYY",currency:n.currency||"BDT",academicYearStart:n.academicYearStart||"01/01",weekStartsOn:n.weekStartsOn||"sunday",enableNotifications:n.enableNotifications||!1,enableSMS:n.enableSMS||!1,enableEmail:n.enableEmail||!1,autoBackup:n.autoBackup||!1,dataRetention:n.dataRetention||365,maxStudents:n.maxStudents||500,maxTeachers:n.maxTeachers||50,allowOnlinePayments:n.allowOnlinePayments||!1})},[n,P]);const E=async re=>{await l.mutateAsync(re)},N=async re=>{await l.mutateAsync(re)},C=async re=>{await l.mutateAsync(re)};return i?e.jsx(is,{children:e.jsx(Qr,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Kn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-lg",children:"    ..."})]})})})}):e.jsx(is,{children:e.jsx(Qr,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:" "}),e.jsx("p",{className:"text-muted-foreground",children:"          "})]}),e.jsxs(Ar,{value:s,onValueChange:r,className:"space-y-6",children:[e.jsxs(ir,{className:"grid w-full grid-cols-4",children:[e.jsxs(lt,{value:"basic",className:"flex items-center gap-2",children:[e.jsx(Ys,{className:"h-4 w-4"})," "]}),e.jsxs(lt,{value:"branding",className:"flex items-center gap-2",children:[e.jsx($x,{className:"h-4 w-4"}),""]}),e.jsxs(lt,{value:"settings",className:"flex items-center gap-2",children:[e.jsx(qx,{className:"h-4 w-4"}),""]}),e.jsxs(lt,{value:"advanced",className:"flex items-center gap-2",children:[e.jsx(rc,{className:"h-4 w-4"}),""]})]}),e.jsx(bt,{value:"basic",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Ys,{className:"h-5 w-5"})," "]}),e.jsx(ct,{children:"       "})]}),e.jsx(M,{children:e.jsx(Ms,{...B,children:e.jsxs("form",{onSubmit:B.handleSubmit(E),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Se,{control:B.control,name:"name",render:({field:re})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"  ",...re})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:B.control,name:"nameInBangla",render:({field:re})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"   ",...re})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Se,{control:B.control,name:"email",render:({field:re})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{type:"email",placeholder:"school@example.com",...re})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:B.control,name:"phone",render:({field:re})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:"+8801XXXXXXXXX",...re})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Se,{control:B.control,name:"address",render:({field:re})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" ()"}),e.jsx(Be,{children:e.jsx(Gs,{placeholder:"  ",...re})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:B.control,name:"addressInBangla",render:({field:re})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" ()"}),e.jsx(Be,{children:e.jsx(Gs,{placeholder:"   ",...re})}),e.jsx(_e,{})]})})]}),e.jsx(QA,{className:"px-0",children:e.jsxs(V,{type:"submit",disabled:h,children:[h&&e.jsx(Kn,{className:"mr-2 h-4 w-4 animate-spin"}),"  "]})})]})})})]})}),e.jsx(bt,{value:"branding",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx($x,{className:"h-5 w-5"}),"  "]}),e.jsx(ct,{children:"  ,      "})]}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(ke,{children:" "}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:n!=null&&n.logoUrl?e.jsx("img",{src:n.logoUrl,alt:"",className:"w-full h-full object-cover rounded-lg"}):e.jsx(Wn,{className:"h-8 w-8 text-gray-400"})}),e.jsxs(V,{type:"button",variant:"outline",onClick:()=>x("logo"),disabled:A,children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),A?" ...":" "]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ke,{children:" "}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-32 h-20 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:e.jsx(Wn,{className:"h-8 w-8 text-gray-400"})}),e.jsxs(V,{type:"button",variant:"outline",onClick:()=>x("banner"),disabled:A,children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),A?" ...":" "]})]})]}),e.jsx(Ms,{...F,children:e.jsxs("form",{onSubmit:F.handleSubmit(N),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(Se,{control:F.control,name:"primaryColor",render:({field:re})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"color",...re})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:F.control,name:"secondaryColor",render:({field:re})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"color",...re})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:F.control,name:"accentColor",render:({field:re})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"color",...re})}),e.jsx(_e,{})]})})]}),e.jsx(QA,{className:"px-0",children:e.jsxs(V,{type:"submit",disabled:h,children:[h&&e.jsx(Kn,{className:"mr-2 h-4 w-4 animate-spin"}),"  "]})})]})})]})})]})}),e.jsx(bt,{value:"settings",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(qx,{className:"h-5 w-5"})," "]}),e.jsx(ct,{children:"     "})]}),e.jsx(M,{children:e.jsx(Ms,{...P,children:e.jsxs("form",{onSubmit:P.handleSubmit(C),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Se,{control:P.control,name:"language",render:({field:re})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsxs(xt,{onValueChange:re.onChange,defaultValue:re.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"bn",children:""}),e.jsx(X,{value:"en",children:""})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:P.control,name:"timezone",render:({field:re})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsxs(xt,{onValueChange:re.onChange,defaultValue:re.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"Asia/Dhaka",children:"/"}),e.jsx(X,{value:"Asia/Kolkata",children:"/"})]})]}),e.jsx(_e,{})]})})]}),e.jsx("div",{className:"space-y-4",children:e.jsx(Se,{control:P.control,name:"enableNotifications",render:({field:re})=>e.jsxs(Ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Ce,{className:"text-base",children:"  "}),e.jsx(D3,{children:"    "})]}),e.jsx(Be,{children:e.jsx(Ws,{checked:re.value,onCheckedChange:re.onChange})})]})})}),e.jsx(QA,{className:"px-0",children:e.jsxs(V,{type:"submit",disabled:h,children:[h&&e.jsx(Kn,{className:"mr-2 h-4 w-4 animate-spin"}),"  "]})})]})})})]})}),e.jsxs(bt,{value:"advanced",className:"space-y-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(rc,{className:"h-5 w-5"}),"   "]}),e.jsx(ct,{children:"       "})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:(_=a==null?void 0:a.school)!=null&&_.lastUpdate?new Date(a.school.lastUpdate).toLocaleString("bn-BD"):"  "})]}),e.jsxs(V,{size:"sm",variant:"outline",onClick:g,disabled:m,children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),m?" ...":" "]})]}),e.jsx(il,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(V,{variant:"outline",className:"w-full justify-start",onClick:g,disabled:m,children:[e.jsx(yl,{className:"h-4 w-4 mr-2"}),m?"  ...":" "]}),e.jsxs(V,{variant:"outline",className:"w-full justify-start",onClick:v,disabled:p,children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),p?" ...":" "]}),e.jsxs(V,{variant:"outline",className:"w-full justify-start text-red-600",onClick:j,disabled:f,children:[e.jsx(Xc,{className:"h-4 w-4 mr-2"}),f?"  ...":"  "]})]})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(di,{className:"h-5 w-5"}),"  "]}),e.jsx(ct,{children:"     "})]}),e.jsx(M,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:" "}),e.jsx("span",{className:"font-medium",children:((k=a==null?void 0:a.database)==null?void 0:k.size)||" ..."})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:" "}),e.jsx("span",{className:"font-medium",children:((D=a==null?void 0:a.database)==null?void 0:D.tableCount)||"0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:" "}),e.jsx("span",{className:"font-medium",children:(z=a==null?void 0:a.database)!=null&&z.lastSync?new Date(a.database.lastSync).toLocaleString("bn-BD"):" ..."})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:" "}),e.jsx("span",{className:"font-medium",children:((K=a==null?void 0:a.system)==null?void 0:K.uptime)||"99.9%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:" "}),e.jsxs("span",{className:"font-medium",children:[((xe=a==null?void 0:a.school)==null?void 0:xe.recordCount)||"0"," "]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:" "}),e.jsx(Oe,{className:"bg-green-100 text-green-800",children:((W=a==null?void 0:a.database)==null?void 0:W.connectionStatus)||""})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:" "}),e.jsx(Oe,{className:"bg-blue-100 text-blue-800",children:" "})]})]})})]})]})]})]})})})}const t5e=Y.object({name:Y.string().min(2,{message:"  "}),nameBn:Y.string().min(2,{message:"  "}),startDate:Y.string().min(1,{message:"  "}),endDate:Y.string().min(1,{message:"  "}),description:Y.string().optional(),descriptionBn:Y.string().optional(),isActive:Y.boolean().default(!1)}),s5e=Y.object({name:Y.string().min(2,{message:"  "}),nameBn:Y.string().min(2,{message:"  "}),academicYearId:Y.string().min(1,{message:"  "}),startDate:Y.string().min(1,{message:"  "}),endDate:Y.string().min(1,{message:"  "}),description:Y.string().optional(),descriptionBn:Y.string().optional()});function r5e(){const{toast:t}=ls(),s=Cs(),[r,n]=b.useState("years"),[a,i]=b.useState(!1),[l,o]=b.useState(!1),[c,d]=b.useState(null),[u,h]=b.useState(!1),[A,m]=b.useState(!1),[p,f]=b.useState(""),[x,g]=b.useState("all"),{data:v=[],isLoading:j}=st({queryKey:["/api/academic-years"],enabled:!0}),{data:B=[],isLoading:F}=st({queryKey:["/api/enhanced-academic-terms"],enabled:!0}),{data:P}=st({queryKey:["/api/academic-years/stats"],enabled:!0}),E={totalYears:v.length,activeYears:v.filter(O=>O.isActive).length,completedYears:v.filter(O=>O.status==="completed").length,totalTerms:B.length,currentTerms:B.filter(O=>O.status==="ongoing").length,totalStudents:(P==null?void 0:P.totalStudents)||0},N=P||E,C=zs({resolver:qs(t5e),defaultValues:{name:"",nameBn:"",startDate:"",endDate:"",description:"",descriptionBn:"",isActive:!1}}),_=zs({resolver:qs(s5e),defaultValues:{name:"",nameBn:"",academicYearId:"",startDate:"",endDate:"",description:"",descriptionBn:""}}),k=Bt({mutationFn:async O=>Vt("/api/academic-years",{method:"POST",body:JSON.stringify(O)}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/academic-years"]}),h(!1),C.reset(),t({title:"  ",description:"     "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}}),D=Bt({mutationFn:async O=>Vt("/api/enhanced-academic-terms",{method:"POST",body:JSON.stringify(O)}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/enhanced-academic-terms"]}),m(!1),_.reset(),t({title:"  ",description:"      "})}}),z=Bt({mutationFn:async O=>Vt(`/api/academic-years/${O}`,{method:"DELETE"}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/academic-years"]}),s.invalidateQueries({queryKey:["/api/academic-years/stats"]}),t({title:"   ",description:"    "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}});Bt({mutationFn:async({id:O,data:ee})=>Vt(`/api/academic-years/${O}`,{method:"PATCH",body:JSON.stringify(ee)}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/academic-years"]}),s.invalidateQueries({queryKey:["/api/academic-years/stats"]}),t({title:"  ",description:"    "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}});const K=Bt({mutationFn:async({id:O,status:ee})=>Vt(`/api/academic-years/${O}/status`,{method:"PATCH",body:JSON.stringify({status:ee})}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/academic-years"]}),s.invalidateQueries({queryKey:["/api/academic-years/stats"]}),t({title:"  ",description:"     "})}}),xe=Bt({mutationFn:async O=>Vt(`/api/academic-years/${O}/set-current`,{method:"PATCH"}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/academic-years"]}),s.invalidateQueries({queryKey:["/api/academic-years/stats"]}),t({title:"    ",description:"      "})}}),W=Bt({mutationFn:async O=>Vt(`/api/enhanced-academic-terms/${O}`,{method:"DELETE"}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/enhanced-academic-terms"]}),s.invalidateQueries({queryKey:["/api/academic-years/stats"]}),t({title:"   ",description:"     "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}});Bt({mutationFn:async({id:O,data:ee})=>Vt(`/api/enhanced-academic-terms/${O}`,{method:"PATCH",body:JSON.stringify(ee)}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/enhanced-academic-terms"]}),s.invalidateQueries({queryKey:["/api/academic-years/stats"]}),t({title:"  ",description:"     "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}});const re=Bt({mutationFn:async({id:O,status:ee})=>Vt(`/api/enhanced-academic-terms/${O}/status`,{method:"PATCH",body:JSON.stringify({status:ee})}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/enhanced-academic-terms"]}),s.invalidateQueries({queryKey:["/api/academic-years/stats"]}),t({title:"   ",description:"      "})}}),I=O=>{confirm("        ?")&&z.mutate(O)},ie=O=>{confirm("        ?")&&W.mutate(O)},ve=(O,ee)=>{const Le=ee==="active"?"draft":"active";K.mutate({id:O,status:Le})},De=O=>{xe.mutate(O)},L=(O,ee)=>{const Le=ee==="ongoing"?"upcoming":"ongoing";re.mutate({id:O,status:Le})},U=()=>{const O=Ae.map(Me=>({:Me.nameBn," ":Me.name," ":new Date(Me.startDate).toLocaleDateString("bn-BD")," ":new Date(Me.endDate).toLocaleDateString("bn-BD"),:ae(Me.status),:Me.isCurrent?"":"",:Me.totalStudents||0,:Me.totalTerms||0})),ee=[Object.keys(O[0]).join(","),...O.map(Me=>Object.values(Me).join(","))].join(`
`),Le=new Blob([ee],{type:"text/csv;charset=utf-8;"}),Re=document.createElement("a"),Ke=URL.createObjectURL(Le);Re.setAttribute("href",Ke),Re.setAttribute("download",`academic-years-${new Date().toISOString().split("T")[0]}.csv`),Re.style.visibility="hidden",document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),t({title:" ",description:"    "})},R=()=>{const O=G.map(Me=>{const $e=v.find(ge=>ge.id===Me.academicYearId);return{" ":Me.nameBn," ":Me.name,:($e==null?void 0:$e.nameBn)||""," ":new Date(Me.startDate).toLocaleDateString("bn-BD")," ":new Date(Me.endDate).toLocaleDateString("bn-BD"),:ae(Me.status)," ":Me.examScheduled?"":""," ":Me.resultPublished?"":""}}),ee=[Object.keys(O[0]).join(","),...O.map(Me=>Object.values(Me).join(","))].join(`
`),Le=new Blob([ee],{type:"text/csv;charset=utf-8;"}),Re=document.createElement("a"),Ke=URL.createObjectURL(Le);Re.setAttribute("href",Ke),Re.setAttribute("download",`academic-terms-${new Date().toISOString().split("T")[0]}.csv`),Re.style.visibility="hidden",document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),t({title:" ",description:"     "})},q=O=>{switch(O){case"active":return{bg:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",icon:ks};case"completed":return{bg:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",icon:ev};case"draft":return{bg:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",icon:q1};case"archived":return{bg:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",icon:Ks};case"ongoing":return{bg:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",icon:di};case"upcoming":return{bg:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",icon:hr};default:return{bg:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",icon:bs}}},ae=O=>{switch(O){case"active":return"";case"completed":return"";case"draft":return"";case"archived":return"";case"ongoing":return"";case"upcoming":return"";default:return""}},Ae=v.filter(O=>{var ee;return!(p&&!((ee=O.name_bn)!=null&&ee.toLowerCase().includes(p.toLowerCase()))||x!=="all"&&O.status!==x)}),G=B.filter(O=>{var ee;return!(p&&!((ee=O.name_bn)!=null&&ee.toLowerCase().includes(p.toLowerCase())))});return e.jsx(is,{children:e.jsx(Qr,{title:" ",description:"     ",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 border-blue-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(bs,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:N.totalYears})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 border-green-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx(ks,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:N.activeYears})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 border-purple-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center",children:e.jsx(zw,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:N.totalTerms})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900 border-orange-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(ss,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300",children:N.totalStudents})]})]})})})]}),e.jsx(H,{className:"border-0 shadow-sm",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1 max-w-2xl",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(de,{placeholder:" ...",value:p,onChange:O=>f(O.target.value),className:"pl-10"})]}),e.jsxs(xt,{value:x,onValueChange:g,children:[e.jsx(ht,{className:"w-full sm:w-40",children:e.jsx(pt,{placeholder:""})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),e.jsx(X,{value:"active",children:""}),e.jsx(X,{value:"completed",children:""}),e.jsx(X,{value:"draft",children:""})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Ys,{className:"h-4 w-4 mr-2"}),""]})]})]})})}),e.jsxs(Ar,{value:r,onValueChange:n,children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[e.jsxs(ir,{className:"grid w-full lg:w-fit grid-cols-3",children:[e.jsx(lt,{value:"years",children:""}),e.jsx(lt,{value:"terms",children:" "}),e.jsx(lt,{value:"analytics",children:""})]}),e.jsxs("div",{className:"flex gap-2",children:[r==="years"&&e.jsxs(V,{variant:"outline",onClick:U,disabled:Ae.length===0,children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),""]}),r==="terms"&&e.jsxs(V,{variant:"outline",onClick:R,disabled:G.length===0,children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs(pr,{open:u,onOpenChange:h,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"})," "]})}),e.jsxs(or,{className:"max-w-md",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"   "}),e.jsx(Nr,{children:"    "})]}),e.jsx(Ms,{...C,children:e.jsxs("form",{onSubmit:C.handleSubmit(O=>k.mutate(O)),className:"space-y-4",children:[e.jsx(Se,{control:C.control,name:"nameBn",render:({field:O})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{placeholder:":  ",...O})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:C.control,name:"name",render:({field:O})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  (English)"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"e.g. 2025 Academic Year",...O})}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:C.control,name:"startDate",render:({field:O})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"date",...O})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:C.control,name:"endDate",render:({field:O})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"date",...O})}),e.jsx(_e,{})]})})]}),e.jsx(Se,{control:C.control,name:"descriptionBn",render:({field:O})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(Gs,{placeholder:" ...",...O})}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>h(!1),children:""}),e.jsx(V,{type:"submit",disabled:k.isPending,className:"bg-gradient-to-r from-blue-500 to-purple-600",children:k.isPending?" ...":" "})]})]})})]})]}),e.jsxs(pr,{open:A,onOpenChange:m,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{variant:"outline",children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"})," "]})}),e.jsxs(or,{className:"max-w-md",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"  "}),e.jsx(Nr,{children:"     "})]}),e.jsx(Ms,{..._,children:e.jsxs("form",{onSubmit:_.handleSubmit(O=>D.mutate(O)),className:"space-y-4",children:[e.jsx(Se,{control:_.control,name:"academicYearId",render:({field:O})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsxs(xt,{onValueChange:O.onChange,defaultValue:O.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsx(At,{children:v.map(ee=>e.jsx(X,{value:ee.id,children:ee.nameBn},ee.id))})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:_.control,name:"nameBn",render:({field:O})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{placeholder:":  ",...O})}),e.jsx(_e,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Se,{control:_.control,name:"startDate",render:({field:O})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"date",...O})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:_.control,name:"endDate",render:({field:O})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"date",...O})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>m(!1),children:""}),e.jsx(V,{type:"submit",disabled:D.isPending,children:D.isPending?" ...":" "})]})]})})]})]})]})]}),e.jsx(bt,{value:"years",className:"space-y-4",children:e.jsx(H,{children:e.jsx(M,{className:"p-0",children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{className:"text-right",children:""})]})}),e.jsx(Wr,{children:Ae.map(O=>{const ee=q(O.status),Le=ee.icon;return e.jsxs(ns,{children:[e.jsx(Ve,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:O.nameBn}),O.isCurrent&&e.jsx(Oe,{variant:"outline",className:"mt-1 text-xs",children:""})]})}),e.jsx(Ve,{children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{children:new Date(O.startDate).toLocaleDateString("bn-BD")}),e.jsxs("div",{className:"text-gray-500",children:[" ",new Date(O.endDate).toLocaleDateString("bn-BD")]})]})}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:O.totalStudents})]})}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zw,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:O.totalTerms})]})}),e.jsx(Ve,{children:e.jsxs(Oe,{className:ee.bg,children:[e.jsx(Le,{className:"h-3 w-3 mr-1"}),ae(O.status)]})}),e.jsx(Ve,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(V,{size:"sm",variant:"ghost",onClick:()=>ve(O.id,O.status),disabled:K.isPending,title:"  ",children:e.jsx(Ys,{className:"h-4 w-4"})}),e.jsx(V,{size:"sm",variant:"ghost",onClick:()=>De(O.id),disabled:xe.isPending||O.isCurrent,title:"   ",children:e.jsx(ks,{className:"h-4 w-4"})}),e.jsx(V,{size:"sm",variant:"ghost",onClick:()=>I(O.id),disabled:z.isPending,title:" ",className:"text-red-600 hover:text-red-700",children:e.jsx(Ii,{className:"h-4 w-4"})})]})})]},O.id)})})]})})})}),e.jsx(bt,{value:"terms",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:G.map(O=>{const ee=q(O.status),Le=ee.icon,Re=v.find(Ke=>Ke.id===O.academicYearId);return e.jsxs(H,{className:"hover:shadow-md transition-shadow",children:[e.jsx(oe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(ce,{className:"text-lg",children:O.nameBn}),e.jsx(ct,{children:Re==null?void 0:Re.nameBn})]}),e.jsxs(Oe,{className:ee.bg,children:[e.jsx(Le,{className:"h-3 w-3 mr-1"}),ae(O.status)]})]})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{children:new Date(O.startDate).toLocaleDateString("bn-BD")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{children:new Date(O.endDate).toLocaleDateString("bn-BD")})]})]}),e.jsx(il,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:" "}),O.examScheduled?e.jsx(ks,{className:"h-4 w-4 text-green-500"}):e.jsx(Xc,{className:"h-4 w-4 text-red-500"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:" "}),O.resultPublished?e.jsx(ks,{className:"h-4 w-4 text-green-500"}):e.jsx(Xc,{className:"h-4 w-4 text-red-500"})]})]})]})}),e.jsx(QA,{children:e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsxs(V,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>L(O.id,O.status),disabled:re.isPending,children:[e.jsx(Ys,{className:"h-4 w-4 mr-1"}),""]}),e.jsxs(V,{size:"sm",variant:"outline",className:"flex-1 text-red-600 hover:text-red-700",onClick:()=>ie(O.id),disabled:W.isPending,children:[e.jsx(Ii,{className:"h-4 w-4 mr-1"}),""]})]})})]},O.id)})})}),e.jsx(bt,{value:"analytics",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(pa,{className:"h-5 w-5"}),"  "]})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:v.map(O=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:O.nameBn}),e.jsxs("span",{className:"font-medium",children:[O.totalStudents," "]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${O.totalStudents/500*100}%`}})})]},O.id))})})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx($R,{className:"h-5 w-5"})," "]})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx("span",{className:"font-semibold text-green-600",children:B.filter(O=>O.status==="completed").length})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx("span",{className:"font-semibold text-blue-600",children:B.filter(O=>O.status==="ongoing").length})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx("span",{className:"font-semibold text-orange-600",children:B.filter(O=>O.status==="upcoming").length})]})]})})]})]})})]})]})})})}function n5e(){const{toast:t}=ls(),s=Cs(),r=jo(),[n,a]=b.useState("calendar"),[i,l]=b.useState(new Date),[o,c]=b.useState({title:"",description:"",date:new Date,startTime:"",endTime:"",location:"",eventType:"academic"}),{data:d=[],isLoading:u}=st({queryKey:["/api/calendar/events"],refetchInterval:3e4}),h=Bt({mutationFn:async j=>{const B=await fetch("/api/calendar/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(!B.ok)throw new Error("Failed to create event");return B.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/calendar/events"]}),t({title:"  ",description:"     "}),c({title:"",description:"",date:new Date,startTime:"",endTime:"",location:"",eventType:"academic"})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}}),A=d.map(j=>({...j,date:new Date(j.startDate||j.date),startTime:j.startTime||j.start_time,endTime:j.endTime||j.end_time,eventType:j.eventType||j.event_type,isAllDay:j.isAllDay||j.is_all_day})),m=j=>j?A.filter(B=>{const F=new Date(B.date);return F.getFullYear()===j.getFullYear()&&F.getMonth()===j.getMonth()&&F.getDate()===j.getDate()}):[],p=()=>m(new Date),f=()=>{const j=new Date;return A.filter(B=>{const F=new Date(B.date);return F>j&&!(F.getFullYear()===j.getFullYear()&&F.getMonth()===j.getMonth()&&F.getDate()===j.getDate())}).sort((B,F)=>new Date(B.date).getTime()-new Date(F.date).getTime()).slice(0,5)},x=j=>{switch(j){case"academic":return"bg-blue-500";case"exam":return"bg-red-500";case"holiday":return"bg-green-500";case"meeting":return"bg-purple-500";default:return"bg-gray-500"}},g=j=>{switch(j){case"academic":return"";case"exam":return"";case"holiday":return"";case"meeting":return"";default:return""}},v=A.filter(j=>{const B=new Date;return new Date(j.date).toDateString()===B.toDateString()});return e.jsx(is,{children:e.jsxs(Qr,{title:" ",description:" ,      ",primaryAction:{icon:"add_circle",label:"  ",onClick:()=>a("add-event")},breadcrumb:[{label:"",href:"/"},{label:"",href:"/calendar"}],children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(H,{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx("span",{className:"material-icons text-white text-lg",children:"event"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:v.length})]})]})})}),e.jsx(H,{className:"bg-gradient-to-r from-green-50 to-green-100 border-green-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx("span",{className:"material-icons text-white text-lg",children:"schedule"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:A.length})]})]})})}),e.jsx(H,{className:"bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:e.jsx("span",{className:"material-icons text-white text-lg",children:"school"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-purple-700",children:A.filter(j=>j.eventType==="exam").length})]})]})})}),e.jsx(H,{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:e.jsx("span",{className:"material-icons text-white text-lg",children:"beach_access"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-orange-600 font-medium",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-orange-700",children:A.filter(j=>j.eventType==="holiday").length})]})]})})})]}),e.jsxs(Ar,{defaultValue:"calendar",value:n,onValueChange:a,className:"w-full",children:[e.jsxs(ir,{className:at("grid mb-6 bg-slate-100/80 p-1 rounded-xl",r?"grid-cols-2 gap-1":"grid-cols-4"),children:[e.jsxs(lt,{value:"calendar",className:"flex items-center gap-2 px-4 py-3 rounded-lg transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[e.jsx("span",{className:"material-icons text-sm",children:"calendar_month"}),e.jsx("span",{className:at("font-medium",r&&"text-xs"),children:""})]}),e.jsxs(lt,{value:"events",className:"flex items-center gap-2 px-4 py-3 rounded-lg transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[e.jsx("span",{className:"material-icons text-sm",children:"event_note"}),e.jsx("span",{className:at("font-medium",r&&"text-xs"),children:" "})]}),!r&&e.jsxs(e.Fragment,{children:[e.jsxs(lt,{value:"add-event",className:"flex items-center gap-2 px-4 py-3 rounded-lg transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[e.jsx("span",{className:"material-icons text-sm",children:"add_circle"}),e.jsx("span",{className:"font-medium",children:" "})]}),e.jsxs(lt,{value:"holidays",className:"flex items-center gap-2 px-4 py-3 rounded-lg transition-all duration-200 data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[e.jsx("span",{className:"material-icons text-sm",children:"beach_access"}),e.jsx("span",{className:"font-medium",children:" "})]})]})]}),e.jsxs(bt,{value:"calendar",className:"mt-0",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(H,{className:"h-fit",children:[e.jsx(oe,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ce,{className:"text-xl font-bold text-slate-900",children:" "}),e.jsx(ct,{className:"text-slate-600",children:"    "})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(V,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>l(new Date),children:""})})]})}),e.jsx(M,{className:"p-6",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(iN,{mode:"single",selected:i,onSelect:l,className:"w-full max-w-none [&_.rdp-day]:h-12 [&_.rdp-day]:w-12 [&_.rdp-cell]:text-center",showOutsideDays:!1})})})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(H,{className:"h-full",children:[e.jsx(oe,{className:"pb-4",children:e.jsx(ce,{className:"text-lg font-semibold text-slate-900",children:i?`${i.toLocaleDateString("bn-BD")}  `:" "})}),e.jsx(M,{className:"p-4",children:u?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):m(i).length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-slate-100 flex items-center justify-center",children:e.jsx("span",{className:"material-icons text-slate-400 text-2xl",children:"event_busy"})}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"    "}),e.jsxs(V,{size:"sm",className:"w-full",onClick:()=>a("add-event"),children:[e.jsx("span",{className:"material-icons mr-2 text-sm",children:"add"}),"  "]})]}):e.jsx("div",{className:"space-y-3",children:m(i).map(j=>e.jsx("div",{className:"p-3 rounded-lg border border-slate-200 hover:border-slate-300 transition-all duration-200 cursor-pointer group",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:at("w-3 h-3 rounded-full mt-1.5 shrink-0",j.eventType==="academic"&&"bg-blue-500",j.eventType==="exam"&&"bg-red-500",j.eventType==="holiday"&&"bg-green-500",j.eventType==="meeting"&&"bg-purple-500",!["academic","exam","holiday","meeting"].includes(j.eventType)&&"bg-gray-500")}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-sm text-slate-900 leading-tight group-hover:text-blue-600 transition-colors",children:j.title}),e.jsxs("div",{className:"mt-1 space-y-1",children:[e.jsxs("p",{className:"text-xs text-slate-600 flex items-center gap-1",children:[e.jsx("span",{className:"material-icons text-xs",children:"schedule"}),j.isAllDay?"":`${j.startTime} - ${j.endTime}`]}),j.location&&e.jsxs("p",{className:"text-xs text-slate-600 flex items-center gap-1",children:[e.jsx("span",{className:"material-icons text-xs",children:"place"}),j.location]})]})]})]})},j.id))})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:" "}),e.jsx(ct,{children:new Date().toLocaleDateString("bn-BD")})]}),e.jsx(M,{children:p().length===0?e.jsxs("div",{className:"text-center py-6",children:[e.jsx("span",{className:"material-icons text-gray-400 text-4xl mb-2",children:"event_busy"}),e.jsx("p",{className:"text-gray-500",children:"   "})]}):e.jsx("div",{className:"space-y-4",children:p().map(j=>e.jsxs("div",{className:"flex items-start gap-3 border-b pb-3 last:border-0",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${x(j.eventType)}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:j.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:[j.isAllDay?"":`${j.startTime} - ${j.endTime}`,j.location&&` | ${j.location}`]})]})]},j.id))})})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:" "}),e.jsx(ct,{children:"  "})]}),e.jsx(M,{children:f().length===0?e.jsxs("div",{className:"text-center py-6",children:[e.jsx("span",{className:"material-icons text-gray-400 text-4xl mb-2",children:"event_busy"}),e.jsx("p",{className:"text-gray-500",children:"   "})]}):e.jsx("div",{className:"space-y-4",children:f().map(j=>e.jsxs("div",{className:"flex items-start gap-3 border-b pb-3 last:border-0",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${x(j.eventType)}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:j.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:[j.date.toLocaleDateString("bn-BD")," | ",j.isAllDay?"":`${j.startTime} - ${j.endTime}`]}),j.location&&e.jsx("p",{className:"text-sm text-gray-500",children:j.location})]})]},j.id))})})]})]})]}),e.jsx(bt,{value:"events",className:"mt-0 space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:" "}),e.jsx(ct,{children:"      "})]}),e.jsxs(M,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"event-month",children:""}),e.jsxs(xt,{defaultValue:new Date().getMonth().toString(),children:[e.jsx(ht,{id:"event-month",children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:"0",children:""}),e.jsx(X,{value:"1",children:""}),e.jsx(X,{value:"2",children:""}),e.jsx(X,{value:"3",children:""}),e.jsx(X,{value:"4",children:""}),e.jsx(X,{value:"5",children:""}),e.jsx(X,{value:"6",children:""}),e.jsx(X,{value:"7",children:""}),e.jsx(X,{value:"8",children:""}),e.jsx(X,{value:"9",children:""}),e.jsx(X,{value:"10",children:""}),e.jsx(X,{value:"11",children:""})]})]})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"event-type",children:" "}),e.jsxs(xt,{defaultValue:"all",children:[e.jsx(ht,{id:"event-type",children:e.jsx(pt,{placeholder:"   "})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),e.jsx(X,{value:"academic",children:""}),e.jsx(X,{value:"exam",children:""}),e.jsx(X,{value:"holiday",children:""}),e.jsx(X,{value:"meeting",children:""}),e.jsx(X,{value:"other",children:""})]})]})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"search-event",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500",children:e.jsx("span",{className:"material-icons text-sm",children:"search"})}),e.jsx(de,{id:"search-event",placeholder:" ",className:"pl-10"})]})]})]}),e.jsx("div",{className:"rounded-md border overflow-hidden",children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{className:"text-right",children:""})]})}),e.jsx(Wr,{children:A.sort((j,B)=>new Date(j.date).getTime()-new Date(B.date).getTime()).map(j=>e.jsxs(ns,{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx(Ve,{className:"font-medium text-slate-900",children:j.title}),e.jsx(Ve,{className:"text-slate-700",children:new Date(j.date).toLocaleDateString("bn-BD")}),e.jsx(Ve,{className:"text-slate-700",children:j.isAllDay?"":`${j.startTime} - ${j.endTime}`}),e.jsx(Ve,{className:"text-slate-700",children:j.location||"-"}),e.jsx(Ve,{children:e.jsx("span",{className:at("inline-flex items-center rounded-full px-3 py-1 text-xs font-medium",j.eventType==="academic"&&"bg-blue-100 text-blue-800 border border-blue-200",j.eventType==="exam"&&"bg-red-100 text-red-800 border border-red-200",j.eventType==="holiday"&&"bg-green-100 text-green-800 border border-green-200",j.eventType==="meeting"&&"bg-purple-100 text-purple-800 border border-purple-200",!["academic","exam","holiday","meeting"].includes(j.eventType)&&"bg-gray-100 text-gray-800 border border-gray-200"),children:g(j.eventType)})}),e.jsx(Ve,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsx(V,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-50 hover:text-blue-600 transition-colors","aria-label":" ",children:e.jsx("span",{className:"material-icons text-sm",children:"edit"})}),e.jsx(V,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-green-50 hover:text-green-600 transition-colors","aria-label":" ",children:e.jsx("span",{className:"material-icons text-sm",children:"visibility"})}),e.jsx(V,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-red-50 hover:text-red-600 transition-colors","aria-label":" ",children:e.jsx("span",{className:"material-icons text-sm",children:"delete"})})]})})]},j.id))})]})})]})]})}),e.jsx(bt,{value:"add-event",className:"mt-0",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(H,{children:[e.jsxs(oe,{className:"pb-6",children:[e.jsx(ce,{className:"text-xl font-bold text-slate-900",children:"   "}),e.jsx(ct,{className:"text-slate-600",children:"       "})]}),e.jsxs(M,{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 border-b border-slate-200 pb-2",children:" "}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ke,{htmlFor:"event-title",className:"text-sm font-semibold text-slate-800",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(de,{id:"event-title",placeholder:"  ",value:o.title,onChange:j=>c({...o,title:j.target.value}),className:"h-12"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ke,{htmlFor:"event-type-select",className:"text-sm font-semibold text-slate-800",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xt,{value:o.eventType,onValueChange:j=>c({...o,eventType:j}),children:[e.jsx(ht,{id:"event-type-select",className:"h-12",children:e.jsx(pt,{placeholder:"   "})}),e.jsxs(At,{children:[e.jsx(X,{value:"academic",children:" "}),e.jsx(X,{value:"exam",children:" "}),e.jsx(X,{value:"holiday",children:" "}),e.jsx(X,{value:"meeting",children:" "}),e.jsx(X,{value:"sports",children:" "})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"event-description",className:"text-sm font-semibold text-slate-800",children:" "}),e.jsx(Gs,{id:"event-description",placeholder:"   ",value:o.description,onChange:j=>c({...o,description:j.target.value}),rows:4,className:"resize-none"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 border-b border-slate-200 pb-2",children:"  "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ke,{className:"text-sm font-semibold text-slate-800",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(de,{type:"date",value:o.date?new Date(o.date).toISOString().split("T")[0]:"",onChange:j=>c({...o,date:new Date(j.target.value)}),className:"h-12"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"start-time",className:"text-sm font-semibold text-slate-800",children:" "}),e.jsx(de,{id:"start-time",type:"time",value:o.startTime,onChange:j=>c({...o,startTime:j.target.value}),className:"h-12"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"end-time",className:"text-sm font-semibold text-slate-800",children:" "}),e.jsx(de,{id:"end-time",type:"time",value:o.endTime,onChange:j=>c({...o,endTime:j.target.value}),className:"h-12"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 border-b border-slate-200 pb-2",children:"   "}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"event-location",className:"text-sm font-semibold text-slate-800",children:" "}),e.jsx(de,{id:"event-location",placeholder:": , -,  ",value:o.location,onChange:j=>c({...o,location:j.target.value}),className:"h-12"})]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-6",children:[e.jsx(ke,{className:"text-sm font-semibold text-slate-800 mb-4 block",children:" "}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"all-day",className:"w-4 h-4"}),e.jsx(ke,{htmlFor:"all-day",className:"text-sm font-medium text-slate-700",children:" "})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"recurring",className:"w-4 h-4"}),e.jsx(ke,{htmlFor:"recurring",className:"text-sm font-medium text-slate-700",children:" "})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"notify",defaultChecked:!0,className:"w-4 h-4"}),e.jsx(ke,{htmlFor:"notify",className:"text-sm font-medium text-slate-700",children:"  "})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-slate-200",children:[e.jsxs(V,{variant:"outline",className:"h-12 px-6",onClick:()=>a("calendar"),children:[e.jsx("span",{className:"material-icons mr-2 text-sm",children:"cancel"})," "]}),e.jsx(V,{className:"h-12 px-8 bg-blue-600 hover:bg-blue-700 text-white font-medium",onClick:()=>h.mutate(o),disabled:h.isPending||!o.title.trim(),children:h.isPending?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons animate-spin mr-2 text-sm",children:"refresh"}),"  ..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons mr-2 text-sm",children:"save"}),"  "]})})]})]})]})})}),e.jsx(bt,{value:"holidays",className:"mt-0 space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:" "}),e.jsx(ct,{children:"      "})]}),e.jsxs(M,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-lg font-medium",children:"   "}),e.jsx("p",{className:"text-sm text-gray-500",children:"  :  "})]}),e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-icons text-sm",children:"add"})," "]})]}),e.jsx("div",{className:"rounded-md border overflow-hidden",children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:" "}),e.jsx(We,{children:""}),e.jsx(We,{children:" "}),e.jsx(We,{children:""}),e.jsx(We,{className:"text-right",children:""})]})}),e.jsxs(Wr,{children:[e.jsxs(ns,{children:[e.jsx(Ve,{className:"font-medium",children:" "}),e.jsx(Ve,{children:" , "}),e.jsx(Ve,{children:" "}),e.jsx(Ve,{children:e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800",children:" "})}),e.jsx(Ve,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(V,{variant:"ghost",size:"icon",children:e.jsx("span",{className:"material-icons",children:"edit"})}),e.jsx(V,{variant:"ghost",size:"icon",children:e.jsx("span",{className:"material-icons",children:"delete"})})]})})]}),e.jsxs(ns,{children:[e.jsx(Ve,{className:"font-medium",children:" "}),e.jsx(Ve,{children:" , "}),e.jsx(Ve,{children:" "}),e.jsx(Ve,{children:e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800",children:" "})}),e.jsx(Ve,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(V,{variant:"ghost",size:"icon",children:e.jsx("span",{className:"material-icons",children:"edit"})}),e.jsx(V,{variant:"ghost",size:"icon",children:e.jsx("span",{className:"material-icons",children:"delete"})})]})})]}),e.jsxs(ns,{children:[e.jsx(Ve,{className:"font-medium",children:"--"}),e.jsx(Ve,{children:" , "}),e.jsx(Ve,{children:" "}),e.jsx(Ve,{children:e.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800",children:" "})}),e.jsx(Ve,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(V,{variant:"ghost",size:"icon",children:e.jsx("span",{className:"material-icons",children:"edit"})}),e.jsx(V,{variant:"ghost",size:"icon",children:e.jsx("span",{className:"material-icons",children:"delete"})})]})})]})]})]})})]})]})})]})]})})}function a5e(){const{toast:t}=ls(),s=Cs();jo();const[r,n]=b.useState("all"),[a,i]=b.useState([]),[l,o]=b.useState(""),[c,d]=b.useState("all"),[u,h]=b.useState("all"),[A,m]=b.useState({email:!0,sms:!0,push:!0,inApp:!0,sound:!0,vibration:!0}),{data:p,isLoading:f,error:x}=st({queryKey:["/api/notifications"],refetchInterval:3e3,staleTime:1e3}),g=k=>{const D=z=>{const K=new Date(z),W=Math.floor((new Date().getTime()-K.getTime())/(1e3*60));return W<60?`${W}  `:W<1440?`${Math.floor(W/60)}  `:`${Math.floor(W/1440)}  `};return{id:k.id,title:k.title||"",titleBn:k.titleBn||k.title_bn||k.title||"",description:k.message||"",descriptionBn:k.messageBn||k.message_bn||k.message||"",type:k.type||"info",priority:k.priority||"medium",isRead:k.isRead||k.is_read||!1,isStarred:!1,time:D(k.createdAt||k.created_at),category:k.category||"General",categoryBn:k.categoryBn||k.category_bn||k.category||"",actionRequired:k.actionRequired||k.action_required||!1,sender:k.sender||"System",attachments:0}},j=Array.isArray(p)?p.map(g):[],B={total:j.length,unread:j.filter(k=>!k.isRead).length,urgent:j.filter(k=>k.priority==="urgent"||k.priority==="high").length,todayCount:j.filter(k=>k.time&&(k.time.includes("")||k.time.includes(""))).length},F=j.filter(k=>{var D,z,K;return!(r==="unread"&&k.isRead||r==="starred"&&!k.isStarred||r==="urgent"&&k.priority!=="urgent"&&k.priority!=="high"||l&&!((D=k.titleBn)!=null&&D.toLowerCase().includes(l.toLowerCase()))&&!((K=(z=k.descriptionBn)==null?void 0:z.toLowerCase())!=null&&K.includes(l.toLowerCase()))||c!=="all"&&k.type!==c||u!=="all"&&k.priority!==u)}),P=Bt({mutationFn:async k=>{const D=await fetch("/api/notifications/mark-read",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notificationIds:k})});if(!D.ok)throw new Error("Failed to mark as read");return D.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/notifications"]}),i([]),t({title:"  ",description:"      "})},onError:()=>{t({title:"",description:"    ",variant:"destructive"})}}),E=Bt({mutationFn:async k=>{const D=await fetch("/api/notifications/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({notificationIds:k})});if(!D.ok)throw new Error("Failed to delete notifications");return D.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/notifications"]}),i([]),t({title:"   ",description:"     "})}}),N=k=>{switch(k){case"success":return{bg:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",icon:ks};case"warning":return{bg:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",icon:yn};case"error":return{bg:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",icon:sm};case"urgent":return{bg:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",icon:Ti};case"academic":return{bg:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",icon:Ks};case"financial":return{bg:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",icon:zr};case"meeting":return{bg:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",icon:ss};case"sports":return{bg:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",icon:El};case"holiday":return{bg:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",icon:bs};default:return{bg:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",icon:Gw}}},C=k=>{switch(k){case"urgent":return{color:"bg-red-500",pulse:"animate-pulse"};case"high":return{color:"bg-orange-500",pulse:""};case"medium":return{color:"bg-yellow-500",pulse:""};case"low":return{color:"bg-gray-400",pulse:""};default:return{color:"bg-gray-400",pulse:""}}},_=({notification:k})=>{const D=N(k.type),z=C(k.priority),K=D.icon;return e.jsx(H,{className:at("group hover:shadow-md transition-all duration-200 border-l-4",k.isRead?"bg-gray-50 dark:bg-gray-900 border-l-gray-300":"bg-white dark:bg-gray-800 border-l-blue-500",k.priority==="urgent"&&"border-l-red-500 bg-red-50 dark:bg-red-950"),children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(hm,{checked:a.includes(k.id),onCheckedChange:xe=>{i(xe?[...a,k.id]:a.filter(W=>W!==k.id))},className:"mt-1"}),e.jsx("div",{className:at("w-10 h-10 rounded-lg flex items-center justify-center",D.bg),children:e.jsx(K,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:at("font-semibold text-sm",k.isRead?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"),children:k.titleBn}),e.jsx("div",{className:at("w-2 h-2 rounded-full",z.color,z.pulse)}),k.isStarred&&e.jsx(Ln,{className:"h-3 w-3 text-yellow-500 fill-current"})]}),e.jsx("p",{className:at("text-sm mb-2",k.isRead?"text-gray-600 dark:text-gray-400":"text-gray-700 dark:text-gray-300"),children:k.descriptionBn}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hr,{className:"h-3 w-3"}),k.time]}),e.jsx("span",{children:k.categoryBn}),k.sender&&e.jsxs("span",{children:[": ",k.sender]}),k.attachments&&k.attachments>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(vte,{className:"h-3 w-3"}),k.attachments," "]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[k.actionRequired&&e.jsx(Oe,{variant:"outline",className:"text-xs",children:" "}),e.jsx(V,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(I2,{className:"h-4 w-4"})})]})]}),k.actionRequired&&e.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(V,{size:"sm",className:"h-7 text-xs",children:" "}),e.jsx(V,{size:"sm",variant:"outline",className:"h-7 text-xs",children:" "})]})]})]})})})};return e.jsx(is,{children:e.jsx(Qr,{title:" ",description:"-      ",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 border-blue-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(qr,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:B.total})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900 border-orange-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center relative",children:[e.jsx(dT,{className:"h-5 w-5 text-white"}),B.unread>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-400",children:""}),e.jsx("p",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300",children:B.unread})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950 dark:to-red-900 border-red-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center",children:e.jsx(Ti,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:""}),e.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:B.urgent})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 border-green-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx(bn,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:""}),e.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:B.todayCount})]})]})})})]}),e.jsx(H,{className:"border-0 shadow-sm",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1 max-w-3xl",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(de,{placeholder:" ...",value:l,onChange:k=>o(k.target.value),className:"pl-10 border-gray-200 dark:border-gray-700"})]}),e.jsxs(xt,{value:c,onValueChange:d,children:[e.jsx(ht,{className:"w-full sm:w-40",children:e.jsx(pt,{placeholder:""})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),e.jsx(X,{value:"academic",children:""}),e.jsx(X,{value:"financial",children:""}),e.jsx(X,{value:"meeting",children:""}),e.jsx(X,{value:"success",children:""}),e.jsx(X,{value:"warning",children:""})]})]}),e.jsxs(xt,{value:u,onValueChange:h,children:[e.jsx(ht,{className:"w-full sm:w-40",children:e.jsx(pt,{placeholder:""})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),e.jsx(X,{value:"urgent",children:""}),e.jsx(X,{value:"high",children:""}),e.jsx(X,{value:"medium",children:""}),e.jsx(X,{value:"low",children:""})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[a.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.length," "]}),e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>P.mutate(a),disabled:P.isPending,children:[e.jsx(L2,{className:"h-4 w-4 mr-1"}),""]}),e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>E.mutate(a),disabled:E.isPending,children:[e.jsx(Ii,{className:"h-4 w-4 mr-1"}),""]})]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Ys,{className:"h-4 w-4 mr-2"}),""]})]})]})})}),e.jsxs(Ar,{value:r,onValueChange:n,children:[e.jsxs(ir,{className:"grid w-full grid-cols-4 lg:w-fit lg:grid-cols-4",children:[e.jsxs(lt,{value:"all",className:"flex items-center gap-2",children:[e.jsx(qr,{className:"h-4 w-4"})," (",B.total,")"]}),e.jsxs(lt,{value:"unread",className:"flex items-center gap-2",children:[e.jsx(dT,{className:"h-4 w-4"})," (",B.unread,")"]}),e.jsxs(lt,{value:"starred",className:"flex items-center gap-2",children:[e.jsx(Ln,{className:"h-4 w-4"}),""]}),e.jsxs(lt,{value:"urgent",className:"flex items-center gap-2",children:[e.jsx(Ti,{className:"h-4 w-4"})," (",B.urgent,")"]})]}),e.jsx(bt,{value:r,className:"space-y-4",children:f?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(di,{className:"h-5 w-5 animate-spin text-blue-500"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"  ..."})]})}):F.length===0?e.jsx(H,{className:"border-dashed border-2 border-gray-300 dark:border-gray-600",children:e.jsxs(M,{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(qr,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"  "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:r==="unread"?"  ":r==="starred"?"   ":r==="urgent"?"   ":"   "})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-3",children:F.map(k=>e.jsx(_,{notification:k},k.id))}),e.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400 pt-4",children:[F.length,"    ",l&&` "${l}"  `]})]})})]})]})})})}function i5e(){const{toast:t}=ls(),s=Cs(),[r,n]=b.useState("dashboard"),[a,i]=b.useState("month"),[l,o]=b.useState(""),[c,d]=b.useState(""),[u,h]=b.useState(""),[A,m]=b.useState(!0),[p,f]=b.useState("all"),[x,g]=b.useState(""),v=[{id:"bkash",name:"bKash",nameBn:"",type:"mobile",icon:"Phone",isActive:!0,fee:1.5,processingTime:"",description:"Mobile banking payment",descriptionBn:"  "},{id:"nagad",name:"Nagad",nameBn:"",type:"mobile",icon:"Phone",isActive:!0,fee:1.2,processingTime:"",description:"Digital financial service",descriptionBn:"  "},{id:"rocket",name:"Rocket",nameBn:"",type:"mobile",icon:"Phone",isActive:!0,fee:1.8,processingTime:"",description:"Mobile financial service",descriptionBn:"  "},{id:"bank_transfer",name:"Bank Transfer",nameBn:" ",type:"bank",icon:"Building",isActive:!0,fee:0,processingTime:"- ",description:"Direct bank transfer",descriptionBn:"  "},{id:"card",name:"Credit/Debit Card",nameBn:"/ ",type:"card",icon:"CreditCard",isActive:!0,fee:2.5,processingTime:"",description:"Visa, Mastercard payment",descriptionBn:",  "},{id:"cash",name:"Cash",nameBn:"",type:"cash",icon:"Banknote",isActive:!0,fee:0,processingTime:"",description:"Cash payment",descriptionBn:" "}],j=[{id:"txn_001",date:"2025-06-03",amount:15e3,type:"income",category:"tuition_fee",categoryBn:"",description:"Monthly tuition fee - Class 10",descriptionBn:"  -  ",paymentMethod:"bkash",paymentMethodBn:"",reference:"BK20250603001",status:"completed",studentName:" ",className:" "},{id:"txn_002",date:"2025-06-03",amount:25e3,type:"expense",category:"teacher_salary",categoryBn:" ",description:"Monthly salary - Mathematics Teacher",descriptionBn:"  -  ",paymentMethod:"bank_transfer",paymentMethodBn:" ",reference:"BT20250603002",status:"completed"},{id:"txn_003",date:"2025-06-02",amount:5e3,type:"income",category:"admission_fee",categoryBn:" ",description:"New student admission fee",descriptionBn:"   ",paymentMethod:"nagad",paymentMethodBn:"",reference:"NG20250602001",status:"pending",studentName:" ",className:" "},{id:"txn_004",date:"2025-06-02",amount:8e3,type:"expense",category:"utility_bill",categoryBn:" ",description:"Electricity bill for May 2025",descriptionBn:"    ",paymentMethod:"cash",paymentMethodBn:"",reference:"CASH20250602001",status:"completed"},{id:"txn_005",date:"2025-06-01",amount:12e3,type:"income",category:"exam_fee",categoryBn:" ",description:"Final examination fee",descriptionBn:"  ",paymentMethod:"rocket",paymentMethodBn:"",reference:"RK20250601001",status:"failed",studentName:" ",className:" "}],B={totalIncome:j.filter(_=>_.type==="income"&&_.status==="completed").reduce((_,k)=>_+k.amount,0),totalExpense:j.filter(_=>_.type==="expense"&&_.status==="completed").reduce((_,k)=>_+k.amount,0),netBalance:0,monthlyGrowth:15.2,todayTransactions:j.filter(_=>_.date==="2025-06-03").length,pendingPayments:j.filter(_=>_.status==="pending").length};B.netBalance=B.totalIncome-B.totalExpense;const F=j.filter(_=>{var k;return!(p!=="all"&&_.type!==p||x&&!_.descriptionBn.toLowerCase().includes(x.toLowerCase())&&!((k=_.studentName)!=null&&k.toLowerCase().includes(x.toLowerCase())))}),P=Bt({mutationFn:async _=>{const k=await fetch("/api/payments/process",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)});if(!k.ok)throw new Error("Payment processing failed");return k.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/transactions"]}),t({title:" ",description:"     "}),o(""),h(""),d("")},onError:()=>{t({title:" ",description:"    ",variant:"destructive"})}}),E=_=>{switch(_){case"completed":return{bg:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",icon:ks};case"pending":return{bg:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",icon:hr};case"failed":return{bg:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",icon:Xc};default:return{bg:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",icon:hr}}},N=_=>{switch(_){case"completed":return"";case"pending":return"";case"failed":return"";default:return""}},C=({method:_})=>{const k=_.icon==="Phone"?$o:_.icon==="Building"?lx:_.icon==="CreditCard"?zr:gte;return e.jsx(H,{className:at("cursor-pointer transition-all duration-200 hover:shadow-md",c===_.id?"ring-2 ring-blue-500 border-blue-500":"",!_.isActive&&"opacity-50 cursor-not-allowed"),onClick:()=>_.isActive&&d(_.id),children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:at("w-12 h-12 rounded-lg flex items-center justify-center",_.type==="mobile"?"bg-green-100 text-green-600":_.type==="bank"?"bg-blue-100 text-blue-600":_.type==="card"?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600"),children:e.jsx(k,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:_.nameBn}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:_.descriptionBn}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-500",children:[e.jsxs("span",{children:[": ",_.fee,"%"]}),e.jsxs("span",{children:[": ",_.processingTime]})]})]}),c===_.id&&e.jsx(ks,{className:"h-5 w-5 text-blue-500"})]})})})};return e.jsx(is,{children:e.jsx(Qr,{title:"    ",description:"       ",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(H,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 border-green-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:A?`${B.totalIncome.toLocaleString()}`:"****"}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1 flex items-center gap-1",children:[e.jsx(bn,{className:"h-3 w-3"}),"+",B.monthlyGrowth,"%  "]})]}),e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx(TB,{className:"h-6 w-6 text-white"})})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950 dark:to-red-900 border-red-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:A?`${B.totalExpense.toLocaleString()}`:"****"}),e.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[e.jsx(ug,{className:"h-3 w-3"}),"-5.2%  "]})]}),e.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-lg flex items-center justify-center",children:e.jsx(cT,{className:"h-6 w-6 text-white"})})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 border-blue-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:" "}),e.jsx("p",{className:at("text-2xl font-bold",B.netBalance>=0?"text-blue-700 dark:text-blue-300":"text-red-700 dark:text-red-300"),children:A?`${B.netBalance.toLocaleString()}`:"****"}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:B.netBalance>=0?"":""})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Xw,{className:"h-6 w-6 text-white"})})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900 border-orange-200",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300",children:B.todayTransactions}),e.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:[B.pendingPayments,"  "]})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center",children:e.jsx($1,{className:"h-6 w-6 text-white"})})]})})})]}),e.jsxs(Ar,{value:r,onValueChange:n,children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[e.jsxs(ir,{className:"grid w-full lg:w-fit grid-cols-4",children:[e.jsx(lt,{value:"dashboard",children:""}),e.jsx(lt,{value:"payment",children:""}),e.jsx(lt,{value:"transactions",children:""}),e.jsx(lt,{value:"reports",children:""})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>m(!A),children:[A?e.jsx(P2,{className:"h-4 w-4 mr-2"}):e.jsx(cn,{className:"h-4 w-4 mr-2"}),A?"":""]}),e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs(V,{size:"sm",children:[e.jsx(Ys,{className:"h-4 w-4 mr-2"}),""]})]})]}),e.jsx(bt,{value:"dashboard",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Ti,{className:"h-5 w-5"})," "]}),e.jsx(ct,{children:"      "})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"amount",children:" ()"}),e.jsx(de,{id:"amount",type:"number",placeholder:"",value:l,onChange:_=>o(_.target.value),className:"text-lg font-semibold"})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"description",children:""}),e.jsx(de,{id:"description",placeholder:":  ,  ",value:u,onChange:_=>h(_.target.value)})]}),e.jsxs(V,{className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",disabled:!l||!u,onClick:()=>{P.mutate({amount:parseFloat(l),description:u,method:c||"cash"})},children:[e.jsx(zr,{className:"h-4 w-4 mr-2"}),"  "]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(hr,{className:"h-5 w-5"})," "]})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-3",children:j.slice(0,5).map(_=>{const k=E(_.status),D=k.icon;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:at("w-8 h-8 rounded-lg flex items-center justify-center",_.type==="income"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"),children:_.type==="income"?e.jsx(TB,{className:"h-4 w-4"}):e.jsx(cT,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:_.descriptionBn}),e.jsxs("p",{className:"text-xs text-gray-500",children:[_.studentName&&`${_.studentName}  `,_.paymentMethodBn]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:at("font-semibold",_.type==="income"?"text-green-600":"text-red-600"),children:[_.type==="income"?"+":"-","",_.amount.toLocaleString()]}),e.jsxs(Oe,{className:at("text-xs",k.bg),children:[e.jsx(D,{className:"h-3 w-3 mr-1"}),N(_.status)]})]})]},_.id)})})})]})]})}),e.jsx(bt,{value:"payment",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:" "}),e.jsx(ct,{children:"     "})]}),e.jsx(M,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(_=>e.jsx(C,{method:_},_.id))})})]})}),e.jsxs(bt,{value:"transactions",className:"space-y-6",children:[e.jsx(H,{className:"border-0 shadow-sm",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1 max-w-2xl",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(de,{placeholder:" ...",value:x,onChange:_=>g(_.target.value),className:"pl-10"})]}),e.jsxs(xt,{value:p,onValueChange:f,children:[e.jsx(ht,{className:"w-full sm:w-40",children:e.jsx(pt,{placeholder:""})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:" "}),e.jsx(X,{value:"income",children:""}),e.jsx(X,{value:"expense",children:""})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{size:"sm",variant:"outline",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs(V,{size:"sm",children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),""]})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-0",children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:" "}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{className:"text-right",children:""})]})}),e.jsx(Wr,{children:F.map(_=>{const k=E(_.status),D=k.icon;return e.jsxs(ns,{children:[e.jsx(Ve,{className:"font-medium",children:_.date?Vs(new Date(_.date),"dd/MM/yyyy"):" "}),e.jsx(Ve,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:_.descriptionBn}),_.studentName&&e.jsxs("p",{className:"text-sm text-gray-500",children:[_.studentName,"  ",_.className]})]})}),e.jsx(Ve,{children:e.jsx(Oe,{variant:_.type==="income"?"default":"secondary",children:_.type==="income"?"":""})}),e.jsx(Ve,{children:_.paymentMethodBn}),e.jsx(Ve,{children:e.jsxs("span",{className:at("font-semibold",_.type==="income"?"text-green-600":"text-red-600"),children:[_.type==="income"?"+":"-","",_.amount.toLocaleString()]})}),e.jsx(Ve,{children:e.jsxs(Oe,{className:k.bg,children:[e.jsx(D,{className:"h-3 w-3 mr-1"}),N(_.status)]})}),e.jsx(Ve,{className:"text-right",children:e.jsx(V,{size:"sm",variant:"ghost",children:e.jsx(cn,{className:"h-4 w-4"})})})]},_.id)})})]})})})]}),e.jsx(bt,{value:"reports",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx($R,{className:"h-5 w-5"})," "]})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:""}),e.jsx("span",{className:"font-semibold",children:"%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"65%"}})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx("span",{className:"font-semibold",children:"%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"25%"}})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx("span",{className:"font-semibold",children:"%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"10%"}})})]})})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(pa,{className:"h-5 w-5"})," "]})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx("span",{className:"font-semibold",children:"%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"70%"}})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx("span",{className:"font-semibold",children:"%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"20%"}})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:""}),e.jsx("span",{className:"font-semibold",children:"%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"10%"}})})]})})]})]})})]})]})})})}const l5e={documents:{generateDocument:async(t,s)=>{const{data:r,error:n}=await br.functions.invoke("generate-document",{body:{templateId:t,data:s}});if(n)throw n;return r},getTemplates:async()=>{const{data:t,error:s}=await br.functions.invoke("get-document-templates");if(s)throw s;return t},getUserStats:async t=>{const{data:s,error:r}=await br.functions.invoke("get-user-document-stats",{body:{userId:t}});if(r)throw r;return s}},payments:{processPayment:async t=>{const{data:s,error:r}=await br.functions.invoke("process-payment",{body:t});if(r)throw r;return s},getPaymentHistory:async t=>{const{data:s,error:r}=await br.functions.invoke("get-payment-history",{body:{userId:t}});if(r)throw r;return s}},credits:{getUserCredits:async t=>{const{data:s,error:r}=await br.functions.invoke("get-user-credits",{body:{userId:t}});if(r)throw r;return s},deductCredits:async(t,s,r)=>{const{data:n,error:a}=await br.functions.invoke("deduct-credits",{body:{userId:t,amount:s,reason:r}});if(a)throw a;return n}},notifications:{sendNotification:async t=>{const{data:s,error:r}=await br.functions.invoke("send-notification",{body:t});if(r)throw r;return s}},email:{sendEmail:async t=>{const{data:s,error:r}=await br.functions.invoke("send-email",{body:t});if(r)throw r;return s}},analytics:{getAdvancedStats:async t=>{const{data:s,error:r}=await br.functions.invoke("get-advanced-stats",{body:{schoolId:t}});if(r)throw r;return s}}},o5e=async(t,s)=>{try{return await t()}catch(r){return console.warn("Edge function failed, falling back to Express API:",r),await s()}},c5e=()=>st({queryKey:["document-templates"],queryFn:async()=>o5e(()=>l5e.documents.getTemplates(),async()=>{const t=await fetch("/api/documents/templates");if(!t.ok)throw new Error("Failed to fetch templates");return t.json()}),staleTime:10*60*1e3});function PI(){var g,v;const{user:t}=vo();ls();const s=jo(),[r,n]=b.useState(new Date);b.useEffect(()=>{const j=setInterval(()=>n(new Date),6e4);return()=>clearInterval(j)},[]);const{data:a,isLoading:i,error:l}=Eve(1),{data:o,isLoading:c}=_ve(1),{data:d,isLoading:u}=c5e(),{data:h,isLoading:A}=Tve(1),m=j=>new Intl.NumberFormat("bn-BD").format(j),p=()=>{const j=r.getHours();return j<12?"":j<17?" ":j<20?" ":" "},f=j=>{window.location.href=j},x=[{title:" ",value:(a==null?void 0:a.students)||0,icon:ss,color:"bg-blue-500",bgColor:"bg-blue-50 dark:bg-blue-950/20",textColor:"text-blue-600 dark:text-blue-400",trend:"+%",description:"  "},{title:" ",value:(a==null?void 0:a.teachers)||0,icon:dn,color:"bg-green-500",bgColor:"bg-green-50 dark:bg-green-950/20",textColor:"text-green-600 dark:text-green-400",trend:"+%",description:" "},{title:" ",value:(a==null?void 0:a.books)||0,icon:Ks,color:"bg-purple-500",bgColor:"bg-purple-50 dark:bg-purple-950/20",textColor:"text-purple-600 dark:text-purple-400",trend:"+%",description:" "},{title:" ",value:(a==null?void 0:a.inventory)||0,icon:tm,color:"bg-orange-500",bgColor:"bg-orange-50 dark:bg-orange-950/20",textColor:"text-orange-600 dark:text-orange-400",trend:"+%",description:" "}];return e.jsx(is,{children:e.jsxs(Qr,{title:"",description:"  ",primaryAction:{icon:"plus",label:" ",onClick:()=>f("/documents")},children:[e.jsx("div",{className:"mb-8",children:e.jsx(H,{className:"border-0 bg-gradient-to-br from-blue-50/80 via-indigo-50/60 to-purple-50/80 dark:from-blue-950/50 dark:via-indigo-950/40 dark:to-purple-950/50",children:e.jsx(M,{className:"p-6 lg:p-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-4 flex-1",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl lg:text-3xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:[p(),", ",((g=t==null?void 0:t.user_metadata)==null?void 0:g.name)||((v=t==null?void 0:t.email)==null?void 0:v.split("@")[0])||"","!"]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm lg:text-base",children:r.toLocaleDateString("bn-BD",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-100/80 dark:bg-green-900/30 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-green-700 dark:text-green-400 font-medium",children:" "})]}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-400",children:[e.jsx(hr,{className:"w-4 h-4"}),e.jsx("span",{children:" : "})]})]})]}),!s&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-20 w-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(di,{className:"w-8 h-8 text-white"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(ks,{className:"w-4 h-4 text-white"})})]})]})})})}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-slate-900 dark:text-slate-100",children:" "}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"-    "})]}),e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>f("/analytics"),children:[e.jsx(pa,{className:"w-4 h-4 mr-2"}),""]})]}),i?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((j,B)=>e.jsx(H,{className:"animate-pulse",children:e.jsxs(M,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded"})]})},B))}):l?e.jsx(H,{className:"border-red-200 bg-red-50 dark:bg-red-950/20",children:e.jsxs(M,{className:"p-6 text-center",children:[e.jsx(aa,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-700 dark:text-red-400 mb-2",children:"   "}),e.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mb-4",children:"        "}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),children:"  "})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:x.map((j,B)=>{const F=j.icon;return e.jsx(H,{className:"hover:shadow-lg transition-all duration-300 group",children:e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 ${j.bgColor} rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-200`,children:e.jsx(F,{className:`w-6 h-6 ${j.textColor}`})}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(bn,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{className:"text-green-600 font-medium",children:j.trend})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:m(j.value)}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:j.title}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:j.description})]})]})},B)})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-slate-900 dark:text-slate-100",children:" "}),e.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"  "})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(H,{className:"hover:shadow-lg transition-all duration-300 cursor-pointer group",onClick:()=>f("/management/students"),children:e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"w-14 h-14 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(ss,{className:"w-7 h-7 text-blue-600 dark:text-blue-400"})}),e.jsx(BA,{className:"w-5 h-5 text-slate-400 group-hover:text-blue-500 transition-colors"})]}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100 mb-2",children:" "}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:",     "}),e.jsxs(Oe,{variant:"secondary",children:[m((a==null?void 0:a.students)||0)," "]})]})}),e.jsx(H,{className:"hover:shadow-lg transition-all duration-300 cursor-pointer group",onClick:()=>f("/management/teachers"),children:e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"w-14 h-14 bg-green-100 dark:bg-green-900/30 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(dn,{className:"w-7 h-7 text-green-600 dark:text-green-400"})}),e.jsx(BA,{className:"w-5 h-5 text-slate-400 group-hover:text-green-500 transition-colors"})]}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100 mb-2",children:" "}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:",    "}),e.jsxs(Oe,{variant:"secondary",children:[m((a==null?void 0:a.teachers)||0)," "]})]})}),e.jsx(H,{className:"hover:shadow-lg transition-all duration-300 cursor-pointer group",onClick:()=>f("/documents"),children:e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"w-14 h-14 bg-purple-100 dark:bg-purple-900/30 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(xs,{className:"w-7 h-7 text-purple-600 dark:text-purple-400"})}),e.jsx(BA,{className:"w-5 h-5 text-slate-400 group-hover:text-purple-500 transition-colors"})]}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100 mb-2",children:" "}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:",    "}),e.jsxs(Oe,{variant:"secondary",children:[(d==null?void 0:d.length)||0,"+ "]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(qr,{className:"w-5 h-5 text-blue-500"})," "]}),e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>f("/notifications"),children:" "})]})}),e.jsx(M,{children:c?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((j,B)=>e.jsxs("div",{className:"animate-pulse flex gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},B))}):o&&o.length>0?e.jsx("div",{className:"space-y-4",children:o.slice(0,5).map(j=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${j.type==="success"?"bg-green-100 dark:bg-green-900/30":j.type==="warning"?"bg-yellow-100 dark:bg-yellow-900/30":j.type==="error"?"bg-red-100 dark:bg-red-900/30":"bg-blue-100 dark:bg-blue-900/30"}`,children:j.type==="success"?e.jsx(ks,{className:"w-4 h-4 text-green-600"}):j.type==="warning"?e.jsx(aa,{className:"w-4 h-4 text-yellow-600"}):j.type==="error"?e.jsx(aa,{className:"w-4 h-4 text-red-600"}):e.jsx(qr,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-100 text-sm",children:j.title}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 line-clamp-2",children:j.message}),e.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:new Date(j.created_at).toLocaleDateString("bn-BD")})]})]},j.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(qr,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"   "})]})})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(bs,{className:"w-5 h-5 text-purple-500"})," "]}),e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>f("/calendar"),children:""})]})}),e.jsx(M,{children:A?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((j,B)=>e.jsxs("div",{className:"animate-pulse flex gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},B))}):h&&h.length>0?e.jsx("div",{className:"space-y-4",children:h.slice(0,5).map(j=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center",children:e.jsx(bs,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-100 text-sm",children:j.titleBn||j.title}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:new Date(j.date).toLocaleDateString("bn-BD")}),e.jsx(Oe,{variant:"outline",className:"mt-2 text-xs",children:j.type})]})]},j.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(bs,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"   "}),e.jsxs(V,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>f("/calendar"),children:[e.jsx(Ls,{className:"w-4 h-4 mr-2"}),"   "]})]})})]})]}),s&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-6",children:" "}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(H,{className:"cursor-pointer",onClick:()=>f("/management/library"),children:e.jsxs(M,{className:"p-4 text-center",children:[e.jsx(Ks,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),e.jsx("h3",{className:"font-semibold text-sm",children:""}),e.jsx("p",{className:"text-xs text-slate-500",children:" "})]})}),e.jsx(H,{className:"cursor-pointer",onClick:()=>f("/management/inventory"),children:e.jsxs(M,{className:"p-4 text-center",children:[e.jsx(tm,{className:"w-8 h-8 text-orange-600 mx-auto mb-2"}),e.jsx("h3",{className:"font-semibold text-sm",children:""}),e.jsx("p",{className:"text-xs text-slate-500",children:" "})]})}),e.jsx(H,{className:"cursor-pointer",onClick:()=>f("/management/transport"),children:e.jsxs(M,{className:"p-4 text-center",children:[e.jsx(zx,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("h3",{className:"font-semibold text-sm",children:""}),e.jsx("p",{className:"text-xs text-slate-500",children:""})]})}),e.jsx(H,{className:"cursor-pointer",onClick:()=>f("/settings"),children:e.jsxs(M,{className:"p-4 text-center",children:[e.jsx(Ys,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),e.jsx("h3",{className:"font-semibold text-sm",children:""}),e.jsx("p",{className:"text-xs text-slate-500",children:""})]})})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"w-5 h-5 text-green-500"}),"  "]}),e.jsx(V,{variant:"ghost",size:"sm",onClick:()=>f("/documents"),children:" "})]})}),e.jsx(M,{children:u?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[...Array(3)].map((j,B)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]},B))}):d&&d.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:d.slice(0,6).map(j=>e.jsxs("div",{className:"p-4 border border-slate-200 dark:border-slate-700 rounded-lg hover:shadow-md transition-all cursor-pointer group",onClick:()=>f(`/documents/generate/${j.id}`),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:e.jsx(xs,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-sm text-slate-900 dark:text-slate-100 group-hover:text-green-600 transition-colors",children:j.nameBn||j.name}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[j.category,"  : ",m(j.usageCount)]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Oe,{variant:j.isActive?"default":"secondary",children:j.isActive?"":""}),e.jsx(BA,{className:"w-4 h-4 text-slate-400 group-hover:text-green-500 transition-colors"})]})]},j.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(xs,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"    "})]})})]})]})})}function d5e(){const{user:t}=vo(),s=[{id:1,name:" ",class:"Class 8",section:"A",rollNumber:"15",photo:void 0}],r=[{subject:" (Mathematics)",attendancePercentage:95,behaviorScore:8,participationScore:9,homeworkCompletion:90,testScores:[85,92,88],teacherComments:" ! Excellent progress in problem solving."},{subject:" (Bengali)",attendancePercentage:98,behaviorScore:9,participationScore:10,homeworkCompletion:95,testScores:[90,94,89],teacherComments:"   Outstanding language skills."}],n=[{id:1,title:":  ",message:"    ",type:"exam",priority:"urgent",isRead:!1,createdAt:"2025-05-23"}];if(!t)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(H,{className:"w-full max-w-md",children:e.jsxs(oe,{children:[e.jsx(ce,{className:"text-center text-red-600",children:"Access Denied /  "}),e.jsx(ct,{className:"text-center",children:"This area is for parents only /     "})]})})});const a=(n==null?void 0:n.filter(l=>!l.isRead).length)||0,i=(n==null?void 0:n.filter(l=>l.priority==="urgent").length)||0;return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"  | Parent Portal"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[" | Welcome back, ",t.full_name]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(V,{variant:"outline",size:"sm",className:"relative",children:[e.jsx(qr,{className:"h-4 w-4"}),a>0&&e.jsx(Oe,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full p-0 text-xs",children:a})]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(LB,{className:"h-4 w-4 mr-2"})," | Messages"]})]})]}),i>0&&e.jsxs(H,{className:"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950",children:[e.jsx(oe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yn,{className:"h-5 w-5 text-red-600"}),e.jsx(ce,{className:"text-red-800 dark:text-red-200",children:"  | Urgent Notifications"})]})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-2",children:n.filter(l=>l.priority==="urgent").map(l=>e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-red-800 dark:text-red-200",children:l.title}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-300",children:l.message})]},l.id))})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s==null?void 0:s.map(l=>e.jsxs(H,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(oe,{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-3",children:l.photo?e.jsx("img",{src:l.photo,alt:l.name,className:"w-full h-full rounded-full object-cover"}):e.jsx("span",{className:"text-2xl font-semibold text-blue-600 dark:text-blue-300",children:l.name.charAt(0)})}),e.jsx(ce,{className:"text-xl",children:l.name}),e.jsxs(ct,{children:[" | Class ",l.class," -  | Section ",l.section,e.jsx("br",{})," | Roll ",l.rollNumber]})]}),e.jsx(M,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"95%"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:" | Attendance"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"8.5"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"  | Avg Grade"})]})]})})]},l.id))}),e.jsxs(Ar,{defaultValue:"progress",className:"space-y-6",children:[e.jsxs(ir,{className:"grid w-full grid-cols-4",children:[e.jsxs(lt,{value:"progress",className:"flex items-center gap-2",children:[e.jsx(bn,{className:"h-4 w-4"})," | Progress"]}),e.jsxs(lt,{value:"attendance",className:"flex items-center gap-2",children:[e.jsx(bs,{className:"h-4 w-4"})," | Attendance"]}),e.jsxs(lt,{value:"fees",className:"flex items-center gap-2",children:[e.jsx(zr,{className:"h-4 w-4"})," | Fees"]}),e.jsxs(lt,{value:"achievements",className:"flex items-center gap-2",children:[e.jsx(El,{className:"h-4 w-4"})," | Achievements"]})]}),e.jsx(bt,{value:"progress",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"  | Academic Progress"}),e.jsx(ct,{children:"     | Monthly progress overview for your child"})]}),e.jsx(M,{children:r==null?void 0:r.map((l,o)=>{var c;return e.jsxs("div",{className:"space-y-4 mb-6 last:mb-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-semibold text-lg",children:l.subject}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ks,{className:"h-4 w-4 text-blue-600"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["  | Avg Score: ",(c=l.testScores)!=null&&c.length?(l.testScores.reduce((d,u)=>d+u,0)/l.testScores.length).toFixed(1):"N/A"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:" | Attendance"}),e.jsxs("span",{children:[l.attendancePercentage,"%"]})]}),e.jsx(Ao,{value:Number(l.attendancePercentage),className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"  | Homework"}),e.jsxs("span",{children:[l.homeworkCompletion,"%"]})]}),e.jsx(Ao,{value:Number(l.homeworkCompletion),className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:" | Participation"}),e.jsxs("span",{children:[l.participationScore,"/10"]})]}),e.jsx(Ao,{value:l.participationScore*10,className:"h-2"})]})]}),l.teacherComments&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:"  | Teacher Comments:"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:l.teacherComments})]})]},o)})})]})}),e.jsx(bt,{value:"attendance",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"  | Attendance Overview"})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-950 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"95%"}),e.jsx("div",{className:"text-sm text-green-700 dark:text-green-300",children:"  | Overall Attendance"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-950 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"18"}),e.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"  | Present Days"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-950 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:"1"}),e.jsx("div",{className:"text-sm text-red-700 dark:text-red-300",children:"  | Absent Days"})]})]})})})]})}),e.jsx(bt,{value:"fees",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"  | Fee Status"})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 dark:bg-green-950 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-green-800 dark:text-green-200",children:"  | Monthly Fee -  | January"}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:" | Paid on: 05/01/2025"})]}),e.jsx(Oe,{variant:"secondary",className:"bg-green-100 text-green-800",children:" | Paid"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 dark:bg-yellow-950 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:"  | Monthly Fee -  | February"}),e.jsx("div",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"  | Due date: 05/02/2025"})]}),e.jsx(V,{size:"sm",className:"bg-yellow-600 hover:bg-yellow-700",children:"   | Pay Now"})]})]})})]})}),e.jsx(bt,{value:"achievements",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"   | Achievements & Awards"})}),e.jsx(M,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center p-4 bg-yellow-50 dark:bg-yellow-950 rounded-lg",children:[e.jsx(El,{className:"h-8 w-8 text-yellow-600 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:"  | Excellent Attendance"}),e.jsx("div",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:" | January 2025"})]})]}),e.jsxs("div",{className:"flex items-center p-4 bg-blue-50 dark:bg-blue-950 rounded-lg",children:[e.jsx(El,{className:"h-8 w-8 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"  | Math Champion"}),e.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:" | December 2024"})]})]})]})})]})})]})]})}var lE="Radio",[u5e,eq]=Ga(lE),[h5e,A5e]=u5e(lE),tq=b.forwardRef((t,s)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:l,value:o="on",onCheck:c,form:d,...u}=t,[h,A]=b.useState(null),m=sr(s,x=>A(x)),p=b.useRef(!1),f=h?d||!!h.closest("form"):!0;return e.jsxs(h5e,{scope:r,checked:a,disabled:l,children:[e.jsx(os.button,{type:"button",role:"radio","aria-checked":a,"data-state":nq(a),"data-disabled":l?"":void 0,disabled:l,value:o,...u,ref:m,onClick:Qt(t.onClick,x=>{a||c==null||c(),f&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})}),f&&e.jsx(m5e,{control:h,bubbles:!p.current,name:n,value:o,checked:a,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});tq.displayName=lE;var sq="RadioIndicator",rq=b.forwardRef((t,s)=>{const{__scopeRadio:r,forceMount:n,...a}=t,i=A5e(sq,r);return e.jsx(Ri,{present:n||i.checked,children:e.jsx(os.span,{"data-state":nq(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s})})});rq.displayName=sq;var m5e=t=>{const{control:s,checked:r,bubbles:n=!0,...a}=t,i=b.useRef(null),l=X2(r),o=W2(s);return b.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&h){const A=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(A)}},[l,r,n]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function nq(t){return t?"checked":"unchecked"}var f5e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],oE="RadioGroup",[x5e,i_e]=Ga(oE,[x0,eq]),aq=x0(),iq=eq(),[p5e,g5e]=x5e(oE),lq=b.forwardRef((t,s)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:l=!1,disabled:o=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...A}=t,m=aq(r),p=tj(d),[f,x]=go({prop:i,defaultProp:a,onChange:h});return e.jsx(p5e,{scope:r,name:n,required:l,disabled:o,value:f,onValueChange:x,children:e.jsx(U3,{asChild:!0,...m,orientation:c,dir:p,loop:u,children:e.jsx(os.div,{role:"radiogroup","aria-required":l,"aria-orientation":c,"data-disabled":o?"":void 0,dir:p,...A,ref:s})})})});lq.displayName=oE;var oq="RadioGroupItem",cq=b.forwardRef((t,s)=>{const{__scopeRadioGroup:r,disabled:n,...a}=t,i=g5e(oq,r),l=i.disabled||n,o=aq(r),c=iq(r),d=b.useRef(null),u=sr(s,d),h=i.value===a.value,A=b.useRef(!1);return b.useEffect(()=>{const m=f=>{f5e.includes(f.key)&&(A.current=!0)},p=()=>A.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",p)}},[]),e.jsx(O3,{asChild:!0,...o,focusable:!l,active:h,children:e.jsx(tq,{disabled:l,required:i.required,checked:h,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:Qt(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:Qt(a.onFocus,()=>{var m;A.current&&((m=d.current)==null||m.click())})})})});cq.displayName=oq;var v5e="RadioGroupIndicator",dq=b.forwardRef((t,s)=>{const{__scopeRadioGroup:r,...n}=t,a=iq(r);return e.jsx(rq,{...a,...n,ref:s})});dq.displayName=v5e;var uq=lq,hq=cq,j5e=dq;const cE=b.forwardRef(({className:t,...s},r)=>e.jsx(uq,{className:at("grid gap-2",t),...s,ref:r}));cE.displayName=uq.displayName;const yA=b.forwardRef(({className:t,...s},r)=>e.jsx(hq,{ref:r,className:at("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(j5e,{className:"flex items-center justify-center",children:e.jsx(GR,{className:"h-2.5 w-2.5 fill-current text-current"})})}));yA.displayName=hq.displayName;function y5e(){const{user:t}=vo(),[s,r]=b.useState(""),[n,a]=b.useState(""),[i,l]=b.useState(""),[o,c]=b.useState([]),d=[{id:"bkash",name:"bKash",nameBn:"",icon:e.jsx(ox,{className:"h-6 w-6 text-pink-600"}),description:"Pay with bKash mobile banking",descriptionBn:"     ",fees:"Transaction fee: 1.85%",feesBn:" : .%"},{id:"nagad",name:"Nagad",nameBn:"",icon:e.jsx(ox,{className:"h-6 w-6 text-orange-600"}),description:"Pay with Nagad mobile banking",descriptionBn:"     ",fees:"Transaction fee: 1.99%",feesBn:" : .%"},{id:"rocket",name:"Rocket",nameBn:"",icon:e.jsx(ox,{className:"h-6 w-6 text-purple-600"}),description:"Pay with Dutch-Bangla Rocket",descriptionBn:"-    ",fees:"Transaction fee: 1.80%",feesBn:" : .%"},{id:"bank",name:"Bank Transfer",nameBn:" ",icon:e.jsx(lx,{className:"h-6 w-6 text-blue-600"}),description:"Direct bank account transfer",descriptionBn:"   ",fees:"No transaction fee",feesBn:"   "},{id:"card",name:"Credit/Debit Card",nameBn:"/ ",icon:e.jsx(zr,{className:"h-6 w-6 text-green-600"}),description:"Pay with Visa/Mastercard",descriptionBn:"/   ",fees:"Transaction fee: 2.9%",feesBn:" : .%"}],u=[{id:1,description:"Monthly Tuition Fee - February 2025",descriptionBn:"  -  ",amount:3500,dueDate:"2025-02-05",status:"pending"},{id:2,description:"Transportation Fee - February 2025",descriptionBn:"  -  ",amount:800,dueDate:"2025-02-05",status:"pending"},{id:3,description:"Laboratory Fee - Semester 1",descriptionBn:"  -  ",amount:1200,dueDate:"2025-02-15",status:"pending"}],h=o.reduce((f,x)=>{const g=u.find(v=>v.id===x);return f+((g==null?void 0:g.amount)||0)},0),A=(f,x)=>{c(x?[...o,f]:o.filter(g=>g!==f))},m=Bt({mutationFn:async f=>{const x=await fetch("/api/payments/process",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!x.ok)throw new Error("Payment failed");return x.json()},onSuccess:()=>{alert("  ! Payment successful!"),c([]),a(""),l("")},onError:f=>{alert(" ! Payment failed: "+f.message)}}),p=()=>{if(!s||o.length===0){alert("        Please select payment method and fees.");return}if((s==="bkash"||s==="nagad"||s==="rocket")&&!i){alert("     Please enter phone number.");return}const f={method:s,amount:h,phoneNumber:i,feeIds:o,userId:t==null?void 0:t.id};m.mutate(f)};return t?e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"  | Payment Gateway"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"     | Secure and fast payment system"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(aa,{className:"h-5 w-5 text-orange-600"}),"  | Pending Fees"]}),e.jsx(ct,{children:"     | Select fees to pay"})]}),e.jsxs(M,{className:"space-y-4",children:[u.map(f=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[e.jsx("input",{type:"checkbox",id:`fee-${f.id}`,checked:o.includes(f.id),onChange:x=>A(f.id,x.target.checked),className:"h-4 w-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:f.descriptionBn}),e.jsx("div",{className:"text-sm text-gray-600",children:f.description}),e.jsxs("div",{className:"text-xs text-gray-500",children:["  | Due: ",new Date(f.dueDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-lg",children:["",f.amount]}),e.jsx(Oe,{variant:f.status==="overdue"?"destructive":"secondary",children:f.status==="pending"?" | Pending":f.status==="overdue"?" | Overdue":" | Paid"})]})]},f.id)),o.length>0&&e.jsx("div",{className:"border-t pt-4",children:e.jsxs("div",{className:"flex justify-between items-center font-bold text-lg",children:[e.jsx("span",{children:"  | Total Amount:"}),e.jsxs("span",{className:"text-blue-600",children:["",h]})]})})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(zr,{className:"h-5 w-5 text-blue-600"}),"  | Payment Method"]}),e.jsx(ct,{children:"      | Choose your preferred payment method"})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsx(cE,{value:s,onValueChange:r,children:d.map(f=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800",children:[e.jsx(yA,{value:f.id,id:f.id}),e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[f.icon,e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[f.nameBn," | ",f.name]}),e.jsx("div",{className:"text-sm text-gray-600",children:f.descriptionBn}),e.jsx("div",{className:"text-xs text-gray-500",children:f.feesBn})]})]})]},f.id))}),(s==="bkash"||s==="nagad"||s==="rocket")&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"phone",children:"  | Mobile Number"}),e.jsx(de,{id:"phone",type:"tel",placeholder:"01XXXXXXXXX",value:i,onChange:f=>l(f.target.value),className:"w-full"})]}),e.jsx(V,{onClick:p,disabled:o.length===0||!s||m.isPending,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:m.isPending?"... | Processing...":`  | Pay ${h}`}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-950 rounded-lg",children:[e.jsx(ks,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-green-800 dark:text-green-200",children:"  | Secure Payment"}),e.jsx("div",{className:"text-green-600 dark:text-green-400",children:"  SSL    | Your payment is protected with SSL encryption"})]})]})]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"  | Recent Transactions"})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"  -   | Monthly Tuition - January 2025"}),e.jsx("div",{className:"text-sm text-gray-600",children:" ,  | January 23, 2025"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold",children:","}),e.jsx(Oe,{variant:"secondary",className:"bg-green-100 text-green-800",children:" | Success"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"  -   | Transport Fee - January 2025"}),e.jsx("div",{className:"text-sm text-gray-600",children:" ,  | January 20, 2025"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold",children:""}),e.jsx(Oe,{variant:"secondary",className:"bg-green-100 text-green-800",children:" | Success"})]})]})]})})]})]}):e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(H,{className:"w-full max-w-md",children:e.jsx(oe,{children:e.jsx(ce,{className:"text-center text-red-600",children:"Access Denied /  "})})})})}function w5e(){const{user:t}=vo(),{toast:s}=ls(),r=Cs(),[n,a]=b.useState("live"),[i,l]=b.useState([]),[o,c]=b.useState(""),[d,u]=b.useState("all"),[h,A]=b.useState(!1),[m,p]=b.useState({soundEnabled:!0,desktopEnabled:!0,emailEnabled:!1,autoMarkRead:!1,priorityFilter:"medium"}),{data:f,isLoading:x,refetch:g}=st({queryKey:["/api/notifications/live"],queryFn:()=>Vt("/api/notifications/live"),refetchInterval:3e3}),v=Array.isArray(f)?f:(f==null?void 0:f.data)||[],j={total:v.length,unread:v.filter(k=>!k.isRead).length,urgent:v.filter(k=>k.priority==="urgent").length,live:v.filter(k=>k.isLive).length},B=Bt({mutationFn:async k=>Vt(`/api/notifications/${k}/read`,{method:"PATCH"}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/notifications/live"]})}});Bt({mutationFn:async k=>Vt("/api/notifications/send",{method:"POST",body:JSON.stringify(k)}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/notifications/live"]}),s({title:"  ",description:"    "})}});const F=v.filter(k=>{var K,xe;const D=((K=k.titleBn)==null?void 0:K.toLowerCase().includes(o.toLowerCase()))||((xe=k.messageBn)==null?void 0:xe.toLowerCase().includes(o.toLowerCase())),z=d==="all"||k.priority===d;return D&&z}),P=F.filter(k=>k.isLive),E=F.filter(k=>k.priority==="urgent"),N=F.slice(0,10);b.useEffect(()=>{m.soundEnabled&&v.length>0&&console.log("Playing notification sound")},[v.length,m.soundEnabled]);const C=k=>{switch(k){case"success":return e.jsx(ks,{className:"h-5 w-5 text-green-500"});case"warning":return e.jsx(yn,{className:"h-5 w-5 text-yellow-500"});case"error":return e.jsx(sm,{className:"h-5 w-5 text-red-500"});case"urgent":return e.jsx(yn,{className:"h-5 w-5 text-red-600"});default:return e.jsx(Gw,{className:"h-5 w-5 text-blue-500"})}},_=k=>{switch(k){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return e.jsx(is,{children:e.jsx(Qr,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"-    "})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(V,{variant:"outline",onClick:()=>A(!h),children:[e.jsx(Ys,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs(V,{className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"})," "]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-700",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(qr,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:j.total})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-700",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx(Ti,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:""}),e.jsx("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:j.live})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 border-orange-200 dark:border-orange-700",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(yn,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-400",children:""}),e.jsx("p",{className:"text-2xl font-bold text-orange-900 dark:text-orange-100",children:j.urgent})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border-purple-200 dark:border-purple-700",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center",children:e.jsx(cn,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:""}),e.jsx("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:j.unread})]})]})})})]}),e.jsx(H,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(de,{placeholder:" ...",value:o,onChange:k=>c(k.target.value),className:"pl-10"})]})}),e.jsxs(xt,{value:d,onValueChange:u,children:[e.jsx(ht,{className:"w-48",children:e.jsx(pt,{placeholder:" "})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:""}),e.jsx(X,{value:"urgent",children:""}),e.jsx(X,{value:"high",children:""}),e.jsx(X,{value:"medium",children:""}),e.jsx(X,{value:"low",children:""})]})]}),e.jsxs(V,{variant:"outline",children:[e.jsx(A0,{className:"h-4 w-4 mr-2"}),""]})]})})}),e.jsxs(Ar,{value:n,onValueChange:a,className:"space-y-6",children:[e.jsxs(ir,{className:"grid w-full grid-cols-4",children:[e.jsx(lt,{value:"live",children:""}),e.jsx(lt,{value:"urgent",children:""}),e.jsx(lt,{value:"recent",children:""}),e.jsx(lt,{value:"send",children:""})]}),e.jsx(bt,{value:"live",className:"space-y-4",children:P.length===0?e.jsx(H,{children:e.jsxs(M,{className:"p-12 text-center",children:[e.jsx(Ti,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"   "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"      "})]})}):e.jsx("div",{className:"space-y-3",children:P.map(k=>e.jsx(H,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:C(k.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:k.titleBn}),e.jsx(Oe,{className:_(k.priority),children:k.priority==="urgent"?"":k.priority==="high"?"":k.priority==="medium"?"":""}),k.isLive&&e.jsxs(Oe,{className:"bg-green-500 text-white animate-pulse",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-1"}),""]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:k.messageBn}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hr,{className:"h-3 w-3"}),new Date(k.createdAt).toLocaleString("bn-BD")]}),e.jsx("span",{children:k.sender}),e.jsx("span",{children:k.categoryBn})]})]}),e.jsxs("div",{className:"flex gap-2",children:[!k.isRead&&e.jsx(V,{size:"sm",variant:"outline",onClick:()=>B.mutate(k.id),children:" "}),e.jsx(V,{size:"sm",variant:"outline",children:e.jsx(Ln,{className:"h-4 w-4"})})]})]})})},k.id))})}),e.jsx(bt,{value:"urgent",className:"space-y-4",children:e.jsx("div",{className:"space-y-3",children:E.map(k=>e.jsx(H,{className:"border-l-4 border-l-red-500 bg-red-50 dark:bg-red-900/10",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(yn,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-red-900 dark:text-red-100 mb-1",children:k.titleBn}),e.jsx("p",{className:"text-red-700 dark:text-red-200 text-sm mb-2",children:k.messageBn}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-red-600 dark:text-red-300",children:new Date(k.createdAt).toLocaleString("bn-BD")}),e.jsx(V,{size:"sm",variant:"destructive",children:"  "})]})]})]})})},k.id))})}),e.jsx(bt,{value:"recent",className:"space-y-4",children:e.jsx("div",{className:"space-y-3",children:N.map(k=>e.jsx(H,{className:"hover:shadow-md transition-shadow",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[C(k.type),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:k.titleBn}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:k.messageBn}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:new Date(k.createdAt).toLocaleString("bn-BD")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{size:"sm",variant:"outline",children:e.jsx(pte,{className:"h-4 w-4"})}),e.jsx(V,{size:"sm",variant:"outline",children:e.jsx(Ln,{className:"h-4 w-4"})})]})]})]})]})})},k.id))})}),e.jsx(bt,{value:"send",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"   "}),e.jsx(ct,{children:"     "})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"notification-title",children:""}),e.jsx(de,{id:"notification-title",placeholder:" "})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"notification-type",children:""}),e.jsxs(xt,{children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"   "})}),e.jsxs(At,{children:[e.jsx(X,{value:"info",children:""}),e.jsx(X,{value:"success",children:""}),e.jsx(X,{value:"warning",children:""}),e.jsx(X,{value:"error",children:""}),e.jsx(X,{value:"urgent",children:""})]})]})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"priority",children:""}),e.jsxs(xt,{children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:"low",children:""}),e.jsx(X,{value:"medium",children:""}),e.jsx(X,{value:"high",children:""}),e.jsx(X,{value:"urgent",children:""})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"target-audience",children:" "}),e.jsxs(xt,{children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:"all",children:""}),e.jsx(X,{value:"students",children:""}),e.jsx(X,{value:"teachers",children:""}),e.jsx(X,{value:"parents",children:""}),e.jsx(X,{value:"staff",children:""})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ws,{id:"is-live"}),e.jsx(ke,{htmlFor:"is-live",children:" "})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ws,{id:"send-email"}),e.jsx(ke,{htmlFor:"send-email",children:" "})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ws,{id:"send-sms"}),e.jsx(ke,{htmlFor:"send-sms",children:"SMS "})]})]})]})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"message",children:""}),e.jsx(Gs,{id:"message",placeholder:"  ...",rows:4})]}),e.jsxs(V,{className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[e.jsx(Ww,{className:"h-4 w-4 mr-2"})," "]})]})]})})]}),h&&e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:" "}),e.jsx(ct,{children:"    "})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ke,{htmlFor:"sound-enabled",children:" "}),e.jsx(Ws,{id:"sound-enabled",checked:m.soundEnabled,onCheckedChange:k=>p({...m,soundEnabled:k})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ke,{htmlFor:"desktop-enabled",children:" "}),e.jsx(Ws,{id:"desktop-enabled",checked:m.desktopEnabled,onCheckedChange:k=>p({...m,desktopEnabled:k})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ke,{htmlFor:"email-enabled",children:" "}),e.jsx(Ws,{id:"email-enabled",checked:m.emailEnabled,onCheckedChange:k=>p({...m,emailEnabled:k})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ke,{htmlFor:"auto-mark-read",children:"  "}),e.jsx(Ws,{id:"auto-mark-read",checked:m.autoMarkRead,onCheckedChange:k=>p({...m,autoMarkRead:k})})]})]})]}),e.jsx(V,{className:"w-full mt-6",children:"  "})]})]})]})})})}function b5e(){const{user:t}=vo(),{toast:s}=ls(),r=Cs(),[n,a]=b.useState("dashboard"),[i,l]=b.useState(!1),[o,c]=b.useState(!1),[d,u]=b.useState(!1),{data:h=[],isLoading:A}=st({queryKey:["/api/meetings"],queryFn:()=>Vt("/api/meetings")}),m={totalMeetings:Array.isArray(h)?h.length:0,activeMeetings:Array.isArray(h)?h.filter(f=>f.status==="ongoing").length:0,totalParticipants:Array.isArray(h)?h.reduce((f,x)=>f+(x.participants||0),0):0,totalDuration:Array.isArray(h)?h.reduce((f,x)=>f+(x.duration||0),0):0},p=Array.isArray(h)&&h.find(f=>f.status==="ongoing")||null;return Bt({mutationFn:async f=>Vt("/api/meetings",{method:"POST",body:JSON.stringify(f)}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/meetings"]}),s({title:"  ",description:"      "})}}),e.jsx(is,{children:e.jsx(Qr,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"     "})]}),e.jsxs(V,{className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"})," "]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(H,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-700",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(no,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:m.totalMeetings})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-700",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx(ss,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:m.activeMeetings})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border-purple-200 dark:border-purple-700",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center",children:e.jsx(Kc,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:""}),e.jsx("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:m.totalParticipants})]})]})})}),e.jsx(H,{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 border-orange-200 dark:border-orange-700",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(hr,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-400",children:" "}),e.jsxs("p",{className:"text-2xl font-bold text-orange-900 dark:text-orange-100",children:[Math.floor(m.totalDuration/60),""]})]})]})})})]}),e.jsxs(Ar,{value:n,onValueChange:a,className:"space-y-6",children:[e.jsxs(ir,{className:"grid w-full grid-cols-4",children:[e.jsx(lt,{value:"dashboard",children:""}),e.jsx(lt,{value:"live",children:" "}),e.jsx(lt,{value:"schedule",children:""}),e.jsx(lt,{value:"recordings",children:""})]}),e.jsxs(bt,{value:"dashboard",className:"space-y-6",children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(no,{className:"h-5 w-5 text-blue-500"})," "]})}),e.jsx(M,{children:e.jsxs("div",{className:"bg-gray-900 rounded-lg aspect-video flex items-center justify-center relative",children:[p?e.jsxs("div",{className:"text-white text-center",children:[e.jsx(Jg,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-lg font-semibold",children:p.titleBn}),e.jsxs("p",{className:"text-gray-300",children:[p.participants,"  "]})]}):e.jsxs("div",{className:"text-white text-center",children:[e.jsx(Jg,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-lg font-semibold",children:"   "}),e.jsx("p",{className:"text-gray-300",children:"   "})]}),(p==null?void 0:p.isRecording)&&e.jsxs(Oe,{className:"absolute top-4 left-4 bg-red-500 text-white",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-2 animate-pulse"}),""]}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-3",children:[e.jsx(V,{size:"sm",variant:i?"default":"secondary",onClick:()=>l(!i),children:i?e.jsx(no,{className:"h-4 w-4"}):e.jsx(Kte,{className:"h-4 w-4"})}),e.jsx(V,{size:"sm",variant:o?"default":"secondary",onClick:()=>c(!o),children:o?e.jsx(WR,{className:"h-4 w-4"}):e.jsx(Ete,{className:"h-4 w-4"})}),e.jsx(V,{size:"sm",variant:d?"default":"secondary",onClick:()=>u(!d),children:e.jsx(Tte,{className:"h-4 w-4"})}),e.jsx(V,{size:"sm",variant:"destructive",children:e.jsx(Pte,{className:"h-4 w-4"})})]})]})})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(bs,{className:"h-5 w-5 text-green-500"})," "]})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3].map(f=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:e.jsx(Ks,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"   : PM - : PM"})]})]}),e.jsx(V,{size:"sm",children:" "})]},f))})})]})]}),e.jsx(bt,{value:"live",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"   "}),e.jsx(ct,{children:"         "})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(ke,{htmlFor:"meeting-title",children:" "}),e.jsx(de,{id:"meeting-title",placeholder:"  "}),e.jsx(ke,{htmlFor:"meeting-type",children:" "}),e.jsxs(xt,{children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:"class",children:""}),e.jsx(X,{value:"meeting",children:""}),e.jsx(X,{value:"exam",children:""})]})]}),e.jsx(ke,{htmlFor:"description",children:""}),e.jsx(Gs,{id:"description",placeholder:"  "})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ke,{htmlFor:"max-participants",children:" "}),e.jsx(de,{id:"max-participants",type:"number",placeholder:""}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"recording"}),e.jsx(ke,{htmlFor:"recording",children:"  "})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"waiting-room"}),e.jsx(ke,{htmlFor:"waiting-room",children:"   "})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(V,{className:"flex-1 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:[e.jsx(no,{className:"h-4 w-4 mr-2"}),"  "]}),e.jsxs(V,{variant:"outline",className:"flex-1",children:[e.jsx(bs,{className:"h-4 w-4 mr-2"}),"  "]})]})]})]})}),e.jsx(bt,{value:"schedule",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:" "}),e.jsx(ct,{children:"       "})]}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(f=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:e.jsx(no,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:", : AM - : AM"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(Oe,{variant:"secondary",children:" "}),e.jsx(Oe,{variant:"outline",children:"  "})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{size:"sm",variant:"outline",children:e.jsx(Ys,{className:"h-4 w-4"})}),e.jsx(V,{size:"sm",children:" "})]})]},f))})})]})}),e.jsx(bt,{value:"recordings",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:""}),e.jsx(ct,{children:"       "})]}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3].map(f=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900 rounded-lg flex items-center justify-center",children:e.jsx(no,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"  "}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"       "}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(Oe,{variant:"secondary",children:" "}),e.jsx(Oe,{variant:"outline",children:"HD 720p"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{size:"sm",variant:"outline",children:""}),e.jsx(V,{size:"sm",children:""})]})]},f))})})]})})]})]})})})}const Aq=b.createContext({});function N5e(t){const s=b.useRef(null);return s.current===null&&(s.current=t()),s.current}const dE=b.createContext(null),mq=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function C5e(t=!0){const s=b.useContext(dE);if(s===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=s,i=b.useId();b.useEffect(()=>{t&&a(i)},[t]);const l=b.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,l]:[!0]}const uE=typeof window<"u",B5e=uE?b.useLayoutEffect:b.useEffect,Ll=t=>t;let fq=Ll;function hE(t){let s;return()=>(s===void 0&&(s=t()),s)}const s0=(t,s,r)=>{const n=s-t;return n===0?1:(r-t)/n},Md=t=>t*1e3,Qd=t=>t/1e3,S5e={useManualTiming:!1};function k5e(t){let s=new Set,r=new Set,n=!1,a=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function o(d){i.has(d)&&(c.schedule(d),t()),d(l)}const c={schedule:(d,u=!1,h=!1)=>{const m=h&&n?s:r;return u&&i.add(d),m.has(d)||m.add(d),d},cancel:d=>{r.delete(d),i.delete(d)},process:d=>{if(l=d,n){a=!0;return}n=!0,[s,r]=[r,s],s.forEach(o),s.clear(),n=!1,a&&(a=!1,c.process(d))}};return c}const k1=["read","resolveKeyframes","update","preRender","render","postRender"],_5e=40;function xq(t,s){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,l=k1.reduce((g,v)=>(g[v]=k5e(i),g),{}),{read:o,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:A}=l,m=()=>{const g=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(g-a.timestamp,_5e),1),a.timestamp=g,a.isProcessing=!0,o.process(a),c.process(a),d.process(a),u.process(a),h.process(a),A.process(a),a.isProcessing=!1,r&&s&&(n=!1,t(m))},p=()=>{r=!0,n=!0,a.isProcessing||t(m)};return{schedule:k1.reduce((g,v)=>{const j=l[v];return g[v]=(B,F=!1,P=!1)=>(r||p(),j.schedule(B,F,P)),g},{}),cancel:g=>{for(let v=0;v<k1.length;v++)l[k1[v]].cancel(g)},state:a,steps:l}}const{schedule:un,cancel:Dh,state:Pa,steps:tC}=xq(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ll,!0),pq=b.createContext({strict:!1}),DI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},r0={};for(const t in DI)r0[t]={isEnabled:s=>DI[t].some(r=>!!s[r])};function E5e(t){for(const s in t)r0[s]={...r0[s],...t[s]}}const F5e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||F5e.has(t)}let gq=t=>!Jb(t);function T5e(t){t&&(gq=s=>s.startsWith("on")?!Jb(s):t(s))}try{T5e(require("@emotion/is-prop-valid").default)}catch{}function L5e(t,s,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(gq(a)||r===!0&&Jb(a)||!s&&!Jb(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}function I5e(t){if(typeof Proxy>"u")return t;const s=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,a)=>a==="create"?t:(s.has(a)||s.set(a,t(a)),s.get(a))})}const CN=b.createContext({});function Tv(t){return typeof t=="string"||Array.isArray(t)}function BN(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const AE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mE=["initial",...AE];function SN(t){return BN(t.animate)||mE.some(s=>Tv(t[s]))}function vq(t){return!!(SN(t)||t.variants)}function P5e(t,s){if(SN(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Tv(r)?r:void 0,animate:Tv(n)?n:void 0}}return t.inherit!==!1?s:{}}function D5e(t){const{initial:s,animate:r}=P5e(t,b.useContext(CN));return b.useMemo(()=>({initial:s,animate:r}),[UI(s),UI(r)])}function UI(t){return Array.isArray(t)?t.join(" "):t}const U5e=Symbol.for("motionComponentSymbol");function Gf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function O5e(t,s,r){return b.useCallback(n=>{n&&t.onMount&&t.onMount(n),s&&(n?s.mount(n):s.unmount()),r&&(typeof r=="function"?r(n):Gf(r)&&(r.current=n))},[s])}const fE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),R5e="framerAppearId",jq="data-"+fE(R5e),{schedule:xE}=xq(queueMicrotask,!1),yq=b.createContext({});function M5e(t,s,r,n,a){var i,l;const{visualElement:o}=b.useContext(CN),c=b.useContext(pq),d=b.useContext(dE),u=b.useContext(mq).reducedMotion,h=b.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(t,{visualState:s,parent:o,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const A=h.current,m=b.useContext(yq);A&&!A.projection&&a&&(A.type==="html"||A.type==="svg")&&Q5e(h.current,r,a,m);const p=b.useRef(!1);b.useInsertionEffect(()=>{A&&p.current&&A.update(r,d)});const f=r[jq],x=b.useRef(!!f&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,f))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,f)));return B5e(()=>{A&&(p.current=!0,window.MotionIsMounted=!0,A.updateFeatures(),xE.render(A.render),x.current&&A.animationState&&A.animationState.animateChanges())}),b.useEffect(()=>{A&&(!x.current&&A.animationState&&A.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,f)}),x.current=!1))}),A}function Q5e(t,s,r,n){const{layoutId:a,layout:i,drag:l,dragConstraints:o,layoutScroll:c,layoutRoot:d}=s;t.projection=new r(t.latestValues,s["data-framer-portal-id"]?void 0:wq(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!l||o&&Gf(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:d})}function wq(t){if(t)return t.options.allowProjection!==!1?t.projection:wq(t.parent)}function H5e({preloadedFeatures:t,createVisualElement:s,useRender:r,useVisualState:n,Component:a}){var i,l;t&&E5e(t);function o(d,u){let h;const A={...b.useContext(mq),...d,layoutId:V5e(d)},{isStatic:m}=A,p=D5e(d),f=n(d,m);if(!m&&uE){K5e();const x=z5e(A);h=x.MeasureLayout,p.visualElement=M5e(a,f,A,s,x.ProjectionNode)}return e.jsxs(CN.Provider,{value:p,children:[h&&p.visualElement?e.jsx(h,{visualElement:p.visualElement,...A}):null,r(a,d,O5e(f,p.visualElement,u),f,m,p.visualElement)]})}o.displayName=`motion.${typeof a=="string"?a:`create(${(l=(i=a.displayName)!==null&&i!==void 0?i:a.name)!==null&&l!==void 0?l:""})`}`;const c=b.forwardRef(o);return c[U5e]=a,c}function V5e({layoutId:t}){const s=b.useContext(Aq).id;return s&&t!==void 0?s+"-"+t:t}function K5e(t,s){b.useContext(pq).strict}function z5e(t){const{drag:s,layout:r}=r0;if(!s&&!r)return{};const n={...s,...r};return{MeasureLayout:s!=null&&s.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const q5e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pE(t){return typeof t!="string"||t.includes("-")?!1:!!(q5e.indexOf(t)>-1||/[A-Z]/u.test(t))}function OI(t){const s=[{},{}];return t==null||t.values.forEach((r,n)=>{s[0][n]=r.get(),s[1][n]=r.getVelocity()}),s}function gE(t,s,r,n){if(typeof s=="function"){const[a,i]=OI(n);s=s(r!==void 0?r:t.custom,a,i)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[a,i]=OI(n);s=s(r!==void 0?r:t.custom,a,i)}return s}const VS=t=>Array.isArray(t),$5e=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),G5e=t=>VS(t)?t[t.length-1]||0:t,Ai=t=>!!(t&&t.getVelocity);function Aw(t){const s=Ai(t)?t.get():t;return $5e(s)?s.toValue():s}function W5e({scrapeMotionValuesFromProps:t,createRenderState:s,onUpdate:r},n,a,i){const l={latestValues:Y5e(n,a,i,t),renderState:s()};return r&&(l.onMount=o=>r({props:n,current:o,...l}),l.onUpdate=o=>r(o)),l}const bq=t=>(s,r)=>{const n=b.useContext(CN),a=b.useContext(dE),i=()=>W5e(t,s,n,a);return r?i():N5e(i)};function Y5e(t,s,r,n){const a={},i=n(t,{});for(const A in i)a[A]=Aw(i[A]);let{initial:l,animate:o}=t;const c=SN(t),d=vq(t);s&&d&&!c&&t.inherit!==!1&&(l===void 0&&(l=s.initial),o===void 0&&(o=s.animate));let u=r?r.initial===!1:!1;u=u||l===!1;const h=u?o:l;if(h&&typeof h!="boolean"&&!BN(h)){const A=Array.isArray(h)?h:[h];for(let m=0;m<A.length;m++){const p=gE(t,A[m]);if(p){const{transitionEnd:f,transition:x,...g}=p;for(const v in g){let j=g[v];if(Array.isArray(j)){const B=u?j.length-1:0;j=j[B]}j!==null&&(a[v]=j)}for(const v in f)a[v]=f[v]}}}return a}const S0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fm=new Set(S0),Nq=t=>s=>typeof s=="string"&&s.startsWith(t),Cq=Nq("--"),X5e=Nq("var(--"),vE=t=>X5e(t)?J5e.test(t.split("/*")[0].trim()):!1,J5e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bq=(t,s)=>s&&typeof t=="number"?s.transform(t):t,su=(t,s,r)=>r>s?s:r<t?t:r,k0={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Lv={...k0,transform:t=>su(0,1,t)},_1={...k0,default:1},jj=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),Lu=jj("deg"),Gc=jj("%"),ps=jj("px"),Z5e=jj("vh"),eCe=jj("vw"),RI={...Gc,parse:t=>Gc.parse(t)/100,transform:t=>Gc.transform(t*100)},tCe={borderWidth:ps,borderTopWidth:ps,borderRightWidth:ps,borderBottomWidth:ps,borderLeftWidth:ps,borderRadius:ps,radius:ps,borderTopLeftRadius:ps,borderTopRightRadius:ps,borderBottomRightRadius:ps,borderBottomLeftRadius:ps,width:ps,maxWidth:ps,height:ps,maxHeight:ps,top:ps,right:ps,bottom:ps,left:ps,padding:ps,paddingTop:ps,paddingRight:ps,paddingBottom:ps,paddingLeft:ps,margin:ps,marginTop:ps,marginRight:ps,marginBottom:ps,marginLeft:ps,backgroundPositionX:ps,backgroundPositionY:ps},sCe={rotate:Lu,rotateX:Lu,rotateY:Lu,rotateZ:Lu,scale:_1,scaleX:_1,scaleY:_1,scaleZ:_1,skew:Lu,skewX:Lu,skewY:Lu,distance:ps,translateX:ps,translateY:ps,translateZ:ps,x:ps,y:ps,z:ps,perspective:ps,transformPerspective:ps,opacity:Lv,originX:RI,originY:RI,originZ:ps},MI={...k0,transform:Math.round},jE={...tCe,...sCe,zIndex:MI,size:ps,fillOpacity:Lv,strokeOpacity:Lv,numOctaves:MI},rCe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nCe=S0.length;function aCe(t,s,r){let n="",a=!0;for(let i=0;i<nCe;i++){const l=S0[i],o=t[l];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(l.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||r){const d=Bq(o,jE[l]);if(!c){a=!1;const u=rCe[l]||l;n+=`${u}(${d}) `}r&&(s[l]=d)}}return n=n.trim(),r?n=r(s,a?"":n):a&&(n="none"),n}function yE(t,s,r){const{style:n,vars:a,transformOrigin:i}=t;let l=!1,o=!1;for(const c in s){const d=s[c];if(Fm.has(c)){l=!0;continue}else if(Cq(c)){a[c]=d;continue}else{const u=Bq(d,jE[c]);c.startsWith("origin")?(o=!0,i[c]=u):n[c]=u}}if(s.transform||(l||r?n.transform=aCe(s,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;n.transformOrigin=`${c} ${d} ${u}`}}const iCe={offset:"stroke-dashoffset",array:"stroke-dasharray"},lCe={offset:"strokeDashoffset",array:"strokeDasharray"};function oCe(t,s,r=1,n=0,a=!0){t.pathLength=1;const i=a?iCe:lCe;t[i.offset]=ps.transform(-n);const l=ps.transform(s),o=ps.transform(r);t[i.array]=`${l} ${o}`}function QI(t,s,r){return typeof t=="string"?t:ps.transform(s+r*t)}function cCe(t,s,r){const n=QI(s,t.x,t.width),a=QI(r,t.y,t.height);return`${n} ${a}`}function wE(t,{attrX:s,attrY:r,attrScale:n,originX:a,originY:i,pathLength:l,pathSpacing:o=1,pathOffset:c=0,...d},u,h){if(yE(t,d,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:A,style:m,dimensions:p}=t;A.transform&&(p&&(m.transform=A.transform),delete A.transform),p&&(a!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=cCe(p,a!==void 0?a:.5,i!==void 0?i:.5)),s!==void 0&&(A.x=s),r!==void 0&&(A.y=r),n!==void 0&&(A.scale=n),l!==void 0&&oCe(A,l,o,c,!1)}const bE=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Sq=()=>({...bE(),attrs:{}}),NE=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kq(t,{style:s,vars:r},n,a){Object.assign(t.style,s,a&&a.getProjectionStyles(n));for(const i in r)t.style.setProperty(i,r[i])}const _q=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Eq(t,s,r,n){kq(t,s,void 0,n);for(const a in s.attrs)t.setAttribute(_q.has(a)?a:fE(a),s.attrs[a])}const Zb={};function dCe(t){Object.assign(Zb,t)}function Fq(t,{layout:s,layoutId:r}){return Fm.has(t)||t.startsWith("origin")||(s||r!==void 0)&&(!!Zb[t]||t==="opacity")}function CE(t,s,r){var n;const{style:a}=t,i={};for(const l in a)(Ai(a[l])||s.style&&Ai(s.style[l])||Fq(l,t)||((n=r==null?void 0:r.getValue(l))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[l]=a[l]);return i}function Tq(t,s,r){const n=CE(t,s,r);for(const a in t)if(Ai(t[a])||Ai(s[a])){const i=S0.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=t[a]}return n}function uCe(t,s){try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}const HI=["x","y","width","height","cx","cy","r"],hCe={useVisualState:bq({scrapeMotionValuesFromProps:Tq,createRenderState:Sq,onUpdate:({props:t,prevProps:s,current:r,renderState:n,latestValues:a})=>{if(!r)return;let i=!!t.drag;if(!i){for(const o in a)if(Fm.has(o)){i=!0;break}}if(!i)return;let l=!s;if(s)for(let o=0;o<HI.length;o++){const c=HI[o];t[c]!==s[c]&&(l=!0)}l&&un.read(()=>{uCe(r,n),un.render(()=>{wE(n,a,NE(r.tagName),t.transformTemplate),Eq(r,n)})})}})},ACe={useVisualState:bq({scrapeMotionValuesFromProps:CE,createRenderState:bE})};function Lq(t,s,r){for(const n in s)!Ai(s[n])&&!Fq(n,r)&&(t[n]=s[n])}function mCe({transformTemplate:t},s){return b.useMemo(()=>{const r=bE();return yE(r,s,t),Object.assign({},r.vars,r.style)},[s])}function fCe(t,s){const r=t.style||{},n={};return Lq(n,r,t),Object.assign(n,mCe(t,s)),n}function xCe(t,s){const r={},n=fCe(t,s);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}function pCe(t,s,r,n){const a=b.useMemo(()=>{const i=Sq();return wE(i,s,NE(n),t.transformTemplate),{...i.attrs,style:{...i.style}}},[s]);if(t.style){const i={};Lq(i,t.style,t),a.style={...i,...a.style}}return a}function gCe(t=!1){return(r,n,a,{latestValues:i},l)=>{const c=(pE(r)?pCe:xCe)(n,i,l,r),d=L5e(n,typeof r=="string",t),u=r!==b.Fragment?{...d,...c,ref:a}:{},{children:h}=n,A=b.useMemo(()=>Ai(h)?h.get():h,[h]);return b.createElement(r,{...u,children:A})}}function vCe(t,s){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const l={...pE(n)?hCe:ACe,preloadedFeatures:t,useRender:gCe(a),createVisualElement:s,Component:n};return H5e(l)}}function Iq(t,s){if(!Array.isArray(s))return!1;const r=s.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(s[n]!==t[n])return!1;return!0}function kN(t,s,r){const n=t.getProps();return gE(n,s,r!==void 0?r:n.custom,t)}const jCe=hE(()=>window.ScrollTimeline!==void 0);class yCe{constructor(s){this.stop=()=>this.runAll("stop"),this.animations=s.filter(Boolean)}get finished(){return Promise.all(this.animations.map(s=>"finished"in s?s.finished:s))}getAll(s){return this.animations[0][s]}setAll(s,r){for(let n=0;n<this.animations.length;n++)this.animations[n][s]=r}attachTimeline(s,r){const n=this.animations.map(a=>{if(jCe()&&a.attachTimeline)return a.attachTimeline(s);if(typeof r=="function")return r(a)});return()=>{n.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(s){this.setAll("time",s)}get speed(){return this.getAll("speed")}set speed(s){this.setAll("speed",s)}get startTime(){return this.getAll("startTime")}get duration(){let s=0;for(let r=0;r<this.animations.length;r++)s=Math.max(s,this.animations[r].duration);return s}runAll(s){this.animations.forEach(r=>r[s]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class wCe extends yCe{then(s,r){return Promise.all(this.animations).then(s).catch(r)}}function BE(t,s){return t?t[s]||t.default||t:void 0}const KS=2e4;function Pq(t){let s=0;const r=50;let n=t.next(s);for(;!n.done&&s<KS;)s+=r,n=t.next(s);return s>=KS?1/0:s}function SE(t){return typeof t=="function"}function VI(t,s){t.timeline=s,t.onfinish=null}const kE=t=>Array.isArray(t)&&typeof t[0]=="number",bCe={linearEasing:void 0};function NCe(t,s){const r=hE(t);return()=>{var n;return(n=bCe[s])!==null&&n!==void 0?n:r()}}const e2=NCe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Dq=(t,s,r=10)=>{let n="";const a=Math.max(Math.round(s/r),2);for(let i=0;i<a;i++)n+=t(s0(0,a-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function Uq(t){return!!(typeof t=="function"&&e2()||!t||typeof t=="string"&&(t in zS||e2())||kE(t)||Array.isArray(t)&&t.every(Uq))}const Wp=([t,s,r,n])=>`cubic-bezier(${t}, ${s}, ${r}, ${n})`,zS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wp([0,.65,.55,1]),circOut:Wp([.55,0,1,.45]),backIn:Wp([.31,.01,.66,-.59]),backOut:Wp([.33,1.53,.69,.99])};function Oq(t,s){if(t)return typeof t=="function"&&e2()?Dq(t,s):kE(t)?Wp(t):Array.isArray(t)?t.map(r=>Oq(r,s)||zS.easeOut):zS[t]}const Uo={x:!1,y:!1};function Rq(){return Uo.x||Uo.y}function CCe(t,s,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const i=(n=void 0)!==null&&n!==void 0?n:a.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function Mq(t,s){const r=CCe(t),n=new AbortController,a={passive:!0,...s,signal:n.signal};return[r,a,()=>n.abort()]}function KI(t){return s=>{s.pointerType==="touch"||Rq()||t(s)}}function BCe(t,s,r={}){const[n,a,i]=Mq(t,r),l=KI(o=>{const{target:c}=o,d=s(o);if(typeof d!="function"||!c)return;const u=KI(h=>{d(h),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,a)});return n.forEach(o=>{o.addEventListener("pointerenter",l,a)}),i}const Qq=(t,s)=>s?t===s?!0:Qq(t,s.parentElement):!1,_E=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,SCe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kCe(t){return SCe.has(t.tagName)||t.tabIndex!==-1}const Yp=new WeakSet;function zI(t){return s=>{s.key==="Enter"&&t(s)}}function sC(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const _Ce=(t,s)=>{const r=t.currentTarget;if(!r)return;const n=zI(()=>{if(Yp.has(r))return;sC(r,"down");const a=zI(()=>{sC(r,"up")}),i=()=>sC(r,"cancel");r.addEventListener("keyup",a,s),r.addEventListener("blur",i,s)});r.addEventListener("keydown",n,s),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),s)};function qI(t){return _E(t)&&!Rq()}function ECe(t,s,r={}){const[n,a,i]=Mq(t,r),l=o=>{const c=o.currentTarget;if(!qI(o)||Yp.has(c))return;Yp.add(c);const d=s(o),u=(m,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",A),!(!qI(m)||!Yp.has(c))&&(Yp.delete(c),typeof d=="function"&&d(m,{success:p}))},h=m=>{u(m,r.useGlobalTarget||Qq(c,m.target))},A=m=>{u(m,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",A,a)};return n.forEach(o=>{!kCe(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(r.useGlobalTarget?window:o).addEventListener("pointerdown",l,a),o.addEventListener("focus",d=>_Ce(d,a),a)}),i}function FCe(t){return t==="x"||t==="y"?Uo[t]?null:(Uo[t]=!0,()=>{Uo[t]=!1}):Uo.x||Uo.y?null:(Uo.x=Uo.y=!0,()=>{Uo.x=Uo.y=!1})}const Hq=new Set(["width","height","top","left","right","bottom",...S0]);let mw;function TCe(){mw=void 0}const Wc={now:()=>(mw===void 0&&Wc.set(Pa.isProcessing||S5e.useManualTiming?Pa.timestamp:performance.now()),mw),set:t=>{mw=t,queueMicrotask(TCe)}};function EE(t,s){t.indexOf(s)===-1&&t.push(s)}function FE(t,s){const r=t.indexOf(s);r>-1&&t.splice(r,1)}class TE{constructor(){this.subscriptions=[]}add(s){return EE(this.subscriptions,s),()=>FE(this.subscriptions,s)}notify(s,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](s,r,n);else for(let i=0;i<a;i++){const l=this.subscriptions[i];l&&l(s,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Vq(t,s){return s?t*(1e3/s):0}const $I=30,LCe=t=>!isNaN(parseFloat(t));class ICe{constructor(s,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{const i=Wc.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(s),this.owner=r.owner}setCurrent(s){this.current=s,this.updatedAt=Wc.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=LCe(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,r){this.events[s]||(this.events[s]=new TE);const n=this.events[s].add(r);return s==="change"?()=>{n(),un.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,r){this.passiveEffect=s,this.stopPassiveEffect=r}set(s,r=!0){!r||!this.passiveEffect?this.updateAndNotify(s,r):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-n}jump(s,r=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=Wc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>$I)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,$I);return Vq(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(s){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=s(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Iv(t,s){return new ICe(t,s)}function PCe(t,s,r){t.hasValue(s)?t.getValue(s).set(r):t.addValue(s,Iv(r))}function DCe(t,s){const r=kN(t,s);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const l in i){const o=G5e(i[l]);PCe(t,l,o)}}function UCe(t){return!!(Ai(t)&&t.add)}function qS(t,s){const r=t.getValue("willChange");if(UCe(r))return r.add(s)}function Kq(t){return t.props[jq]}const zq=(t,s,r)=>(((1-3*r+3*s)*t+(3*r-6*s))*t+3*s)*t,OCe=1e-7,RCe=12;function MCe(t,s,r,n,a){let i,l,o=0;do l=s+(r-s)/2,i=zq(l,n,a)-t,i>0?r=l:s=l;while(Math.abs(i)>OCe&&++o<RCe);return l}function yj(t,s,r,n){if(t===s&&r===n)return Ll;const a=i=>MCe(i,0,1,t,r);return i=>i===0||i===1?i:zq(a(i),s,n)}const qq=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,$q=t=>s=>1-t(1-s),Gq=yj(.33,1.53,.69,.99),LE=$q(Gq),Wq=qq(LE),Yq=t=>(t*=2)<1?.5*LE(t):.5*(2-Math.pow(2,-10*(t-1))),IE=t=>1-Math.sin(Math.acos(t)),Xq=$q(IE),Jq=qq(IE),Zq=t=>/^0[^.\s]+$/u.test(t);function QCe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Zq(t):!0}const kg=t=>Math.round(t*1e5)/1e5,PE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HCe(t){return t==null}const VCe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,DE=(t,s)=>r=>!!(typeof r=="string"&&VCe.test(r)&&r.startsWith(t)||s&&!HCe(r)&&Object.prototype.hasOwnProperty.call(r,s)),e$=(t,s,r)=>n=>{if(typeof n!="string")return n;const[a,i,l,o]=n.match(PE);return{[t]:parseFloat(a),[s]:parseFloat(i),[r]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},KCe=t=>su(0,255,t),rC={...k0,transform:t=>Math.round(KCe(t))},_A={test:DE("rgb","red"),parse:e$("red","green","blue"),transform:({red:t,green:s,blue:r,alpha:n=1})=>"rgba("+rC.transform(t)+", "+rC.transform(s)+", "+rC.transform(r)+", "+kg(Lv.transform(n))+")"};function zCe(t){let s="",r="",n="",a="";return t.length>5?(s=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(s=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),s+=s,r+=r,n+=n,a+=a),{red:parseInt(s,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const $S={test:DE("#"),parse:zCe,transform:_A.transform},Wf={test:DE("hsl","hue"),parse:e$("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Gc.transform(kg(s))+", "+Gc.transform(kg(r))+", "+kg(Lv.transform(n))+")"},ii={test:t=>_A.test(t)||$S.test(t)||Wf.test(t),parse:t=>_A.test(t)?_A.parse(t):Wf.test(t)?Wf.parse(t):$S.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_A.transform(t):Wf.transform(t)},qCe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $Ce(t){var s,r;return isNaN(t)&&typeof t=="string"&&(((s=t.match(PE))===null||s===void 0?void 0:s.length)||0)+(((r=t.match(qCe))===null||r===void 0?void 0:r.length)||0)>0}const t$="number",s$="color",GCe="var",WCe="var(",GI="${}",YCe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pv(t){const s=t.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=s.replace(YCe,c=>(ii.test(c)?(n.color.push(i),a.push(s$),r.push(ii.parse(c))):c.startsWith(WCe)?(n.var.push(i),a.push(GCe),r.push(c)):(n.number.push(i),a.push(t$),r.push(parseFloat(c))),++i,GI)).split(GI);return{values:r,split:o,indexes:n,types:a}}function r$(t){return Pv(t).values}function n$(t){const{split:s,types:r}=Pv(t),n=s.length;return a=>{let i="";for(let l=0;l<n;l++)if(i+=s[l],a[l]!==void 0){const o=r[l];o===t$?i+=kg(a[l]):o===s$?i+=ii.transform(a[l]):i+=a[l]}return i}}const XCe=t=>typeof t=="number"?0:t;function JCe(t){const s=r$(t);return n$(t)(s.map(XCe))}const Uh={test:$Ce,parse:r$,createTransformer:n$,getAnimatableNone:JCe},ZCe=new Set(["brightness","contrast","saturate","opacity"]);function eBe(t){const[s,r]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[n]=r.match(PE)||[];if(!n)return t;const a=r.replace(n,"");let i=ZCe.has(s)?1:0;return n!==r&&(i*=100),s+"("+i+a+")"}const tBe=/\b([a-z-]*)\(.*?\)/gu,GS={...Uh,getAnimatableNone:t=>{const s=t.match(tBe);return s?s.map(eBe).join(" "):t}},sBe={...jE,color:ii,backgroundColor:ii,outlineColor:ii,fill:ii,stroke:ii,borderColor:ii,borderTopColor:ii,borderRightColor:ii,borderBottomColor:ii,borderLeftColor:ii,filter:GS,WebkitFilter:GS},UE=t=>sBe[t];function a$(t,s){let r=UE(t);return r!==GS&&(r=Uh),r.getAnimatableNone?r.getAnimatableNone(s):void 0}const rBe=new Set(["auto","none","0"]);function nBe(t,s,r){let n=0,a;for(;n<t.length&&!a;){const i=t[n];typeof i=="string"&&!rBe.has(i)&&Pv(i).values.length&&(a=t[n]),n++}if(a&&r)for(const i of s)t[i]=a$(r,a)}const WI=t=>t===k0||t===ps,YI=(t,s)=>parseFloat(t.split(", ")[s]),XI=(t,s)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/u);if(a)return YI(a[1],s);{const i=n.match(/^matrix\((.+)\)$/u);return i?YI(i[1],t):0}},aBe=new Set(["x","y","z"]),iBe=S0.filter(t=>!aBe.has(t));function lBe(t){const s=[];return iBe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(s.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),s}const n0={width:({x:t},{paddingLeft:s="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(s)-parseFloat(r),height:({y:t},{paddingTop:s="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(s)-parseFloat(r),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:XI(4,13),y:XI(5,14)};n0.translateX=n0.x;n0.translateY=n0.y;const qA=new Set;let WS=!1,YS=!1;function i$(){if(YS){const t=Array.from(qA).filter(n=>n.needsMeasurement),s=new Set(t.map(n=>n.element)),r=new Map;s.forEach(n=>{const a=lBe(n);a.length&&(r.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),s.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,l])=>{var o;(o=n.getValue(i))===null||o===void 0||o.set(l)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}YS=!1,WS=!1,qA.forEach(t=>t.complete()),qA.clear()}function l$(){qA.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(YS=!0)})}function oBe(){l$(),i$()}class OE{constructor(s,r,n,a,i,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...s],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(qA.add(this),WS||(WS=!0,un.read(l$),un.resolveKeyframes(i$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:r,element:n,motionValue:a}=this;for(let i=0;i<s.length;i++)if(s[i]===null)if(i===0){const l=a==null?void 0:a.get(),o=s[s.length-1];if(l!==void 0)s[0]=l;else if(n&&r){const c=n.readValue(r,o);c!=null&&(s[0]=c)}s[0]===void 0&&(s[0]=o),a&&l===void 0&&a.set(s[0])}else s[i]=s[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),qA.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,qA.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const o$=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),cBe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dBe(t){const s=cBe.exec(t);if(!s)return[,];const[,r,n,a]=s;return[`--${r??n}`,a]}function c$(t,s,r=1){const[n,a]=dBe(t);if(!n)return;const i=window.getComputedStyle(s).getPropertyValue(n);if(i){const l=i.trim();return o$(l)?parseFloat(l):l}return vE(a)?c$(a,s,r+1):a}const d$=t=>s=>s.test(t),uBe={test:t=>t==="auto",parse:t=>t},u$=[k0,ps,Gc,Lu,eCe,Z5e,uBe],JI=t=>u$.find(d$(t));class h$ extends OE{constructor(s,r,n,a,i){super(s,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<s.length;c++){let d=s[c];if(typeof d=="string"&&(d=d.trim(),vE(d))){const u=c$(d,r.current);u!==void 0&&(s[c]=u),c===s.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Hq.has(n)||s.length!==2)return;const[a,i]=s,l=JI(a),o=JI(i);if(l!==o)if(WI(l)&&WI(o))for(let c=0;c<s.length;c++){const d=s[c];typeof d=="string"&&(s[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:r}=this,n=[];for(let a=0;a<s.length;a++)QCe(s[a])&&n.push(a);n.length&&nBe(s,n,r)}measureInitialState(){const{element:s,unresolvedKeyframes:r,name:n}=this;if(!s||!s.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=n0[n](s.measureViewportBox(),window.getComputedStyle(s.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&s.getValue(n,a).jump(a,!1)}measureEndState(){var s;const{element:r,name:n,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const l=a.length-1,o=a[l];a[l]=n0[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((s=this.removedTransforms)===null||s===void 0)&&s.length&&this.removedTransforms.forEach(([c,d])=>{r.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const ZI=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Uh.test(t)||t==="0")&&!t.startsWith("url("));function hBe(t){const s=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==s)return!0}function ABe(t,s,r,n){const a=t[0];if(a===null)return!1;if(s==="display"||s==="visibility")return!0;const i=t[t.length-1],l=ZI(a,s),o=ZI(i,s);return!l||!o?!1:hBe(t)||(r==="spring"||SE(r))&&n}const mBe=t=>t!==null;function _N(t,{repeat:s,repeatType:r="loop"},n){const a=t.filter(mBe),i=s&&r!=="loop"&&s%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const fBe=40;class A${constructor({autoplay:s=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:l="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Wc.now(),this.options={autoplay:s,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:l,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>fBe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&oBe(),this._resolved}onKeyframesResolved(s,r){this.resolvedAt=Wc.now(),this.hasAttemptedResolve=!0;const{name:n,type:a,velocity:i,delay:l,onComplete:o,onUpdate:c,isGenerator:d}=this.options;if(!d&&!ABe(s,n,a,i))if(l)this.options.duration=0;else{c&&c(_N(s,this.options,r)),o&&o(),this.resolveFinishedPromise();return}const u=this.initPlayback(s,r);u!==!1&&(this._resolved={keyframes:s,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(s,r){return this.currentFinishedPromise.then(s,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(s=>{this.resolveFinishedPromise=s})}}const vn=(t,s,r)=>t+(s-t)*r;function nC(t,s,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(s-t)*6*r:r<1/2?s:r<2/3?t+(s-t)*(2/3-r)*6:t}function xBe({hue:t,saturation:s,lightness:r,alpha:n}){t/=360,s/=100,r/=100;let a=0,i=0,l=0;if(!s)a=i=l=r;else{const o=r<.5?r*(1+s):r+s-r*s,c=2*r-o;a=nC(c,o,t+1/3),i=nC(c,o,t),l=nC(c,o,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:n}}function t2(t,s){return r=>r>0?s:t}const aC=(t,s,r)=>{const n=t*t,a=r*(s*s-n)+n;return a<0?0:Math.sqrt(a)},pBe=[$S,_A,Wf],gBe=t=>pBe.find(s=>s.test(t));function eP(t){const s=gBe(t);if(!s)return!1;let r=s.parse(t);return s===Wf&&(r=xBe(r)),r}const tP=(t,s)=>{const r=eP(t),n=eP(s);if(!r||!n)return t2(t,s);const a={...r};return i=>(a.red=aC(r.red,n.red,i),a.green=aC(r.green,n.green,i),a.blue=aC(r.blue,n.blue,i),a.alpha=vn(r.alpha,n.alpha,i),_A.transform(a))},vBe=(t,s)=>r=>s(t(r)),wj=(...t)=>t.reduce(vBe),XS=new Set(["none","hidden"]);function jBe(t,s){return XS.has(t)?r=>r<=0?t:s:r=>r>=1?s:t}function yBe(t,s){return r=>vn(t,s,r)}function RE(t){return typeof t=="number"?yBe:typeof t=="string"?vE(t)?t2:ii.test(t)?tP:NBe:Array.isArray(t)?m$:typeof t=="object"?ii.test(t)?tP:wBe:t2}function m$(t,s){const r=[...t],n=r.length,a=t.map((i,l)=>RE(i)(i,s[l]));return i=>{for(let l=0;l<n;l++)r[l]=a[l](i);return r}}function wBe(t,s){const r={...t,...s},n={};for(const a in r)t[a]!==void 0&&s[a]!==void 0&&(n[a]=RE(t[a])(t[a],s[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function bBe(t,s){var r;const n=[],a={color:0,var:0,number:0};for(let i=0;i<s.values.length;i++){const l=s.types[i],o=t.indexes[l][a[l]],c=(r=t.values[o])!==null&&r!==void 0?r:0;n[i]=c,a[l]++}return n}const NBe=(t,s)=>{const r=Uh.createTransformer(s),n=Pv(t),a=Pv(s);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?XS.has(t)&&!a.values.length||XS.has(s)&&!n.values.length?jBe(t,s):wj(m$(bBe(n,a),a.values),r):t2(t,s)};function f$(t,s,r){return typeof t=="number"&&typeof s=="number"&&typeof r=="number"?vn(t,s,r):RE(t)(t,s)}const CBe=5;function x$(t,s,r){const n=Math.max(s-CBe,0);return Vq(r-t(n),s-n)}const En={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sP=.001;function BBe({duration:t=En.duration,bounce:s=En.bounce,velocity:r=En.velocity,mass:n=En.mass}){let a,i,l=1-s;l=su(En.minDamping,En.maxDamping,l),t=su(En.minDuration,En.maxDuration,Qd(t)),l<1?(a=d=>{const u=d*l,h=u*t,A=u-r,m=JS(d,l),p=Math.exp(-h);return sP-A/m*p},i=d=>{const h=d*l*t,A=h*r+r,m=Math.pow(l,2)*Math.pow(d,2)*t,p=Math.exp(-h),f=JS(Math.pow(d,2),l);return(-a(d)+sP>0?-1:1)*((A-m)*p)/f}):(a=d=>{const u=Math.exp(-d*t),h=(d-r)*t+1;return-.001+u*h},i=d=>{const u=Math.exp(-d*t),h=(r-d)*(t*t);return u*h});const o=5/t,c=kBe(a,i,o);if(t=Md(t),isNaN(c))return{stiffness:En.stiffness,damping:En.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:l*2*Math.sqrt(n*d),duration:t}}}const SBe=12;function kBe(t,s,r){let n=r;for(let a=1;a<SBe;a++)n=n-t(n)/s(n);return n}function JS(t,s){return t*Math.sqrt(1-s*s)}const _Be=["duration","bounce"],EBe=["stiffness","damping","mass"];function rP(t,s){return s.some(r=>t[r]!==void 0)}function FBe(t){let s={velocity:En.velocity,stiffness:En.stiffness,damping:En.damping,mass:En.mass,isResolvedFromDuration:!1,...t};if(!rP(t,EBe)&&rP(t,_Be))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*su(.05,1,1-(t.bounce||0))*Math.sqrt(a);s={...s,mass:En.mass,stiffness:a,damping:i}}else{const r=BBe(t);s={...s,...r,mass:En.mass},s.isResolvedFromDuration=!0}return s}function p$(t=En.visualDuration,s=En.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],l=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:A,isResolvedFromDuration:m}=FBe({...r,velocity:-Qd(r.velocity||0)}),p=A||0,f=d/(2*Math.sqrt(c*u)),x=l-i,g=Qd(Math.sqrt(c/u)),v=Math.abs(x)<5;n||(n=v?En.restSpeed.granular:En.restSpeed.default),a||(a=v?En.restDelta.granular:En.restDelta.default);let j;if(f<1){const F=JS(g,f);j=P=>{const E=Math.exp(-f*g*P);return l-E*((p+f*g*x)/F*Math.sin(F*P)+x*Math.cos(F*P))}}else if(f===1)j=F=>l-Math.exp(-g*F)*(x+(p+g*x)*F);else{const F=g*Math.sqrt(f*f-1);j=P=>{const E=Math.exp(-f*g*P),N=Math.min(F*P,300);return l-E*((p+f*g*x)*Math.sinh(N)+F*x*Math.cosh(N))/F}}const B={calculatedDuration:m&&h||null,next:F=>{const P=j(F);if(m)o.done=F>=h;else{let E=0;f<1&&(E=F===0?Md(p):x$(j,F,P));const N=Math.abs(E)<=n,C=Math.abs(l-P)<=a;o.done=N&&C}return o.value=o.done?l:P,o},toString:()=>{const F=Math.min(Pq(B),KS),P=Dq(E=>B.next(F*E).value,F,30);return F+"ms "+P}};return B}function nP({keyframes:t,velocity:s=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:l,min:o,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],A={done:!1,value:h},m=N=>o!==void 0&&N<o||c!==void 0&&N>c,p=N=>o===void 0?c:c===void 0||Math.abs(o-N)<Math.abs(c-N)?o:c;let f=r*s;const x=h+f,g=l===void 0?x:l(x);g!==x&&(f=g-h);const v=N=>-f*Math.exp(-N/n),j=N=>g+v(N),B=N=>{const C=v(N),_=j(N);A.done=Math.abs(C)<=d,A.value=A.done?g:_};let F,P;const E=N=>{m(A.value)&&(F=N,P=p$({keyframes:[A.value,p(A.value)],velocity:x$(j,N,A.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return E(0),{calculatedDuration:null,next:N=>{let C=!1;return!P&&F===void 0&&(C=!0,B(N),E(N)),F!==void 0&&N>=F?P.next(N-F):(!C&&B(N),A)}}}const TBe=yj(.42,0,1,1),LBe=yj(0,0,.58,1),g$=yj(.42,0,.58,1),IBe=t=>Array.isArray(t)&&typeof t[0]!="number",PBe={linear:Ll,easeIn:TBe,easeInOut:g$,easeOut:LBe,circIn:IE,circInOut:Jq,circOut:Xq,backIn:LE,backInOut:Wq,backOut:Gq,anticipate:Yq},aP=t=>{if(kE(t)){fq(t.length===4);const[s,r,n,a]=t;return yj(s,r,n,a)}else if(typeof t=="string")return PBe[t];return t};function DBe(t,s,r){const n=[],a=r||f$,i=t.length-1;for(let l=0;l<i;l++){let o=a(t[l],t[l+1]);if(s){const c=Array.isArray(s)?s[l]||Ll:s;o=wj(c,o)}n.push(o)}return n}function UBe(t,s,{clamp:r=!0,ease:n,mixer:a}={}){const i=t.length;if(fq(i===s.length),i===1)return()=>s[0];if(i===2&&s[0]===s[1])return()=>s[1];const l=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),s=[...s].reverse());const o=DBe(s,n,a),c=o.length,d=u=>{if(l&&u<t[0])return s[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const A=s0(t[h],t[h+1],u);return o[h](A)};return r?u=>d(su(t[0],t[i-1],u)):d}function OBe(t,s){const r=t[t.length-1];for(let n=1;n<=s;n++){const a=s0(0,s,n);t.push(vn(r,1,a))}}function RBe(t){const s=[0];return OBe(s,t.length-1),s}function MBe(t,s){return t.map(r=>r*s)}function QBe(t,s){return t.map(()=>s||g$).splice(0,t.length-1)}function s2({duration:t=300,keyframes:s,times:r,ease:n="easeInOut"}){const a=IBe(n)?n.map(aP):aP(n),i={done:!1,value:s[0]},l=MBe(r&&r.length===s.length?r:RBe(s),t),o=UBe(l,s,{ease:Array.isArray(a)?a:QBe(s,a)});return{calculatedDuration:t,next:c=>(i.value=o(c),i.done=c>=t,i)}}const HBe=t=>{const s=({timestamp:r})=>t(r);return{start:()=>un.update(s,!0),stop:()=>Dh(s),now:()=>Pa.isProcessing?Pa.timestamp:Wc.now()}},VBe={decay:nP,inertia:nP,tween:s2,keyframes:s2,spring:p$},KBe=t=>t/100;class ME extends A${constructor(s){super(s),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:a,keyframes:i}=this.options,l=(a==null?void 0:a.KeyframeResolver)||OE,o=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new l(i,o,r,n,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(s){const{type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:l=0}=this.options,o=SE(r)?r:VBe[r]||s2;let c,d;o!==s2&&typeof s[0]!="number"&&(c=wj(KBe,f$(s[0],s[1])),s=[0,100]);const u=o({...this.options,keyframes:s});i==="mirror"&&(d=o({...this.options,keyframes:[...s].reverse(),velocity:-l})),u.calculatedDuration===null&&(u.calculatedDuration=Pq(u));const{calculatedDuration:h}=u,A=h+a,m=A*(n+1)-a;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:A,totalDuration:m}}onPostResolved(){const{autoplay:s=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!s?this.pause():this.state=this.pendingPlayState}tick(s,r=!1){const{resolved:n}=this;if(!n){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:l,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=n;if(this.startTime===null)return i.next(0);const{delay:A,repeat:m,repeatType:p,repeatDelay:f,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-u/this.speed,this.startTime)),r?this.currentTime=s:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(s-this.startTime)*this.speed;const g=this.currentTime-A*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let j=this.currentTime,B=i;if(m){const N=Math.min(this.currentTime,u)/h;let C=Math.floor(N),_=N%1;!_&&N>=1&&(_=1),_===1&&C--,C=Math.min(C,m+1),!!(C%2)&&(p==="reverse"?(_=1-_,f&&(_-=f/h)):p==="mirror"&&(B=l)),j=su(0,1,_)*h}const F=v?{done:!1,value:c[0]}:B.next(j);o&&(F.value=o(F.value));let{done:P}=F;!v&&d!==null&&(P=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return E&&a!==void 0&&(F.value=_N(c,this.options,a)),x&&x(F.value),E&&this.finish(),F}get duration(){const{resolved:s}=this;return s?Qd(s.calculatedDuration):0}get time(){return Qd(this.currentTime)}set time(s){s=Md(s),this.currentTime=s,this.holdTime!==null||this.speed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.speed)}get speed(){return this.playbackSpeed}set speed(s){const r=this.playbackSpeed!==s;this.playbackSpeed=s,r&&(this.time=Qd(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:s=HBe,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=s(i=>this.tick(i))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var s;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(s=this.currentTime)!==null&&s!==void 0?s:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:s}=this.options;s&&s()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}}const zBe=new Set(["opacity","clipPath","filter","transform"]);function qBe(t,s,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:l="loop",ease:o="easeInOut",times:c}={}){const d={[s]:r};c&&(d.offset=c);const u=Oq(o,a);return Array.isArray(u)&&(d.easing=u),t.animate(d,{delay:n,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"})}const $Be=hE(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),r2=10,GBe=2e4;function WBe(t){return SE(t.type)||t.type==="spring"||!Uq(t.ease)}function YBe(t,s){const r=new ME({...s,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const a=[];let i=0;for(;!n.done&&i<GBe;)n=r.sample(i),a.push(n.value),i+=r2;return{times:void 0,keyframes:a,duration:i-r2,ease:"linear"}}const v$={anticipate:Yq,backInOut:Wq,circInOut:Jq};function XBe(t){return t in v$}class iP extends A${constructor(s){super(s);const{name:r,motionValue:n,element:a,keyframes:i}=this.options;this.resolver=new h$(i,(l,o)=>this.onKeyframesResolved(l,o),r,n,a),this.resolver.scheduleResolve()}initPlayback(s,r){let{duration:n=300,times:a,ease:i,type:l,motionValue:o,name:c,startTime:d}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof i=="string"&&e2()&&XBe(i)&&(i=v$[i]),WBe(this.options)){const{onComplete:h,onUpdate:A,motionValue:m,element:p,...f}=this.options,x=YBe(s,f);s=x.keyframes,s.length===1&&(s[1]=s[0]),n=x.duration,a=x.times,i=x.ease,l="keyframes"}const u=qBe(o.owner.current,c,s,{...this.options,duration:n,times:a,ease:i});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(VI(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;o.set(_N(s,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:a,type:l,ease:i,keyframes:s}}get duration(){const{resolved:s}=this;if(!s)return 0;const{duration:r}=s;return Qd(r)}get time(){const{resolved:s}=this;if(!s)return 0;const{animation:r}=s;return Qd(r.currentTime||0)}set time(s){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Md(s)}get speed(){const{resolved:s}=this;if(!s)return 1;const{animation:r}=s;return r.playbackRate}set speed(s){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=s}get state(){const{resolved:s}=this;if(!s)return"idle";const{animation:r}=s;return r.playState}get startTime(){const{resolved:s}=this;if(!s)return null;const{animation:r}=s;return r.startTime}attachTimeline(s){if(!this._resolved)this.pendingTimeline=s;else{const{resolved:r}=this;if(!r)return Ll;const{animation:n}=r;VI(n,s)}return Ll}play(){if(this.isStopped)return;const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:s}=this;if(!s)return;const{animation:r,keyframes:n,duration:a,type:i,ease:l,times:o}=s;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:A,...m}=this.options,p=new ME({...m,keyframes:n,duration:a,type:i,ease:l,times:o,isGenerator:!0}),f=Md(this.time);d.setWithVelocity(p.sample(f-r2).value,p.sample(f).value,r2)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:s}=this;s&&s.animation.finish()}cancel(){const{resolved:s}=this;s&&s.animation.cancel()}static supports(s){const{motionValue:r,name:n,repeatDelay:a,repeatType:i,damping:l,type:o}=s;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=r.owner.getProps();return $Be()&&n&&zBe.has(n)&&!c&&!d&&!a&&i!=="mirror"&&l!==0&&o!=="inertia"}}const JBe={type:"spring",stiffness:500,damping:25,restSpeed:10},ZBe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),eSe={type:"keyframes",duration:.8},tSe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sSe=(t,{keyframes:s})=>s.length>2?eSe:Fm.has(t)?t.startsWith("scale")?ZBe(s[1]):JBe:tSe;function rSe({when:t,delay:s,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:l,repeatDelay:o,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const QE=(t,s,r,n={},a,i)=>l=>{const o=BE(n,t)||{},c=o.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Md(c);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:s.getVelocity(),...o,delay:-d,onUpdate:A=>{s.set(A),o.onUpdate&&o.onUpdate(A)},onComplete:()=>{l(),o.onComplete&&o.onComplete()},name:t,motionValue:s,element:i?void 0:a};rSe(o)||(u={...u,...sSe(t,u)}),u.duration&&(u.duration=Md(u.duration)),u.repeatDelay&&(u.repeatDelay=Md(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!i&&s.get()!==void 0){const A=_N(u.keyframes,o);if(A!==void 0)return un.update(()=>{u.onUpdate(A),u.onComplete()}),new wCe([])}return!i&&iP.supports(u)?new iP(u):new ME(u)};function nSe({protectedKeys:t,needsAnimating:s},r){const n=t.hasOwnProperty(r)&&s[r]!==!0;return s[r]=!1,n}function j$(t,s,{delay:r=0,transitionOverride:n,type:a}={}){var i;let{transition:l=t.getDefaultTransition(),transitionEnd:o,...c}=s;n&&(l=n);const d=[],u=a&&t.animationState&&t.animationState.getState()[a];for(const h in c){const A=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),m=c[h];if(m===void 0||u&&nSe(u,h))continue;const p={delay:r,...BE(l||{},h)};let f=!1;if(window.MotionHandoffAnimation){const g=Kq(t);if(g){const v=window.MotionHandoffAnimation(g,h,un);v!==null&&(p.startTime=v,f=!0)}}qS(t,h),A.start(QE(h,A,m,t.shouldReduceMotion&&Hq.has(h)?{type:!1}:p,t,f));const x=A.animation;x&&d.push(x)}return o&&Promise.all(d).then(()=>{un.update(()=>{o&&DCe(t,o)})}),d}function ZS(t,s,r={}){var n;const a=kN(t,s,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const l=a?()=>Promise.all(j$(t,a,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:A}=i;return aSe(t,s,u+d,h,A,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,u]=c==="beforeChildren"?[l,o]:[o,l];return d().then(()=>u())}else return Promise.all([l(),o(r.delay)])}function aSe(t,s,r=0,n=0,a=1,i){const l=[],o=(t.variantChildren.size-1)*n,c=a===1?(d=0)=>d*n:(d=0)=>o-d*n;return Array.from(t.variantChildren).sort(iSe).forEach((d,u)=>{d.notify("AnimationStart",s),l.push(ZS(d,s,{...i,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",s)))}),Promise.all(l)}function iSe(t,s){return t.sortNodePosition(s)}function lSe(t,s,r={}){t.notify("AnimationStart",s);let n;if(Array.isArray(s)){const a=s.map(i=>ZS(t,i,r));n=Promise.all(a)}else if(typeof s=="string")n=ZS(t,s,r);else{const a=typeof s=="function"?kN(t,s,r.custom):s;n=Promise.all(j$(t,a,r))}return n.then(()=>{t.notify("AnimationComplete",s)})}const oSe=mE.length;function y$(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?y$(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const s={};for(let r=0;r<oSe;r++){const n=mE[r],a=t.props[n];(Tv(a)||a===!1)&&(s[n]=a)}return s}const cSe=[...AE].reverse(),dSe=AE.length;function uSe(t){return s=>Promise.all(s.map(({animation:r,options:n})=>lSe(t,r,n)))}function hSe(t){let s=uSe(t),r=lP(),n=!0;const a=c=>(d,u)=>{var h;const A=kN(t,u,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(A){const{transition:m,transitionEnd:p,...f}=A;d={...d,...f,...p}}return d};function i(c){s=c(t)}function l(c){const{props:d}=t,u=y$(t.parent)||{},h=[],A=new Set;let m={},p=1/0;for(let x=0;x<dSe;x++){const g=cSe[x],v=r[g],j=d[g]!==void 0?d[g]:u[g],B=Tv(j),F=g===c?v.isActive:null;F===!1&&(p=x);let P=j===u[g]&&j!==d[g]&&B;if(P&&n&&t.manuallyAnimateOnMount&&(P=!1),v.protectedKeys={...m},!v.isActive&&F===null||!j&&!v.prevProp||BN(j)||typeof j=="boolean")continue;const E=ASe(v.prevProp,j);let N=E||g===c&&v.isActive&&!P&&B||x>p&&B,C=!1;const _=Array.isArray(j)?j:[j];let k=_.reduce(a(g),{});F===!1&&(k={});const{prevResolvedValues:D={}}=v,z={...D,...k},K=re=>{N=!0,A.has(re)&&(C=!0,A.delete(re)),v.needsAnimating[re]=!0;const I=t.getValue(re);I&&(I.liveStyle=!1)};for(const re in z){const I=k[re],ie=D[re];if(m.hasOwnProperty(re))continue;let ve=!1;VS(I)&&VS(ie)?ve=!Iq(I,ie):ve=I!==ie,ve?I!=null?K(re):A.add(re):I!==void 0&&A.has(re)?K(re):v.protectedKeys[re]=!0}v.prevProp=j,v.prevResolvedValues=k,v.isActive&&(m={...m,...k}),n&&t.blockInitialAnimation&&(N=!1),N&&(!(P&&E)||C)&&h.push(..._.map(re=>({animation:re,options:{type:g}})))}if(A.size){const x={};A.forEach(g=>{const v=t.getBaseTarget(g),j=t.getValue(g);j&&(j.liveStyle=!0),x[g]=v??null}),h.push({animation:x})}let f=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(f=!1),n=!1,f?s(h):Promise.resolve()}function o(c,d){var u;if(r[c].isActive===d)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(A=>{var m;return(m=A.animationState)===null||m===void 0?void 0:m.setActive(c,d)}),r[c].isActive=d;const h=l(c);for(const A in r)r[A].protectedKeys={};return h}return{animateChanges:l,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=lP(),n=!0}}}function ASe(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!Iq(s,t):!1}function oA(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lP(){return{animate:oA(!0),whileInView:oA(),whileHover:oA(),whileTap:oA(),whileDrag:oA(),whileFocus:oA(),exit:oA()}}class qh{constructor(s){this.isMounted=!1,this.node=s}update(){}}class mSe extends qh{constructor(s){super(s),s.animationState||(s.animationState=hSe(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();BN(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:r}=this.node.prevProps||{};s!==r&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)===null||s===void 0||s.call(this)}}let fSe=0;class xSe extends qh{constructor(){super(...arguments),this.id=fSe++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===n)return;const a=this.node.animationState.setActive("exit",!s);r&&!s&&a.then(()=>r(this.id))}mount(){const{register:s}=this.node.presenceContext||{};s&&(this.unmount=s(this.id))}unmount(){}}const pSe={animation:{Feature:mSe},exit:{Feature:xSe}};function Dv(t,s,r,n={passive:!0}){return t.addEventListener(s,r,n),()=>t.removeEventListener(s,r)}function bj(t){return{point:{x:t.pageX,y:t.pageY}}}const gSe=t=>s=>_E(s)&&t(s,bj(s));function _g(t,s,r,n){return Dv(t,s,gSe(r),n)}const oP=(t,s)=>Math.abs(t-s);function vSe(t,s){const r=oP(t.x,s.x),n=oP(t.y,s.y);return Math.sqrt(r**2+n**2)}class w${constructor(s,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=lC(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,m=vSe(h.offset,{x:0,y:0})>=3;if(!A&&!m)return;const{point:p}=h,{timestamp:f}=Pa;this.history.push({...p,timestamp:f});const{onStart:x,onMove:g}=this.handlers;A||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,A)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=iC(A,this.transformPagePoint),un.update(this.updatePoint,!0)},this.handlePointerUp=(h,A)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:f}=this.handlers;if(this.dragSnapToOrigin&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=lC(h.type==="pointercancel"?this.lastMoveEventInfo:iC(A,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),p&&p(h,x)},!_E(s))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const l=bj(s),o=iC(l,this.transformPagePoint),{point:c}=o,{timestamp:d}=Pa;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(s,lC(o,this.history)),this.removeListeners=wj(_g(this.contextWindow,"pointermove",this.handlePointerMove),_g(this.contextWindow,"pointerup",this.handlePointerUp),_g(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),Dh(this.updatePoint)}}function iC(t,s){return s?{point:s(t.point)}:t}function cP(t,s){return{x:t.x-s.x,y:t.y-s.y}}function lC({point:t},s){return{point:t,delta:cP(t,b$(s)),offset:cP(t,jSe(s)),velocity:ySe(s,.1)}}function jSe(t){return t[0]}function b$(t){return t[t.length-1]}function ySe(t,s){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=b$(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>Md(s)));)r--;if(!n)return{x:0,y:0};const i=Qd(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const l={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const N$=1e-4,wSe=1-N$,bSe=1+N$,C$=.01,NSe=0-C$,CSe=0+C$;function Ul(t){return t.max-t.min}function BSe(t,s,r){return Math.abs(t-s)<=r}function dP(t,s,r,n=.5){t.origin=n,t.originPoint=vn(s.min,s.max,t.origin),t.scale=Ul(r)/Ul(s),t.translate=vn(r.min,r.max,t.origin)-t.originPoint,(t.scale>=wSe&&t.scale<=bSe||isNaN(t.scale))&&(t.scale=1),(t.translate>=NSe&&t.translate<=CSe||isNaN(t.translate))&&(t.translate=0)}function Eg(t,s,r,n){dP(t.x,s.x,r.x,n?n.originX:void 0),dP(t.y,s.y,r.y,n?n.originY:void 0)}function uP(t,s,r){t.min=r.min+s.min,t.max=t.min+Ul(s)}function SSe(t,s,r){uP(t.x,s.x,r.x),uP(t.y,s.y,r.y)}function hP(t,s,r){t.min=s.min-r.min,t.max=t.min+Ul(s)}function Fg(t,s,r){hP(t.x,s.x,r.x),hP(t.y,s.y,r.y)}function kSe(t,{min:s,max:r},n){return s!==void 0&&t<s?t=n?vn(s,t,n.min):Math.max(t,s):r!==void 0&&t>r&&(t=n?vn(r,t,n.max):Math.min(t,r)),t}function AP(t,s,r){return{min:s!==void 0?t.min+s:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function _Se(t,{top:s,left:r,bottom:n,right:a}){return{x:AP(t.x,r,a),y:AP(t.y,s,n)}}function mP(t,s){let r=s.min-t.min,n=s.max-t.max;return s.max-s.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function ESe(t,s){return{x:mP(t.x,s.x),y:mP(t.y,s.y)}}function FSe(t,s){let r=.5;const n=Ul(t),a=Ul(s);return a>n?r=s0(s.min,s.max-n,t.min):n>a&&(r=s0(t.min,t.max-a,s.min)),su(0,1,r)}function TSe(t,s){const r={};return s.min!==void 0&&(r.min=s.min-t.min),s.max!==void 0&&(r.max=s.max-t.min),r}const ek=.35;function LSe(t=ek){return t===!1?t=0:t===!0&&(t=ek),{x:fP(t,"left","right"),y:fP(t,"top","bottom")}}function fP(t,s,r){return{min:xP(t,s),max:xP(t,r)}}function xP(t,s){return typeof t=="number"?t:t[s]||0}const pP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yf=()=>({x:pP(),y:pP()}),gP=()=>({min:0,max:0}),Qn=()=>({x:gP(),y:gP()});function Xl(t){return[t("x"),t("y")]}function B$({top:t,left:s,right:r,bottom:n}){return{x:{min:s,max:r},y:{min:t,max:n}}}function ISe({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function PSe(t,s){if(!s)return t;const r=s({x:t.left,y:t.top}),n=s({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function oC(t){return t===void 0||t===1}function tk({scale:t,scaleX:s,scaleY:r}){return!oC(t)||!oC(s)||!oC(r)}function fA(t){return tk(t)||S$(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function S$(t){return vP(t.x)||vP(t.y)}function vP(t){return t&&t!=="0%"}function n2(t,s,r){const n=t-r,a=s*n;return r+a}function jP(t,s,r,n,a){return a!==void 0&&(t=n2(t,a,n)),n2(t,r,n)+s}function sk(t,s=0,r=1,n,a){t.min=jP(t.min,s,r,n,a),t.max=jP(t.max,s,r,n,a)}function k$(t,{x:s,y:r}){sk(t.x,s.translate,s.scale,s.originPoint),sk(t.y,r.translate,r.scale,r.originPoint)}const yP=.999999999999,wP=1.0000000000001;function DSe(t,s,r,n=!1){const a=r.length;if(!a)return;s.x=s.y=1;let i,l;for(let o=0;o<a;o++){i=r[o],l=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Jf(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(s.x*=l.x.scale,s.y*=l.y.scale,k$(t,l)),n&&fA(i.latestValues)&&Jf(t,i.latestValues))}s.x<wP&&s.x>yP&&(s.x=1),s.y<wP&&s.y>yP&&(s.y=1)}function Xf(t,s){t.min=t.min+s,t.max=t.max+s}function bP(t,s,r,n,a=.5){const i=vn(t.min,t.max,a);sk(t,s,r,i,n)}function Jf(t,s){bP(t.x,s.x,s.scaleX,s.scale,s.originX),bP(t.y,s.y,s.scaleY,s.scale,s.originY)}function _$(t,s){return B$(PSe(t.getBoundingClientRect(),s))}function USe(t,s,r){const n=_$(t,r),{scroll:a}=s;return a&&(Xf(n.x,a.offset.x),Xf(n.y,a.offset.y)),n}const E$=({current:t})=>t?t.ownerDocument.defaultView:null,OSe=new WeakMap;class RSe{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qn(),this.visualElement=s}start(s,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(bj(u).point)},i=(u,h)=>{const{drag:A,dragPropagation:m,onDragStart:p}=this.getProps();if(A&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FCe(A),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xl(x=>{let g=this.getAxisMotionValue(x).get()||0;if(Gc.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const j=v.layout.layoutBox[x];j&&(g=Ul(j)*(parseFloat(g)/100))}}this.originPoint[x]=g}),p&&un.postRender(()=>p(u,h)),qS(this.visualElement,"transform");const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},l=(u,h)=>{const{dragPropagation:A,dragDirectionLock:m,onDirectionLock:p,onDrag:f}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=MSe(x),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),f&&f(u,h)},o=(u,h)=>this.stop(u,h),c=()=>Xl(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new w$(s,{onSessionStart:a,onStart:i,onMove:l,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:E$(this.visualElement)})}stop(s,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&un.postRender(()=>i(s,r))}cancel(){this.isDragging=!1;const{projection:s,animationState:r}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(s,r,n){const{drag:a}=this.getProps();if(!n||!E1(s,a,this.currentDirection))return;const i=this.getAxisMotionValue(s);let l=this.originPoint[s]+n[s];this.constraints&&this.constraints[s]&&(l=kSe(l,this.constraints[s],this.elastic[s])),i.set(l)}resolveConstraints(){var s;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,i=this.constraints;r&&Gf(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=_Se(a.layoutBox,r):this.constraints=!1,this.elastic=LSe(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Xl(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=TSe(a.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:r}=this.getProps();if(!s||!Gf(s))return!1;const n=s.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=USe(n,a.root,this.visualElement.getTransformPagePoint());let l=ESe(a.layout.layoutBox,i);if(r){const o=r(ISe(l));this.hasMutatedConstraints=!!o,o&&(l=B$(o))}return l}startAnimation(s){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=Xl(u=>{if(!E1(u,r,this.currentDirection))return;let h=c&&c[u]||{};l&&(h={min:0,max:0});const A=a?200:1e6,m=a?40:1e7,p={type:"inertia",velocity:n?s[u]:0,bounceStiffness:A,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,p)});return Promise.all(d).then(o)}startAxisValueAnimation(s,r){const n=this.getAxisMotionValue(s);return qS(this.visualElement,s),n.start(QE(s,n,0,r,this.visualElement,!1))}stopAnimation(){Xl(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){Xl(s=>{var r;return(r=this.getAxisMotionValue(s).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(s){var r;return(r=this.getAxisMotionValue(s).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(s){const r=`_drag${s.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(s,(n.initial?n.initial[s]:void 0)||0)}snapToCursor(s){Xl(r=>{const{drag:n}=this.getProps();if(!E1(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:l,max:o}=a.layout.layoutBox[r];i.set(s[r]-vn(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Gf(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Xl(l=>{const o=this.getAxisMotionValue(l);if(o&&this.constraints!==!1){const c=o.get();a[l]=FSe({min:c,max:c},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Xl(l=>{if(!E1(l,s,null))return;const o=this.getAxisMotionValue(l),{min:c,max:d}=this.constraints[l];o.set(vn(c,d,a[l]))})}addListeners(){if(!this.visualElement.current)return;OSe.set(this.visualElement,this);const s=this.visualElement.current,r=_g(s,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Gf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),un.read(n);const l=Dv(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Xl(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{l(),r(),i(),o&&o()}}getProps(){const s=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:l=ek,dragMomentum:o=!0}=s;return{...s,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:l,dragMomentum:o}}}function E1(t,s,r){return(s===!0||s===t)&&(r===null||r===t)}function MSe(t,s=10){let r=null;return Math.abs(t.y)>s?r="y":Math.abs(t.x)>s&&(r="x"),r}class QSe extends qh{constructor(s){super(s),this.removeGroupControls=Ll,this.removeListeners=Ll,this.controls=new RSe(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ll}unmount(){this.removeGroupControls(),this.removeListeners()}}const NP=t=>(s,r)=>{t&&un.postRender(()=>t(s,r))};class HSe extends qh{constructor(){super(...arguments),this.removePointerDownListener=Ll}onPointerDown(s){this.session=new w$(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:E$(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:NP(s),onStart:NP(r),onMove:n,onEnd:(i,l)=>{delete this.session,a&&un.postRender(()=>a(i,l))}}}mount(){this.removePointerDownListener=_g(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CP(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const kp={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(ps.test(t))t=parseFloat(t);else return t;const r=CP(t,s.target.x),n=CP(t,s.target.y);return`${r}% ${n}%`}},VSe={correct:(t,{treeScale:s,projectionDelta:r})=>{const n=t,a=Uh.parse(t);if(a.length>5)return n;const i=Uh.createTransformer(t),l=typeof a[0]!="number"?1:0,o=r.x.scale*s.x,c=r.y.scale*s.y;a[0+l]/=o,a[1+l]/=c;const d=vn(o,c,.5);return typeof a[2+l]=="number"&&(a[2+l]/=d),typeof a[3+l]=="number"&&(a[3+l]/=d),i(a)}};class KSe extends b.Component{componentDidMount(){const{visualElement:s,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=s;dCe(zSe),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),fw.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,l=n.projection;return l&&(l.isPresent=i,a||s.layoutDependency!==r||r===void 0?l.willUpdate():this.safeToRemove(),s.isPresent!==i&&(i?l.promote():l.relegate()||un.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),xE.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=s;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function F$(t){const[s,r]=C5e(),n=b.useContext(Aq);return e.jsx(KSe,{...t,layoutGroup:n,switchLayoutGroup:b.useContext(yq),isPresent:s,safeToRemove:r})}const zSe={borderRadius:{...kp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kp,borderTopRightRadius:kp,borderBottomLeftRadius:kp,borderBottomRightRadius:kp,boxShadow:VSe};function qSe(t,s,r){const n=Ai(t)?t:Iv(t);return n.start(QE("",n,s,r)),n.animation}function $Se(t){return t instanceof SVGElement&&t.tagName!=="svg"}const GSe=(t,s)=>t.depth-s.depth;class WSe{constructor(){this.children=[],this.isDirty=!1}add(s){EE(this.children,s),this.isDirty=!0}remove(s){FE(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(GSe),this.isDirty=!1,this.children.forEach(s)}}function YSe(t,s){const r=Wc.now(),n=({timestamp:a})=>{const i=a-r;i>=s&&(Dh(n),t(i-s))};return un.read(n,!0),()=>Dh(n)}const T$=["TopLeft","TopRight","BottomLeft","BottomRight"],XSe=T$.length,BP=t=>typeof t=="string"?parseFloat(t):t,SP=t=>typeof t=="number"||ps.test(t);function JSe(t,s,r,n,a,i){a?(t.opacity=vn(0,r.opacity!==void 0?r.opacity:1,ZSe(n)),t.opacityExit=vn(s.opacity!==void 0?s.opacity:1,0,eke(n))):i&&(t.opacity=vn(s.opacity!==void 0?s.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let l=0;l<XSe;l++){const o=`border${T$[l]}Radius`;let c=kP(s,o),d=kP(r,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||SP(c)===SP(d)?(t[o]=Math.max(vn(BP(c),BP(d),n),0),(Gc.test(d)||Gc.test(c))&&(t[o]+="%")):t[o]=d}(s.rotate||r.rotate)&&(t.rotate=vn(s.rotate||0,r.rotate||0,n))}function kP(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const ZSe=L$(0,.5,Xq),eke=L$(.5,.95,Ll);function L$(t,s,r){return n=>n<t?0:n>s?1:r(s0(t,s,n))}function _P(t,s){t.min=s.min,t.max=s.max}function Wl(t,s){_P(t.x,s.x),_P(t.y,s.y)}function EP(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function FP(t,s,r,n,a){return t-=s,t=n2(t,1/r,n),a!==void 0&&(t=n2(t,1/a,n)),t}function tke(t,s=0,r=1,n=.5,a,i=t,l=t){if(Gc.test(s)&&(s=parseFloat(s),s=vn(l.min,l.max,s/100)-l.min),typeof s!="number")return;let o=vn(i.min,i.max,n);t===i&&(o-=s),t.min=FP(t.min,s,r,o,a),t.max=FP(t.max,s,r,o,a)}function TP(t,s,[r,n,a],i,l){tke(t,s[r],s[n],s[a],s.scale,i,l)}const ske=["x","scaleX","originX"],rke=["y","scaleY","originY"];function LP(t,s,r,n){TP(t.x,s,ske,r?r.x:void 0,n?n.x:void 0),TP(t.y,s,rke,r?r.y:void 0,n?n.y:void 0)}function IP(t){return t.translate===0&&t.scale===1}function I$(t){return IP(t.x)&&IP(t.y)}function PP(t,s){return t.min===s.min&&t.max===s.max}function nke(t,s){return PP(t.x,s.x)&&PP(t.y,s.y)}function DP(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function P$(t,s){return DP(t.x,s.x)&&DP(t.y,s.y)}function UP(t){return Ul(t.x)/Ul(t.y)}function OP(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}class ake{constructor(){this.members=[]}add(s){EE(this.members,s),s.scheduleRender()}remove(s){if(FE(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(s){const r=this.members.findIndex(a=>s===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(s,r){const n=this.lead;if(s!==n&&(this.prevLead=n,this.lead=s,s.show(),n)){n.instance&&n.scheduleRender(),s.scheduleRender(),s.resumeFrom=n,r&&(s.resumeFrom.preserveOpacity=!0),n.snapshot&&(s.snapshot=n.snapshot,s.snapshot.latestValues=n.animationValues||n.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:a}=s.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:r,resumingFrom:n}=s;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ike(t,s,r){let n="";const a=t.x.translate/s.x,i=t.y.translate/s.y,l=(r==null?void 0:r.z)||0;if((a||i||l)&&(n=`translate3d(${a}px, ${i}px, ${l}px) `),(s.x!==1||s.y!==1)&&(n+=`scale(${1/s.x}, ${1/s.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:A,skewX:m,skewY:p}=r;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),A&&(n+=`rotateY(${A}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const o=t.x.scale*s.x,c=t.y.scale*s.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const xA={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Xp=typeof window<"u"&&window.MotionDebug!==void 0,cC=["","X","Y","Z"],lke={visibility:"hidden"},RP=1e3;let oke=0;function dC(t,s,r,n){const{latestValues:a}=s;a[t]&&(r[t]=a[t],s.setStaticValue(t,0),n&&(n[t]=0))}function D$(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const r=Kq(s);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",un,!(a||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&D$(n)}function U$({attachResizeListener:t,defaultParent:s,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(l={},o=s==null?void 0:s()){this.id=oke++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Xp&&(xA.totalNodes=xA.resolvedTargetDeltas=xA.recalculatedProjection=0),this.nodes.forEach(uke),this.nodes.forEach(xke),this.nodes.forEach(pke),this.nodes.forEach(hke),Xp&&window.MotionDebug.record(xA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new WSe)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new TE),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const c=this.eventHandlers.get(l);c&&c.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$Se(l),this.instance=l;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(d||c)&&(this.isLayoutDirty=!0),t){let h;const A=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=YSe(A,250),fw.hasAnimatedSinceResize&&(fw.hasAnimatedSinceResize=!1,this.nodes.forEach(QP))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:A,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const f=this.options.transition||u.getDefaultTransition()||wke,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=u.getProps(),v=!this.targetLayout||!P$(this.targetLayout,p)||m,j=!A&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||A&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,j);const B={...BE(f,"layout"),onPlay:x,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B)}else A||QP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Dh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gke),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&D$(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(MP);return}this.isUpdating||this.nodes.forEach(mke),this.isUpdating=!1,this.nodes.forEach(fke),this.nodes.forEach(cke),this.nodes.forEach(dke),this.clearAllSnapshots();const o=Wc.now();Pa.delta=su(0,1e3/60,o-Pa.timestamp),Pa.timestamp=o,Pa.isProcessing=!0,tC.update.process(Pa),tC.preRender.process(Pa),tC.render.process(Pa),Pa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ake),this.sharedNodes.forEach(vke)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,un.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){un.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!I$(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;l&&(o||fA(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return l&&(c=this.removeTransform(c)),bke(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:o}=this.options;if(!o)return Qn();const c=o.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(Nke))){const{scroll:u}=this.root;u&&(Xf(c.x,u.offset.x),Xf(c.y,u.offset.y))}return c}removeElementScroll(l){var o;const c=Qn();if(Wl(c,l),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:A}=u;u!==this.root&&h&&A.layoutScroll&&(h.wasRoot&&Wl(c,l),Xf(c.x,h.offset.x),Xf(c.y,h.offset.y))}return c}applyTransform(l,o=!1){const c=Qn();Wl(c,l);for(let d=0;d<this.path.length;d++){const u=this.path[d];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Jf(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),fA(u.latestValues)&&Jf(c,u.latestValues)}return fA(this.latestValues)&&Jf(c,this.latestValues),c}removeTransform(l){const o=Qn();Wl(o,l);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!fA(d.latestValues))continue;tk(d.latestValues)&&d.updateSnapshot();const u=Qn(),h=d.measurePageBox();Wl(u,h),LP(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return fA(this.latestValues)&&LP(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:A}=this.options;if(!(!this.layout||!(h||A))){if(this.resolvedRelativeTargetAt=Pa.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qn(),this.relativeTargetOrigin=Qn(),Fg(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Wl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qn(),this.targetWithTransforms=Qn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),SSe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wl(this.target,this.layout.layoutBox),k$(this.target,this.targetDelta)):Wl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qn(),this.relativeTargetOrigin=Qn(),Fg(this.relativeTargetOrigin,this.target,m.target),Wl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Xp&&xA.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tk(this.parent.latestValues)||S$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Pa.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Wl(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,m=this.treeScale.y;DSe(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Qn());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(EP(this.prevProjectionDelta.x,this.projectionDelta.x),EP(this.prevProjectionDelta.y,this.projectionDelta.y)),Eg(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==m||!OP(this.projectionDelta.x,this.prevProjectionDelta.x)||!OP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Xp&&xA.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yf(),this.projectionDelta=Yf(),this.projectionDeltaWithTransform=Yf()}setAnimationOrigin(l,o=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Yf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const A=Qn(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,f=m!==p,x=this.getStack(),g=!x||x.members.length<=1,v=!!(f&&!g&&this.options.crossfade===!0&&!this.path.some(yke));this.animationProgress=0;let j;this.mixTargetDelta=B=>{const F=B/1e3;HP(h.x,l.x,F),HP(h.y,l.y,F),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fg(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jke(this.relativeTarget,this.relativeTargetOrigin,A,F),j&&nke(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Qn()),Wl(j,this.relativeTarget)),f&&(this.animationValues=u,JSe(u,d,this.latestValues,F,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Dh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=un.update(()=>{fw.hasAnimatedSinceResize=!0,this.currentAnimation=qSe(0,RP,{...l,onUpdate:o=>{this.mixTargetDelta(o),l.onUpdate&&l.onUpdate(o)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:u}=l;if(!(!o||!c||!d)){if(this!==l&&this.layout&&d&&O$(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Qn();const h=Ul(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+h;const A=Ul(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+A}Wl(o,c),Jf(o,u),Eg(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new ake),this.sharedNodes.get(l).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:c}=l;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const d={};c.z&&dC("z",l,d,this.animationValues);for(let u=0;u<cC.length;u++)dC(`rotate${cC[u]}`,l,d,this.animationValues),dC(`skew${cC[u]}`,l,d,this.animationValues);l.render();for(const u in d)l.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);l.scheduleRender()}getProjectionStyles(l){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lke;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Aw(l==null?void 0:l.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Aw(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!fA(this.latestValues)&&(f.transform=u?u({},""):"none",this.hasProjected=!1),f}const A=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=ike(this.projectionDeltaWithTransform,this.treeScale,A),u&&(d.transform=u(A,d.transform));const{x:m,y:p}=this.projectionDelta;d.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(o=A.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:d.opacity=h===this?A.opacity!==void 0?A.opacity:"":A.opacityExit!==void 0?A.opacityExit:0;for(const f in Zb){if(A[f]===void 0)continue;const{correct:x,applyTo:g}=Zb[f],v=d.transform==="none"?A[f]:x(A[f],h);if(g){const j=g.length;for(let B=0;B<j;B++)d[g[B]]=v}else d[f]=v}return this.options.layoutId&&(d.pointerEvents=h===this?Aw(l==null?void 0:l.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var o;return(o=l.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(MP),this.root.sharedNodes.clear()}}}function cke(t){t.updateLayout()}function dke(t){var s;const r=((s=t.resumeFrom)===null||s===void 0?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:i}=t.options,l=r.source!==t.layout.source;i==="size"?Xl(h=>{const A=l?r.measuredBox[h]:r.layoutBox[h],m=Ul(A);A.min=n[h].min,A.max=A.min+m}):O$(i,r.layoutBox,n)&&Xl(h=>{const A=l?r.measuredBox[h]:r.layoutBox[h],m=Ul(n[h]);A.max=A.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const o=Yf();Eg(o,n,r.layoutBox);const c=Yf();l?Eg(c,t.applyTransform(a,!0),r.measuredBox):Eg(c,n,r.layoutBox);const d=!I$(o);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:A,layout:m}=h;if(A&&m){const p=Qn();Fg(p,r.layoutBox,A.layoutBox);const f=Qn();Fg(f,n,m.layoutBox),P$(p,f)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=f,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function uke(t){Xp&&xA.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function hke(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ake(t){t.clearSnapshot()}function MP(t){t.clearMeasurements()}function mke(t){t.isLayoutDirty=!1}function fke(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function QP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function xke(t){t.resolveTargetDelta()}function pke(t){t.calcProjection()}function gke(t){t.resetSkewAndRotation()}function vke(t){t.removeLeadSnapshot()}function HP(t,s,r){t.translate=vn(s.translate,0,r),t.scale=vn(s.scale,1,r),t.origin=s.origin,t.originPoint=s.originPoint}function VP(t,s,r,n){t.min=vn(s.min,r.min,n),t.max=vn(s.max,r.max,n)}function jke(t,s,r,n){VP(t.x,s.x,r.x,n),VP(t.y,s.y,r.y,n)}function yke(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wke={duration:.45,ease:[.4,0,.1,1]},KP=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zP=KP("applewebkit/")&&!KP("chrome/")?Math.round:Ll;function qP(t){t.min=zP(t.min),t.max=zP(t.max)}function bke(t){qP(t.x),qP(t.y)}function O$(t,s,r){return t==="position"||t==="preserve-aspect"&&!BSe(UP(s),UP(r),.2)}function Nke(t){var s;return t!==t.root&&((s=t.scroll)===null||s===void 0?void 0:s.wasRoot)}const Cke=U$({attachResizeListener:(t,s)=>Dv(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),uC={current:void 0},R$=U$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!uC.current){const t=new Cke({});t.mount(window),t.setOptions({layoutScroll:!0}),uC.current=t}return uC.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Bke={pan:{Feature:HSe},drag:{Feature:QSe,ProjectionNode:R$,MeasureLayout:F$}};function $P(t,s,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&un.postRender(()=>i(s,bj(s)))}class Ske extends qh{mount(){const{current:s}=this.node;s&&(this.unmount=BCe(s,r=>($P(this.node,r,"Start"),n=>$P(this.node,n,"End"))))}unmount(){}}class kke extends qh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wj(Dv(this.node.current,"focus",()=>this.onFocus()),Dv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function GP(t,s,r){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&un.postRender(()=>i(s,bj(s)))}class _ke extends qh{mount(){const{current:s}=this.node;s&&(this.unmount=ECe(s,r=>(GP(this.node,r,"Start"),(n,{success:a})=>GP(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rk=new WeakMap,hC=new WeakMap,Eke=t=>{const s=rk.get(t.target);s&&s(t)},Fke=t=>{t.forEach(Eke)};function Tke({root:t,...s}){const r=t||document;hC.has(r)||hC.set(r,{});const n=hC.get(r),a=JSON.stringify(s);return n[a]||(n[a]=new IntersectionObserver(Fke,{root:t,...s})),n[a]}function Lke(t,s,r){const n=Tke(s);return rk.set(t,r),n.observe(t),()=>{rk.delete(t),n.unobserve(t)}}const Ike={some:0,all:1};class Pke extends qh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=s,l={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Ike[a]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),A=d?u:h;A&&A(c)};return Lke(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:r}=this.node;["amount","margin","root"].some(Dke(s,r))&&this.startObserver()}unmount(){}}function Dke({viewport:t={}},{viewport:s={}}={}){return r=>t[r]!==s[r]}const Uke={inView:{Feature:Pke},tap:{Feature:_ke},focus:{Feature:kke},hover:{Feature:Ske}},Oke={layout:{ProjectionNode:R$,MeasureLayout:F$}},nk={current:null},M$={current:!1};function Rke(){if(M$.current=!0,!!uE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>nk.current=t.matches;t.addListener(s),s()}else nk.current=!1}const Mke=[...u$,ii,Uh],Qke=t=>Mke.find(d$(t)),WP=new WeakMap;function Hke(t,s,r){for(const n in s){const a=s[n],i=r[n];if(Ai(a))t.addValue(n,a);else if(Ai(i))t.addValue(n,Iv(a,{owner:t}));else if(i!==a)if(t.hasValue(n)){const l=t.getValue(n);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=t.getStaticValue(n);t.addValue(n,Iv(l!==void 0?l:a,{owner:t}))}}for(const n in r)s[n]===void 0&&t.removeValue(n);return s}const YP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Vke{scrapeMotionValuesFromProps(s,r,n){return{}}constructor({parent:s,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:l},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=OE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Wc.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,un.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=l;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=s,this.props=r,this.presenceContext=n,this.depth=s?s.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=SN(r),this.isVariantNode=vq(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:h,...A}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in A){const p=A[m];c[m]!==void 0&&Ai(p)&&p.set(c[m],!1)}}mount(s){this.current=s,WP.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),M$.current||Rke(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nk.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){WP.delete(this.current),this.projection&&this.projection.unmount(),Dh(this.notifyUpdate),Dh(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(s,r){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const n=Fm.has(s),a=r.on("change",o=>{this.latestValues[s]=o,this.props.onUpdate&&un.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,s,r)),this.valueSubscriptions.set(s,()=>{a(),i(),l&&l(),r.owner&&r.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in r0){const r=r0[s];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[s]&&a&&n(this.props)&&(this.features[s]=new a(this)),this.features[s]){const i=this.features[s];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qn()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,r){this.latestValues[s]=r}update(s,r){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<YP.length;n++){const a=YP[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,l=s[i];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=Hke(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(s),()=>r.variantChildren.delete(s)}addValue(s,r){const n=this.values.get(s);r!==n&&(n&&this.removeValue(s),this.bindToMotionValue(s,r),this.values.set(s,r),this.latestValues[s]=r.get())}removeValue(s){this.values.delete(s);const r=this.valueSubscriptions.get(s);r&&(r(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,r){if(this.props.values&&this.props.values[s])return this.props.values[s];let n=this.values.get(s);return n===void 0&&r!==void 0&&(n=Iv(r===null?void 0:r,{owner:this}),this.addValue(s,n)),n}readValue(s,r){var n;let a=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:(n=this.getBaseTargetFromProps(this.props,s))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,s,this.options);return a!=null&&(typeof a=="string"&&(o$(a)||Zq(a))?a=parseFloat(a):!Qke(a)&&Uh.test(r)&&(a=a$(s,r)),this.setBaseTarget(s,Ai(a)?a.get():a)),Ai(a)?a.get():a}setBaseTarget(s,r){this.baseTarget[s]=r}getBaseTarget(s){var r;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const l=gE(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);l&&(a=l[s])}if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,s);return i!==void 0&&!Ai(i)?i:this.initialValues[s]!==void 0&&a===void 0?void 0:this.baseTarget[s]}on(s,r){return this.events[s]||(this.events[s]=new TE),this.events[s].add(r)}notify(s,...r){this.events[s]&&this.events[s].notify(...r)}}class Q$ extends Vke{constructor(){super(...arguments),this.KeyframeResolver=h$}sortInstanceNodePosition(s,r){return s.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(s,r){return s.style?s.style[r]:void 0}removeValueFromRenderState(s,{vars:r,style:n}){delete r[s],delete n[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;Ai(s)&&(this.childSubscription=s.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Kke(t){return window.getComputedStyle(t)}class zke extends Q${constructor(){super(...arguments),this.type="html",this.renderInstance=kq}readValueFromInstance(s,r){if(Fm.has(r)){const n=UE(r);return n&&n.default||0}else{const n=Kke(s),a=(Cq(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(s,{transformPagePoint:r}){return _$(s,r)}build(s,r,n){yE(s,r,n.transformTemplate)}scrapeMotionValuesFromProps(s,r,n){return CE(s,r,n)}}class qke extends Q${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qn}getBaseTargetFromProps(s,r){return s[r]}readValueFromInstance(s,r){if(Fm.has(r)){const n=UE(r);return n&&n.default||0}return r=_q.has(r)?r:fE(r),s.getAttribute(r)}scrapeMotionValuesFromProps(s,r,n){return Tq(s,r,n)}build(s,r,n){wE(s,r,this.isSVGTag,n.transformTemplate)}renderInstance(s,r,n,a){Eq(s,r,n,a)}mount(s){this.isSVGTag=NE(s.tagName),super.mount(s)}}const $ke=(t,s)=>pE(t)?new qke(s):new zke(s,{allowProjection:t!==b.Fragment}),Gke=vCe({...pSe,...Uke,...Bke,...Oke},$ke),Ku=I5e(Gke);function Wke(){const{toast:t}=ls(),s=Cs();Oi();const{data:r=[],isLoading:n}=st({queryKey:["/api/credit-packages"]}),a=Bt({mutationFn:async l=>{const o=await fetch("/api/credit-purchase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!o.ok){const c=await o.json();throw new Error(c.error||"   ")}return o.json()},onSuccess:l=>{t({title:"   !",description:l.message,variant:"default"}),s.invalidateQueries({queryKey:["/api/credit-stats"]}),s.invalidateQueries({queryKey:["/api/credit-transactions"]})},onError:l=>{t({title:"  ",description:l.message||" ,   ",variant:"destructive"})}}),i=l=>{parseFloat(l.price)===0?a.mutate({packageId:l.id,paymentMethod:"cash"}):window.location.href=`/credits/payment/${l.id}`};return n?e.jsx("div",{className:"container mx-auto p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})})}):e.jsx("div",{className:"container mx-auto p-6 max-w-7xl",children:e.jsxs(Ku.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[e.jsx("div",{className:"text-center space-y-4",children:e.jsxs(Ku.div,{initial:{scale:.9},animate:{scale:1},transition:{delay:.1},children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"   "}),e.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:"      "})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[e.jsx(Ku.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-2",children:e.jsxs(H,{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-100",children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(ks,{className:"h-5 w-5 text-green-600"}),"   "]}),e.jsx(ct,{children:"    "})]}),e.jsx(M,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-lg border border-green-100",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-800",children:" "}),e.jsx("p",{className:"text-sm text-green-600",children:' " "   '})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-800",children:" "}),e.jsx("p",{className:"text-sm text-blue-600",children:'" "     '})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-purple-50 rounded-lg border border-purple-100",children:[e.jsx("div",{className:"w-6 h-6 bg-purple-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-purple-800",children:" "}),e.jsx("p",{className:"text-sm text-purple-600",children:"SSLCommerz     "})]})]})]})})]})}),r.map((l,o)=>{const c=parseFloat(l.price)===0,d=l.id===2,u=parseFloat(l.price)/l.credits;return e.jsx(Ku.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*o},className:"relative",children:e.jsxs(H,{className:`h-full transition-all duration-300 hover:shadow-xl ${c?"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50":d?"border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50 shadow-lg":"border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50"}`,children:[d&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsxs(Oe,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-3 py-1",children:[e.jsx(Ln,{className:"h-3 w-3 mr-1"}),""]})}),e.jsxs(oe,{className:"text-center space-y-3",children:[e.jsx("div",{className:`w-16 h-16 mx-auto rounded-full flex items-center justify-center ${c?"bg-gradient-to-r from-green-400 to-emerald-500":d?"bg-gradient-to-r from-blue-400 to-indigo-500":"bg-gradient-to-r from-purple-400 to-pink-500"}`,children:c?e.jsx(ks,{className:"h-8 w-8 text-white"}):d?e.jsx(Ti,{className:"h-8 w-8 text-white"}):e.jsx(bn,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx(ce,{className:"text-xl",children:l.name}),e.jsx(ct,{className:"text-sm",children:l.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:`text-4xl font-bold ${c?"text-green-600":d?"text-blue-600":"text-purple-600"}`,children:c?"":`${l.price}`}),!c&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["  ",u.toFixed(2)]})]})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:l.credits}),e.jsx("div",{className:"text-sm text-muted-foreground",children:""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:" :"}),e.jsxs("span",{className:"font-medium",children:[l.credits," "]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:":"}),e.jsx("span",{className:"font-medium",children:" "})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:":"}),e.jsx("span",{className:"font-medium",children:"/"})]}),c&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:":"}),e.jsx("span",{className:"font-medium text-orange-600",children:" "})]})]})]}),e.jsx(QA,{children:e.jsx(V,{onClick:h=>{h.preventDefault(),h.stopPropagation(),console.log("Button clicked for package:",l.name,"Price:",l.price),i(l)},disabled:a.isPending,className:`w-full ${c?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":d?"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700":"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700"}`,size:"lg",children:a.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Kn,{className:"h-4 w-4 mr-2 animate-spin"}),"..."]}):e.jsx(e.Fragment,{children:c?e.jsxs(e.Fragment,{children:[e.jsx(ks,{className:"h-4 w-4 mr-2"})," "]}):e.jsxs(e.Fragment,{children:[e.jsx(BA,{className:"h-4 w-4 mr-2"})," "]})})})})]})},l.id)})]}),e.jsx(Ku.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 p-3 bg-gray-50 rounded-lg border",children:[e.jsx(jn,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:"  SSL       "})]})})]})})}function Yke(){const[,t]=Oi(),[,s]=SX("/credits/payment/:packageId"),r=s!=null&&s.packageId?parseInt(s.packageId):null,[n,a]=b.useState(""),[i,l]=b.useState(""),[o,c]=b.useState(""),[d,u]=b.useState(""),[h,A]=b.useState(""),[m,p]=b.useState(""),{toast:f}=ls(),x=Cs(),{data:g=[]}=st({queryKey:["/api/credit-packages"]}),v=g.find(P=>P.id===r),j=Bt({mutationFn:async P=>{const E=await fetch("/api/payment/initiate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(!E.ok){const N=await E.json();throw new Error(N.error||"   ")}return E.json()},onSuccess:P=>{P.payment_url&&(window.location.href=P.payment_url)},onError:P=>{f({title:" ",description:P.message||"  ",variant:"destructive"})}}),B=Bt({mutationFn:async P=>{const E=await fetch("/api/credit-purchase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(!E.ok){const N=await E.json();throw new Error(N.error||"   ")}return E.json()},onSuccess:P=>{f({title:"   ",description:P.message,variant:"default"}),x.invalidateQueries({queryKey:["/api/credit-stats"]}),x.invalidateQueries({queryKey:["/api/credit-transactions"]}),t("/credits")},onError:P=>{f({title:" ",description:P.message||" ,   ",variant:"destructive"})}}),F=()=>{if(!v||!n){f({title:" ",description:"   ",variant:"destructive"});return}if(n==="sslcommerz"){if(!d||!h||!m){f({title:"  ",description:",     ",variant:"destructive"});return}j.mutate({packageId:v.id,customerName:d,customerEmail:h,customerPhone:m})}else{if(!i||!o){f({title:"  ",description:"     ",variant:"destructive"});return}B.mutate({packageId:v.id,paymentMethod:n,paymentNumber:i,transactionId:o})}};return v?e.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:e.jsxs(Ku.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>t("/credits/buy"),className:"flex items-center gap-2",children:[e.jsx(qa,{className:"h-4 w-4"})," "]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:" "}),e.jsx("p",{className:"text-muted-foreground",children:"     "})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(H,{className:"sticky top-6",children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:v.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:v.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:":"}),e.jsx("span",{className:"font-medium",children:v.credits})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" :"}),e.jsxs("span",{className:"font-medium",children:["",(parseFloat(v.price)/v.credits).toFixed(2)]})]}),e.jsx(il,{}),e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:" :"}),e.jsxs("span",{className:"text-primary",children:["",v.price]})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"   "}),e.jsx(ct,{children:"          "})]}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs(cE,{value:n,onValueChange:a,children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 hover:bg-blue-100 transition-colors",children:[e.jsx(yA,{value:"sslcommerz",id:"sslcommerz"}),e.jsxs(ke,{htmlFor:"sslcommerz",className:"flex items-center gap-3 cursor-pointer flex-1",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx(jn,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-blue-800",children:"SSLCommerz "}),e.jsx("div",{className:"text-sm text-blue-600",children:"   -     "})]}),e.jsx(Oe,{className:"bg-blue-500 text-white",children:""})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"  :"}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-gray-50 transition-colors",children:[e.jsx(yA,{value:"bkash",id:"bkash"}),e.jsxs(ke,{htmlFor:"bkash",className:"flex items-center gap-3 cursor-pointer flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-pink-500 rounded flex items-center justify-center",children:e.jsx(ox,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"bKash"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:" "})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-gray-50 transition-colors",children:[e.jsx(yA,{value:"nagad",id:"nagad"}),e.jsxs(ke,{htmlFor:"nagad",className:"flex items-center gap-3 cursor-pointer flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded flex items-center justify-center",children:e.jsx(ox,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Nagad"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:" "})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-gray-50 transition-colors",children:[e.jsx(yA,{value:"rocket",id:"rocket"}),e.jsxs(ke,{htmlFor:"rocket",className:"flex items-center gap-3 cursor-pointer flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded flex items-center justify-center",children:e.jsx(ox,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Rocket"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:" "})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg border hover:bg-gray-50 transition-colors",children:[e.jsx(yA,{value:"bank",id:"bank"}),e.jsxs(ke,{htmlFor:"bank",className:"flex items-center gap-3 cursor-pointer flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-green-600 rounded flex items-center justify-center",children:e.jsx(qR,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:" "}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"  "})]})]})]})]})]}),n==="sslcommerz"&&e.jsxs(Ku.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"space-y-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(jn,{className:"h-5 w-5 text-blue-600"}),e.jsx("h4",{className:"font-medium text-blue-800",children:" "})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"customerName",className:"text-sm font-medium",children:"  *"}),e.jsx(de,{id:"customerName",placeholder:":  ",value:d,onChange:P=>u(P.target.value),className:"mt-1",required:!0})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"customerPhone",className:"text-sm font-medium",children:"  *"}),e.jsx(de,{id:"customerPhone",placeholder:": 01XXXXXXXXX",value:m,onChange:P=>p(P.target.value),className:"mt-1",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(ke,{htmlFor:"customerEmail",className:"text-sm font-medium",children:"  *"}),e.jsx(de,{id:"customerEmail",type:"email",placeholder:": example@gmail.com",value:h,onChange:P=>A(P.target.value),className:"mt-1",required:!0})]})]}),e.jsx("div",{className:"text-xs text-blue-600 mt-3",children:"      "})]}),n&&n!=="sslcommerz"&&e.jsxs(Ku.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},className:"space-y-4 p-4 bg-gray-50 rounded-lg border",children:[e.jsx("h4",{className:"font-medium",children:" "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"paymentNumber",className:"text-sm font-medium",children:"  *"}),e.jsx(de,{id:"paymentNumber",placeholder:": 01XXXXXXXXX",value:i,onChange:P=>l(P.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"transactionId",className:"text-sm font-medium",children:"  *"}),e.jsx(de,{id:"transactionId",placeholder:": ABC123456789",value:o,onChange:P=>c(P.target.value),className:"mt-1"})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"                "})]})]}),e.jsx(QA,{children:e.jsx(V,{onClick:F,disabled:!n||j.isPending||B.isPending,className:"w-full",size:"lg",children:j.isPending||B.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Kn,{className:"h-4 w-4 mr-2 animate-spin"}),"..."]}):n==="sslcommerz"?e.jsxs(e.Fragment,{children:[e.jsx(jn,{className:"h-4 w-4 mr-2"}),"  "]}):e.jsxs(e.Fragment,{children:[e.jsx(ks,{className:"h-4 w-4 mr-2"}),"  "]})})})]})})]})]})}):e.jsx("div",{className:"container mx-auto p-6",children:e.jsx(H,{children:e.jsxs(M,{className:"p-6 text-center",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),e.jsx(V,{onClick:()=>t("/credits/buy"),children:"   "})]})})})}function Xke(){const[t,s]=Oi(),r=jo(),{data:n,isLoading:a}=st({queryKey:["/api/credit-transactions"]}),i=Array.isArray(n)?n.reduce((l,o)=>{const c=new Date(o.createdAt),d=`${c.getFullYear()}-${c.getMonth()+1}`;return l[d]||(l[d]=[]),l[d].push(o),l},{}):{};return a?e.jsx(is,{children:e.jsx(Qr,{title:" ",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"  ..."})]})})})}):e.jsx(is,{children:e.jsx(Qr,{title:" ",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:" "}),e.jsx("p",{className:"text-muted-foreground",children:"    "})]}),e.jsx(V,{variant:"outline",onClick:()=>s("/credits"),className:"w-full sm:w-auto",children:"  "})]}),Array.isArray(n)&&n.length>0?e.jsx("div",{className:"space-y-6",children:r?e.jsx("div",{className:"space-y-4",children:Object.entries(i).sort(([l],[o])=>o.localeCompare(l)).map(([l,o])=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg sticky top-0 bg-background/95 backdrop-blur py-2",children:new Date(l).toLocaleDateString("bn-BD",{year:"numeric",month:"long"})}),o.sort((c,d)=>new Date(d.createdAt).getTime()-new Date(c.createdAt).getTime()).map(c=>e.jsx(H,{className:"border-l-4 border-l-primary/20",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:c.description}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[new Date(c.createdAt).toLocaleDateString("bn-BD")," ",c.type==="purchase"?` ${c.paymentMethod==="bkash"?"":c.paymentMethod==="nagad"?"":c.paymentMethod==="rocket"?"":c.paymentMethod==="bank"?"":""}`:"  "]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-semibold ${c.type==="purchase"?"text-green-600":"text-red-500"}`,children:[c.type==="purchase"?"+":"-",c.credits||0," "]}),e.jsx("div",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium mt-1 ${c.status==="completed"?"bg-green-100 text-green-800":c.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:c.status==="completed"?"":c.status==="pending"?"":""})]})]})})},c.id))]},l))}):e.jsx("div",{className:"bg-card rounded-lg border",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-muted/30",children:[e.jsx("th",{className:"px-4 py-3 text-left font-medium",children:""}),e.jsx("th",{className:"px-4 py-3 text-left font-medium",children:""}),e.jsx("th",{className:"px-4 py-3 text-left font-medium",children:""}),e.jsx("th",{className:"px-4 py-3 text-right font-medium",children:""}),e.jsx("th",{className:"px-4 py-3 text-center font-medium",children:""})]})}),e.jsx("tbody",{className:"divide-y",children:n.map(l=>e.jsxs("tr",{className:"hover:bg-muted/30",children:[e.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-sm",children:new Date(l.createdAt).toLocaleDateString("bn-BD")}),e.jsx("td",{className:"px-4 py-3 text-sm",children:l.description}),e.jsx("td",{className:"px-4 py-3 text-sm",children:l.type==="purchase"?`  (${l.paymentMethod==="bkash"?"":l.paymentMethod==="nagad"?"":l.paymentMethod==="rocket"?"":l.paymentMethod==="bank"?"":""})`:" "}),e.jsx("td",{className:"px-4 py-3 text-sm text-right",children:e.jsxs("span",{className:`font-semibold ${l.type==="purchase"?"text-green-600":"text-red-500"}`,children:[l.type==="purchase"?"+":"-",l.credits||0]})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("div",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${l.status==="completed"?"bg-green-100 text-green-800":l.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:l.status==="completed"?"":l.status==="pending"?"":""})})]},l.id))})]})})})}):e.jsx(H,{children:e.jsxs(M,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"   "}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"     "}),e.jsx(V,{onClick:()=>s("/credits"),children:" "})]})})]})})})}function Jke(){var _,k,D,z;const[t,s]=Oi();jo();const{user:r,loading:n}=vo(),a=r,i=Cs(),{data:l,isLoading:o}=st({queryKey:["/api/credit-packages"]}),{data:c,isLoading:d}=st({queryKey:["/api/credit-transactions"]}),{data:u,isLoading:h}=st({queryKey:["/api/credit-usage"]}),{data:A,isLoading:m}=st({queryKey:["/api/simple-credit-balance",a==null?void 0:a.id],queryFn:async()=>a!=null&&a.id?(await fetch(`/api/simple-credit-balance/${a.id}`)).json():null,enabled:!!(a!=null&&a.id)}),p={currentBalance:(A==null?void 0:A.currentCredits)||0,totalPurchased:(A==null?void 0:A.bonusCredits)||0,totalUsed:(A==null?void 0:A.usedCredits)||0,thisMonthUsage:0,efficiency:100},f=m,{data:x,isLoading:g}=st({queryKey:["/api/document-costs"]}),v=Bt({mutationFn:async K=>Vt("/api/credit-purchase",{method:"POST",body:JSON.stringify(K)}),onSuccess:K=>{Pp({title:"  ",description:K.message}),i.invalidateQueries({queryKey:["/api/credit-stats"]}),i.invalidateQueries({queryKey:["/api/credit-transactions"]})},onError:K=>{Pp({title:"  ",description:K.message||" ,   ",variant:"destructive"})}}),j=Bt({mutationFn:async K=>Vt("/api/document-generate",{method:"POST",body:JSON.stringify(K)}),onSuccess:K=>{Pp({title:"  ",description:K.message}),i.invalidateQueries({queryKey:["/api/credit-stats"]}),i.invalidateQueries({queryKey:["/api/credit-usage"]})},onError:K=>{Pp({title:"  ",description:K.error||"     ",variant:"destructive"})}}),B=n||o||d||h||f||g,P=(()=>{const K=(p==null?void 0:p.currentBalance)||0;return K<10?{color:"bg-red-500",text:" ",urgency:"high"}:K<25?{color:"bg-orange-500",text:"",urgency:"medium"}:K<50?{color:"bg-yellow-500",text:"",urgency:"low"}:{color:"bg-green-500",text:"",urgency:"none"}})(),E=Array.isArray(l)?l.filter(K=>K.isActive):[],N=Array.isArray(c)?c.slice(0,3):[],C=Array.isArray(x)?x.slice(0,4):[];return B?e.jsx(is,{children:e.jsx(Qr,{title:" ",children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50",children:e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto"}),e.jsx("div",{className:"absolute inset-0 w-12 h-12 border-4 border-transparent border-t-blue-400 rounded-full animate-spin mx-auto mt-2 ml-2"})]}),e.jsx("p",{className:"text-lg font-medium text-slate-700",children:"  ..."}),e.jsx("p",{className:"text-sm text-slate-500",children:"   "})]})})})})}):e.jsx(is,{children:e.jsx(Qr,{title:"   ",children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 -m-6 p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold bg-gradient-to-r from-slate-900 via-blue-800 to-indigo-800 bg-clip-text text-transparent",children:"  "})]}),e.jsx("p",{className:"text-lg text-slate-600 max-w-2xl",children:"       "})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(V,{variant:"outline",className:"flex items-center gap-2 hover:bg-slate-50 border-slate-200",onClick:()=>s("/credits/transactions"),children:[e.jsx(AT,{className:"h-4 w-4"})," "]}),e.jsxs(V,{className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-lg shadow-blue-500/25",onClick:()=>s("/credits/buy"),disabled:v.isPending,children:[e.jsx(Ls,{className:"h-4 w-4"}),v.isPending?"...":" "]})]})]}),P.urgency!=="none"&&e.jsxs("div",{className:`p-4 rounded-xl border-l-4 ${P.urgency==="high"?"bg-red-50 border-red-500 text-red-800":P.urgency==="medium"?"bg-orange-50 border-orange-500 text-orange-800":"bg-yellow-50 border-yellow-500 text-yellow-800"} flex items-center justify-between`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(yn,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:" "}),e.jsxs("p",{className:"text-sm opacity-90",children:["   ",P.text,"      "]})]})]}),e.jsx(V,{size:"sm",variant:"outline",onClick:()=>s("/credits/buy"),children:" "})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8",children:[e.jsx(H,{className:"relative overflow-hidden border-0 shadow-xl shadow-blue-500/10 bg-gradient-to-br from-blue-600 to-indigo-700",children:e.jsxs(M,{className:"p-6 text-white",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(Xw,{className:"h-8 w-8 text-blue-200"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),e.jsx(Oe,{variant:"secondary",className:"bg-white/20 text-white border-0 text-xs",children:""})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:" "}),e.jsx("p",{className:"text-4xl font-bold",children:((_=p==null?void 0:p.currentBalance)==null?void 0:_.toLocaleString())||0}),e.jsx("p",{className:"text-blue-200 text-sm",children:""})]})]})]})}),e.jsx(H,{className:"hover:shadow-lg transition-shadow duration-300 border-green-100 bg-gradient-to-br from-green-50 to-emerald-50",children:e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-green-500 rounded-xl",children:e.jsx(bn,{className:"h-6 w-6 text-white"})}),e.jsx(TB,{className:"h-5 w-5 text-green-600"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-green-700 font-medium",children:" "}),e.jsx("p",{className:"text-3xl font-bold text-green-800",children:((k=p==null?void 0:p.totalPurchased)==null?void 0:k.toLocaleString())||0}),e.jsx("p",{className:"text-green-600 text-sm",children:""})]})]})}),e.jsx(H,{className:"hover:shadow-lg transition-shadow duration-300 border-orange-100 bg-gradient-to-br from-orange-50 to-red-50",children:e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-orange-500 rounded-xl",children:e.jsx(pa,{className:"h-6 w-6 text-white"})}),e.jsxs(Oe,{variant:"outline",className:"text-orange-700 border-orange-300",children:[p==null?void 0:p.efficiency,"% "]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-orange-700 font-medium",children:" "}),e.jsx("p",{className:"text-3xl font-bold text-orange-800",children:((D=p==null?void 0:p.totalUsed)==null?void 0:D.toLocaleString())||0}),e.jsx(Ao,{value:p!=null&&p.totalPurchased?p.totalUsed/p.totalPurchased*100:0,className:"h-2"})]})]})}),e.jsx(H,{className:"hover:shadow-lg transition-shadow duration-300 border-purple-100 bg-gradient-to-br from-purple-50 to-indigo-50",children:e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-purple-500 rounded-xl",children:e.jsx(bs,{className:"h-6 w-6 text-white"})}),e.jsx(Oe,{variant:"outline",className:"text-purple-700 border-purple-300",children:""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-purple-700 font-medium",children:" "}),e.jsx("p",{className:"text-3xl font-bold text-purple-800",children:((z=p==null?void 0:p.thisMonthUsage)==null?void 0:z.toLocaleString())||0}),e.jsx("p",{className:"text-purple-600 text-sm",children:" "})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-8",children:[e.jsxs(H,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsx(oe,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ce,{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(Bte,{className:"h-6 w-6 text-blue-600"})," "]}),e.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>s("/credits/buy"),children:["  ",e.jsx(Gd,{className:"h-4 w-4 ml-1"})]})]})}),e.jsx(M,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.slice(0,4).map(K=>{const xe=K.name.includes("")||K.name.includes(""),W=K.price==="0.00";return e.jsxs(H,{className:`relative border-2 transition-all duration-300 hover:shadow-lg hover:-translate-y-1 ${xe?"border-blue-500 bg-gradient-to-br from-blue-50 to-indigo-50":W?"border-green-500 bg-gradient-to-br from-green-50 to-emerald-50":"border-slate-200 hover:border-slate-300"}`,children:[xe&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsxs(Oe,{className:"bg-blue-600 text-white border-0 px-3 py-1",children:[e.jsx(Ln,{className:"h-3 w-3 mr-1"}),""]})}),e.jsx(M,{className:"p-6 pt-8",children:e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("h3",{className:"font-bold text-lg text-slate-800",children:K.name}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:["",parseFloat(K.price.toString()).toLocaleString()]}),e.jsxs("p",{className:"text-sm text-slate-600",children:[K.credits.toLocaleString()," "]})]}),e.jsxs(V,{className:`w-full ${xe?"bg-blue-600 hover:bg-blue-700":W?"bg-green-600 hover:bg-green-700":"bg-slate-800 hover:bg-slate-900"}`,onClick:()=>{W?v.mutate({packageId:K.id,paymentMethod:"cash",amount:0}):window.location.href=`/credits/payment/${K.id}`},disabled:v.isPending,children:[e.jsx(BA,{className:"h-4 w-4 mr-2"}),W?" ":" "]})]})})]},K.id)})})})]}),e.jsxs(H,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[e.jsxs(oe,{className:"pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ce,{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(xs,{className:"h-6 w-6 text-purple-600"}),"  "]}),e.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>s("/documents"),children:["   ",e.jsx(Gd,{className:"h-4 w-4 ml-1"})]})]}),e.jsx("p",{className:"text-slate-600",children:"     "})]}),e.jsx(M,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.map(K=>e.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow bg-slate-50 hover:bg-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-slate-800",children:K.nameBn||K.name}),e.jsxs(Oe,{variant:"outline",className:"bg-white",children:[K.requiredCredits," "]})]}),e.jsx("p",{className:"text-xs text-slate-600 mb-3",children:K.category}),e.jsx(V,{size:"sm",variant:"outline",className:"w-full",onClick:()=>j.mutate({documentType:K.category,templateId:K.id,studentIds:[1]}),disabled:j.isPending||((p==null?void 0:p.currentBalance)||0)<K.requiredCredits,children:((p==null?void 0:p.currentBalance)||0)<K.requiredCredits?" ":"  "})]},K.id))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(H,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[e.jsx(oe,{className:"pb-4",children:e.jsxs(ce,{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(di,{className:"h-6 w-6 text-purple-600"})," "]})}),e.jsx(M,{children:N.length>0?e.jsx("div",{className:"space-y-4",children:N.map((K,xe)=>e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-slate-50 hover:bg-slate-100 transition-colors",children:[e.jsx("div",{className:`p-3 rounded-lg ${K.type==="purchase"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:K.type==="purchase"?e.jsx(Wd,{className:"h-5 w-5"}):e.jsx(xs,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-slate-800",children:K.type==="purchase"?" ":" "}),e.jsx("p",{className:"text-sm text-slate-500",children:new Date(K.createdAt).toLocaleDateString("bn-BD")})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:`font-bold ${K.type==="purchase"?"text-green-600":"text-blue-600"}`,children:[K.type==="purchase"?"+":"-",K.credits," "]})})]},xe))}):e.jsxs("div",{className:"text-center py-12 text-slate-500",children:[e.jsx(hr,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"font-medium",children:"   "})]})})]}),e.jsxs(H,{className:"border-0 shadow-lg bg-gradient-to-br from-indigo-50 to-purple-50",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(Ti,{className:"h-5 w-5 text-indigo-600"})," "]})}),e.jsxs(M,{className:"space-y-3",children:[e.jsxs(V,{variant:"outline",className:"w-full justify-start bg-white hover:bg-indigo-50 border-indigo-200",onClick:()=>s("/credits/buy"),children:[e.jsx(zr,{className:"h-4 w-4 mr-3"}),"  "]}),e.jsxs(V,{variant:"outline",className:"w-full justify-start bg-white hover:bg-purple-50 border-purple-200",onClick:()=>s("/credits/transactions"),children:[e.jsx(AT,{className:"h-4 w-4 mr-3"})," "]}),e.jsxs(V,{variant:"outline",className:"w-full justify-start bg-white hover:bg-blue-50 border-blue-200",onClick:()=>s("/documents"),children:[e.jsx(xs,{className:"h-4 w-4 mr-3"})," "]})]})]}),e.jsx(H,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-600 to-indigo-700 text-white",children:e.jsxs(M,{className:"p-6 text-center",children:[e.jsx(jn,{className:"h-12 w-12 mx-auto mb-4 text-blue-200"}),e.jsx("h3",{className:"font-bold text-lg mb-2",children:"   "}),e.jsx("p",{className:"text-blue-100 text-sm mb-4",children:"        "}),e.jsx(V,{variant:"secondary",size:"sm",className:"bg-white text-blue-700 hover:bg-blue-50",children:" "})]})})]})]})]})})})}function Zke(){const[t,s]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(""),[l,o]=b.useState("all"),{toast:c}=ls();b.useEffect(()=>{d()},[]);const d=async()=>{var p;try{n(!0);const f=await fetch("/api/auth/users");if(!f.ok)throw new Error(`Failed to fetch users: ${f.statusText}`);const x=await f.json();s(x.users||[]),c({title:"Users loaded successfully",description:`Found ${((p=x.users)==null?void 0:p.length)||0} registered users`})}catch(f){console.error("Error fetching users:",f),c({title:"Failed to load users",description:f.message||"Please try again",variant:"destructive"})}finally{n(!1)}},u=async(p,f)=>{try{if(!(await fetch(`/api/auth/users/${p}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:f})})).ok)throw new Error("Failed to update user status");c({title:"User updated",description:`Status changed to ${f}`}),d()}catch(x){c({title:"Update failed",description:x.message,variant:"destructive"})}},h=()=>{const p=[["Tracking ID","Email","Status","Registration Date","Last Login"].join(","),...A.map(v=>[v.trackingId||"N/A",v.email,v.status||"active",new Date(v.createdAt).toLocaleDateString("en-US"),v.lastSignIn?new Date(v.lastSignIn).toLocaleDateString("en-US"):"Never"].join(","))].join(`
`),f=new Blob([p],{type:"text/csv"}),x=window.URL.createObjectURL(f),g=document.createElement("a");g.href=x,g.download=`users_${new Date().toISOString().split("T")[0]}.csv`,g.click(),window.URL.revokeObjectURL(x)},A=t.filter(p=>{var g;const f=p.email.toLowerCase().includes(a.toLowerCase())||((g=p.trackingId)==null?void 0:g.toLowerCase().includes(a.toLowerCase())),x=l==="all"||l==="active"&&p.status==="active"||l==="pending"&&!p.emailConfirmed||l==="blocked"&&p.status==="blocked";return f&&x}),m=p=>{if(!p.emailConfirmed)return e.jsx(Oe,{variant:"outline",className:"text-yellow-600",children:"Email Pending"});const f=p.status||"active",x={active:"default",blocked:"destructive",pending:"secondary"},g={active:"Active",blocked:"Blocked",pending:"Pending"};return e.jsx(Oe,{variant:x[f]||"secondary",children:g[f]||f})};return e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:" "}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"     "})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(V,{onClick:d,variant:"outline",disabled:r,children:[e.jsx(yl,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),""]}),e.jsxs(V,{onClick:h,variant:"outline",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),""]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(H,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(ss,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:t.length})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx(Kc,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:t.filter(p=>p.user_metadata.status==="active").length})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:e.jsx(uo,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:t.filter(p=>!p.email_confirmed_at).length})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:e.jsx(Yw,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:t.filter(p=>p.user_metadata.status==="blocked").length})]})]})})})]}),e.jsx(H,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),e.jsx(de,{placeholder:",      ...",value:a,onChange:p=>i(p.target.value),className:"pl-10"})]}),e.jsx("div",{className:"flex gap-2",children:["all","active","pending","blocked"].map(p=>e.jsxs(V,{variant:l===p?"default":"outline",size:"sm",onClick:()=>o(p),children:[p==="all"&&"",p==="active"&&"",p==="pending"&&"",p==="blocked"&&""]},p))})]})})}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{children:["  (",A.length,")"]}),e.jsx(ct,{children:"     "})]}),e.jsx(M,{children:r?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(yl,{className:"h-6 w-6 animate-spin text-slate-400"}),e.jsx("span",{className:"ml-2 text-slate-600",children:" ..."})]}):A.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ss,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"   "})]}):e.jsx("div",{className:"space-y-4",children:A.map(p=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:p.user_metadata.full_name||" "}),m(p)]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(uo,{className:"h-3 w-3"}),p.email]}),p.user_metadata.user_tracking_id&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cn,{className:"h-3 w-3"}),p.user_metadata.user_tracking_id]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bs,{className:"h-3 w-3"}),new Date(p.created_at).toLocaleDateString("bn-BD")]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Kc,{className:"h-3 w-3"}),p.last_sign_in_at?new Date(p.last_sign_in_at).toLocaleDateString("bn-BD"):"  "]})]})]}),e.jsx("div",{className:"flex items-center gap-2 ml-4",children:p.user_metadata.status!=="blocked"?e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>u(p.id,"blocked"),children:[e.jsx(Yw,{className:"h-3 w-3 mr-1"}),""]}):e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>u(p.id,"active"),children:[e.jsx(Kc,{className:"h-3 w-3 mr-1"}),""]})})]},p.id))})})]}),e.jsxs(lm,{children:[e.jsx(cn,{className:"h-4 w-4"}),e.jsxs(om,{children:[e.jsx("strong",{children:" :"}),"                  "]})]})]})}function e3e({title:t,showBackButton:s=!0,showHomeButton:r=!0}){const{goBack:n,canGoBack:a,setLocation:i}=Yne(),l=jo(),o=()=>{i("/")},c=()=>{a()?n():window.history.back()};return e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s&&e.jsxs(V,{variant:"outline",size:"sm",onClick:c,className:"flex items-center gap-2","aria-label":"Go back",children:[e.jsx(qa,{className:"h-4 w-4"}),!l&&e.jsx("span",{children:e.jsx(Rt,{en:"Back",bn:"",ar:""})})]}),r&&e.jsxs(V,{variant:"ghost",size:"sm",onClick:o,className:"flex items-center gap-2","aria-label":"Go to home",children:[e.jsx(nc,{className:"h-4 w-4"}),!l&&e.jsx("span",{children:e.jsx(Rt,{en:"Home",bn:"",ar:""})})]}),t&&e.jsx("div",{className:"flex-1",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:e.jsx(Rt,{en:t.en,bn:t.bn,ar:t.ar})})})]})}function t3e(){const{toast:t}=ls();jo();const s=Cs(),[r,n]=b.useState("all"),[a,i]=b.useState(""),[l,o]=b.useState("grid"),[c,d]=b.useState("overview"),[u,h]=b.useState("usage"),[A,m]=b.useState(!0),{language:p}=f0(),{data:f,isLoading:x}=st({queryKey:["/api/documents/user-stats"],queryFn:async()=>{const U=await fetch("/api/documents/user-stats");if(!U.ok)throw new Error("Failed to fetch user stats");return U.json()}}),{data:g,isLoading:v}=st({queryKey:["/api/documents/templates","all",p],queryFn:async()=>{const U=new URLSearchParams;U.append("isActive","true"),U.append("lang",p);const R=await fetch(`/api/documents/templates?${U}`);if(!R.ok)throw new Error("Failed to fetch templates");return R.json()}}),{data:j,isLoading:B}=st({queryKey:["/api/documents/templates",r,a,p],queryFn:async()=>{const U=new URLSearchParams;r!=="all"&&U.append("category",r),a&&U.append("search",a),U.append("isActive","true"),U.append("lang",p);const R=await fetch(`/api/documents/templates?${U}`);if(!R.ok)throw new Error("Failed to fetch templates");return R.json()}}),{data:F,isLoading:P}=st({queryKey:["/api/documents/recent"],queryFn:async()=>{const U=await fetch("/api/documents/recent");if(!U.ok)throw new Error("Failed to fetch recent documents");return U.json()}}),{data:E,isLoading:N}=st({queryKey:["/api/simple-credit-stats","7324a820-4c85-4a60-b791-57b9cfad6bf9"],queryFn:async()=>{const U=await fetch("/api/simple-credit-stats/7324a820-4c85-4a60-b791-57b9cfad6bf9");if(!U.ok)throw new Error("Failed to fetch credit balance");return U.json()}}),{data:C,isLoading:_}=st({queryKey:["/api/document-costs"],queryFn:async()=>{const U=await fetch("/api/document-costs");if(!U.ok)throw new Error("Failed to fetch document costs");return U.json()}}),k=Bt({mutationFn:async()=>{const U=await fetch("/api/documents/seed-templates",{method:"POST",headers:{"Content-Type":"application/json"}});if(!U.ok)throw new Error("Failed to seed templates");return U.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/documents/templates"]}),t({title:"",description:"     "})}}),D=Bt({mutationFn:async U=>{const R=await fetch("/api/document-generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(!R.ok){const q=await R.json();throw new Error(q.error||"Document generation failed")}return R.json()},onSuccess:U=>{t({title:"  ",description:U.message||"   "}),s.invalidateQueries({queryKey:["/api/credit-stats"]}),s.invalidateQueries({queryKey:["/api/documents/user-stats"]})},onError:U=>{t({title:"  ",description:U.message||"    ",variant:"destructive"})}}),z=U=>({"Student ID Card":"/id-card/dashboard","Teacher ID Card":"/documents/teacher-id-cards","Admit Card":"/admit-card/dashboard","Class Routine":"/documents/class-routines","Teacher Routine":"/documents/teacher-routines",Marksheet:"/documents/marksheets","Result Sheet":"/documents/result-sheets",Testimonial:"/documents/testimonials","Transfer Certificate":"/documents/transfer-certificates","Fee Receipt":"/documents/fee-receipts","Pay Sheet":"/documents/pay-sheets","Income Report":"/documents/income-reports","Expense Sheet":"/documents/expense-sheets","Admission Form":"/documents/admission-forms","Office Order":"/documents/office-orders",Notice:"/documents/notices","Exam Paper":"/documents/exam-papers","OMR Sheet":"/documents/omr-sheets","MCQ Format":"/documents/mcq-formats"})[U]||"/documents/templates",K=async(U,R)=>{const q=(E==null?void 0:E.currentBalance)||0;if(q<R){t({title:" ",description:`   ${R}     ${q}  `,variant:"destructive"});return}const ae=z(U);window.location.href=ae},xe=(U,R)=>{if(((E==null?void 0:E.currentBalance)||0)<R){t({title:" ",description:`   ${R}  `,variant:"destructive"});return}D.mutate({templateId:U,documentType:"quick_generate",studentIds:[1]})},W=j||[],re=b.useMemo(()=>{let U=W;if(a){const q=a.toLowerCase();U=U.filter(ae=>{var Ae,G,O;return((Ae=ae.nameBn)==null?void 0:Ae.toLowerCase().includes(q))||((G=ae.descriptionBn)==null?void 0:G.toLowerCase().includes(q))||((O=ae.name)==null?void 0:O.toLowerCase().includes(q))})}if(r!=="all"){const ae={academic:["academic"],certificates:["certificate","recognition","graduation"],administrative:["administrative","communication"],examination:["examination"],financial:["financial"],staff:["staff"],services:["medical","library","transport","service"],activities:["cultural","extracurricular","research","event"],modern:["digital","technology","international","safety","alumni"]}[r]||[r];U=U.filter(Ae=>ae.includes(Ae.category))}let R=[...U];switch(A&&(R=R.sort((q,ae)=>q.isPopular&&!ae.isPopular?-1:!q.isPopular&&ae.isPopular?1:0)),u){case"usage":R=R.sort((q,ae)=>(ae.usageCount||0)-(q.usageCount||0));break;case"name":R=R.sort((q,ae)=>{const Ae=p==="bn"&&q.nameBn||q.name,G=p==="bn"&&ae.nameBn||ae.name;return Ae.localeCompare(G)});break;case"category":R=R.sort((q,ae)=>q.category.localeCompare(ae.category));break}return R},[W,a,r,u,A,p]),I=b.useMemo(()=>{const U=g||[];return[{id:"all",name:"All Documents",nameBn:" ",icon:xs,color:"text-slate-600",bgColor:"bg-slate-100",description:"   ",count:U.length},{id:"financial",name:"Financial Management",nameBn:" ",icon:()=>e.jsx("span",{className:"text-2xl",children:""}),color:"text-green-600",bgColor:"bg-green-100",description:", ,    ",count:U.filter(R=>R.category==="financial").length},{id:"academic",name:"Academic Records",nameBn:" ",icon:()=>e.jsx("span",{className:"text-2xl",children:""}),color:"text-blue-600",bgColor:"bg-blue-100",description:",     ",count:U.filter(R=>R.category==="academic").length},{id:"certificates",name:"Certificates & Legal",nameBn:"   ",icon:()=>e.jsx("span",{className:"text-2xl",children:""}),color:"text-purple-600",bgColor:"bg-purple-100",description:",    ",count:U.filter(R=>["certificate","recognition","graduation"].includes(R.category)).length},{id:"administrative",name:"Administrative",nameBn:"",icon:()=>e.jsx("span",{className:"text-2xl",children:""}),color:"text-orange-600",bgColor:"bg-orange-100",description:"    ",count:U.filter(R=>["administrative","communication"].includes(R.category)).length},{id:"staff",name:"Staff & Personnel",nameBn:"  ",icon:()=>e.jsx("span",{className:"text-2xl",children:""}),color:"text-emerald-600",bgColor:"bg-emerald-100",description:"    ",count:U.filter(R=>R.category==="staff").length},{id:"examination",name:"Examinations",nameBn:"",icon:()=>e.jsx("span",{className:"text-2xl",children:""}),color:"text-red-600",bgColor:"bg-red-100",description:" ,    ",count:U.filter(R=>R.category==="examination").length},{id:"services",name:"Services & Support",nameBn:"  ",icon:()=>e.jsx("span",{className:"text-2xl",children:""}),color:"text-teal-600",bgColor:"bg-teal-100",description:", ,   ",count:U.filter(R=>["medical","library","transport","service"].includes(R.category)).length},{id:"activities",name:"Activities & Events",nameBn:"  ",icon:()=>e.jsx("span",{className:"text-2xl",children:""}),color:"text-pink-600",bgColor:"bg-pink-100",description:",    ",count:U.filter(R=>["cultural","extracurricular","research","event"].includes(R.category)).length},{id:"modern",name:"Modern & Digital",nameBn:"  ",icon:()=>e.jsx("span",{className:"text-2xl",children:""}),color:"text-indigo-600",bgColor:"bg-indigo-100",description:" ,   ",count:U.filter(R=>["digital","technology","international","safety","alumni"].includes(R.category)).length}]},[g]),ie=re.filter(U=>U.isPopular),ve=U=>{switch(U){case"easy":return"bg-green-100 text-green-700";case"medium":return"bg-yellow-100 text-yellow-700";case"advanced":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},De=({title:U,value:R,subtitle:q,icon:ae,color:Ae})=>e.jsxs(H,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer group",children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:U}),e.jsx("div",{className:at("p-2 rounded-lg group-hover:scale-110 transition-transform",Ae),children:e.jsx(ae,{className:"h-4 w-4"})})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold mb-1",children:R||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:q})]})]}),L=({doc:U})=>e.jsx(H,{className:"group hover:shadow-lg transition-all duration-200 cursor-pointer border-l-4 border-l-transparent hover:border-l-blue-500",onClick:()=>K(U.name,U.creditsRequired||1),role:"button",tabIndex:0,onKeyDown:R=>{(R.key==="Enter"||R.key===" ")&&(R.preventDefault(),K(U.name,U.creditsRequired||1))},children:e.jsxs(M,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"text-3xl mb-2",children:U.icon||""}),e.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[U.isPopular&&e.jsxs(Oe,{className:"bg-orange-100 text-orange-700 hover:bg-orange-200",children:[e.jsx(Ln,{className:"h-3 w-3 mr-1"}),""]}),e.jsx(Oe,{className:ve(U.difficulty||"easy"),children:(U.difficulty||"easy")==="easy"?"":(U.difficulty||"easy")==="medium"?"":""})]})]}),e.jsx("h3",{className:"font-semibold text-lg mb-2 group-hover:text-blue-600 transition-colors",children:p==="bn"?U.nameBn:U.name}),e.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-2",children:p==="bn"?U.descriptionBn:U.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(hr,{className:"h-4 w-4 mr-1"}),U.estimatedTime||"- "]}),e.jsxs("span",{className:"flex items-center font-semibold text-orange-600",children:[e.jsx(zr,{className:"h-4 w-4 mr-1"}),U.requiredCredits||U.creditsRequired||1," "]}),U.usageCount!==void 0&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(bn,{className:"h-4 w-4 mr-1"}),U.usageCount,"  "]})]}),e.jsx(BA,{className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity"})]})]})});return e.jsx(is,{children:e.jsxs(Qr,{title:" ",description:"     ",children:[e.jsx(e3e,{title:{en:"Document Generator",bn:" ",ar:" "}}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"           "}),e.jsx(V,{onClick:()=>k.mutate(),disabled:k.isPending,variant:"outline",children:k.isPending?"  ...":"  "})]}),!N&&E&&e.jsx(H,{className:"border-l-4 border-l-green-500 bg-gradient-to-r from-green-50 to-blue-50",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Xw,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"  "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:E.currentBalance||0}),e.jsx("div",{className:"text-sm text-gray-500",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-blue-600",children:E.totalUsed||0}),e.jsx("div",{className:"text-sm text-gray-500",children:" "})]}),e.jsx(tt,{href:"/credits/supabase-dashboard",children:e.jsxs(V,{className:"flex items-center space-x-2",children:[e.jsx(zr,{className:"h-4 w-4"}),e.jsx("span",{children:" "})]})})]})]})})}),x?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(4)].map((U,R)=>e.jsx(H,{className:"animate-pulse",children:e.jsxs(M,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/2"})]})},R))}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(De,{title:" ",value:(f==null?void 0:f.totalGenerated)||0,subtitle:"  ",icon:xs,color:"bg-blue-100 text-blue-600"}),e.jsx(De,{title:" ",value:(E==null?void 0:E.totalUsed)||(f==null?void 0:f.creditsUsed)||0,subtitle:"",icon:zr,color:"bg-orange-100 text-orange-600"}),e.jsx(De,{title:" ",value:(E==null?void 0:E.currentBalance)||(f==null?void 0:f.creditsRemaining)||0,subtitle:" ",icon:Xw,color:"bg-green-100 text-green-600"}),e.jsx(De,{title:"  ",value:(E==null?void 0:E.thisMonthUsage)||(f==null?void 0:f.monthlyUsed)||0,subtitle:" ",icon:wh,color:"bg-purple-100 text-purple-600"})]}),e.jsxs(Ar,{value:c,onValueChange:d,className:"w-full",children:[e.jsxs(ir,{className:"grid w-full grid-cols-4",children:[e.jsx(lt,{value:"overview",children:" "}),e.jsx(lt,{value:"categories",children:""}),e.jsx(lt,{value:"popular",children:""}),e.jsx(lt,{value:"costs",children:" "})]}),e.jsxs(bt,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(de,{placeholder:" ... (:  , )",value:a,onChange:U=>i(U.target.value),className:"pl-10 h-12"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:u,onChange:U=>h(U.target.value),className:"px-3 py-2 border rounded-md text-sm bg-white",children:[e.jsx("option",{value:"usage",children:"  "}),e.jsx("option",{value:"name",children:"  "}),e.jsx("option",{value:"category",children:" "})]}),e.jsxs(V,{variant:A?"default":"outline",size:"sm",onClick:()=>m(!A),className:"min-w-[120px] min-h-[44px]",children:[e.jsx(Ln,{className:"h-4 w-4 mr-1"})," "]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{variant:l==="grid"?"default":"outline",size:"sm",onClick:()=>o("grid"),className:"min-w-[44px] min-h-[44px]",children:e.jsx(y3,{className:"h-4 w-4"})}),e.jsx(V,{variant:l==="list"?"default":"outline",size:"sm",onClick:()=>o("list"),className:"min-w-[44px] min-h-[44px]",children:e.jsx(w3,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:I.map(U=>{const R=U.icon;return e.jsxs(V,{variant:r===U.id?"default":"outline",onClick:()=>n(U.id),className:"min-h-[44px] space-x-2",children:[e.jsx(R,{}),e.jsx("span",{children:p==="bn"?U.nameBn:U.name}),e.jsx(Oe,{variant:"secondary",className:"ml-2",children:U.count})]},U.id)})}),B?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((U,R)=>e.jsx(H,{className:"animate-pulse",children:e.jsxs(M,{className:"p-6",children:[e.jsx("div",{className:"h-12 bg-gray-200 rounded w-12 mb-4"}),e.jsx("div",{className:"h-6 bg-gray-300 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})},R))}):e.jsx("div",{className:at("grid gap-6",l==="grid"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"),children:re.map(U=>e.jsx(L,{doc:U},U.id))}),re.length===0&&!B&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(xs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"   "}),e.jsx("p",{className:"text-muted-foreground",children:"        "})]})]}),e.jsx(bt,{value:"categories",className:"space-y-6",children:e.jsx("div",{className:"grid gap-6",children:I.slice(1).map(U=>{const R=U.icon,q=(g||[]).filter(ae=>ae.category===U.id);return e.jsxs(H,{className:"overflow-hidden",children:[e.jsx(oe,{className:at("pb-4",U.bgColor),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:at("p-3 rounded-lg bg-white",U.color),children:e.jsx(R,{})}),e.jsxs("div",{children:[e.jsx(ce,{className:"text-xl",children:U.nameBn}),e.jsxs(ct,{className:"text-gray-600",children:[U.description,"  ",U.count,"  "]})]})]})}),e.jsx(M,{className:"pt-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:q.map(ae=>e.jsx(V,{variant:"ghost",className:"h-auto p-4 justify-start text-left",onClick:()=>K(ae.name,ae.creditsRequired||1),children:e.jsxs("div",{className:"flex items-center space-x-3 w-full",children:[e.jsx("span",{className:"text-2xl",children:ae.icon||""}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium truncate",children:p==="bn"?ae.nameBn:ae.name}),e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center space-x-2",children:[e.jsxs("span",{children:[ae.creditsRequired||1," "]}),e.jsx("span",{children:""}),e.jsx("span",{children:ae.estimatedTime||"- "})]})]}),e.jsx(Gd,{className:"h-4 w-4 text-muted-foreground"})]})},ae.id))})})]},U.id)})})}),e.jsx(bt,{value:"popular",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(Ln,{className:"h-5 w-5 text-orange-500"}),e.jsx("span",{children:"  "})]}),e.jsx(ct,{children:"       "})]}),e.jsx(M,{children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:ie.map(U=>e.jsx(L,{doc:U},U.id))})})]})}),e.jsxs(bt,{value:"costs",className:"space-y-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(Wd,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{children:"  "})]}),e.jsx(ct,{children:"     "})]}),e.jsx(M,{children:_?e.jsx("div",{className:"space-y-3",children:[...Array(10)].map((U,R)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg animate-pulse",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded"}),e.jsx("div",{className:"w-48 h-4 bg-gray-200 rounded"})]}),e.jsx("div",{className:"w-16 h-4 bg-gray-200 rounded"})]},R))}):C&&C.length>0?e.jsx("div",{className:"space-y-3",children:C.map(U=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(xs,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:p==="bn"?U.nameBn:U.name}),U.category&&e.jsx("div",{className:"text-sm text-gray-500 capitalize",children:U.category})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(Oe,{variant:"outline",className:"font-semibold text-orange-600",children:[U.requiredCredits||1," "]}),e.jsxs(V,{size:"sm",onClick:()=>xe(U.id,U.requiredCredits||1),disabled:D.isPending,className:"flex items-center space-x-1",children:[e.jsx(Ti,{className:"h-3 w-3"}),e.jsx("span",{children:" "})]})]})]},U.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Wd,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"   "}),e.jsx("p",{className:"text-gray-600",children:"     "})]})})]}),e.jsx(H,{className:"border-orange-200 bg-orange-50",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(zr,{className:"h-6 w-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-orange-800",children:" ?"}),e.jsx("p",{className:"text-orange-700",children:"     "})]})]}),e.jsx(tt,{href:"/credits/supabase-dashboard",children:e.jsx(V,{className:"bg-orange-600 hover:bg-orange-700",children:" "})})]})})})]})]})]})]})})}function s3e(){const t=TO();Oi();const{toast:s}=ls(),{language:r}=f0(),n=Cs(),a=t.id,[i,l]=b.useState({}),[o,c]=b.useState(!1),{data:d,isLoading:u}=st({queryKey:["/api/documents/templates"],queryFn:async()=>{const v=await fetch("/api/documents/templates");if(!v.ok)throw new Error("Failed to fetch document templates");return v.json()}}),h=d==null?void 0:d.find(v=>v.type===a||v.id.toString()===a),{data:A}=st({queryKey:["/api/simple-credit-stats","7324a820-4c85-4a60-b791-57b9cfad6bf9"],queryFn:async()=>{const v=await fetch("/api/simple-credit-stats/7324a820-4c85-4a60-b791-57b9cfad6bf9");if(!v.ok)throw new Error("Failed to fetch credit balance");return v.json()}}),m=Bt({mutationFn:async v=>{c(!0);const j=await fetch("/api/document-generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({templateId:v.templateId,documentType:(h==null?void 0:h.name)||"document",studentIds:[1],metadata:v.formData})});if(!j.ok){const B=await j.json();throw new Error(B.error||"Generation failed")}return j.json()},onSuccess:v=>{s({title:"  ",description:v.message||"   "}),n.invalidateQueries({queryKey:["/api/simple-credit-stats"]}),c(!1)},onError:v=>{s({title:"  ",description:v.message||"    ",variant:"destructive"}),c(!1)}}),p=h!=null&&h.fields?JSON.parse(h.fields):[],f=()=>{const v=(A==null?void 0:A.currentBalance)||0,j=(h==null?void 0:h.requiredCredits)||1;if(v<j){s({title:" ",description:`   ${j}  `,variant:"destructive"});return}m.mutate({templateId:h.id,formData:i})},x=(v,j)=>{l(B=>({...B,[v]:j}))},g=v=>({student_name:" ",student_id:" ",roll_number:" ",class:"",section:"",exam_name:" ",date:"",session:"",father_name:" ",mother_name:" ",address:"",phone:" ",email:"",birth_date:" ",blood_group:" ",photo:""})[v]||v;return u?e.jsx(is,{children:e.jsx(Qr,{title:" ...",description:"   ",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})}):h?e.jsx(is,{children:e.jsx(Qr,{title:r==="bn"?h.nameBn:h.name,description:r==="bn"?h.descriptionBn:h.description,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(tt,{href:"/documents",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(qa,{className:"h-4 w-4 mr-2"})," "]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(Oe,{variant:"outline",className:"font-semibold text-orange-600",children:[e.jsx(zr,{className:"h-3 w-3 mr-1"}),h.requiredCredits," "]}),e.jsx(Oe,{variant:"secondary",children:h.category})]})]}),A&&A.currentBalance<h.requiredCredits&&e.jsx(H,{className:"border-red-200 bg-red-50",children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(yn,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-800 font-semibold",children:" "}),e.jsxs("p",{className:"text-red-700 text-sm",children:["  ",A.currentBalance,"  ,  ",h.requiredCredits," "]})]}),e.jsx(tt,{href:"/credits/supabase-dashboard",children:e.jsx(V,{size:"sm",className:"bg-red-600 hover:bg-red-700",children:" "})})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(xs,{className:"h-5 w-5"}),e.jsx("span",{children:" "})]}),e.jsx(ct,{children:"      "})]}),e.jsx(M,{className:"space-y-4",children:p.map(v=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:v,children:g(v)}),v==="address"||v==="description"?e.jsx(Gs,{id:v,placeholder:`${g(v)} `,value:i[v]||"",onChange:j=>x(v,j.target.value)}):v==="class"?e.jsxs(xt,{onValueChange:j=>x(v,j),children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:"1",children:" "}),e.jsx(X,{value:"2",children:" "}),e.jsx(X,{value:"3",children:" "}),e.jsx(X,{value:"4",children:" "}),e.jsx(X,{value:"5",children:" "}),e.jsx(X,{value:"6",children:" "}),e.jsx(X,{value:"7",children:" "}),e.jsx(X,{value:"8",children:" "}),e.jsx(X,{value:"9",children:" "}),e.jsx(X,{value:"10",children:" "})]})]}):e.jsx(de,{id:v,type:v.includes("date")?"date":v.includes("email")?"email":"text",placeholder:`${g(v)} `,value:i[v]||"",onChange:j=>x(v,j.target.value)})]},v))})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(ks,{className:"h-5 w-5"}),e.jsx("span",{children:" "})]}),e.jsx(ct,{children:"    "})]}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 min-h-[200px]",children:[e.jsx("div",{className:"text-center mb-4",children:e.jsx("h3",{className:"font-bold text-lg",children:r==="bn"?h.nameBn:h.name})}),e.jsx("div",{className:"space-y-2 text-sm",children:p.map(v=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"font-medium",children:[g(v),":"]}),e.jsx("span",{children:i[v]||`[${g(v)}]`})]},v))})]}),e.jsx(V,{onClick:f,disabled:o||m.isPending||((A==null?void 0:A.currentBalance)||0)<h.requiredCredits,className:"w-full",size:"lg",children:o||m.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ti,{className:"h-4 w-4 mr-2"}),"  "]})}),e.jsxs("div",{className:"text-center text-sm text-gray-600",children:[e.jsxs("p",{children:[" : ",(A==null?void 0:A.currentBalance)||0," "]}),e.jsxs("p",{children:[": ",h.requiredCredits," "]})]})]})]})]})]})})}):e.jsx(is,{children:e.jsx(Qr,{title:"  ",description:"    ",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(yn,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"  "}),e.jsx("p",{className:"text-gray-600 mb-4",children:"     "}),e.jsx(tt,{href:"/documents",children:e.jsxs(V,{children:[e.jsx(qa,{className:"h-4 w-4 mr-2"}),"  "]})})]})})})}function r3e(){const{toast:t}=ls(),[s,r]=b.useState({title:"",titleBn:"",subject:"",subjectBn:"",class:"",duration:"",totalMarks:"",date:"",instructions:"",instructionsBn:"",boardName:"",schoolName:"",schoolNameBn:""}),[n,a]=b.useState([]),[i,l]=b.useState({type:"mcq",marks:1}),o=["     , ","     , ","     , ","     , ","     , ","     , ","     , ","     , ","     , ","  ","  "],c=[{value:"mcq",label:" (MCQ)",labelEn:"Multiple Choice"},{value:"short",label:" ",labelEn:"Short Answer"},{value:"long",label:"",labelEn:"Long Answer"},{value:"fill-blank",label:" ",labelEn:"Fill in the Blanks"},{value:"true-false",label:"/",labelEn:"True/False"}],d=()=>{if(!i.question||!i.questionBn){t({title:"",description:"      ",variant:"destructive"});return}const h={id:Date.now().toString(),type:i.type,question:i.question,questionBn:i.questionBn,marks:i.marks||1,options:i.options||[],optionsBn:i.optionsBn||[],correctAnswer:i.correctAnswer};a([...n,h]),l({type:"mcq",marks:1}),t({title:"",description:"   "})},u=()=>{if(!s.title||n.length===0){t({title:"",description:"     ",variant:"destructive"});return}t({title:"",description:"  "})};return e.jsx(is,{children:e.jsx(Qr,{title:" ",description:"    ",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-icons",children:"assignment"})," "]}),e.jsx(ct,{children:"    "})]}),e.jsx(M,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"title",children:"  ()"}),e.jsx(de,{id:"title",value:s.title,onChange:h=>r({...s,title:h.target.value}),placeholder:"e.g., Mid-term Examination 2024"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"titleBn",children:"  ()"}),e.jsx(de,{id:"titleBn",value:s.titleBn,onChange:h=>r({...s,titleBn:h.target.value}),placeholder:":   "})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"subject",children:" ()"}),e.jsx(de,{id:"subject",value:s.subject,onChange:h=>r({...s,subject:h.target.value}),placeholder:"e.g., Mathematics"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"subjectBn",children:" ()"}),e.jsx(de,{id:"subjectBn",value:s.subjectBn,onChange:h=>r({...s,subjectBn:h.target.value}),placeholder:": "})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"class",children:""}),e.jsxs(xt,{value:s.class,onValueChange:h=>r({...s,class:h}),children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:"1",children:" "}),e.jsx(X,{value:"2",children:" "}),e.jsx(X,{value:"3",children:" "}),e.jsx(X,{value:"4",children:" "}),e.jsx(X,{value:"5",children:" "}),e.jsx(X,{value:"6",children:" "}),e.jsx(X,{value:"7",children:" "}),e.jsx(X,{value:"8",children:" "}),e.jsx(X,{value:"9",children:" "}),e.jsx(X,{value:"10",children:" "}),e.jsx(X,{value:"11",children:" "}),e.jsx(X,{value:"12",children:" "})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"duration",children:" ()"}),e.jsx(de,{id:"duration",type:"number",value:s.duration,onChange:h=>r({...s,duration:h.target.value}),placeholder:"120"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"totalMarks",children:""}),e.jsx(de,{id:"totalMarks",type:"number",value:s.totalMarks,onChange:h=>r({...s,totalMarks:h.target.value}),placeholder:"100"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"date",children:" "}),e.jsx(de,{id:"date",type:"date",value:s.date,onChange:h=>r({...s,date:h.target.value})})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(ke,{htmlFor:"boardName",children:"/"}),e.jsxs(xt,{value:s.boardName,onValueChange:h=>r({...s,boardName:h}),children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})}),e.jsx(At,{children:o.map(h=>e.jsx(X,{value:h,children:h},h))})]})]})]})})]}),e.jsxs(Ar,{defaultValue:"add",className:"w-full",children:[e.jsxs(ir,{className:"grid w-full grid-cols-2",children:[e.jsx(lt,{value:"add",children:"  "}),e.jsxs(lt,{value:"preview",children:["  (",n.length,")"]})]}),e.jsx(bt,{value:"add",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"   "})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{children:" "}),e.jsxs(xt,{value:i.type,onValueChange:h=>l({...i,type:h}),children:[e.jsx(ht,{children:e.jsx(pt,{})}),e.jsx(At,{children:c.map(h=>e.jsx(X,{value:h.value,children:h.label},h.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{children:""}),e.jsx(de,{type:"number",value:i.marks,onChange:h=>l({...i,marks:parseInt(h.target.value)}),min:"1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{children:" ()"}),e.jsx(Gs,{value:i.question||"",onChange:h=>l({...i,question:h.target.value}),placeholder:"Enter the question in English",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{children:" ()"}),e.jsx(Gs,{value:i.questionBn||"",onChange:h=>l({...i,questionBn:h.target.value}),placeholder:"  ",rows:3})]}),i.type==="mcq"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(ke,{children:" "}),[0,1,2,3].map(h=>{var A,m;return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsx(de,{placeholder:`Option ${String.fromCharCode(65+h)} (English)`,value:((A=i.options)==null?void 0:A[h])||"",onChange:p=>{const f=[...i.options||["","","",""]];f[h]=p.target.value,l({...i,options:f})}}),e.jsx(de,{placeholder:` ${String.fromCharCode(65+h)} ()`,value:((m=i.optionsBn)==null?void 0:m[h])||"",onChange:p=>{const f=[...i.optionsBn||["","","",""]];f[h]=p.target.value,l({...i,optionsBn:f})}})]},h)})]}),e.jsxs(V,{onClick:d,className:"w-full",children:[e.jsx("span",{className:"material-icons mr-2",children:"add"}),"  "]})]})]})}),e.jsx(bt,{value:"preview",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:" "}),e.jsx(ct,{children:"  "})]}),e.jsx(M,{children:n.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("span",{className:"material-icons text-4xl mb-2",children:"quiz"}),e.jsx("p",{children:"     "})]}):e.jsx("div",{className:"space-y-4",children:n.map((h,A)=>{var m;return e.jsx(H,{className:"border-l-4 border-l-primary",children:e.jsxs(M,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Oe,{variant:"secondary",children:[" ",A+1]}),e.jsx(Oe,{children:(m=c.find(p=>p.value===h.type))==null?void 0:m.label}),e.jsxs(Oe,{variant:"outline",children:[h.marks," "]})]}),e.jsx(V,{variant:"ghost",size:"icon",onClick:()=>a(n.filter(p=>p.id!==h.id)),children:e.jsx("span",{className:"material-icons text-red-500",children:"delete"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-medium",children:h.questionBn}),e.jsx("p",{className:"text-sm text-gray-600",children:h.question}),h.type==="mcq"&&h.optionsBn&&e.jsx("div",{className:"grid grid-cols-2 gap-1 mt-2 text-sm",children:h.optionsBn.map((p,f)=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:"font-mono",children:[String.fromCharCode(65+f),"."]}),e.jsx("span",{children:p})]},f))})]})]})},h.id)})})})]})})]}),e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"  "}),e.jsxs("p",{className:"text-sm text-gray-600",children:[" ",n.length,"    ",n.reduce((h,A)=>h+A.marks,0)," "]})]}),e.jsxs(V,{onClick:u,size:"lg",disabled:n.length===0,children:[e.jsx("span",{className:"material-icons mr-2",children:"print"}),"  "]})]})})})]})})})}function n3e(){const{toast:t}=ls(),[s,r]=b.useState({name:"",nameBn:"",fatherName:"",fatherNameBn:"",motherName:"",motherNameBn:"",dateOfBirth:"",rollNumber:"",registrationNumber:"",class:"",section:"",group:"",session:"",admissionDate:"",leavingDate:"",lastAttendance:"",reasonForLeaving:"",reasonForLeavingBn:""}),[n,a]=b.useState({schoolName:"",schoolNameBn:"",address:"",addressBn:"",eiin:"",boardName:"",principalName:"",principalNameBn:"",schoolSeal:!1}),[i,l]=b.useState(""),o=["     , ","     , ","     , ","     , ","     , ","     , ","     , ","     , ","     , ","  ","  "],c=["-"," "," "," "," "," "," "," "," "," "," "," "," "],d=["",""," ","",""],u=["  / Transfer of Father","  / Family Reasons","  / Financial Reasons","  / Admission Related","  / Health Reasons","  / Personal Reasons"," / Others"],h=()=>{if(!s.name||!s.nameBn||!n.schoolName){t({title:"",description:"     ",variant:"destructive"});return}t({title:"",description:"   "})};return e.jsx(is,{children:e.jsx(Qr,{title:" ",description:"     ",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-icons",children:"assignment_return"})," "]})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"certificateNumber",children:" "}),e.jsx(de,{id:"certificateNumber",value:i,onChange:A=>l(A.target.value),placeholder:": TC/2024/001"})]})})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:" "}),e.jsx(ct,{children:"/  "})]}),e.jsx(M,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"schoolName",children:"  ()"}),e.jsx(de,{id:"schoolName",value:n.schoolName,onChange:A=>a({...n,schoolName:A.target.value}),placeholder:"School Name in English"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"schoolNameBn",children:"  ()"}),e.jsx(de,{id:"schoolNameBn",value:n.schoolNameBn,onChange:A=>a({...n,schoolNameBn:A.target.value}),placeholder:"  "})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"address",children:" ()"}),e.jsx(Gs,{id:"address",value:n.address,onChange:A=>a({...n,address:A.target.value}),placeholder:"School Address in English",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"addressBn",children:" ()"}),e.jsx(Gs,{id:"addressBn",value:n.addressBn,onChange:A=>a({...n,addressBn:A.target.value}),placeholder:"  ",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"eiin",children:"EIIN "}),e.jsx(de,{id:"eiin",value:n.eiin,onChange:A=>a({...n,eiin:A.target.value}),placeholder:"123456"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"boardName",children:""}),e.jsxs(xt,{value:n.boardName,onValueChange:A=>a({...n,boardName:A}),children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})}),e.jsx(At,{children:o.map(A=>e.jsx(X,{value:A,children:A},A))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"principalName",children:"   ()"}),e.jsx(de,{id:"principalName",value:n.principalName,onChange:A=>a({...n,principalName:A.target.value}),placeholder:"Principal's Name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"principalNameBn",children:"   ()"}),e.jsx(de,{id:"principalNameBn",value:n.principalNameBn,onChange:A=>a({...n,principalNameBn:A.target.value}),placeholder:"  "})]})]})})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:" "}),e.jsx(ct,{children:"    "})]}),e.jsx(M,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"studentName",children:"  ()"}),e.jsx(de,{id:"studentName",value:s.name,onChange:A=>r({...s,name:A.target.value}),placeholder:"Student Name in English"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"studentNameBn",children:"  ()"}),e.jsx(de,{id:"studentNameBn",value:s.nameBn,onChange:A=>r({...s,nameBn:A.target.value}),placeholder:"  "})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"fatherName",children:"  ()"}),e.jsx(de,{id:"fatherName",value:s.fatherName,onChange:A=>r({...s,fatherName:A.target.value}),placeholder:"Father's Name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"fatherNameBn",children:"  ()"}),e.jsx(de,{id:"fatherNameBn",value:s.fatherNameBn,onChange:A=>r({...s,fatherNameBn:A.target.value}),placeholder:" "})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"motherName",children:"  ()"}),e.jsx(de,{id:"motherName",value:s.motherName,onChange:A=>r({...s,motherName:A.target.value}),placeholder:"Mother's Name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"motherNameBn",children:"  ()"}),e.jsx(de,{id:"motherNameBn",value:s.motherNameBn,onChange:A=>r({...s,motherNameBn:A.target.value}),placeholder:" "})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"dateOfBirth",children:" "}),e.jsx(de,{id:"dateOfBirth",type:"date",value:s.dateOfBirth,onChange:A=>r({...s,dateOfBirth:A.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"rollNumber",children:" "}),e.jsx(de,{id:"rollNumber",value:s.rollNumber,onChange:A=>r({...s,rollNumber:A.target.value}),placeholder:" "})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"registrationNumber",children:" "}),e.jsx(de,{id:"registrationNumber",value:s.registrationNumber,onChange:A=>r({...s,registrationNumber:A.target.value}),placeholder:" "})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"class",children:""}),e.jsxs(xt,{value:s.class,onValueChange:A=>r({...s,class:A}),children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})}),e.jsx(At,{children:c.map(A=>e.jsx(X,{value:A,children:A},A))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"section",children:""}),e.jsx(de,{id:"section",value:s.section,onChange:A=>r({...s,section:A.target.value}),placeholder:": , , "})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"group",children:""}),e.jsxs(xt,{value:s.group,onValueChange:A=>r({...s,group:A}),children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})}),e.jsx(At,{children:d.map(A=>e.jsx(X,{value:A,children:A},A))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"session",children:""}),e.jsx(de,{id:"session",value:s.session,onChange:A=>r({...s,session:A.target.value}),placeholder:": "})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"admissionDate",children:" "}),e.jsx(de,{id:"admissionDate",type:"date",value:s.admissionDate,onChange:A=>r({...s,admissionDate:A.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"leavingDate",children:" "}),e.jsx(de,{id:"leavingDate",type:"date",value:s.leavingDate,onChange:A=>r({...s,leavingDate:A.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"lastAttendance",children:"  "}),e.jsx(de,{id:"lastAttendance",type:"date",value:s.lastAttendance,onChange:A=>r({...s,lastAttendance:A.target.value})})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(ke,{htmlFor:"reasonForLeaving",children:" "}),e.jsxs(xt,{value:s.reasonForLeaving,onValueChange:A=>r({...s,reasonForLeaving:A}),children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"   "})}),e.jsx(At,{children:u.map(A=>e.jsx(X,{value:A,children:A},A))})]})]})]})})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:e.jsxs("div",{className:"bg-white p-8 border-2 border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:" "}),e.jsx("h2",{className:"text-xl mb-1",children:"TRANSFER CERTIFICATE"}),e.jsxs("p",{className:"text-sm",children:[" : ",i||"___________"]})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:n.schoolNameBn||" "}),e.jsx("h4",{className:"text-md",children:n.schoolName||"School Name"}),e.jsx("p",{className:"text-sm",children:n.addressBn||""}),e.jsxs("p",{className:"text-sm",children:["EIIN: ",n.eiin||"______"," | Board: ",n.boardName||"___________"]})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{children:"    ,"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[" : ",e.jsx("strong",{children:s.nameBn||"___________"})]}),e.jsxs("div",{children:["Student Name: ",e.jsx("strong",{children:s.name||"___________"})]}),e.jsxs("div",{children:[" : ",e.jsx("strong",{children:s.fatherNameBn||"___________"})]}),e.jsxs("div",{children:["Father's Name: ",e.jsx("strong",{children:s.fatherName||"___________"})]}),e.jsxs("div",{children:[" : ",e.jsx("strong",{children:s.motherNameBn||"___________"})]}),e.jsxs("div",{children:["Mother's Name: ",e.jsx("strong",{children:s.motherName||"___________"})]}),e.jsxs("div",{children:[" : ",e.jsx("strong",{children:s.dateOfBirth||"___________"})]}),e.jsxs("div",{children:[" : ",e.jsx("strong",{children:s.rollNumber||"___________"})]}),e.jsxs("div",{children:[" : ",e.jsx("strong",{children:s.registrationNumber||"___________"})]}),e.jsxs("div",{children:[": ",e.jsx("strong",{children:s.class||"___________"})]}),e.jsxs("div",{children:[": ",e.jsx("strong",{children:s.section||"___________"})]}),e.jsxs("div",{children:[": ",e.jsx("strong",{children:s.group||"___________"})]}),e.jsxs("div",{children:[": ",e.jsx("strong",{children:s.session||"___________"})]}),e.jsxs("div",{children:[" : ",e.jsx("strong",{children:s.admissionDate||"___________"})]}),e.jsxs("div",{children:[" : ",e.jsx("strong",{children:s.leavingDate||"___________"})]}),e.jsxs("div",{children:[" : ",e.jsx("strong",{children:s.lastAttendance||"___________"})]})]}),e.jsxs("p",{children:[" : ",e.jsx("strong",{children:s.reasonForLeaving||"___________"})]}),e.jsx("p",{className:"mt-4",children:"                  "})]}),e.jsxs("div",{className:"flex justify-between items-end mt-12",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"border-t border-black w-32 mb-1"}),e.jsx("p",{className:"text-xs",children:" / Date"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-8"}),e.jsx("div",{className:"border-t border-black w-40 mb-1"}),e.jsx("p",{className:"text-xs",children:"  / Principal"}),e.jsx("p",{className:"text-xs font-medium",children:n.principalNameBn||n.principalName||"  "}),e.jsx("p",{className:"text-xs",children:n.schoolNameBn||" "})]})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("p",{className:"text-xs text-gray-600",children:"[  / School Seal]"})})]})})]}),e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"   "}),e.jsxs("p",{className:"text-sm text-gray-600",children:[": ",s.nameBn||" ","   : ",i||" "]})]}),e.jsxs(V,{onClick:h,size:"lg",children:[e.jsx("span",{className:"material-icons mr-2",children:"print"}),"  "]})]})})})]})})})}const a3e=Y.object({title:Y.string().min(2,{message:"Notice title is required"}),titleInBangla:Y.string().optional(),noticeType:Y.string().min(1,{message:"Notice type is required"}),issueDate:Y.string().min(1,{message:"Issue date is required"}),referenceNumber:Y.string().optional(),schoolName:Y.string().min(1,{message:"School name is required"}),schoolNameInBangla:Y.string().optional(),principalName:Y.string().min(1,{message:"Principal name is required"}),content:Y.string().min(10,{message:"Notice content is required"}),contentInBangla:Y.string().optional(),targetAudience:Y.string().min(1,{message:"Target audience is required"}),importantNote:Y.string().optional()});function i3e(){jo();const[t,s]=b.useState(!1),[r,n]=b.useState(!1),{toast:a}=ls(),i=zs({resolver:qs(a3e),defaultValues:{title:"Half-Yearly Examination Notice",titleInBangla:"-   ",noticeType:"Academic",issueDate:new Date().toISOString().split("T")[0],referenceNumber:"DPS/NOTICE/2025/"+Math.random().toString(36).substr(2,3).toUpperCase(),schoolName:"Dhaka Public School",schoolNameInBangla:"  ",principalName:"Professor Mohammad Rahman",content:"This is to inform all students and parents that the half-yearly examination will be held from 15th June 2025 to 25th June 2025. All students are requested to prepare accordingly.",contentInBangla:"      , -            ",targetAudience:"All Students and Parents",importantNote:"All students must bring their admit cards to the examination hall."}}),l=d=>{s(!0),console.log("Notice Data:",d),setTimeout(()=>{s(!1),n(!0),a({title:"  ",description:"    "})},1500)},o=async()=>{const d=document.getElementById("notice-preview");if(!d)return;const h=(await D_(d,{scale:2,useCORS:!0,logging:!1})).toDataURL("image/png"),A=new fs({orientation:"portrait",unit:"mm",format:"a4"}),m=A.internal.pageSize.getWidth(),p=A.internal.pageSize.getHeight();A.addImage(h,"PNG",0,0,m,p),A.save(`notice-${i.getValues("referenceNumber")}.pdf`),a({title:"  ",description:"      "})},c=()=>{n(!1),i.reset()};return e.jsx(is,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400 mb-6","aria-label":"Breadcrumb",children:[e.jsx("a",{href:"/",className:"hover:text-orange-600 dark:hover:text-orange-400 transition-colors",children:""}),e.jsx("span",{className:"material-icons text-xs",children:"chevron_right"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:" "})]}),e.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-950 dark:to-amber-950 rounded-2xl p-8 border border-orange-100 dark:border-orange-800",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center",children:e.jsx("span",{className:"material-icons text-white text-2xl",children:"campaign"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"     "})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-orange-600 dark:text-orange-400",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-pulse"}),e.jsx("span",{children:"  "})]}),e.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[e.jsx("span",{className:"material-icons text-sm",children:"verified"}),e.jsx("span",{children:" "})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(V,{className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-xl font-medium transition-all hover:scale-105",onClick:()=>i.handleSubmit(l)(),disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons mr-2 animate-spin",children:"autorenew"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons mr-2",children:"campaign"}),"  "]})}),e.jsxs(V,{variant:"outline",className:"px-6 py-3 rounded-xl font-medium border-orange-200 dark:border-orange-800 hover:bg-orange-50 dark:hover:bg-orange-900/20",onClick:c,children:[e.jsx("span",{className:"material-icons mr-2",children:"refresh"}),""]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(H,{className:"group hover:shadow-lg transition-all duration-300 border-0 shadow-md bg-white dark:bg-gray-800",children:e.jsx(M,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-50 dark:bg-orange-900/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"material-icons text-orange-600 dark:text-orange-400 text-xl",children:"campaign"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"  "}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:""})]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 px-2 py-1 rounded-md",children:""})]})})})}),e.jsx(H,{className:"group hover:shadow-lg transition-all duration-300 border-0 shadow-md bg-white dark:bg-gray-800",children:e.jsx(M,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-50 dark:bg-blue-900/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"material-icons text-blue-600 dark:text-blue-400 text-xl",children:"visibility"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:" "}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:","})]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 px-2 py-1 rounded-md",children:" "})]})})})}),e.jsx(H,{className:"group hover:shadow-lg transition-all duration-300 border-0 shadow-md bg-white dark:bg-gray-800",children:e.jsx(M,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-50 dark:bg-green-900/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"material-icons text-green-600 dark:text-green-400 text-xl",children:"star"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:""}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:""})]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 px-2 py-1 rounded-md",children:" "})]})})})}),e.jsx(H,{className:"group hover:shadow-lg transition-all duration-300 border-0 shadow-md bg-white dark:bg-gray-800",children:e.jsx(M,{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-50 dark:bg-purple-900/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"material-icons text-purple-600 dark:text-purple-400 text-xl",children:"category"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:" "}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:""})]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 px-2 py-1 rounded-md",children:" "})]})})})})]}),r?e.jsx("div",{className:"flex flex-col gap-6",children:e.jsxs(H,{className:"border-0 shadow-lg bg-white dark:bg-gray-800",children:[e.jsx(oe,{className:"border-b border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-50 dark:bg-green-900/20 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"material-icons text-green-600 dark:text-green-400 text-xl",children:"preview"})}),e.jsxs("div",{children:[e.jsx(ce,{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:" "}),e.jsx(ct,{className:"text-sm text-gray-600 dark:text-gray-400",children:"   "})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{onClick:o,className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg font-medium",children:[e.jsx("span",{className:"material-icons mr-2",children:"picture_as_pdf"}),""]}),e.jsxs(V,{variant:"outline",onClick:()=>n(!1),className:"px-4 py-2 rounded-lg font-medium",children:[e.jsx("span",{className:"material-icons mr-2",children:"edit"}),""]})]})]})}),e.jsx(M,{className:"p-0",children:e.jsxs("div",{id:"notice-preview",className:"p-8 bg-white",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:i.getValues("schoolNameInBangla")}),e.jsx("h2",{className:"text-xl mb-2",children:""}),e.jsxs("p",{className:"text-sm text-gray-600",children:[": ",i.getValues("referenceNumber")," | : ",i.getValues("issueDate")]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:i.getValues("titleInBangla")}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[": ",i.getValues("title")]}),e.jsx("p",{className:"mb-4",children:i.getValues("contentInBangla")}),e.jsx("p",{className:"mb-4",children:i.getValues("content")}),i.getValues("importantNote")&&e.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4",children:[e.jsx("p",{className:"text-sm font-semibold",children:":"}),e.jsx("p",{className:"text-sm",children:i.getValues("importantNote")})]})]}),e.jsxs("div",{className:"mt-8 text-right",children:[e.jsx("p",{className:"font-semibold",children:i.getValues("principalName")}),e.jsx("p",{children:""}),e.jsx("p",{children:i.getValues("schoolNameInBangla")})]})]})]})})]})}):e.jsx("div",{className:"flex flex-col gap-6",children:e.jsxs(H,{className:"border-0 shadow-lg bg-white dark:bg-gray-800",children:[e.jsx(oe,{className:"border-b border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-50 dark:bg-orange-900/20 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"material-icons text-orange-600 dark:text-orange-400 text-xl",children:"settings"})}),e.jsxs("div",{children:[e.jsx(ce,{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:" "}),e.jsx(ct,{className:"text-sm text-gray-600 dark:text-gray-400",children:"     "})]})]})}),e.jsx(M,{children:e.jsx(Ms,{...i,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[e.jsx("span",{className:"material-icons text-orange-500",children:"info"})," "]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Se,{control:i.control,name:"title",render:({field:d})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" ()"}),e.jsx(Be,{children:e.jsx("input",{...d,className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",placeholder:"Half-Yearly Examination Notice"})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:i.control,name:"titleInBangla",render:({field:d})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" ()"}),e.jsx(Be,{children:e.jsx("input",{...d,className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",placeholder:"-   "})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:i.control,name:"noticeType",render:({field:d})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),e.jsxs(xt,{onValueChange:d.onChange,defaultValue:d.value,children:[e.jsx(Be,{children:e.jsx(ht,{className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"Academic",children:""}),e.jsx(X,{value:"Administrative",children:""}),e.jsx(X,{value:"Event",children:""}),e.jsx(X,{value:"Emergency",children:""}),e.jsx(X,{value:"General",children:""})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:i.control,name:"targetAudience",render:({field:d})=>e.jsxs(Ne,{children:[e.jsx(Ce,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),e.jsxs(xt,{onValueChange:d.onChange,defaultValue:d.value,children:[e.jsx(Be,{children:e.jsx(ht,{className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"All Students",children:" "}),e.jsx(X,{value:"All Teachers",children:" "}),e.jsx(X,{value:"All Staff",children:" "}),e.jsx(X,{value:"All Students and Parents",children:"   "}),e.jsx(X,{value:"Class 6-8",children:"- "}),e.jsx(X,{value:"Class 9-10",children:"- "}),e.jsx(X,{value:"All",children:" "})]})]}),e.jsx(_e,{})]})})]})]}),e.jsxs("div",{className:"flex gap-4 pt-6 border-t border-gray-100 dark:border-gray-700",children:[e.jsx(V,{type:"button",onClick:()=>i.handleSubmit(l)(),disabled:t,className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-xl font-medium transition-all hover:scale-105",children:t?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons mr-2 animate-spin",children:"autorenew"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-icons mr-2",children:"campaign"}),"  "]})}),e.jsxs(V,{type:"button",variant:"outline",onClick:c,className:"px-6 py-3 rounded-xl font-medium border-gray-200 dark:border-gray-600",children:[e.jsx("span",{className:"material-icons mr-2",children:"refresh"}),""]})]})]})})})]})})]})})})}function l3e({authToken:t}){const[s,r]=b.useState(!1),{toast:n}=ls(),a=Cs(),{data:i,isLoading:l}=st({queryKey:["/api/portal/admins"],queryFn:async()=>{const u=await fetch("/api/portal/admins",{headers:{Authorization:`Bearer ${t}`}});if(!u.ok)throw new Error("Failed to fetch admins");return u.json()}}),o=Bt({mutationFn:async u=>{const h=await fetch("/api/portal/admins",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(u)});if(!h.ok)throw new Error("Failed to create admin");return h.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/portal/admins"]}),r(!1),n({title:"Success",description:"Admin user created successfully"})},onError:u=>{n({title:"Error",description:u.message,variant:"destructive"})}}),c=u=>{u.preventDefault();const h=new FormData(u.target),A=Object.fromEntries(h);o.mutate(A)},d=u=>{const h={super_admin:"bg-red-100 text-red-800",admin:"bg-blue-100 text-blue-800",support:"bg-green-100 text-green-800"};return e.jsx(Oe,{className:h[u]||h.support,children:u.replace("_"," ").toUpperCase()})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"User Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage portal administrators and their permissions"})]}),e.jsxs(pr,{open:s,onOpenChange:r,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{children:[e.jsx(IB,{className:"h-4 w-4 mr-2"}),"Add Admin"]})}),e.jsxs(or,{children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"Create New Admin User"}),e.jsx(Nr,{children:"Add a new administrator to the portal with specific role permissions."})]}),e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"fullName",children:"Full Name"}),e.jsx(de,{id:"fullName",name:"fullName",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"email",children:"Email Address"}),e.jsx(de,{id:"email",name:"email",type:"email",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"password",children:"Password"}),e.jsx(de,{id:"password",name:"password",type:"password",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"role",children:"Role"}),e.jsxs(xt,{name:"role",defaultValue:"admin",children:[e.jsx(ht,{children:e.jsx(pt,{})}),e.jsxs(At,{children:[e.jsx(X,{value:"support",children:"Support - Limited access"}),e.jsx(X,{value:"admin",children:"Admin - Full school management"}),e.jsx(X,{value:"super_admin",children:"Super Admin - System control"})]})]})]}),e.jsx(V,{type:"submit",className:"w-full",disabled:o.isPending,children:o.isPending?"Creating...":"Create Admin"})]})]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-5 w-5"}),"Portal Administrators"]})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:l?e.jsx("div",{className:"text-center py-8",children:"Loading administrators..."}):i!=null&&i.length?i.map(u=>e.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-blue-100",children:e.jsx(jn,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-medium",children:u.fullName}),d(u.role)]}),e.jsx("p",{className:"text-sm text-gray-600",children:u.email})]})]})},u.id)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ss,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No administrators"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by adding your first admin user."}),e.jsxs(V,{onClick:()=>r(!0),children:[e.jsx(IB,{className:"h-4 w-4 mr-2"}),"Add First Admin"]})]})})})]})]})}function o3e({authToken:t}){var d,u,h,A,m;const[s,r]=b.useState("30d"),[n,a]=b.useState("schools"),{data:i,isLoading:l}=st({queryKey:["/api/portal/analytics/detailed",s],queryFn:async()=>{const p=await fetch(`/api/portal/analytics/detailed?range=${s}`,{headers:{Authorization:`Bearer ${t}`}});if(!p.ok)throw new Error("Failed to fetch analytics");return p.json()}}),o=async p=>{try{const x=await(await fetch(`/api/portal/analytics/export?format=${p}&range=${s}`,{headers:{Authorization:`Bearer ${t}`}})).blob(),g=window.URL.createObjectURL(x),v=document.createElement("a");v.href=g,v.download=`analytics-${s}.${p}`,document.body.appendChild(v),v.click(),window.URL.revokeObjectURL(g),document.body.removeChild(v)}catch(f){console.error("Export failed:",f)}},c=({title:p,value:f,icon:x,trend:g,color:v})=>e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:p}),e.jsx("p",{className:`text-2xl font-bold ${v}`,children:f}),g&&e.jsxs("p",{className:"text-xs text-gray-500 flex items-center mt-1",children:[e.jsx(bn,{className:"h-3 w-3 mr-1"}),g,"% from last period"]})]}),e.jsx("div",{className:`p-3 rounded-full ${v.replace("text-","bg-").replace("600","100")}`,children:e.jsx(x,{className:`h-6 w-6 ${v}`})})]})})});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Advanced Analytics"}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive insights into portal performance"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(xt,{value:s,onValueChange:r,children:[e.jsx(ht,{className:"w-32",children:e.jsx(pt,{})}),e.jsxs(At,{children:[e.jsx(X,{value:"7d",children:"Last 7 days"}),e.jsx(X,{value:"30d",children:"Last 30 days"}),e.jsx(X,{value:"90d",children:"Last 3 months"}),e.jsx(X,{value:"1y",children:"Last year"})]})]}),e.jsxs(V,{variant:"outline",onClick:()=>o("csv"),children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),e.jsxs(V,{variant:"outline",onClick:()=>o("pdf"),children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(c,{title:"Total Revenue",value:`$${((d=i==null?void 0:i.totalRevenue)==null?void 0:d.toLocaleString())||0}`,icon:Wd,trend:12.5,color:"text-green-600"}),e.jsx(c,{title:"Documents Generated",value:((u=i==null?void 0:i.totalDocuments)==null?void 0:u.toLocaleString())||0,icon:xs,trend:8.2,color:"text-blue-600"}),e.jsx(c,{title:"Active Schools",value:(i==null?void 0:i.activeUsers)||0,icon:ss,trend:15.3,color:"text-purple-600"}),e.jsx(c,{title:"Growth Rate",value:`${(i==null?void 0:i.growthRate)||0}%`,icon:bn,trend:3.1,color:"text-orange-600"})]}),e.jsxs(Ar,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(ir,{children:[e.jsx(lt,{value:"overview",children:"Overview"}),e.jsx(lt,{value:"schools",children:"School Performance"}),e.jsx(lt,{value:"features",children:"Feature Usage"}),e.jsx(lt,{value:"revenue",children:"Revenue Analysis"})]}),e.jsxs(bt,{value:"overview",className:"space-y-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(pa,{className:"h-5 w-5"}),"Monthly Trends"]}),e.jsx(ct,{children:"Growth trends across key metrics over time"})]}),e.jsx(M,{children:l?e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):e.jsx("div",{className:"h-64 flex items-end space-x-2",children:((h=i==null?void 0:i.monthlyData)==null?void 0:h.map((p,f)=>{var x;return e.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[e.jsx("div",{className:"w-full bg-blue-500 rounded-t",style:{height:`${p.schools/Math.max(...((x=i.monthlyData)==null?void 0:x.map(g=>g.schools))||[1])*200}px`,minHeight:"4px"}}),e.jsx("span",{className:"text-xs mt-2 text-gray-600",children:p.month})]},f)}))||e.jsx("div",{className:"text-center py-8",children:"No data available"})})})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Geographic Distribution"}),e.jsx(ct,{children:"School distribution by region"})]}),e.jsx(M,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 border rounded",children:[e.jsx("div",{className:"text-2xl font-bold",children:"45%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"North America"})]}),e.jsxs("div",{className:"text-center p-4 border rounded",children:[e.jsx("div",{className:"text-2xl font-bold",children:"30%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Europe"})]}),e.jsxs("div",{className:"text-center p-4 border rounded",children:[e.jsx("div",{className:"text-2xl font-bold",children:"20%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Asia"})]}),e.jsxs("div",{className:"text-center p-4 border rounded",children:[e.jsx("div",{className:"text-2xl font-bold",children:"5%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Others"})]})]})})]})]}),e.jsx(bt,{value:"schools",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Top Performing Schools"}),e.jsx(ct,{children:"Schools with highest activity and revenue generation"})]}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:((A=i==null?void 0:i.topSchools)==null?void 0:A.map((p,f)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-bold text-blue-600",children:["#",f+1]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:p.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[p.documentsGenerated," documents generated"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold",children:["$",p.revenue]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[p.creditsUsed," credits used"]})]})]},p.id)))||e.jsx("div",{className:"text-center py-8",children:"No school data available"})})})]})}),e.jsx(bt,{value:"features",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Feature Adoption"}),e.jsx(ct,{children:"How schools are using different platform features"})]}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:((m=i==null?void 0:i.featureUsage)==null?void 0:m.map(p=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:p.feature}),e.jsxs("span",{className:"text-sm text-gray-600",children:[p.enabled," of ",p.usage," schools"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${p.enabled/p.usage*100}%`}})})]},p.feature)))||e.jsx("div",{className:"text-center py-8",children:"No feature usage data available"})})})]})}),e.jsx(bt,{value:"revenue",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Revenue Breakdown"}),e.jsx(ct,{children:"Revenue analysis by source and time period"})]}),e.jsx(M,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"$24,500"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Subscription Revenue"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"$8,200"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Credit Purchases"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"$2,100"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Add-on Features"})]})]})})]})})]})]})}function c3e({authToken:t}){const[s,r]=b.useState(!1),[n,a]=b.useState(null),[i,l]=b.useState(!1),{toast:o}=ls(),c=Cs(),{data:d,isLoading:u}=st({queryKey:["/api/portal/templates"],queryFn:async()=>{const x=await fetch("/api/portal/templates",{headers:{Authorization:`Bearer ${t}`}});if(!x.ok)throw new Error("Failed to fetch templates");return x.json()}}),h=Bt({mutationFn:async x=>{const g=await fetch("/api/portal/templates",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(x)});if(!g.ok)throw new Error("Failed to create template");return g.json()},onSuccess:()=>{c.invalidateQueries({queryKey:["/api/portal/templates"]}),r(!1),o({title:"Success",description:"Template created successfully"})},onError:x=>{o({title:"Error",description:x.message,variant:"destructive"})}}),A=Bt({mutationFn:async({id:x,updates:g})=>{const v=await fetch(`/api/portal/templates/${x}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(g)});if(!v.ok)throw new Error("Failed to update template");return v.json()},onSuccess:()=>{c.invalidateQueries({queryKey:["/api/portal/templates"]}),o({title:"Success",description:"Template updated successfully"})}}),m=x=>{x.preventDefault();const g=new FormData(x.target),v={name:g.get("name"),type:g.get("type"),category:g.get("category"),description:g.get("description"),requiredCredits:parseInt(g.get("requiredCredits")),isGlobal:g.get("isGlobal")==="on",template:{layout:g.get("layout"),fields:JSON.parse(g.get("fields")||"[]"),styling:JSON.parse(g.get("styling")||"{}")}};h.mutate(v)},p=x=>{A.mutate({id:x.id,updates:{isActive:!x.isActive}})},f=x=>{const g={academic:"bg-blue-100 text-blue-800",administrative:"bg-green-100 text-green-800",financial:"bg-yellow-100 text-yellow-800",communication:"bg-purple-100 text-purple-800"};return e.jsx(Oe,{className:g[x]||"bg-gray-100 text-gray-800",children:x.charAt(0).toUpperCase()+x.slice(1)})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Template Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage document templates and school access permissions"})]}),e.jsxs(pr,{open:s,onOpenChange:r,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Create Template"]})}),e.jsxs(or,{className:"max-w-2xl",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"Create New Document Template"}),e.jsx(Nr,{children:"Design a new template that schools can use for document generation."})]}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"name",children:"Template Name"}),e.jsx(de,{id:"name",name:"name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"type",children:"Document Type"}),e.jsxs(xt,{name:"type",children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"Select type"})}),e.jsxs(At,{children:[e.jsx(X,{value:"id-card",children:"ID Card"}),e.jsx(X,{value:"fee-receipt",children:"Fee Receipt"}),e.jsx(X,{value:"admit-card",children:"Admit Card"}),e.jsx(X,{value:"certificate",children:"Certificate"}),e.jsx(X,{value:"report-card",children:"Report Card"}),e.jsx(X,{value:"notice",children:"Notice"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"category",children:"Category"}),e.jsxs(xt,{name:"category",children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"Select category"})}),e.jsxs(At,{children:[e.jsx(X,{value:"academic",children:"Academic"}),e.jsx(X,{value:"administrative",children:"Administrative"}),e.jsx(X,{value:"financial",children:"Financial"}),e.jsx(X,{value:"communication",children:"Communication"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"requiredCredits",children:"Required Credits"}),e.jsx(de,{id:"requiredCredits",name:"requiredCredits",type:"number",defaultValue:"1",min:"1",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"description",children:"Description"}),e.jsx(Gs,{id:"description",name:"description",placeholder:"Brief description of the template"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"layout",children:"Template Layout (HTML)"}),e.jsx(Gs,{id:"layout",name:"layout",placeholder:"Enter HTML template code...",className:"min-h-32 font-mono text-sm",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"fields",children:"Available Fields (JSON)"}),e.jsx(Gs,{id:"fields",name:"fields",placeholder:'["studentName", "class", "rollNumber"]',className:"font-mono text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"styling",children:"Styling Options (JSON)"}),e.jsx(Gs,{id:"styling",name:"styling",placeholder:'{"fontSize": "12px", "fontFamily": "Arial"}',className:"font-mono text-sm"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ws,{id:"isGlobal",name:"isGlobal"}),e.jsx(ke,{htmlFor:"isGlobal",children:"Make available to all schools"})]}),e.jsx(V,{type:"submit",className:"w-full",disabled:h.isPending,children:h.isPending?"Creating...":"Create Template"})]})]})]})]}),e.jsxs(Ar,{defaultValue:"all",className:"space-y-6",children:[e.jsxs(ir,{children:[e.jsx(lt,{value:"all",children:"All Templates"}),e.jsx(lt,{value:"global",children:"Global Templates"}),e.jsx(lt,{value:"custom",children:"Custom Templates"}),e.jsx(lt,{value:"access",children:"Access Control"})]}),e.jsx(bt,{value:"all",className:"space-y-6",children:e.jsx("div",{className:"grid gap-6",children:u?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(x=>e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})})},x))}):d!=null&&d.length?d.map(x=>e.jsx(H,{className:"hover:shadow-md transition-shadow",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:x.name}),f(x.category),x.isGlobal&&e.jsxs(Oe,{variant:"outline",className:"text-blue-600 border-blue-600",children:[e.jsx(qx,{className:"h-3 w-3 mr-1"}),"Global"]}),!x.isActive&&e.jsx(Oe,{variant:"secondary",children:"Inactive"})]}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",x.type]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Credits Required:"})," ",x.requiredCredits]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Version:"})," ",x.version]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Usage:"})," ",x.usage||0," schools"]}),x.description&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Description:"})," ",x.description]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{a(x),l(!0)},children:[e.jsx(cn,{className:"h-4 w-4 mr-1"}),"Preview"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(qw,{className:"h-4 w-4 mr-1"}),"Clone"]}),e.jsxs(V,{variant:x.isActive?"outline":"default",size:"sm",onClick:()=>p(x),children:[e.jsx(Yv,{className:"h-4 w-4 mr-1"}),x.isActive?"Deactivate":"Activate"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Ys,{className:"h-4 w-4 mr-1"}),"Edit"]})]})]})})},x.id)):e.jsx(H,{children:e.jsxs(M,{className:"p-6 text-center",children:[e.jsx(xs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No templates yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first document template to get started."}),e.jsxs(V,{onClick:()=>r(!0),children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Create First Template"]})]})})})}),e.jsx(bt,{value:"global",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Global Templates"}),e.jsx(ct,{children:"Templates available to all schools by default"})]}),e.jsx(M,{children:e.jsx("p",{className:"text-gray-600",children:"Global template management interface would be displayed here."})})]})}),e.jsx(bt,{value:"custom",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Custom Templates"}),e.jsx(ct,{children:"School-specific templates with restricted access"})]}),e.jsx(M,{children:e.jsx("p",{className:"text-gray-600",children:"Custom template management interface would be displayed here."})})]})}),e.jsx(bt,{value:"access",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Access Control"}),e.jsx(ct,{children:"Manage which schools have access to specific templates"})]}),e.jsx(M,{children:e.jsx("p",{className:"text-gray-600",children:"Template access control interface would be displayed here."})})]})})]}),e.jsx(pr,{open:i,onOpenChange:l,children:e.jsxs(or,{className:"max-w-4xl",children:[e.jsxs(cr,{children:[e.jsxs(dr,{children:["Template Preview: ",n==null?void 0:n.name]}),e.jsx(Nr,{children:"Preview of how this template will appear to schools"})]}),e.jsx("div",{className:"max-h-96 overflow-auto border rounded p-4 bg-gray-50",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow-sm",children:[e.jsx("p",{className:"text-center text-gray-600",children:"Template preview would be rendered here"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Type: ",n==null?void 0:n.type]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Category: ",n==null?void 0:n.category]})]})})]})})]})}function d3e({authToken:t}){var A,m,p,f,x,g,v,j,B,F,P;const[s,r]=b.useState(3e4),{data:n,isLoading:a}=st({queryKey:["/api/portal/system/health"],queryFn:async()=>{const E=await fetch("/api/portal/system/health",{headers:{Authorization:`Bearer ${t}`}});if(!E.ok)throw new Error("Failed to fetch system health");return E.json()},refetchInterval:s}),{data:i,isLoading:l}=st({queryKey:["/api/portal/system/database"],queryFn:async()=>{const E=await fetch("/api/portal/system/database",{headers:{Authorization:`Bearer ${t}`}});if(!E.ok)throw new Error("Failed to fetch database metrics");return E.json()},refetchInterval:s}),{data:o,isLoading:c}=st({queryKey:["/api/portal/system/server"],queryFn:async()=>{const E=await fetch("/api/portal/system/server",{headers:{Authorization:`Bearer ${t}`}});if(!E.ok)throw new Error("Failed to fetch server metrics");return E.json()},refetchInterval:s}),d=E=>{const N={healthy:{color:"bg-green-100 text-green-800",icon:ks},warning:{color:"bg-yellow-100 text-yellow-800",icon:yn},critical:{color:"bg-red-100 text-red-800",icon:Xc}},C=N[E]||N.critical,_=C.icon;return e.jsxs(Oe,{className:C.color,children:[e.jsx(_,{className:"h-3 w-3 mr-1"}),E.charAt(0).toUpperCase()+E.slice(1)]})},u=E=>{const N=Math.floor(E/86400),C=Math.floor(E%86400/3600),_=Math.floor(E%3600/60);return`${N}d ${C}h ${_}m`},h=({title:E,value:N,unit:C,icon:_,color:k,progress:D})=>e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:E}),e.jsxs("p",{className:`text-2xl font-bold ${k}`,children:[N,C&&e.jsx("span",{className:"text-sm font-normal text-gray-500 ml-1",children:C})]}),D!==void 0&&e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-2",children:e.jsx("div",{className:`h-1.5 rounded-full ${k.replace("text-","bg-")}`,style:{width:`${Math.min(D,100)}%`}})})]}),e.jsx("div",{className:`p-3 rounded-full ${k.replace("text-","bg-").replace("600","100")}`,children:e.jsx(_,{className:`h-6 w-6 ${k}`})})]})})});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"System Monitoring"}),e.jsx("p",{className:"text-gray-600",children:"Real-time system health and performance metrics"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(di,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm",children:["Auto-refresh: ",s/1e3,"s"]})]}),n&&d(n.status)]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(h,{title:"System Uptime",value:n?u(n.uptime):"--",icon:hr,color:"text-blue-600"}),e.jsx(h,{title:"Active Connections",value:(n==null?void 0:n.activeConnections)||0,icon:Ite,color:"text-green-600"}),e.jsx(h,{title:"Response Time",value:(n==null?void 0:n.responseTime)||0,unit:"ms",icon:Ti,color:"text-yellow-600"}),e.jsx(h,{title:"Error Rate",value:(n==null?void 0:n.errorRate)||0,unit:"%",icon:yn,color:"text-red-600"})]}),e.jsxs(Ar,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(ir,{children:[e.jsx(lt,{value:"overview",children:"Overview"}),e.jsx(lt,{value:"server",children:"Server Metrics"}),e.jsx(lt,{value:"database",children:"Database"}),e.jsx(lt,{value:"logs",children:"System Logs"}),e.jsx(lt,{value:"alerts",children:"Alerts"})]}),e.jsx(bt,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Mte,{className:"h-5 w-5"}),"System Status"]}),e.jsx(ct,{children:"Current system health indicators"})]}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"API Server"}),d("healthy")]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Database"}),d("healthy")]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Authentication"}),d("healthy")]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"File Storage"}),d("healthy")]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Email Service"}),d("warning")]})]})})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(di,{className:"h-5 w-5"}),"Resource Usage"]}),e.jsx(ct,{children:"Current system resource utilization"})]}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:c?e.jsx("div",{className:"text-center py-4",children:"Loading metrics..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"CPU Usage"}),e.jsxs("span",{className:"text-sm font-medium",children:[(o==null?void 0:o.cpu)||0,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${(o==null?void 0:o.cpu)||0}%`}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Memory Usage"}),e.jsxs("span",{className:"text-sm font-medium",children:[(o==null?void 0:o.memory)||0,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${(o==null?void 0:o.memory)||0}%`}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Disk Usage"}),e.jsxs("span",{className:"text-sm font-medium",children:[(o==null?void 0:o.disk)||0,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-600 h-2 rounded-full",style:{width:`${(o==null?void 0:o.disk)||0}%`}})})]})]})})})]})]})}),e.jsxs(bt,{value:"server",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(h,{title:"CPU Usage",value:(o==null?void 0:o.cpu)||0,unit:"%",icon:wte,color:"text-blue-600",progress:o==null?void 0:o.cpu}),e.jsx(h,{title:"Memory Usage",value:(o==null?void 0:o.memory)||0,unit:"%",icon:kte,color:"text-green-600",progress:o==null?void 0:o.memory}),e.jsx(h,{title:"Disk Usage",value:(o==null?void 0:o.disk)||0,unit:"%",icon:Ste,color:"text-yellow-600",progress:o==null?void 0:o.disk})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Network Traffic"}),e.jsx(ct,{children:"Real-time network activity"})]}),e.jsx(M,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[((A=o==null?void 0:o.network)==null?void 0:A.inbound)||0," MB/s"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Inbound Traffic"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[((m=o==null?void 0:o.network)==null?void 0:m.outbound)||0," MB/s"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Outbound Traffic"})]})]})})]})]}),e.jsxs(bt,{value:"database",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(rc,{className:"h-5 w-5"}),"Connection Pool"]}),e.jsx(ct,{children:"Database connection status"})]}),e.jsx(M,{children:l?e.jsx("div",{className:"text-center py-4",children:"Loading database metrics..."}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Active Connections"}),e.jsx("span",{className:"font-medium",children:((p=i==null?void 0:i.connectionPool)==null?void 0:p.active)||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Idle Connections"}),e.jsx("span",{className:"font-medium",children:((f=i==null?void 0:i.connectionPool)==null?void 0:f.idle)||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Waiting Connections"}),e.jsx("span",{className:"font-medium",children:((x=i==null?void 0:i.connectionPool)==null?void 0:x.waiting)||0})]})]})})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Query Performance"}),e.jsx(ct,{children:"Database query analytics"})]}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Average Query Time"}),e.jsxs("span",{className:"font-medium",children:[((g=i==null?void 0:i.queryPerformance)==null?void 0:g.averageTime)||0,"ms"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Slow Queries (",">","1s)"]}),e.jsx("span",{className:"font-medium",children:((v=i==null?void 0:i.queryPerformance)==null?void 0:v.slowQueries)||0})]})]})})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Storage Usage"}),e.jsx(ct,{children:"Database storage metrics"})]}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Used Storage"}),e.jsxs("span",{className:"font-medium",children:[((j=i==null?void 0:i.storage)==null?void 0:j.used)||0," GB / ",((B=i==null?void 0:i.storage)==null?void 0:B.total)||0," GB"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-blue-600 h-3 rounded-full",style:{width:`${((F=i==null?void 0:i.storage)==null?void 0:F.percentage)||0}%`}})}),e.jsxs("div",{className:"text-sm text-gray-600 text-center",children:[((P=i==null?void 0:i.storage)==null?void 0:P.percentage)||0,"% utilized"]})]})})]})]}),e.jsx(bt,{value:"logs",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Recent System Logs"}),e.jsx(ct,{children:"Latest system events and error logs"})]}),e.jsx(M,{children:e.jsx("div",{className:"space-y-2 max-h-96 overflow-auto",children:e.jsxs("div",{className:"text-xs font-mono space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded",children:[e.jsx(ks,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{className:"text-gray-500",children:"2025-06-02 07:21:14"}),e.jsx("span",{children:"System health check passed"})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 rounded",children:[e.jsx(di,{className:"h-3 w-3 text-blue-600"}),e.jsx("span",{className:"text-gray-500",children:"2025-06-02 07:20:45"}),e.jsx("span",{children:"Database connection pool refreshed"})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-yellow-50 rounded",children:[e.jsx(yn,{className:"h-3 w-3 text-yellow-600"}),e.jsx("span",{className:"text-gray-500",children:"2025-06-02 07:19:23"}),e.jsx("span",{children:"High memory usage detected: 85%"})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded",children:[e.jsx(ks,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{className:"text-gray-500",children:"2025-06-02 07:18:11"}),e.jsx("span",{children:"New school instance created: school_1c_VCNMq"})]})]})})})]})}),e.jsx(bt,{value:"alerts",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Active Alerts"}),e.jsx(ct,{children:"Current system alerts and notifications"})]}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border border-yellow-200 bg-yellow-50 rounded",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(yn,{className:"h-5 w-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"High Memory Usage"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Memory usage is at 85% capacity"})]})]}),e.jsx(V,{variant:"outline",size:"sm",children:"Investigate"})]}),e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No critical alerts at this time"})]})})]})})]})]})}function u3e(){const[t,s]=b.useState(!1),[r,n]=b.useState(null),[a,i]=b.useState({email:"",password:""}),[l,o]=b.useState(!1),[c,d]=b.useState(null),{toast:u}=ls(),h=Cs();b.useEffect(()=>{const F=localStorage.getItem("portal_token");F&&(n(F),s(!0))},[]);const A=Bt({mutationFn:async F=>{const P=await fetch("/api/portal/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)});if(!P.ok)throw new Error("Login failed");return P.json()},onSuccess:F=>{n(F.token),localStorage.setItem("portal_token",F.token),s(!0),u({title:"Login successful",description:`Welcome back, ${F.admin.fullName}`})},onError:F=>{u({title:"Login failed",description:F.message,variant:"destructive"})}}),{data:m}=st({queryKey:["/api/portal/analytics/overview"],enabled:t&&!!r,queryFn:async()=>{const F=await fetch("/api/portal/analytics/overview",{headers:{Authorization:`Bearer ${r}`}});if(!F.ok)throw new Error("Failed to fetch analytics");return F.json()}}),{data:p,isLoading:f}=st({queryKey:["/api/portal/schools"],enabled:t&&!!r,queryFn:async()=>{const F=await fetch("/api/portal/schools",{headers:{Authorization:`Bearer ${r}`}});if(!F.ok)throw new Error("Failed to fetch schools");return F.json()}}),x=Bt({mutationFn:async F=>{const P=await fetch("/api/portal/schools",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(F)});if(!P.ok)throw new Error("Failed to create school");return P.json()},onSuccess:()=>{h.invalidateQueries({queryKey:["/api/portal/schools"]}),h.invalidateQueries({queryKey:["/api/portal/analytics/overview"]}),o(!1),u({title:"Success",description:"School created successfully"})},onError:F=>{u({title:"Error",description:F.message,variant:"destructive"})}}),g=F=>{F.preventDefault(),A.mutate(a)},v=()=>{n(null),localStorage.removeItem("portal_token"),s(!1)},j=F=>{F.preventDefault();const P=new FormData(F.target),E=Object.fromEntries(P);x.mutate(E)},B=F=>{const P={active:"bg-green-100 text-green-800",trial:"bg-blue-100 text-blue-800",suspended:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800"};return e.jsx(Oe,{className:P[F]||P.expired,children:F.charAt(0).toUpperCase()+F.slice(1)})};return t?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jn,{className:"h-8 w-8 text-blue-600"}),e.jsx("h1",{className:"text-xl font-semibold",children:"Developer Portal"})]}),e.jsx(V,{variant:"ghost",onClick:v,children:"Sign Out"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Jc,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Schools"}),e.jsx("p",{className:"text-2xl font-bold",children:(m==null?void 0:m.totalSchools)||0})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ss,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Schools"}),e.jsx("p",{className:"text-2xl font-bold",children:(m==null?void 0:m.activeSchools)||0})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(di,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Trial Schools"}),e.jsx("p",{className:"text-2xl font-bold",children:(m==null?void 0:m.trialSchools)||0})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(pa,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Growth Rate"}),e.jsx("p",{className:"text-2xl font-bold",children:"+12%"})]})]})})})]}),e.jsxs(Ar,{defaultValue:"schools",className:"space-y-6",children:[e.jsxs(ir,{className:"grid grid-cols-3 lg:grid-cols-6 w-full",children:[e.jsx(lt,{value:"schools",children:"Schools"}),e.jsx(lt,{value:"analytics",children:"Analytics"}),e.jsx(lt,{value:"templates",children:"Templates"}),e.jsx(lt,{value:"users",children:"Users"}),e.jsx(lt,{value:"monitoring",children:"Monitoring"}),e.jsx(lt,{value:"features",children:"Features"})]}),e.jsxs(bt,{value:"schools",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"School Instances"}),e.jsxs(pr,{open:l,onOpenChange:o,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),e.jsx(Rt,{en:"Add School",bn:"  ",ar:" "})]})}),e.jsxs(or,{className:"max-w-md",children:[e.jsxs(cr,{children:[e.jsx(dr,{children:e.jsx(Rt,{en:"Create New School Instance",bn:"    ",ar:"   "})}),e.jsx(Nr,{children:e.jsx(Rt,{en:"Register a new school to start using the management system.",bn:"         ",ar:"      ."})})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"name",children:e.jsx(Rt,{en:"School Name",bn:" ",ar:" "})}),e.jsx(de,{id:"name",name:"name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"contactEmail",children:e.jsx(Rt,{en:"Contact Email",bn:" ",ar:"  "})}),e.jsx(de,{id:"contactEmail",name:"contactEmail",type:"email",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"contactPhone",children:e.jsx(Rt,{en:"Contact Phone",bn:" ",ar:" "})}),e.jsx(de,{id:"contactPhone",name:"contactPhone"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"address",children:e.jsx(Rt,{en:"Address",bn:"",ar:""})}),e.jsx(Gs,{id:"address",name:"address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"planType",children:e.jsx(Rt,{en:"Plan Type",bn:" ",ar:" "})}),e.jsxs(xt,{name:"planType",defaultValue:"basic",children:[e.jsx(ht,{children:e.jsx(pt,{})}),e.jsxs(At,{children:[e.jsx(X,{value:"basic",children:e.jsx(Rt,{en:"Basic",bn:"",ar:""})}),e.jsx(X,{value:"pro",children:e.jsx(Rt,{en:"Pro",bn:"",ar:""})}),e.jsx(X,{value:"enterprise",children:e.jsx(Rt,{en:"Enterprise",bn:"",ar:""})})]})]})]}),e.jsx(V,{type:"submit",className:"w-full",disabled:x.isPending,children:x.isPending?e.jsx(Rt,{en:"Creating...",bn:"  ...",ar:" ..."}):e.jsx(Rt,{en:"Create School",bn:"  ",ar:" "})})]})]})]})]}),e.jsx("div",{className:"grid gap-6",children:f?e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]})})}):p!=null&&p.length?p.map(F=>e.jsx(H,{className:"hover:shadow-md transition-shadow",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:F.name}),B(F.status)]}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"School ID:"})," ",F.schoolId]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Subdomain:"})," ",F.subdomain,".yourapp.com"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Contact:"})," ",F.contactEmail]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Plan:"})," ",F.planType.charAt(0).toUpperCase()+F.planType.slice(1)]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Students"}),e.jsx("p",{className:"font-medium",children:F.maxStudents})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Teachers"}),e.jsx("p",{className:"font-medium",children:F.maxTeachers})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Documents"}),e.jsxs("p",{className:"font-medium",children:[F.usedDocuments,"/",F.maxDocuments]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(qx,{className:"h-4 w-4 mr-1"}),"Visit"]}),e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(Ys,{className:"h-4 w-4 mr-1"}),"Manage"]})]})]})})},F.id)):e.jsx(H,{children:e.jsxs(M,{className:"p-6 text-center",children:[e.jsx(Jc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No schools yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first school instance."}),e.jsxs(V,{onClick:()=>o(!0),children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Add Your First School"]})]})})})]}),e.jsx(bt,{value:"analytics",children:e.jsx(o3e,{authToken:r||""})}),e.jsx(bt,{value:"templates",children:e.jsx(c3e,{authToken:r||""})}),e.jsx(bt,{value:"users",children:e.jsx(l3e,{authToken:r||""})}),e.jsx(bt,{value:"monitoring",children:e.jsx(d3e,{authToken:r||""})}),e.jsx(bt,{value:"features",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Feature Flags"}),e.jsx(ct,{children:"Control which features are available to each school"})]}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(H,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Video Portal"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enable video conferencing"})]}),e.jsx(Oe,{className:"bg-blue-100 text-blue-800",children:"Available"})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Parent Portal"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Parent access dashboard"})]}),e.jsx(Oe,{className:"bg-green-100 text-green-800",children:"Active"})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"SMS alert system"})]}),e.jsx(Oe,{className:"bg-yellow-100 text-yellow-800",children:"Beta"})]})})})]})})})]})})]})]})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs(H,{className:"w-full max-w-md",children:[e.jsxs(oe,{className:"text-center",children:[e.jsxs(ce,{className:"flex items-center justify-center gap-2",children:[e.jsx(jn,{className:"h-6 w-6"}),"Developer Portal"]}),e.jsx(ct,{children:"Sign in to manage your school management instances"})]}),e.jsx(M,{children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"email",children:"Email"}),e.jsx(de,{id:"email",type:"email",value:a.email,onChange:F=>i(P=>({...P,email:F.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"password",children:"Password"}),e.jsx(de,{id:"password",type:"password",value:a.password,onChange:F=>i(P=>({...P,password:F.target.value})),required:!0})]}),e.jsx(V,{type:"submit",className:"w-full",disabled:A.isPending,children:A.isPending?"Signing in...":"Sign In"})]})})]})})}const H$=b.createContext(null);function h3e({children:t}){const{toast:s}=ls(),{data:r,error:n,isLoading:a}=st({queryKey:["/api/user"],queryFn:vR({on401:"returnNull"})}),i=Bt({mutationFn:async c=>{const u=await(await Vt("POST","/api/login")).json();return console.log("Login successful:",u),u},onSuccess:c=>{console.log("Setting user data in cache:",c),bf.setQueryData(["/api/user"],c),bf.invalidateQueries({queryKey:["/api/user"]})},onError:c=>{console.error("Login error:",c),s({title:"Login failed",description:c.message,variant:"destructive"})}}),l=Bt({mutationFn:async c=>{const u=await(await Vt("POST","/api/register")).json();return console.log("Registration successful:",u),u},onSuccess:c=>{console.log("Setting user data in cache after registration:",c),bf.setQueryData(["/api/user"],c),bf.invalidateQueries({queryKey:["/api/user"]})},onError:c=>{console.error("Registration error:",c),s({title:"Registration failed",description:c.message,variant:"destructive"})}}),o=Bt({mutationFn:async()=>{await Vt("POST","/api/logout")},onSuccess:()=>{bf.setQueryData(["/api/user"],null)},onError:c=>{s({title:"Logout failed",description:c.message,variant:"destructive"})}});return e.jsx(H$.Provider,{value:{user:r??null,isLoading:a,error:n,loginMutation:i,logoutMutation:o,registerMutation:l},children:t})}function A3e(){const t=b.useContext(H$);if(t==null)throw new Error("useAuth must be used within an AuthProvider");return t}function m3e(){const{toast:t}=ls(),{user:s}=A3e(),[r,n]=b.useState("overview"),[a,i]=b.useState(""),[l,o]=b.useState(!1),[c,d]=b.useState(!1),u=Cs(),{data:h}=st({queryKey:["/api/admin/stats"],queryFn:async()=>{const x=await fetch("/api/admin/stats");if(!x.ok)throw new Error("Failed to fetch stats");return x.json()}}),{data:A}=st({queryKey:["/api/users"],queryFn:async()=>{const x=await fetch("/api/users");if(!x.ok)throw new Error("Failed to fetch users");return x.json()}}),{data:m}=st({queryKey:["/api/schools"],queryFn:async()=>{const x=await fetch("/api/schools");if(!x.ok)throw new Error("Failed to fetch schools");return x.json()}}),p=[{name:"Student Management",nameBn:" ",icon:ss,enabled:!0,usage:" ",description:"Complete student enrollment and record management"},{name:"Teacher Management",nameBn:" ",icon:jn,enabled:!0,usage:" ",description:"Teacher profiles, qualifications, and assignments"},{name:"Attendance System",nameBn:" ",icon:Kc,enabled:!0,usage:" ",description:"Real-time attendance marking and tracking"},{name:"Fee Management",nameBn:" ",icon:zr,enabled:!0,usage:" ",description:"Fee collection with mobile banking integration"},{name:"Document Generation",nameBn:" ",icon:xs,enabled:!0,usage:" ",description:"ID cards, certificates, and receipts"},{name:"Examination System",nameBn:" ",icon:bs,enabled:!0,usage:" ",description:"Exam scheduling, results, and report cards"},{name:"Library Management",nameBn:" ",icon:Ks,enabled:!1,usage:" ",description:"Book catalog and lending system"},{name:"Transportation",nameBn:"",icon:Vte,enabled:!1,usage:" ",description:"Vehicle and route management"}],f=async x=>{try{if(!(await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:x.get("username"),password:x.get("password"),full_name:x.get("fullName"),email:x.get("email"),phone:x.get("phone"),role:x.get("role")})})).ok)throw new Error("Failed to create user");u.invalidateQueries({queryKey:["/api/users"]}),o(!1),t({title:"   "})}catch{t({title:"   ",variant:"destructive"})}};return e.jsx(is,{children:e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:" "}),e.jsx("p",{className:"text-muted-foreground",children:"      "})]}),e.jsxs(Oe,{variant:"destructive",className:"px-3 py-1",children:[e.jsx(jn,{className:"h-4 w-4 mr-1"})," "]})]}),e.jsxs(Ar,{value:r,onValueChange:n,className:"space-y-6",children:[e.jsxs(ir,{className:"grid w-full grid-cols-7",children:[e.jsxs(lt,{value:"overview",className:"flex items-center gap-2",children:[e.jsx(di,{className:"h-4 w-4"}),""]}),e.jsxs(lt,{value:"schools",className:"flex items-center gap-2",children:[e.jsx(Jc,{className:"h-4 w-4"}),""]}),e.jsxs(lt,{value:"users",className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-4 w-4"}),""]}),e.jsxs(lt,{value:"features",className:"flex items-center gap-2",children:[e.jsx(Ys,{className:"h-4 w-4"}),""]}),e.jsxs(lt,{value:"templates",className:"flex items-center gap-2",children:[e.jsx(xs,{className:"h-4 w-4"}),""]}),e.jsxs(lt,{value:"credits",className:"flex items-center gap-2",children:[e.jsx(zr,{className:"h-4 w-4"}),""]}),e.jsxs(lt,{value:"analytics",className:"flex items-center gap-2",children:[e.jsx(jn,{className:"h-4 w-4"}),""]})]}),e.jsxs(bt,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(Jc,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(m==null?void 0:m.length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"  +"})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(A==null?void 0:A.length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"  +%"})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(di,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:".%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(Ys,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:""}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"  "}),e.jsx(ct,{children:"     "})]}),e.jsx(M,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(x=>e.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x.icon,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:x.nameBn}),e.jsx("p",{className:"text-xs text-muted-foreground",children:x.usage})]})]}),e.jsx(Ws,{checked:x.enabled})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:x.description})]},x.name))})})]})]}),e.jsxs(bt,{value:"users",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:" "}),e.jsx("p",{className:"text-muted-foreground",children:"  ,     "})]}),e.jsxs(pr,{open:l,onOpenChange:o,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{children:[e.jsx(IB,{className:"h-4 w-4 mr-2"})," "]})}),e.jsxs(or,{children:[e.jsxs(cr,{children:[e.jsx(dr,{children:"   "}),e.jsx(Nr,{children:"     "})]}),e.jsxs("form",{onSubmit:x=>{x.preventDefault(),f(new FormData(x.target))},children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"username",children:" "}),e.jsx(de,{id:"username",name:"username",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"fullName",children:" "}),e.jsx(de,{id:"fullName",name:"fullName",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"email",children:""}),e.jsx(de,{id:"email",name:"email",type:"email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"phone",children:""}),e.jsx(de,{id:"phone",name:"phone"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"role",children:""}),e.jsxs(xt,{name:"role",required:!0,children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})}),e.jsxs(At,{children:[e.jsx(X,{value:"student",children:""}),e.jsx(X,{value:"teacher",children:""}),e.jsx(X,{value:"parent",children:""}),e.jsx(X,{value:"admin",children:""})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{htmlFor:"password",children:""}),e.jsx(de,{id:"password",name:"password",type:"password",required:!0})]})]})]}),e.jsx(Pl,{children:e.jsx(V,{type:"submit",children:" "})})]})]})]})]}),e.jsx(H,{children:e.jsx(M,{className:"pt-6",children:e.jsx("div",{className:"flex gap-4 items-end",children:e.jsxs("div",{className:"flex-1",children:[e.jsx(ke,{htmlFor:"search",children:" "}),e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(de,{id:"search",placeholder:",      ...",value:a,onChange:x=>i(x.target.value),className:"pl-9"})]})]})})})}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-5 w-5"}),"  (",(A==null?void 0:A.length)||0,")"]})}),e.jsx(M,{children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:""}),e.jsx(We,{children:" "}),e.jsx(We,{children:""})]})}),e.jsx(Wr,{children:(A==null?void 0:A.map(x=>e.jsxs(ns,{children:[e.jsx(Ve,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:x.full_name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["@",x.username]})]})}),e.jsx(Ve,{children:e.jsx(Oe,{variant:x.role==="admin"?"default":"secondary",children:x.role==="admin"?"":x.role==="teacher"?"":x.role==="student"?"":""})}),e.jsx(Ve,{children:e.jsxs("div",{className:"text-sm",children:[x.email&&e.jsx("div",{children:x.email}),x.phone&&e.jsx("div",{className:"text-muted-foreground",children:x.phone})]})}),e.jsx(Ve,{children:e.jsx(Oe,{variant:"default",className:"bg-green-100 text-green-800",children:""})}),e.jsx(Ve,{children:e.jsx("div",{className:"text-sm text-muted-foreground",children:x.updatedAt?new Date(x.updatedAt).toLocaleDateString("bn-BD"):" "})}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{variant:"outline",size:"sm",children:e.jsx(Yn,{className:"h-4 w-4"})}),e.jsx(V,{variant:"outline",size:"sm",children:e.jsx(Ii,{className:"h-4 w-4"})})]})})]},x.id)))||e.jsx(ns,{children:e.jsx(Ve,{colSpan:6,className:"text-center",children:"  ..."})})})]})})]})]}),e.jsxs(bt,{value:"schools",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:" "}),e.jsx("p",{className:"text-muted-foreground",children:"       "})]}),e.jsxs(V,{children:[e.jsx(lx,{className:"h-4 w-4 mr-2"})," "]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(m==null?void 0:m.map(x=>e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{className:"text-lg",children:x.name}),e.jsx(ct,{children:x.type})]}),e.jsxs(M,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:":"})," ",x.address]}),x.phone&&e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:":"})," ",x.phone]}),x.email&&e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:":"})," ",x.email]})]}),e.jsx(il,{className:"my-4"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(Oe,{variant:"default",children:""}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(V,{variant:"outline",size:"sm",children:e.jsx(Yn,{className:"h-4 w-4"})}),e.jsx(V,{variant:"outline",size:"sm",children:e.jsx(Ys,{className:"h-4 w-4"})})]})]})]})]},x.id)))||e.jsx(H,{children:e.jsx(M,{className:"pt-6",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"  ..."})})})})]}),e.jsxs(bt,{value:"features",className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:" "}),e.jsx("p",{className:"text-muted-foreground",children:"    / "})]}),e.jsx("div",{className:"grid gap-6",children:p.map(x=>e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x.icon,{className:"h-6 w-6"}),e.jsxs("div",{children:[e.jsx(ce,{children:x.nameBn}),e.jsx(ct,{children:x.description})]})]}),e.jsx(Ws,{checked:x.enabled})]})}),e.jsx(M,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[" ",x.usage,"  "]}),e.jsx(Oe,{variant:x.enabled?"default":"secondary",children:x.enabled?"":""})]})})]},x.name))})]}),e.jsxs(bt,{value:"templates",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:" "}),e.jsx("p",{className:"text-muted-foreground",children:"        "})]}),e.jsxs(V,{children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"})," "]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{name:" ",nameBn:"ID Card Template",type:"id_card",schools:12,status:"active"},{name:" ",nameBn:"Fee Receipt Template",type:"fee_receipt",schools:15,status:"active"},{name:"",nameBn:"Marksheet Template",type:"marksheet",schools:8,status:"active"},{name:"",nameBn:"Certificate Template",type:"certificate",schools:5,status:"beta"},{name:" ",nameBn:"Admit Card Template",type:"admit_card",schools:10,status:"active"},{name:"",nameBn:"Testimonial Template",type:"testimonial",schools:3,status:"draft"}].map(x=>e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{className:"text-lg",children:x.name}),e.jsx(Oe,{variant:x.status==="active"?"default":x.status==="beta"?"secondary":"outline",children:x.status==="active"?"":x.status==="beta"?"":""})]}),e.jsx(ct,{children:x.nameBn})]}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:" :"}),e.jsxs("span",{className:"font-medium",children:[x.schools,""]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:" :"}),e.jsx("span",{className:"text-muted-foreground",children:"  "})]}),e.jsx(il,{}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(Yn,{className:"h-4 w-4 mr-1"}),""]}),e.jsx(V,{variant:"outline",size:"sm",children:e.jsx(Ys,{className:"h-4 w-4"})})]})]})})]},x.type))})]}),e.jsxs(bt,{value:"credits",className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:" "}),e.jsx("p",{className:"text-muted-foreground",children:"  ,    "})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"  "}),e.jsx(zr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:","}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"  +%"})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(di,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:","}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(zr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:",,"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"  +%"})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(zr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:","}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{children:" "}),e.jsxs(V,{children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"})," "]})]})}),e.jsx(M,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{name:"",credits:500,price:2500,popular:!1},{name:"",credits:2e3,price:8e3,popular:!0},{name:"",credits:5e3,price:18e3,popular:!1}].map(x=>e.jsxs(H,{className:`relative ${x.popular?"border-blue-500":""}`,children:[x.popular&&e.jsx(Oe,{className:"absolute -top-2 left-4 bg-blue-500",children:""}),e.jsxs(oe,{className:"text-center",children:[e.jsx(ce,{children:x.name}),e.jsxs("div",{className:"text-3xl font-bold",children:["",x.price.toLocaleString()]}),e.jsxs("p",{className:"text-muted-foreground",children:[x.credits," "]})]}),e.jsxs(M,{children:[e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" :"}),e.jsxs("span",{children:["",(x.price/x.credits).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:":"}),e.jsx("span",{children:" "})]})]}),e.jsx(V,{className:"w-full mt-4",variant:x.popular?"default":"outline",children:" "})]})]},x.name))})})]})]}),e.jsxs(bt,{value:"analytics",className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"  "}),e.jsx("p",{className:"text-muted-foreground",children:" ,    "})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:","}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"  +%"})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(xs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:","}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(di,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:".%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"API "}),e.jsx(jn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:","}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"CPU "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-600",children:"%"}),e.jsx("div",{className:"w-20 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"w-1/4 h-2 bg-green-500 rounded-full"})})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:" "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-yellow-600",children:"%"}),e.jsx("div",{className:"w-20 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"w-2/3 h-2 bg-yellow-500 rounded-full"})})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:" "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-600",children:"%"}),e.jsx("div",{className:"w-20 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"w-1/2 h-2 bg-green-500 rounded-full"})})]})]})]})})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:" "})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" "}),e.jsx(Oe,{variant:"default",className:"bg-green-100 text-green-800",children:""})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"  "}),e.jsx("span",{children:" "})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" "}),e.jsx("span",{children:"/"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" "}),e.jsx("span",{children:". GB"})]})]})})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"  "})}),e.jsx(M,{children:e.jsx("div",{className:"space-y-3",children:[{action:"  ",user:"emon2001",time:"  ",type:"success"},{action:"  ",user:"school_admin_01",time:"  ",type:"info"},{action:" ",user:"emon2001",time:"  ",type:"warning"},{action:"  ",user:"emon2001",time:"  ",type:"error"}].map((x,g)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${x.type==="success"?"bg-green-500":x.type==="info"?"bg-blue-500":x.type==="warning"?"bg-yellow-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:x.action}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",x.user]})]})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:x.time})]},g))})})]})]})]})]})})}function f3e(){const t=Cs(),{toast:s}=ls(),{data:r,isLoading:n,error:a}=st({queryKey:["/api/school-admin/dashboard"],queryFn:()=>Vt("/api/school-admin/dashboard")}),i=r==null?void 0:r.dashboard,{data:l,isLoading:o}=st({queryKey:["/api/school-admin/settings/basic"],queryFn:()=>Vt("/api/school-admin/settings/basic")}),c=l==null?void 0:l.settings,{data:d,isLoading:u}=st({queryKey:["/api/school-admin/statistics"],queryFn:()=>Vt("/api/school-admin/statistics"),refetchInterval:6e4}),h=d==null?void 0:d.statistics,{data:A,isLoading:m}=st({queryKey:["/api/school-admin/permissions"],queryFn:()=>Vt("/api/school-admin/permissions")}),p=A==null?void 0:A.permissions,f=Bt({mutationFn:async F=>Vt("/api/school-admin/settings/basic",{method:"POST",body:JSON.stringify(F)}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/school-admin/settings/basic"]}),t.invalidateQueries({queryKey:["/api/school-admin/dashboard"]}),s({title:"",description:"     "})},onError:()=>{s({title:"",description:"     ",variant:"destructive"})}}),x=Bt({mutationFn:async F=>Vt("/api/school-admin/settings/branding",{method:"POST",body:JSON.stringify(F)}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/school-admin/settings/basic"]}),s({title:" ",description:"    "})},onError:()=>{s({title:"",description:"    ",variant:"destructive"})}}),g=Bt({mutationFn:async F=>Vt("/api/school-admin/settings/system",{method:"POST",body:JSON.stringify(F)}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/school-admin/settings/basic"]}),s({title:" ",description:"    "})},onError:()=>{s({title:"",description:"     ",variant:"destructive"})}}),v=Bt({mutationFn:async({type:F,fileName:P,fileData:E})=>Vt(`/api/school-admin/upload/${F}`,{method:"POST",body:JSON.stringify({fileName:P,fileData:E})}),onSuccess:F=>{t.invalidateQueries({queryKey:["/api/school-admin/settings/basic"]}),s({title:"  ",description:`${F.type}    `})},onError:()=>{s({title:"",description:"    ",variant:"destructive"})}}),j=Bt({mutationFn:async()=>Vt("/api/school-admin/backup"),onSuccess:F=>{s({title:" ",description:"    "});const P=JSON.stringify(F.backup,null,2),E=new Blob([P],{type:"application/json"}),N=URL.createObjectURL(E),C=document.createElement("a");C.href=N,C.download=`school-backup-${new Date().toISOString().split("T")[0]}.json`,C.click(),URL.revokeObjectURL(N)},onError:()=>{s({title:"",description:"    ",variant:"destructive"})}}),B=Bt({mutationFn:async F=>Vt("/api/school-admin/restore",{method:"POST",body:JSON.stringify({backupData:F})}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/school-admin/settings/basic"]}),t.invalidateQueries({queryKey:["/api/school-admin/dashboard"]}),s({title:" ",description:"     "})},onError:()=>{s({title:"",description:"    ",variant:"destructive"})}});return{dashboard:i,schoolSettings:c,statistics:h,permissions:p,dashboardLoading:n,basicSettingsLoading:o,statisticsLoading:u,permissionsLoading:m,updateBasicSettingsMutation:f,updateBrandingMutation:x,updateSystemSettingsMutation:g,uploadFileMutation:v,createBackupMutation:j,restoreDataMutation:B,isUpdatingBasic:f.isPending,isUpdatingBranding:x.isPending,isUpdatingSystem:g.isPending,isUploading:v.isPending,isBackingUp:j.isPending,isRestoring:B.isPending}}const x3e=Y.object({name:Y.string().min(2,{message:"  "}),nameInBangla:Y.string().min(2,{message:"   "}),address:Y.string().min(5,{message:" "}),addressInBangla:Y.string().min(5,{message:"  "}),email:Y.string().email({message:"   "}),phone:Y.string().min(10,{message:"    "}),website:Y.string().url({message:"  URL"}).optional().or(Y.literal("")),principalName:Y.string().min(2,{message:"  "}),establishmentYear:Y.coerce.number().int().min(1900).max(new Date().getFullYear()),eiin:Y.string().min(5,{message:" EIIN "})}),p3e=Y.object({primaryColor:Y.string().min(4,{message:"  "}),secondaryColor:Y.string().min(4,{message:"  "}),accentColor:Y.string().min(4,{message:"  "}),motto:Y.string().optional(),mottoBn:Y.string().optional(),useWatermark:Y.boolean(),useLetterhead:Y.boolean()}),g3e=Y.object({timezone:Y.string(),language:Y.enum(["bn","en"]),dateFormat:Y.string(),currency:Y.string(),academicYearStart:Y.string(),weekStartsOn:Y.enum(["sunday","monday"]),enableNotifications:Y.boolean(),enableSMS:Y.boolean(),enableEmail:Y.boolean(),autoBackup:Y.boolean(),dataRetention:Y.coerce.number().min(30).max(3650),maxStudents:Y.coerce.number().min(50).max(1e4),maxTeachers:Y.coerce.number().min(5).max(500)});function v3e(){var z,K,xe,W,re,I,ie,ve,De;const{toast:t}=ls(),[s,r]=b.useState("overview");b.useRef(null);const{dashboard:n,schoolSettings:a,statistics:i,dashboardLoading:l,basicSettingsLoading:o,updateBasicSettingsMutation:c,updateBrandingMutation:d,updateSystemSettingsMutation:u,uploadFileMutation:h,createBackupMutation:A,restoreDataMutation:m,isUpdatingBasic:p,isUpdatingBranding:f,isUpdatingSystem:x,isUploading:g,isBackingUp:v,isRestoring:j}=f3e(),B=async L=>{const U=document.createElement("input");U.type="file",U.accept="image/*",U.onchange=async R=>{var Ae;const q=(Ae=R.target.files)==null?void 0:Ae[0];if(!q)return;const ae=new FileReader;ae.onload=async()=>{const G=ae.result;await h.mutateAsync({type:L,fileName:q.name,fileData:G})},ae.readAsDataURL(q)},U.click()},F=async()=>{await A.mutateAsync()},P=async()=>{const L=document.createElement("input");L.type="file",L.accept=".json",L.onchange=async U=>{var ae;const R=(ae=U.target.files)==null?void 0:ae[0];if(!R)return;const q=new FileReader;q.onload=async()=>{try{const Ae=JSON.parse(q.result);await m.mutateAsync(Ae)}catch{t({title:"",description:"    ",variant:"destructive"})}},q.readAsText(R)},L.click()},E=zs({resolver:qs(x3e),defaultValues:{name:"",nameInBangla:"",address:"",addressInBangla:"",email:"",phone:"",website:"",principalName:"",establishmentYear:new Date().getFullYear(),eiin:""}}),N=zs({resolver:qs(p3e),defaultValues:{primaryColor:"#3B82F6",secondaryColor:"#10B981",accentColor:"#F59E0B",motto:"",mottoBn:"",useWatermark:!1,useLetterhead:!1}}),C=zs({resolver:qs(g3e),defaultValues:{timezone:"Asia/Dhaka",language:"bn",dateFormat:"DD/MM/YYYY",currency:"BDT",academicYearStart:"01/01",weekStartsOn:"sunday",enableNotifications:!0,enableSMS:!1,enableEmail:!0,autoBackup:!0,dataRetention:365,maxStudents:500,maxTeachers:50}});gs.useEffect(()=>{a&&(E.reset({name:a.name||"",nameInBangla:a.nameInBangla||"",address:a.address||"",addressInBangla:a.addressInBangla||"",email:a.email||"",phone:a.phone||"",website:a.website||"",principalName:a.principalName||"",establishmentYear:a.establishmentYear||new Date().getFullYear(),eiin:a.eiin||""}),N.reset({primaryColor:a.primaryColor||"#3B82F6",secondaryColor:a.secondaryColor||"#10B981",accentColor:a.accentColor||"#F59E0B",motto:a.motto||"",mottoBn:a.mottoBn||"",useWatermark:a.useWatermark||!1,useLetterhead:a.useLetterhead||!1}),C.reset({timezone:a.timezone||"Asia/Dhaka",language:a.language||"bn",dateFormat:a.dateFormat||"DD/MM/YYYY",currency:a.currency||"BDT",academicYearStart:a.academicYearStart||"01/01",weekStartsOn:a.weekStartsOn||"sunday",enableNotifications:a.enableNotifications||!0,enableSMS:a.enableSMS||!1,enableEmail:a.enableEmail||!0,autoBackup:a.autoBackup||!0,dataRetention:a.dataRetention||365,maxStudents:a.maxStudents||500,maxTeachers:a.maxTeachers||50}))},[a,E,N,C]);const _=async L=>{await c.mutateAsync(L)},k=async L=>{await d.mutateAsync(L)},D=async L=>{await u.mutateAsync(L)};return l||o?e.jsx(is,{children:e.jsx(Qr,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Kn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-lg",children:"    ..."})]})})})}):e.jsx(is,{children:e.jsx(Qr,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"  "}),e.jsx("p",{className:"text-muted-foreground",children:"      "})]}),e.jsxs(Ar,{value:s,onValueChange:r,className:"space-y-6",children:[e.jsxs(ir,{className:"grid w-full grid-cols-5",children:[e.jsxs(lt,{value:"overview",className:"flex items-center gap-2",children:[e.jsx(pa,{className:"h-4 w-4"}),""]}),e.jsxs(lt,{value:"basic",className:"flex items-center gap-2",children:[e.jsx(lx,{className:"h-4 w-4"})," "]}),e.jsxs(lt,{value:"branding",className:"flex items-center gap-2",children:[e.jsx($x,{className:"h-4 w-4"}),""]}),e.jsxs(lt,{value:"system",className:"flex items-center gap-2",children:[e.jsx(Ys,{className:"h-4 w-4"}),""]}),e.jsxs(lt,{value:"data",className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"h-4 w-4"}),""]})]}),e.jsxs(bt,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:((z=i==null?void 0:i.students)==null?void 0:z.total)||450}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",((K=i==null?void 0:i.students)==null?void 0:K.active)||445]})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:((xe=i==null?void 0:i.teachers)==null?void 0:xe.total)||35}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",((W=i==null?void 0:i.teachers)==null?void 0:W.active)||34]})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(lx,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:((re=i==null?void 0:i.academics)==null?void 0:re.totalClasses)||12}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",((I=i==null?void 0:i.academics)==null?void 0:I.averageAttendance)||"92%"]})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:" "}),e.jsx(ks,{className:"h-4 w-4 text-green-500"})]}),e.jsxs(M,{children:[e.jsx("div",{className:"text-2xl font-bold",children:""}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",((ie=i==null?void 0:i.system)==null?void 0:ie.databaseSize)||"125 MB"]})]})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:" "}),e.jsx(ct,{children:"   "})]}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:(ve=n==null?void 0:n.recentActivity)==null?void 0:ve.map(L=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ks,{className:"h-5 w-5 text-green-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:L.action}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[L.user," - ",new Date(L.timestamp).toLocaleString("bn-BD")]})]})]},L.id))})})]})]}),e.jsx(bt,{value:"basic",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(lx,{className:"h-5 w-5"}),"  "]}),e.jsx(ct,{children:"     "})]}),e.jsx(M,{children:e.jsx(Ms,{...E,children:e.jsxs("form",{onSubmit:E.handleSubmit(_),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Se,{control:E.control,name:"name",render:({field:L})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{placeholder:" ",...L})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:E.control,name:"nameInBangla",render:({field:L})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:"  ()"}),e.jsx(Be,{children:e.jsx(de,{placeholder:"  ",...L})}),e.jsx(_e,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Se,{control:E.control,name:"email",render:({field:L})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsx(Be,{children:e.jsx(de,{type:"email",placeholder:"school@example.com",...L})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:E.control,name:"phone",render:({field:L})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{placeholder:"+8801XXXXXXXXX",...L})}),e.jsx(_e,{})]})})]}),e.jsxs(V,{type:"submit",disabled:p,children:[p&&e.jsx(Kn,{className:"mr-2 h-4 w-4 animate-spin"}),"   "]})]})})})]})}),e.jsx(bt,{value:"branding",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx($x,{className:"h-5 w-5"})," "]}),e.jsx(ct,{children:"  ,     "})]}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(ke,{children:" "}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:a!=null&&a.logoUrl?e.jsx("img",{src:a.logoUrl,alt:"",className:"w-full h-full object-cover rounded-lg"}):e.jsx(Wn,{className:"h-8 w-8 text-gray-400"})}),e.jsxs(V,{type:"button",variant:"outline",onClick:()=>B("logo"),disabled:g,children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),g?" ...":" "]})]})]}),e.jsx(Ms,{...N,children:e.jsxs("form",{onSubmit:N.handleSubmit(k),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(Se,{control:N.control,name:"primaryColor",render:({field:L})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"color",...L})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:N.control,name:"secondaryColor",render:({field:L})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"color",...L})}),e.jsx(_e,{})]})}),e.jsx(Se,{control:N.control,name:"accentColor",render:({field:L})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:" "}),e.jsx(Be,{children:e.jsx(de,{type:"color",...L})}),e.jsx(_e,{})]})})]}),e.jsxs(V,{type:"submit",disabled:f,children:[f&&e.jsx(Kn,{className:"mr-2 h-4 w-4 animate-spin"}),"  "]})]})})]})]})}),e.jsx(bt,{value:"system",className:"space-y-6",children:e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Ys,{className:"h-5 w-5"})," "]}),e.jsx(ct,{children:"     "})]}),e.jsx(M,{children:e.jsx(Ms,{...C,children:e.jsxs("form",{onSubmit:C.handleSubmit(D),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Se,{control:C.control,name:"language",render:({field:L})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsxs(xt,{onValueChange:L.onChange,defaultValue:L.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"bn",children:""}),e.jsx(X,{value:"en",children:""})]})]}),e.jsx(_e,{})]})}),e.jsx(Se,{control:C.control,name:"timezone",render:({field:L})=>e.jsxs(Ne,{children:[e.jsx(Ce,{children:""}),e.jsxs(xt,{onValueChange:L.onChange,defaultValue:L.value,children:[e.jsx(Be,{children:e.jsx(ht,{children:e.jsx(pt,{placeholder:"  "})})}),e.jsxs(At,{children:[e.jsx(X,{value:"Asia/Dhaka",children:"/"}),e.jsx(X,{value:"Asia/Kolkata",children:"/"})]})]}),e.jsx(_e,{})]})})]}),e.jsx("div",{className:"space-y-4",children:e.jsx(Se,{control:C.control,name:"enableNotifications",render:({field:L})=>e.jsxs(Ne,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Ce,{className:"text-base",children:"  "}),e.jsx(D3,{children:"    "})]}),e.jsx(Be,{children:e.jsx(Ws,{checked:L.value,onCheckedChange:L.onChange})})]})})}),e.jsxs(V,{type:"submit",disabled:x,children:[x&&e.jsx(Kn,{className:"mr-2 h-4 w-4 animate-spin"}),"   "]})]})})})]})}),e.jsxs(bt,{value:"data",className:"space-y-6",children:[e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"h-5 w-5"}),"   "]}),e.jsx(ct,{children:"       "})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:(De=i==null?void 0:i.system)!=null&&De.lastBackup?new Date(i.system.lastBackup).toLocaleString("bn-BD"):"  "})]}),e.jsxs(V,{variant:"outline",onClick:F,disabled:v,children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),v?" ...":"  "]})]}),e.jsx(il,{}),e.jsx("div",{className:"space-y-2",children:e.jsxs(V,{variant:"outline",className:"w-full justify-start",onClick:P,disabled:j,children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),j?" ...":"  "]})})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:" "}),e.jsx(ct,{children:"      "})]}),e.jsx(M,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-green-600",children:""}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:"    "}),e.jsx("li",{children:"    "}),e.jsx("li",{children:"    "}),e.jsx("li",{children:"    "}),e.jsx("li",{children:"   "})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-red-600",children:""}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:"    "}),e.jsx("li",{children:"   "}),e.jsx("li",{children:"   "}),e.jsx("li",{children:"    "})]})]})]})})]})]})]})]})})})}class j3e{constructor(){wi(this,"subscriptions",new Map);wi(this,"isConnected",!1)}async initialize(){try{const s=br.channel("connection-test");return await new Promise(n=>{s.subscribe(a=>{a==="SUBSCRIBED"?n(!0):(a==="CHANNEL_ERROR"||a==="TIMED_OUT")&&n(!1)})})?(this.isConnected=!0,console.log(" Real-time connection established"),s.unsubscribe(),!0):!1}catch(s){return console.error("Real-time connection failed:",s),!1}}subscribeForRole(s,r){const n=[];switch(s){case"student":n.push(this.subscribe({table:"students",event:"*",filter:r?`school_id=eq.${r}`:void 0,callback:a=>this.handleStudentUpdate(a)}),this.subscribe({table:"attendance",event:"*",filter:r?`school_id=eq.${r}`:void 0,callback:a=>this.handleAttendanceUpdate(a)}),this.subscribe({table:"exam_results",event:"*",callback:a=>this.handleExamResultUpdate(a)}),this.subscribe({table:"fee_receipts",event:"*",filter:r?`school_id=eq.${r}`:void 0,callback:a=>this.handleFeeReceiptUpdate(a)}));break;case"teacher":n.push(this.subscribe({table:"teachers",event:"*",filter:r?`school_id=eq.${r}`:void 0,callback:a=>this.handleTeacherUpdate(a)}),this.subscribe({table:"classes",event:"*",filter:r?`school_id=eq.${r}`:void 0,callback:a=>this.handleClassUpdate(a)}),this.subscribe({table:"students",event:"*",filter:r?`school_id=eq.${r}`:void 0,callback:a=>this.handleStudentUpdate(a)}),this.subscribe({table:"attendance",event:"*",filter:r?`school_id=eq.${r}`:void 0,callback:a=>this.handleAttendanceUpdate(a)}));break;case"staff":n.push(this.subscribe({table:"students",event:"*",filter:r?`school_id=eq.${r}`:void 0,callback:a=>this.handleStudentUpdate(a)}),this.subscribe({table:"teachers",event:"*",filter:r?`school_id=eq.${r}`:void 0,callback:a=>this.handleTeacherUpdate(a)}),this.subscribe({table:"fee_receipts",event:"*",filter:r?`school_id=eq.${r}`:void 0,callback:a=>this.handleFeeReceiptUpdate(a)}),this.subscribe({table:"books",event:"*",filter:r?`school_id=eq.${r}`:void 0,callback:a=>this.handleBookUpdate(a)}));break;case"parent":n.push(this.subscribe({table:"students",event:"*",callback:a=>this.handleStudentUpdate(a)}),this.subscribe({table:"attendance",event:"*",callback:a=>this.handleAttendanceUpdate(a)}),this.subscribe({table:"exam_results",event:"*",callback:a=>this.handleExamResultUpdate(a)}),this.subscribe({table:"fee_receipts",event:"*",callback:a=>this.handleFeeReceiptUpdate(a)}));break;case"admin":n.push(this.subscribe({table:"students",event:"*",callback:a=>this.handleStudentUpdate(a)}),this.subscribe({table:"teachers",event:"*",callback:a=>this.handleTeacherUpdate(a)}),this.subscribe({table:"schools",event:"*",callback:a=>this.handleSchoolUpdate(a)}),this.subscribe({table:"users",event:"*",callback:a=>this.handleUserUpdate(a)}));break}return n}subscribe(s){const r=`${s.table}-${s.event}-${Date.now()}`,n=br.channel(r);let a={event:s.event,schema:"public",table:s.table};s.filter&&(a.filter=s.filter),n.on("postgres_changes",a,s.callback);const i={channel:n,unsubscribe:()=>{n.unsubscribe(),this.subscriptions.delete(r)}};return n.subscribe(),this.subscriptions.set(r,i),r}unsubscribe(s){const r=this.subscriptions.get(s);r&&r.unsubscribe()}unsubscribeAll(){this.subscriptions.forEach(s=>{s.unsubscribe()}),this.subscriptions.clear()}handleStudentUpdate(s){console.log("Student data updated:",s),window.dispatchEvent(new CustomEvent("student-updated",{detail:s}))}handleTeacherUpdate(s){console.log("Teacher data updated:",s),window.dispatchEvent(new CustomEvent("teacher-updated",{detail:s}))}handleAttendanceUpdate(s){console.log("Attendance data updated:",s),window.dispatchEvent(new CustomEvent("attendance-updated",{detail:s}))}handleExamResultUpdate(s){console.log("Exam result updated:",s),window.dispatchEvent(new CustomEvent("exam-result-updated",{detail:s}))}handleFeeReceiptUpdate(s){console.log("Fee receipt updated:",s),window.dispatchEvent(new CustomEvent("fee-receipt-updated",{detail:s}))}handleClassUpdate(s){console.log("Class data updated:",s),window.dispatchEvent(new CustomEvent("class-updated",{detail:s}))}handleBookUpdate(s){console.log("Book data updated:",s),window.dispatchEvent(new CustomEvent("book-updated",{detail:s}))}handleSchoolUpdate(s){console.log("School data updated:",s),window.dispatchEvent(new CustomEvent("school-updated",{detail:s}))}handleUserUpdate(s){console.log("User data updated:",s),window.dispatchEvent(new CustomEvent("user-updated",{detail:s}))}isRealtimeConnected(){return this.isConnected}getActiveSubscriptionCount(){return this.subscriptions.size}}const Tg=new j3e;function y3e(t,s){const[r,n]=b.useState(!1),[a,i]=b.useState([]);return b.useEffect(()=>{let l=!0;return(async()=>{const c=await Tg.initialize();if(l&&(n(c),c)){const d=Tg.subscribeForRole(t,s);i(d)}})(),()=>{l=!1,a.forEach(c=>Tg.unsubscribe(c))}},[t,s]),{isConnected:r,subscriptionCount:a.length}}function AC(t,s){b.useEffect(()=>{const r=n=>{s(n.detail)};return window.addEventListener(t,r),()=>{window.removeEventListener(t,r)}},[t,s])}function w3e(){const[t,s]=b.useState(null),[r,n]=b.useState({students:[],teachers:[],attendance:[],examResults:[],schoolStats:null}),[a,i]=b.useState("admin"),[l,o]=b.useState(!1);Cs();const{data:c,isLoading:d,refetch:u}=st({queryKey:["/api/realtime/test"],enabled:!1}),{isConnected:h,subscriptionCount:A}=y3e(a,1),m=async()=>{o(!0);try{if(await Tg.initialize()){const B=Tg.subscribeForRole(a,1);console.log(`Subscribed to ${B.length} real-time channels for ${a}`)}}catch(j){console.error("Real-time connection test failed:",j)}finally{o(!1)}};AC("student-updated",j=>{console.log("Student data updated in real-time:",j),n(B=>({...B,students:[j.new||j.record,...B.students.slice(0,9)]}))}),AC("teacher-updated",j=>{console.log("Teacher data updated in real-time:",j),n(B=>({...B,teachers:[j.new||j.record,...B.teachers.slice(0,9)]}))}),AC("attendance-updated",j=>{console.log("Attendance updated in real-time:",j),n(B=>({...B,attendance:[j.new||j.record,...B.attendance.slice(0,9)]}))});const p=Bt({mutationFn:async j=>{const B=[];return(j==="admin"||j==="staff")&&B.push(fetch("/api/realtime/school-stats/1").then(P=>P.json()),fetch("/api/students?limit=5").then(P=>P.json()),fetch("/api/teachers?limit=5").then(P=>P.json())),(j==="teacher"||j==="admin")&&B.push(fetch("/api/realtime/attendance/1").then(P=>P.json())),(j==="student"||j==="parent")&&B.push(fetch("/api/realtime/exam-results/1?limit=5").then(P=>P.json())),await Promise.all(B)},onSuccess:j=>{if(console.log("Sample data loaded:",j),j.length>0){const[B,F,P]=j;n(E=>({...E,schoolStats:(B==null?void 0:B.data)||null,students:(F==null?void 0:F.data)||E.students,teachers:(P==null?void 0:P.data)||E.teachers}))}}});b.useEffect(()=>{c&&s(c)},[c]);const f=async()=>{await u()},x=j=>{i(j),p.mutate(j)},g=j=>{switch(j){case"student":return e.jsx(dn,{className:"h-4 w-4"});case"teacher":return e.jsx(ss,{className:"h-4 w-4"});case"staff":return e.jsx(Kc,{className:"h-4 w-4"});case"parent":return e.jsx(ss,{className:"h-4 w-4"});case"admin":return e.jsx(rc,{className:"h-4 w-4"});default:return e.jsx(ss,{className:"h-4 w-4"})}},v=j=>j?"text-green-600":"text-red-600";return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Real-time Database Connection Test"}),e.jsx("p",{className:"text-muted-foreground",children:"Test database connectivity and real-time features for students, teachers, staff, and parents"})]})}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(rc,{className:"h-5 w-5"}),"Database Connection Test"]}),e.jsx(ct,{children:"Test the basic database connection to Supabase"})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs(V,{onClick:f,disabled:d,className:"flex items-center gap-2",children:[d?e.jsx(yl,{className:"h-4 w-4 animate-spin"}):e.jsx(rc,{className:"h-4 w-4"}),"Test Database Connection"]}),t&&e.jsxs(lm,{className:t.success?"border-green-200 bg-green-50":"border-red-200 bg-red-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[t.success?e.jsx(ks,{className:"h-4 w-4 text-green-600"}):e.jsx(Xc,{className:"h-4 w-4 text-red-600"}),e.jsx(om,{className:v(t.success),children:t.message})]}),t.tablesAccessible&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Table Access Status:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:Object.entries(t.tablesAccessible).map(([j,B])=>e.jsxs(Oe,{variant:B?"default":"destructive",className:"flex items-center gap-1",children:[B?e.jsx(ks,{className:"h-3 w-3"}):e.jsx(Xc,{className:"h-3 w-3"}),j]},j))})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Last tested: ",new Date(t.timestamp).toLocaleString()]})]})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-5 w-5"}),"Real-time Connection by User Role"]}),e.jsx(ct,{children:"Test real-time functionality for different user types"})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsx("div",{className:"flex gap-2 flex-wrap",children:["student","teacher","staff","parent","admin"].map(j=>e.jsxs(V,{variant:a===j?"default":"outline",onClick:()=>x(j),className:"flex items-center gap-2",children:[g(j),j.charAt(0).toUpperCase()+j.slice(1)]},j))}),e.jsx(il,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(H,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${h?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"font-medium",children:"Real-time Status"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:h?"Connected":"Disconnected"})]}),e.jsxs(H,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ks,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Active Subscriptions"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[A," channels"]})]}),e.jsxs(H,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g(a),e.jsx("span",{className:"font-medium",children:"Current Role"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.charAt(0).toUpperCase()+a.slice(1)})]})]}),e.jsxs(V,{onClick:m,disabled:l,className:"flex items-center gap-2",children:[l?e.jsx(yl,{className:"h-4 w-4 animate-spin"}):e.jsx(ks,{className:"h-4 w-4"}),"Test Real-time Connection for ",a]})]})]}),r.schoolStats&&e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:e.jsx(Rt,{en:"Live School Statistics",bn:"  ",ar:"  "})}),e.jsx(ct,{children:"Real-time data updates for school management"})]}),e.jsxs(M,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.schoolStats.totalStudents}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Students"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.schoolStats.totalTeachers}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Teachers"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:r.schoolStats.recentAttendanceRecords}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Recent Attendance"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:r.schoolStats.totalBooks}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Books"})]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-4",children:["Last updated: ",r.schoolStats.lastUpdated?new Date(r.schoolStats.lastUpdated).toLocaleString():"Never"]})]})]}),e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{children:e.jsx(Rt,{en:"Connection Summary",bn:" ",ar:" "})})}),e.jsx(M,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Database Connection"}),e.jsx(Oe,{variant:t!=null&&t.success?"default":"destructive",children:t!=null&&t.success?"Connected":"Disconnected"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Real-time Features"}),e.jsx(Oe,{variant:h?"default":"destructive",children:h?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"User Role Testing"}),e.jsxs(Oe,{variant:"default",children:[a," mode"]})]})]})})]})]})}function b3e(){const[t,s]=b.useState([]),[r,n]=b.useState([]),[a,i]=b.useState([]),[l,o]=b.useState(null),[c,d]=b.useState(""),[u,h]=b.useState(!0),[A,m]=b.useState(!1),[p,f]=b.useState(null),[x,g]=b.useState(1),[v,j]=b.useState(""),{toast:B}=ls();b.useEffect(()=>{F()},[]);const F=async()=>{try{h(!0);const[_,k,D]=await Promise.all([fetch("/api/super-admin/schools"),fetch("/api/super-admin/document-types"),fetch("/api/super-admin/schools/permissions")]);if(_.ok){const z=await _.json();s(z)}if(k.ok){const z=await k.json();n(z)}if(D.ok){const z=await D.json();i(z)}}catch(_){console.error("Error loading data:",_),B({title:"Error",description:"Failed to load data. Please try again.",variant:"destructive"})}finally{h(!1)}},P=async()=>{if(!l||!p){B({title:"Error",description:"Please select both school and document type.",variant:"destructive"});return}try{const _=await fetch(`/api/super-admin/schools/${l}/grant-document/${p}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({creditsPerUse:x,notes:v,grantedBy:"provider-admin"})});if(_.ok)B({title:"Success",description:"Document permission granted successfully."}),m(!1),f(null),g(1),j(""),F();else{const k=await _.json();throw new Error(k.error||"Failed to grant permission")}}catch(_){console.error("Error granting permission:",_),B({title:"Error",description:_ instanceof Error?_.message:"Failed to grant permission",variant:"destructive"})}},E=async(_,k)=>{try{const D=await fetch(`/api/super-admin/schools/${_}/bulk-permissions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({documentTypeIds:k,creditsPerUse:1,grantedBy:"provider-admin"})});if(D.ok)B({title:"Success",description:`Bulk permissions granted for ${k.length} document types.`}),F();else{const z=await D.json();throw new Error(z.error||"Failed to grant bulk permissions")}}catch(D){console.error("Error granting bulk permissions:",D),B({title:"Error",description:D instanceof Error?D.message:"Failed to grant bulk permissions",variant:"destructive"})}},N=t.filter(_=>_.name.toLowerCase().includes(c.toLowerCase())||_.email.toLowerCase().includes(c.toLowerCase())),C=_=>a.filter(k=>k.schoolId===_&&k.isAllowed);return u?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{children:"Loading provider control panel..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(jn,{className:"h-8 w-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Provider Document Control"})]}),e.jsx("p",{className:"text-gray-600",children:"Manage document type permissions for all schools in your network. Control which document types each school can access and use."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qR,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:t.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Schools"})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(xs,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:r.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Document Types"})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ks,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:a.filter(_=>_.isAllowed).length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Permissions"})]})]})})}),e.jsx(H,{children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ss,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:new Set(a.filter(_=>_.isAllowed).map(_=>_.schoolId)).size}),e.jsx("p",{className:"text-sm text-gray-600",children:"Schools with Access"})]})]})})})]}),e.jsxs(H,{className:"mb-8",children:[e.jsxs(oe,{children:[e.jsx(ce,{children:e.jsx(Rt,{en:"School Management",bn:" ",ar:" "})}),e.jsx(ct,{children:"Search and manage document permissions for individual schools"})]}),e.jsxs(M,{children:[e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(de,{placeholder:"Search schools by name or email...",value:c,onChange:_=>d(_.target.value),className:"pl-10"})]})}),e.jsxs(pr,{open:A,onOpenChange:m,children:[e.jsx(fn,{asChild:!0,children:e.jsxs(V,{children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Grant Permission"]})}),e.jsxs(or,{children:[e.jsxs(cr,{children:[e.jsx(dr,{children:e.jsx(Rt,{en:"Grant Document Permission",bn:"   ",ar:"  "})}),e.jsx(Nr,{children:"Allow a school to access a specific document type"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"school",children:"School"}),e.jsxs(xt,{value:l==null?void 0:l.toString(),onValueChange:_=>o(Number(_)),children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"Select a school"})}),e.jsx(At,{children:t.map(_=>e.jsx(X,{value:_.id.toString(),children:_.name},_.id))})]})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"documentType",children:"Document Type"}),e.jsxs(xt,{value:p==null?void 0:p.toString(),onValueChange:_=>f(Number(_)),children:[e.jsx(ht,{children:e.jsx(pt,{placeholder:"Select a document type"})}),e.jsx(At,{children:r.map(_=>e.jsxs(X,{value:_.id.toString(),children:[_.name," (",_.category,")"]},_.id))})]})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"credits",children:"Credits Per Use"}),e.jsx(de,{id:"credits",type:"number",min:"1",value:x,onChange:_=>g(Number(_.target.value))})]}),e.jsxs("div",{children:[e.jsx(ke,{htmlFor:"notes",children:"Notes (Optional)"}),e.jsx(Gs,{id:"notes",placeholder:"Add any notes about this permission...",value:v,onChange:_=>j(_.target.value)})]})]}),e.jsxs(Pl,{children:[e.jsx(V,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(V,{onClick:P,children:"Grant Permission"})]})]})]})]}),e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{children:"School"}),e.jsx(We,{children:"Contact"}),e.jsx(We,{children:"Status"}),e.jsx(We,{children:"Allowed Documents"}),e.jsx(We,{children:"Actions"})]})}),e.jsx(Wr,{children:N.map(_=>{const k=C(_.id);return e.jsxs(ns,{children:[e.jsx(Ve,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:_.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",_.id]})]})}),e.jsx(Ve,{children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm",children:_.email}),e.jsx("div",{className:"text-sm text-gray-500",children:_.phone})]})}),e.jsx(Ve,{children:e.jsx(Oe,{variant:_.status==="active"?"default":"secondary",children:_.status})}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:k.length}),e.jsxs("span",{className:"text-sm text-gray-500",children:["/ ",r.length]})]})}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>{o(_.id),m(!0)},children:[e.jsx(Ls,{className:"h-4 w-4 mr-1"}),"Grant"]}),e.jsx(V,{size:"sm",variant:"outline",onClick:()=>{const D=r.map(z=>z.id);E(_.id,D)},children:"Grant All"})]})})]},_.id)})})]})]})]}),e.jsxs(H,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Permission Matrix"}),e.jsx(ct,{children:"Detailed view of which schools have access to which document types"})]}),e.jsx(M,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs($r,{children:[e.jsx(Gr,{children:e.jsxs(ns,{children:[e.jsx(We,{className:"min-w-[200px]",children:"Document Type"}),e.jsx(We,{children:"Category"}),e.jsx(We,{children:"Credits Required"}),e.jsx(We,{children:"Schools with Access"}),e.jsx(We,{children:"Actions"})]})}),e.jsx(Wr,{children:r.map(_=>{const k=a.filter(D=>D.documentTypeId===_.id&&D.isAllowed);return e.jsxs(ns,{children:[e.jsx(Ve,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:_.name}),e.jsx("div",{className:"text-sm text-gray-500",children:_.nameBn})]})}),e.jsx(Ve,{children:e.jsx(Oe,{variant:"outline",children:_.category})}),e.jsx(Ve,{children:_.creditsRequired}),e.jsx(Ve,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:k.length}),e.jsxs("span",{className:"text-sm text-gray-500",children:["/ ",t.length]})]})}),e.jsx(Ve,{children:e.jsxs(V,{size:"sm",variant:"outline",onClick:()=>{f(_.id),m(!0)},children:[e.jsx(Ys,{className:"h-4 w-4 mr-1"}),"Manage"]})})]},_.id)})})]})})})]})]})})}function N3e(){return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:e.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-2xl font-bold text-center",children:e.jsx(Rt,{en:"Privacy Policy",bn:" ",ar:" "})})}),e.jsx(M,{className:"prose dark:prose-invert max-w-none",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:e.jsx(Rt,{en:"Information We Collect",bn:"    ",ar:"  "})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.jsx(Rt,{en:"We collect information necessary to provide educational management services, including student records, academic data, and administrative information.",bn:"         ,     ,     ",ar:"               ."})})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:e.jsx(Rt,{en:"How We Use Your Information",bn:"     ",ar:"  "})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.jsx(Rt,{en:"Your information is used to provide educational services, generate documents, track academic progress, and facilitate communication between students, teachers, and parents.",bn:"    ,  ,      ,         ",ar:"                ."})})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:e.jsx(Rt,{en:"Data Security",bn:" ",ar:" "})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.jsx(Rt,{en:"We implement industry-standard security measures to protect your data, including encryption, secure authentication, and regular security audits.",bn:"     -    ,    ,      ",ar:"                 ."})})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:e.jsx(Rt,{en:"Contact Us",bn:"   ",ar:" "})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.jsx(Rt,{en:"If you have questions about this privacy policy, please contact your school administrator.",bn:"        ,        ",ar:"           ."})})]})]})})]})})})}function C3e(){return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:e.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:e.jsxs(H,{children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-2xl font-bold text-center",children:e.jsx(Rt,{en:"Terms of Service",bn:" ",ar:" "})})}),e.jsx(M,{className:"prose dark:prose-invert max-w-none",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:e.jsx(Rt,{en:"Acceptance of Terms",bn:" ",ar:" "})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.jsx(Rt,{en:"By using this educational management system, you agree to comply with these terms of service and all applicable laws and regulations.",bn:"     ,              ",ar:"                ."})})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:e.jsx(Rt,{en:"User Responsibilities",bn:" ",ar:" "})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.jsx(Rt,{en:"Users are responsible for maintaining the confidentiality of their account credentials and for all activities that occur under their account.",bn:"               ",ar:"               ."})})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:e.jsx(Rt,{en:"Permitted Use",bn:" ",ar:" "})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.jsx(Rt,{en:"This system is intended for educational purposes only. Users may not use the system for any illegal or unauthorized purpose.",bn:"                 ",ar:"     .             ."})})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:e.jsx(Rt,{en:"Data Protection",bn:" ",ar:" "})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.jsx(Rt,{en:"We are committed to protecting student and institutional data in accordance with applicable privacy laws and educational regulations.",bn:"              ",ar:"            ."})})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:e.jsx(Rt,{en:"Limitation of Liability",bn:" ",ar:" "})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.jsx(Rt,{en:"The service is provided 'as is' without warranties. We shall not be liable for any damages arising from the use of this system.",bn:" ' '                   ",ar:"   ' '  .           ."})})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:e.jsx(Rt,{en:"Contact Information",bn:" ",ar:" "})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.jsx(Rt,{en:"For questions about these terms of service, please contact your school administrator.",bn:"     ,        ",ar:"        ."})})]})]})})]})})})}function B3e(){const{user:t,loading:s}=vo(),{data:r,isLoading:n,error:a}=st({queryKey:["/api/dashboard/stats?schoolId=1"],retry:1});return e.jsx("div",{className:"min-h-screen p-8 bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Frontend Diagnostic Page"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Authentication Status"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Auth Loading:"})," ",s?"Yes":"No"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User Authenticated:"})," ",t?"Yes":"No"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User ID:"})," ",(t==null?void 0:t.id)||"Not available"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User Email:"})," ",(t==null?void 0:t.email)||"Not available"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"API Status"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Stats Loading:"})," ",n?"Yes":"No"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Stats Error:"})," ",a?JSON.stringify(a):"None"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Dashboard Data:"})," ",r?JSON.stringify(r):"Not loaded"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Component Test"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-100 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-blue-800",children:"Tailwind CSS"}),e.jsx("p",{className:"text-blue-600",children:"This should be styled with Tailwind"})]}),e.jsxs("div",{className:"bg-green-100 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-green-800",children:"Grid Layout"}),e.jsx("p",{className:"text-green-600",children:"Grid system working"})]}),e.jsxs("div",{className:"bg-purple-100 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-purple-800",children:"Responsive Design"}),e.jsx("p",{className:"text-purple-600",children:"Mobile responsive test"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"React Query Test"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition-colors",children:"Reload Page"}),e.jsx("button",{onClick:()=>console.log("Console test"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded transition-colors ml-2",children:"Test Console"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Environment Info"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User Agent:"})," ",navigator.userAgent]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Window Width:"})," ",window.innerWidth,"px"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Window Height:"})," ",window.innerHeight,"px"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Current URL:"})," ",window.location.href]})]})]})]})]})})}function ts({path:t,component:s}){const{user:r,loading:n}=vo();return e.jsx(an,{path:t,children:()=>n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(Kn,{className:"h-8 w-8 animate-spin text-border"})}):r?e.jsx(s,{}):e.jsx(EX,{to:"/auth"})})}class XP extends b.Component{constructor(){super(...arguments);wi(this,"state",{hasError:!1,error:null,errorInfo:null});wi(this,"reportError",(r,n)=>{const a={message:r.message,stack:r.stack,componentStack:n.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};console.error("Error Report:",a);try{window.gtag&&window.gtag("event","exception",{description:r.message,fatal:!1})}catch(i){console.warn("Failed to report error to analytics:",i)}});wi(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});wi(this,"handleGoHome",()=>{window.location.href="/"});wi(this,"handleReload",()=>{window.location.reload()})}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n),this.setState({error:r,errorInfo:n}),this.reportError(r,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:e.jsxs(H,{className:"w-full max-w-lg border-destructive/20",children:[e.jsxs(oe,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mb-4",children:e.jsx(yn,{className:"h-8 w-8 text-destructive"})}),e.jsx(ce,{className:"text-xl",children:"Something went wrong"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"We encountered an unexpected error. Your data is safe and the issue has been reported."})]}),e.jsxs(M,{className:"space-y-4",children:[this.state.error&&e.jsxs("details",{className:"text-sm",children:[e.jsxs("summary",{className:"cursor-pointer font-medium text-muted-foreground hover:text-foreground",children:[e.jsx(jte,{className:"inline h-4 w-4 mr-1"}),"Technical Details"]}),e.jsxs("div",{className:"mt-2 p-3 bg-muted rounded-md",children:[e.jsx("p",{className:"font-medium mb-1",children:"Error:"}),e.jsx("code",{className:"text-xs block mb-2 text-destructive",children:this.state.error.message}),this.state.errorInfo&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-medium mb-1",children:"Component Stack:"}),e.jsx("pre",{className:"text-xs text-muted-foreground whitespace-pre-wrap overflow-auto max-h-32",children:this.state.errorInfo.componentStack})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{onClick:this.handleRetry,className:"flex-1",variant:"default",children:[e.jsx(yl,{className:"h-4 w-4 mr-2"}),"Try Again"]}),e.jsxs(V,{onClick:this.handleGoHome,className:"flex-1",variant:"outline",children:[e.jsx(nc,{className:"h-4 w-4 mr-2"}),"Home"]})]}),e.jsx(V,{onClick:this.handleReload,variant:"ghost",size:"sm",className:"w-full text-muted-foreground",children:"Reload Page"})]})]})}):this.props.children}}class S3e extends b.Component{constructor(){super(...arguments);wi(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Frontend Error Boundary caught an error:",r,n)}render(){var r;return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx("div",{className:"max-w-md mx-auto text-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Frontend Design Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"A component rendering error occurred."}),e.jsxs("details",{className:"text-left text-sm text-gray-500 mb-4",children:[e.jsx("summary",{className:"cursor-pointer font-medium",children:"Error Details"}),e.jsx("pre",{className:"mt-2 p-2 bg-gray-100 rounded text-xs overflow-auto",children:(r=this.state.error)==null?void 0:r.message})]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors",children:"Reload Page"})]})})}):this.props.children}}function k3e(){const[t,s]=b.useState({}),r=b.useRef(new Map),n=b.useCallback((d,u)=>{const h=r.current.get(d);if(h&&(clearTimeout(h),r.current.delete(d)),u){s(m=>({...m,[d]:!0}));const A=setTimeout(()=>{console.warn(`Loading state for "${d}" has been active for more than 30 seconds`),s(m=>({...m,[d]:!1})),r.current.delete(d)},3e4);r.current.set(d,A)}else s(A=>{const m={...A};return delete m[d],m})},[]),a=b.useCallback(d=>{n(d,!0)},[n]),i=b.useCallback(d=>{n(d,!1)},[n]),l=b.useCallback(d=>d?t[d]||!1:Object.values(t).some(Boolean),[t]),o=b.useCallback(()=>{r.current.forEach(d=>clearTimeout(d)),r.current.clear(),s({})},[]),c=b.useCallback(async(d,u)=>{try{return a(d),await u()}catch(h){throw h}finally{i(d)}},[a,i]);return b.useEffect(()=>()=>{r.current.forEach(d=>clearTimeout(d)),r.current.clear()},[]),{isLoading:l,setLoading:n,startLoading:a,stopLoading:i,clearAll:o,withLoading:c,loadingStates:t}}const _3e=b.createContext(void 0);function E3e({children:t}){const s=k3e();return e.jsx(_3e.Provider,{value:s,children:t})}const F3e=b.createContext(void 0);function T3e({children:t}){var m,p,f,x,g,v,j;const[s]=b.useState(1),r=st({queryKey:["students",s],queryFn:async()=>{const B=await fetch(`/api/students?schoolId=${s}`);if(!B.ok)throw new Error("Failed to fetch students");return B.json()}}),n=st({queryKey:["teachers",s],queryFn:async()=>{const B=await fetch(`/api/teachers?schoolId=${s}`);if(!B.ok)throw new Error("Failed to fetch teachers");return B.json()}}),a=st({queryKey:["library-books",s],queryFn:async()=>{const B=await fetch(`/api/library/books?schoolId=${s}`);if(!B.ok)throw new Error("Failed to fetch books");return B.json()}}),i=st({queryKey:["inventory-items",s],queryFn:async()=>{const B=await fetch(`/api/inventory/items?schoolId=${s}`);if(!B.ok)throw new Error("Failed to fetch inventory");return B.json()}}),l=st({queryKey:["calendar-events",s],queryFn:async()=>{const B=await fetch(`/api/calendar/events?schoolId=${s}`);if(!B.ok)throw new Error("Failed to fetch events");return B.json()}}),o=st({queryKey:["notifications",s],queryFn:async()=>{const B=await fetch(`/api/notifications?schoolId=${s}`);if(!B.ok)throw new Error("Failed to fetch notifications");return B.json()}}),c=st({queryKey:["dashboard-stats",s],queryFn:async()=>{const B=await fetch(`/api/dashboard/stats?schoolId=${s}`);if(!B.ok)throw new Error("Failed to fetch dashboard stats");return B.json()}}),d=r.isLoading||n.isLoading||a.isLoading||i.isLoading||l.isLoading||o.isLoading||c.isLoading,u=((m=r.error)==null?void 0:m.message)||((p=n.error)==null?void 0:p.message)||((f=a.error)==null?void 0:f.message)||((x=i.error)==null?void 0:x.message)||((g=l.error)==null?void 0:g.message)||((v=o.error)==null?void 0:v.message)||((j=c.error)==null?void 0:j.message)||null,h=()=>{r.refetch(),n.refetch(),a.refetch(),i.refetch(),l.refetch(),o.refetch(),c.refetch()},A={students:r.data||[],teachers:n.data||[],books:a.data||[],inventoryItems:i.data||[],events:l.data||[],notifications:o.data||[],dashboardStats:c.data||{},isLoading:d,error:u,refetch:h};return e.jsx(F3e.Provider,{value:A,children:t})}function L3e(){return e.jsxs(r3,{children:[e.jsx(an,{path:"/login",component:l8}),e.jsx(an,{path:"/simple-login",component:l8}),e.jsx(an,{path:"/register-admin",component:Sce}),e.jsx(an,{path:"/admin",component:_ce}),e.jsx(an,{path:"/admin-panel",component:cde}),e.jsx(an,{path:"/parent",component:Ece}),e.jsx(an,{path:"/student",component:F8}),e.jsx(an,{path:"/about",component:ome}),e.jsx(an,{path:"/academics",component:cme}),e.jsx(an,{path:"/admissions",component:ume}),e.jsx(an,{path:"/contact",component:Ame}),e.jsx(an,{path:"/auth",component:Zie}),e.jsx(ts,{path:"/documents",component:t3e}),e.jsx(ts,{path:"/admit-card",component:RL}),e.jsx(ts,{path:"/admit-card/dashboard",component:RL}),e.jsx(ts,{path:"/admit-card/manager",component:tve}),e.jsx(ts,{path:"/admit-card/create-single",component:rve}),e.jsx(ts,{path:"/admit-card/batch-creation",component:nve}),e.jsx(ts,{path:"/admit-card/templates",component:ave}),e.jsx(ts,{path:"/admit-card/settings",component:ive}),e.jsx(ts,{path:"/admit-card/student-import",component:lve}),e.jsx(ts,{path:"/admit-card/history",component:ove}),e.jsx(ts,{path:"/admit-card/create-template",component:dve}),e.jsx(ts,{path:"/admit-card/bangla-generator",component:ML}),e.jsx(ts,{path:"/id-card",component:QL}),e.jsx(ts,{path:"/id-card/dashboard",component:QL}),e.jsx(ts,{path:"/id-card/create-single",component:xve}),e.jsx(ts,{path:"/id-card/batch-creation",component:pve}),e.jsx(ts,{path:"/id-card/templates",component:gve}),e.jsx(ts,{path:"/id-card/settings",component:vve}),e.jsx(ts,{path:"/id-card/history",component:jve}),e.jsx(ts,{path:"/documents/document-generator",component:s3e}),e.jsx(ts,{path:"/documents/bengali-admit-cards",component:ML}),e.jsx(ts,{path:"/documents/transfer-certificates",component:n3e}),e.jsx(ts,{path:"/documents/fee-receipts",component:Qge}),e.jsx(ts,{path:"/documents/notices",component:i3e}),e.jsx(ts,{path:"/documents/exam-papers",component:r3e}),e.jsx(ts,{path:"/management/students",component:Lve}),e.jsx(ts,{path:"/management/teachers",component:Dve}),e.jsx(ts,{path:"/management/finances",component:k4e}),e.jsx(ts,{path:"/management/staff",component:_4e}),e.jsx(ts,{path:"/management/parents",component:E4e}),e.jsx(ts,{path:"/management/library",component:TI}),e.jsx(ts,{path:"/management/inventory",component:LI}),e.jsx(ts,{path:"/management/transport",component:II}),e.jsx(ts,{path:"/library",component:TI}),e.jsx(ts,{path:"/inventory",component:LI}),e.jsx(ts,{path:"/transport",component:II}),e.jsx(ts,{path:"/tools",component:K4e}),e.jsx(ts,{path:"/settings/templates",component:z4e}),e.jsx(ts,{path:"/settings/admin",component:W4e}),e.jsx(ts,{path:"/settings/school",component:e5e}),e.jsx(ts,{path:"/settings/academic-years",component:r5e}),e.jsx(ts,{path:"/calendar",component:n5e}),e.jsx(ts,{path:"/notifications",component:a5e}),e.jsx(ts,{path:"/financial",component:i5e}),e.jsx(ts,{path:"/credits/buy",component:Wke}),e.jsx(ts,{path:"/credits/payment/:packageId",component:Yke}),e.jsx(ts,{path:"/credits/transactions",component:Xke}),e.jsx(ts,{path:"/credits",component:Jke}),e.jsx(ts,{path:"/parent-portal",component:d5e}),e.jsx(ts,{path:"/payment",component:y5e}),e.jsx(ts,{path:"/notifications/live",component:w5e}),e.jsx(ts,{path:"/video-conferencing",component:b5e}),e.jsx(an,{path:"/portal",component:u3e}),e.jsx(ts,{path:"/school-admin",component:v3e}),e.jsx(ts,{path:"/admin-control",component:m3e}),e.jsx(ts,{path:"/super-admin",component:b3e}),e.jsx(ts,{path:"/user-management",component:Zke}),e.jsx(ts,{path:"/realtime-test",component:w3e}),e.jsx(ts,{path:"/student",component:F8}),e.jsx(ts,{path:"/student/profile",component:Ade}),e.jsx(ts,{path:"/student/attendance",component:mde}),e.jsx(ts,{path:"/student/fees",component:fde}),e.jsx(ts,{path:"/student/library",component:xde}),e.jsx(ts,{path:"/student/results",component:pde}),e.jsx(ts,{path:"/student/schedule",component:gde}),e.jsx(ts,{path:"/student/notifications",component:vde}),e.jsx(an,{path:"/public",component:lme}),e.jsx(an,{path:"/privacy",component:N3e}),e.jsx(an,{path:"/terms",component:C3e}),e.jsx(an,{path:"/diagnostic",component:B3e}),e.jsx(ts,{path:"/dashboard",component:PI}),e.jsx(ts,{path:"/",component:PI}),e.jsx(an,{path:"*",component:Jne})]})}function I3e(){b.useEffect(()=>{Xne()},[]);const t=window.location.pathname,s=t.startsWith("/teacher");return t.startsWith("/teacher-new")?e.jsx(ime,{}):s?e.jsx(XAe,{}):e.jsx(S3e,{children:e.jsx(XP,{children:e.jsx(Hw,{client:bf,children:e.jsx(E3e,{children:e.jsx(nb,{children:e.jsx(Eie,{children:e.jsx(h3e,{children:e.jsx(T3e,{children:e.jsxs(bb,{children:[e.jsx(XP,{fallback:e.jsx("div",{className:"p-4 text-center",children:"Navigation error occurred"}),children:e.jsx(L3e,{})}),e.jsx(sb,{})]})})})})})})})})})}const HE=document.createElement("link");HE.href="https://fonts.googleapis.com/icon?family=Material+Icons";HE.rel="stylesheet";document.head.appendChild(HE);const VE=document.createElement("link");VE.href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&family=Noto+Sans+Arabic:wght@300;400;500;700&display=swap";VE.rel="stylesheet";document.head.appendChild(VE);document.title="School Management System";wO(document.getElementById("root")).render(e.jsx(I3e,{}));export{Tr as _,fo as c,oD as g};
